!function e(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.AliLowCodeEngine=n():t.AliLowCodeEngine=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=59)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return j}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function u(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function c(e,t){return function(n,r){t(n,r,e)}}function s(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",s=!t&&e?r.static?e:e.prototype:null,l=t||(s?Object.getOwnPropertyDescriptor(s,r.name):{}),f,p=!1,h=n.length-1;h>=0;h--){var d={};for(var v in r)d[v]="access"===v?{}:r[v];for(var v in r.access)d.access[v]=r.access[v];d.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var y=(0,n[h])("accessor"===u?{get:l.get,set:l.set}:l[c],d);if("accessor"===u){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(f=a(y.get))&&(l.get=f),(f=a(y.set))&&(l.set=f),(f=a(y.init))&&o.push(f)}else(f=a(y))&&("field"===u?o.push(f):l[c]=f)}s&&Object.defineProperty(s,r.name,l),p=!0}function l(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function f(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function h(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,u)}c((r=r.apply(e,t||[])).next())}))}function v(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return c([e,t])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){n=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(6===u[0]&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(e){u=[6,e],o=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var y=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function m(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||y(t,e,n)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function O(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function j(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function k(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){r[e]&&(o[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{c(r[e](t))}catch(e){f(i[0][3],e)}}function c(e){e.value instanceof S?Promise.resolve(e.value.v).then(s,l):f(i[0][2],e)}function s(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),i.shift(),i.length&&u(i[0][0],i[0][1])}}function E(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:!1}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=b(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise((function(r,i){o(r,i,(n=e[t](n)).done,n.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function P(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var x=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&y(t,e,n);return x(t,e),t}function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function L(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function R(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},function(e,t,n){"use strict";var r=n(15);n.d(t,"createIntl",(function(){return r.a})),n.d(t,"globalLocale",(function(){return r.b})),n.d(t,"intl",(function(){return r.c})),n.d(t,"shallowIntl",(function(){return r.d}));var o=n(52);n.d(t,"Editor",(function(){return o.a})),n.d(t,"commonEvent",(function(){return o.b}));var i=n(17);n.d(t,"FocusTracker",(function(){return i.a})),n.d(t,"action",(function(){return i.b})),n.d(t,"autorun",(function(){return i.c})),n.d(t,"computed",(function(){return i.d})),n.d(t,"getPublicPath",(function(){return i.e})),n.d(t,"makeObservable",(function(){return i.f})),n.d(t,"mobx",(function(){return i.g})),n.d(t,"observable",(function(){return i.h})),n.d(t,"observer",(function(){return i.i})),n.d(t,"obx",(function(){return i.j})),n.d(t,"reaction",(function(){return i.k})),n.d(t,"runInAction",(function(){return i.l})),n.d(t,"runWithGlobalEventOff",(function(){return i.m})),n.d(t,"untracked",(function(){return i.n})),n.d(t,"wrapWithEventSwitch",(function(){return i.o}));var a=n(20);n.o(a,"Hotkey")&&n.d(t,"Hotkey",(function(){return a.Hotkey})),n.o(a,"Setters")&&n.d(t,"Setters",(function(){return a.Setters})),n.o(a,"Tip")&&n.d(t,"Tip",(function(){return a.Tip})),n.o(a,"TipContainer")&&n.d(t,"TipContainer",(function(){return a.TipContainer})),n.o(a,"Title")&&n.d(t,"Title",(function(){return a.Title})),n.o(a,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return a.createModuleEventBus})),n.o(a,"engineConfig")&&n.d(t,"engineConfig",(function(){return a.engineConfig})),n.o(a,"globalContext")&&n.d(t,"globalContext",(function(){return a.globalContext}));var u=n(45);n.d(t,"Hotkey",(function(){return u.a}));var c=n(51);n.d(t,"Tip",(function(){return c.a})),n.d(t,"TipContainer",(function(){return c.b})),n.d(t,"Title",(function(){return c.c}));var s=n(28);n.d(t,"engineConfig",(function(){return s.a}));var l=n(14);n.d(t,"createModuleEventBus",(function(){return l.b}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return r.d})),n.d(t,"b",(function(){return r.c})),n.d(t,"a",(function(){return r.b})),n.d(t,"w",(function(){return _})),n.d(t,"v",(function(){return P})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return N})),n.d(t,"Y",(function(){return C})),n.d(t,"c",(function(){return M})),n.d(t,"j",(function(){return G})),n.d(t,"m",(function(){return ye})),n.d(t,"n",(function(){return Pe})),n.d(t,"o",(function(){return Ve})),n.d(t,"t",(function(){return He})),n.d(t,"x",(function(){return o})),n.d(t,"E",(function(){return Ue})),n.d(t,"F",(function(){return ze})),n.d(t,"P",(function(){return V})),n.d(t,"S",(function(){return de})),n.d(t,"Z",(function(){return Ye})),n.d(t,"ab",(function(){return Je})),n.d(t,"f",(function(){return st})),n.d(t,"db",(function(){return ft})),n.d(t,"k",(function(){return Rn})),n.d(t,"p",(function(){return Mn})),n.d(t,"T",(function(){return Dn})),n.d(t,"bb",(function(){return In})),n.d(t,"l",(function(){return Zn})),n.d(t,"s",(function(){return er})),n.d(t,"q",(function(){return rr})),n.d(t,"i",(function(){return or})),n.d(t,"e",(function(){return _r})),n.d(t,"r",(function(){return Pr})),n.d(t,"W",(function(){return Nr})),n.d(t,"Q",(function(){return Cr})),n.d(t,"cb",(function(){return Zr})),n.d(t,"u",(function(){return ht})),n.d(t,"y",(function(){return dt})),n.d(t,"z",(function(){return vt})),n.d(t,"D",(function(){return yt})),n.d(t,"G",(function(){return mt})),n.d(t,"H",(function(){return gt})),n.d(t,"I",(function(){return jt})),n.d(t,"J",(function(){return St})),n.d(t,"M",(function(){return Et})),n.d(t,"O",(function(){return _t})),n.d(t,"R",(function(){return kt})),n.d(t,"U",(function(){return Nt})),n.d(t,"X",(function(){return Ct})),n.d(t,"B",(function(){return Tt})),n.d(t,"C",(function(){return Lt})),n.d(t,"A",(function(){return Rt})),n.d(t,"K",(function(){return At})),n.d(t,"N",(function(){return Mt})),n.d(t,"L",(function(){return Dt})),n.d(t,"V",(function(){return It}));var r=n(4);function o(e){return/\.css(\?.*)?$/.test(e)}function i(){var e={},t=new Promise((function(t,n){e.resolve=t,e.reject=n}));return e.promise=function(){return t},e}function a(e){var t=document.createElement("script");t.text=e,document.head.appendChild(t),document.head.removeChild(t)}function u(e){var t=document.createElement("script");t.onload=r,t.onerror=r;var n=i();function r(e){t.onload=null,t.onerror=null,"load"===e.type?n.resolve():n.reject()}return t.src=e,t.async=!1,document.head.appendChild(t),n.promise()}function c(e){var t;return new Function(e)()}function s(e,t){try{return new Function(e,t)}catch(e){return console.warn("Caught error, Cant init func"),null}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),u=new P(o||[]);return r(a,"_invoke",{value:S(e,n,u)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var h={};function d(){}function v(){}function y(){}var m={};c(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&n.call(g,i)&&(m=g);var w=y.prototype=d.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(r,i,a,u){var c=p(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==l(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=k(a,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},O(j.prototype),c(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new j(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,P.prototype={constructor:P,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),h},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function p(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,u,"next",e)}function u(e){p(i,r,o,a,u,"throw",e)}a(void 0)}))}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=j(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function m(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){var t=g(e,"string");return"symbol"===l(t)?t:String(t)}function g(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function w(e){return k(e)||S(e)||j(e)||O()}function O(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function S(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function k(e){if(Array.isArray(e))return E(e)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){return e&&e.type}function P(e){return e&&e.type===r.d.Bundle}function x(e,t){return e?{type:r.d.Bundle,assets:e,level:t}:null}function N(e,t,n,r){return t?{type:e,content:t,level:n,id:r}:null}function C(e,t){return t.packages&&(e.packages=[].concat(w(e.packages||[]),w(t.packages))),t.components&&(e.components=[].concat(w(e.components||[]),w(t.components))),T(e,t,"componentList"),T(e,t,"bizComponentList"),e}function T(e,t,n){var r;t[n]&&(e[n]&&(null===(r=t[n])||void 0===r||r.map((function(t){var r,o,i=!1;return null===(r=e[n])||void 0===r||r.map((function(e){return e.title===t.title&&(e.children=e.children.concat(t.children),i=!0),e})),!i&&(null===(o=e[n])||void 0===o||o.push(t)),t}))))}var L=function(){function e(t,n){var r;if(v(this,e),this.lastContent=void 0,this.lastUrl=void 0,this.placeholder=void 0,this.level=void 0,this.id=void 0,this.level=t,n&&(this.id=n),n&&(r=document.head.querySelector('style[data-id="'.concat(n,'"]'))),!r){r=document.createTextNode("");var o=document.head.querySelector('meta[level="'.concat(t,'"]'));o?document.head.insertBefore(r,o):document.head.appendChild(r)}this.placeholder=r}return m(e,[{key:"applyText",value:function e(t){if(this.lastContent!==t){this.lastContent=t,this.lastUrl=void 0;var n=document.createElement("style");n.setAttribute("type","text/css"),this.id&&n.setAttribute("data-id",this.id),n.appendChild(document.createTextNode(t)),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n}}},{key:"applyUrl",value:function e(t){if(this.lastUrl!==t){this.lastContent=void 0,this.lastUrl=t;var n=document.createElement("link");n.onload=o,n.onerror=o;var r=i();return n.href=t,n.rel="stylesheet",this.id&&n.setAttribute("data-id",this.id),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n,r.promise()}function o(e){n.onload=null,n.onerror=null,"load"===e.type?r.resolve():r.reject()}}}]),e}();function R(e,t,n,r){var o=d(n),i;try{for(o.s();!(i=o.n()).done;){var a;A(e,t,i.value,r)}}catch(e){o.e(e)}finally{o.f()}}function A(e,t,n,i){if(n){if(Array.isArray(n))return R(e,t,n,i);if(P(n))return n.assets?void(Array.isArray(n.assets)?R(e,t,n.assets,n.level||i):A(e,t,n.assets,n.level||i)):void 0;_(n)||(n=N(o(n)?r.d.CSSUrl:r.d.JSUrl,n,i));var a=n.level||i;a&&null!=r.b[a]||(a=r.b.App),n.level=a,n.type===r.d.CSSUrl||n.type==r.d.CSSText?t[a].push(n):e[a].push(n)}}var M=function(){function e(){v(this,e),this.stylePoints=new Map}return m(e,[{key:"load",value:function(){var e=h(f().mark((function e(t){var n=this,o,i,a,u;return f().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:return o={},i={},r.c.forEach((function(e){o[e]=[],i[e]=[]})),A(i,o,t),a=o[r.b.Environment].concat(o[r.b.Library],o[r.b.Theme],o[r.b.Runtime],o[r.b.App]),u=i[r.b.Environment].concat(i[r.b.Library],i[r.b.Theme],i[r.b.Runtime],i[r.b.App]),c.next=8,Promise.all(a.map((function(e){var t=e.content,o=e.level,i=e.type,a=e.id;return n.loadStyle(t,o,i===r.d.CSSUrl,a)})));case 8:return c.next=10,Promise.all(u.map((function(e){var t=e.content,o=e.type;return n.loadScript(t,o===r.d.JSUrl)})));case 10:case"end":return c.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadStyle",value:function e(t,n,r,o){var i;if(t)return o?(i=this.stylePoints.get(o))||(i=new L(n,o),this.stylePoints.set(o,i)):i=new L(n),r?i.applyUrl(t):i.applyText(t)}},{key:"loadScript",value:function e(t,n){if(t)return n?u(t):a(t)}},{key:"loadAsyncLibrary",value:function(){var e=h(f().mark((function e(t){var n,r,o,i;return f().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:for(i in n=[],r=[],o=[],t)t[i].async&&(n.push(window[t[i].library]),r.push(t[i].library),o.push(t[i]));return a.next=6,Promise.all(n).then((function(e){e.length>0&&e.map((function(e,t){var n=o[t],i=n.exportMode,a=n.exportSourceLibrary,u=n.library;return window[r[t]]="functionCall"!==i||null!=a&&a!==u?e:e(),e}))}));case 6:case"end":return a.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e){return null!==e&&"object"===D(e)}function B(e){return I(e)&&"i18n"===e.type}function V(e){if(!I(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||null===Object.getPrototypeOf(t)}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e){var t=F(e),n;if(null==e)n=e;else if(Array.isArray(e))n=e.map((function(e){return G(e)}));else if("object"===t&&V(e))for(var r in n={},e)e.hasOwnProperty(r)&&(n[r]=G(e[r]));else n=e;return n}var H=n(3),U=["$$typeof","render","defaultProps","props","length","prototype","name","caller","callee","arguments"];function z(e,t){var n;return Object.keys(t).filter((function(e){return!U.includes(e)})).forEach((function(n){e[n]=t[n]})),e}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $=["children"];function X(e,t){if(null==e)return{};var n=Y(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Y(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function J(e,t,n){return t&&q(e.prototype,t),n&&q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q(e){var t=Z(e,"string");return"symbol"===W(t)?t:String(t)}function Z(e,t){if("object"!==W(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}function te(e,t){return(te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ne(e){var t=ie();return function n(){var r=ae(e),o;if(t){var i=ae(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return re(this,o)}}function re(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oe(e)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ue="function"==typeof Symbol&&Symbol.for,ce=ue?Symbol.for("react.forward_ref"):60112,se=ue?Symbol.for("react.memo"):60115;function le(e){return e&&e.prototype&&(e.prototype.isReactComponent||e.prototype instanceof H.Component)}function fe(e){var t;return(null==e||null===(t=e.prototype)||void 0===t?void 0:t.isReactComponent)||e.$$typeof&&e.$$typeof===ce}function pe(e){return(null==e?void 0:e.$$typeof)&&(null==e?void 0:e.$$typeof)===ce}function he(e){return(null==e?void 0:e.$$typeof)&&e.$$typeof===se}function de(e){return!!e&&Boolean(le(e)||"function"==typeof e||pe(e)||he(e))}function ve(e){var t=function(t){ee(r,t);var n=ne(r);function r(){return K(this,r),n.apply(this,arguments)}return J(r,[{key:"render",value:function t(){var n=this.props,r=n.children,o=X(n,$);return Object(H.createElement)(e,o,r)}}]),r}(H.Component);return(t=z(t,e)).displayName=e.displayName,t}function ye(e,t){return Object(H.isValidElement)(e)?t?Object(H.cloneElement)(e,t):e:de(e)?Object(H.createElement)(e,t):e}var me=n(7);function be(e){return e&&e.__esModule}function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return(t=Se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){var t=ke(e,"string");return"symbol"===ge(t)?t:String(t)}function ke(e,t){if("object"!==ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ee(){return(Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _e=/^(https?:)\/\//i;function Pe(e,t){return e?(be(e)&&(e=e.default),"string"==typeof e?_e.test(e)?React.createElement("img",Ee({src:e},t)):React.createElement(me.Icon,Ee({type:e},t)):Object(H.isValidElement)(e)?Object(H.cloneElement)(e,Oe({},t)):de(e)?Object(H.createElement)(e,Oe({},t)):React.createElement(me.Icon,Ee({},e,t))):null}var xe=n(60);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Te(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Te(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,De(r.key),r)}}function Me(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function De(e){var t=Ie(e,"string");return"symbol"===Ne(t)?t:String(t)}function Ie(e,t){if("object"!==Ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Be,Ve=new(function(){function e(){Re(this,e),this.states=new Set}return Me(e,[{key:"setDragging",value:function e(t){t?this.addState("dragging"):this.removeState("dragging")}},{key:"setXResizing",value:function e(t){t?this.addState("x-resizing"):this.removeState("x-resizing")}},{key:"setYResizing",value:function e(t){t?this.addState("y-resizing"):this.removeState("y-resizing")}},{key:"setCopy",value:function e(t){t?this.addState("copy"):this.removeState("copy")}},{key:"isCopy",value:function e(){return this.states.has("copy")}},{key:"release",value:function e(){var t=Ce(this.states),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;this.removeState(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"addState",value:function e(t){this.states.has(t)||(this.states.add(t),document.documentElement.classList.add("lc-cursor-".concat(t)))}},{key:"removeState",value:function e(t){this.states.has(t)&&(this.states.delete(t),document.documentElement.classList.remove("lc-cursor-".concat(t)))}}]),e}());function Fe(e){return void 0!==Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__}var Ge=Object.prototype.hasOwnProperty;function He(e,t){return e&&Ge.call(e,t)}function Ue(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}function ze(e){var t=e.target;return!!t&&(!(!t.form&&!/^(INPUT|SELECT|TEXTAREA)$/.test(t.tagName))||!!(t instanceof HTMLElement&&/write/.test(window.getComputedStyle(t).getPropertyValue("-webkit-user-modify"))))}function We(e){return"function"==typeof e}var $e=!0,Xe=function e(t){return $e?null:(t.preventDefault(),t.stopPropagation(),!1)};function Ye(e){$e=e}function Ke(e,t){void 0!==Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(e===t)return!0;if("object"!==qe(e)||null===e||"object"!==qe(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!He(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}document.addEventListener("selectstart",Xe,!0),document.addEventListener("dragstart",Xe,!0);var Ze=["fill","size","viewBox","style","children"];function et(){return(et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return(t=ot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e){var t=it(e,"string");return"symbol"===Qe(t)?t:String(t)}function it(e,t){if("object"!==Qe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function at(e,t){if(null==e)return{};var n=ut(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ut(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}var ct={xsmall:8,small:12,medium:16,large:20,xlarge:30};function st(e){var t=e.fill,n=e.size,r=void 0===n?"medium":n,o=e.viewBox,i=e.style,a=e.children,u=at(e,Ze);return ct.hasOwnProperty(r)&&(r=ct[r]),React.createElement("svg",et({fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:r,height:r,viewBox:o},u,{style:nt({color:t},i)}),a)}var lt=Date.now();function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e).concat((lt++).toString(36).toLowerCase())}function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e){return e&&"object"===pt(e)}function dt(e){return e&&(Object(H.isValidElement)(e)||de(e))}function vt(e){return"string"==typeof e}function yt(e){return e&&"function"==typeof e&&!le(e)}function mt(e){return e&&"i18n"===e.type}function bt(e){return e&&"JSBlock"===e.type}function gt(e){return e&&"JSExpression"===e.type&&"function"!==e.extType}function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e){return e&&"JSExpression"===e.type&&"function"===e.extType}function jt(e){return"object"===wt(e)&&e&&"JSFunction"===e.type||Ot(e)}function St(e){return e&&"JSSlot"===e.type}function kt(e){return"package"in e}function Et(e){return!kt(e)}function _t(e){return e&&e.componentName&&!e.isNode}function Pt(e){return e&&e.componentsTree}function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e){return e&&"object"===xt(e)&&"componentName"in e&&!dt(e)}function Ct(e){return V(e)&&!mt(e)}function Tt(e){return e&&e.type===r.f.NodeData}function Lt(e){return e&&e.type===r.f.Node}function Rt(e){return e&&e.type!==r.f.NodeData&&e.type!==r.f.Node}function At(e){return e&&e.type===r.j.Children}function Mt(e){return e&&e.isNode}function Dt(e){return e&&e.target&&e.detail}function It(e){return e&&e.isSettingField}function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e){return"object"===Bt(e)&&"Component"===e.componentName}function Ft(e){return e&&e.componentsTree&&e.componentsTree.length&&Vt(e.componentsTree[0])}function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return(t=Wt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(e){var t=$t(e,"string");return"symbol"===Gt(t)?t:String(t)}function $t(e,t){if("object"!==Gt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Xt(e){return"string"!=typeof e?e:window[e]||Yt(e)}function Yt(e){if(["a","img","div","span","svg"].includes(e))return Object(H.forwardRef)((function(t,n){return Object(H.createElement)(e,Ut({ref:n},t),t.children)}))}function Kt(e,t){var n=t.length;if(n<1||!e)return e;for(var r=0,o;r<n;){var i=t[r],a=void 0;try{o=e[i]||o}catch(e){a=e,o=null}if(0===r&&null==o&&"default"===i){if(a)return 1===n?e:null;o=e}else if(null==o)return null;e=o,r++}return o}function qt(e,t,n){if(!n)return Xt(t);var r=n.exportName||n.componentName||t,o,i=Xt(e[n.package]||r),a=n.exportName&&n.subName?n.subName.split("."):[];return n.destructuring?a.unshift(r):be(i)&&a.unshift("default"),Kt(i,a)}function Jt(e){return!!I(e)&&Object.keys(e).some((function(t){return de(e[t])}))}function Qt(e,t,n){var r={};return Object.keys(t).forEach((function(o){var i=t[o];i&&(Ft(i)||Vt(i))?Vt(i)?r[o]=n({version:"",componentsMap:[],componentsTree:[i]}):r[o]=n(i):de(i)?(fe(i)||(i=ve(i)),r[o]=i):Jt(i)?r[o]=i:(i=qt(e,o,i))&&(!fe(i)&&de(i)&&(i=ve(i)),r[o]=i)})),r}function Zt(e,t){var n={};return t&&t.forEach((function(t){var r;if(e[null==t||null===(r=t.npm)||void 0===r?void 0:r.package]){var o=Xt(e[null==t?void 0:t.npm.package]);null!=o&&o.destructuring?Object.keys(o).forEach((function(e){"destructuring"!==e&&(n[e]=o[e])})):t.name&&(n[t.name]=o)}})),n}var en=n(9),tn=n.n(en);function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,un(r.key),r)}}function an(e,t,n){return t&&on(e.prototype,t),n&&on(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function un(e){var t=cn(e,"string");return"symbol"===nn(t)?t:String(t)}function cn(e,t){if("object"!==nn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function sn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ln(e,t)}function ln(e,t){return(ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function fn(e){var t=dn();return function n(){var r=vn(e),o;if(t){var i=vn(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return pn(this,o)}}function pn(e,t){if(t&&("object"===nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hn(e)}function hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var yn=null;tn.a.defaultMaxListeners=100;var mn=function(e){sn(n,e);var t=fn(n);function n(e){var r;return rn(this,n),r=t.call(this),yn=hn(r),Object.assign(hn(r),e),r}return an(n,[{key:"get",value:function e(t){return this[t]}},{key:"set",value:function e(t,n){var r=this;"string"==typeof t?this[t]=n:"object"===nn(t)&&Object.keys(t).forEach((function(e){r[e]=t[e]}))}},{key:"batchOn",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.on(e,n)}))}},{key:"batchOnce",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.once(e,n)}))}},{key:"batchOff",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.off(e,n)}))}}]),n}(tn.a);mn.getInstance=function(){return yn||(yn=new mn),yn};var bn=n(8);function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,t,n){return(t=On(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e){var t=jn(e,"string");return"symbol"===gn(t)?t:String(t)}function jn(e,t){if("object"!==gn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Sn(e){return e&&"variable"===e.type}function kn(e,t){var n,r=null==e||null===(n=e.options)||void 0===n?void 0:n.configure;return!!Array.isArray(r)&&r.some((function(e){var n,r;return e.name===t&&"I18nSetter"===(null==e||null===(n=e.setter)||void 0===n||null===(r=n.type)||void 0===r?void 0:r.displayName)}))}function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh-CN";return B(e)?e:wn({type:"i18n",use:t},t,e)}function _n(e){return"string"==typeof e}function Pn(e,t){var n=200;return new Promise((function(n,r){setTimeout((function(){var o=Object(bn.get)(e,t);if(o)return n(o);r()}),200)})).catch((function(){return Pn(e,t)}))}function xn(e,t){var n=Object(bn.get)(e,t);return n?Promise.resolve(n):Pn(e,t)}function Nn(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&(e.length===t.length&&e.every((function(e){return t.includes(e)})))}function Cn(e){var t;return!(null==e||null===(t=e.getMetadata().configure)||void 0===t||!t.advanced)}function Tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return setTimeout(e,t)}var Ln=["render","serilize","save","clone","init","upgrade"];function Rn(e){return"number"==typeof e?(console.warn("stage \u76f4\u63a5\u6307\u5b9a\u4e3a\u6570\u5b57\u7684\u4f7f\u7528\u65b9\u5f0f\u5df2\u7ecf\u8fc7\u65f6\uff0c\u5c06\u5728\u4e0b\u4e00\u7248\u672c\u79fb\u9664\uff0c\u8bf7\u76f4\u63a5\u4f7f\u7528 IPublicEnumTransformStage.Render|Serilize|Save|Clone|Init|Upgrade"),Ln[e-1]):e}function An(e,t,n){if(!e)throw new Error("Invariant failed: ".concat(t).concat(n?" in '".concat(n,"'"):""))}function Mn(e,t,n){e&&console.warn("Deprecation: ".concat(t)+(n?", use ".concat(n," instead."):""))}function Dn(e){return e&&e.test&&e.exec&&e.compile}function In(e,t){return!1!==e&&(e||t)}function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e,t,n){return(t=Gn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gn(e){var t=Hn(e,"string");return"symbol"===qn(t)?t:String(t)}function Hn(e,t){if("object"!==qn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Un(e,t){return $n(e)||Wn(e,t)||Yn(e,t)||zn()}function zn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wn(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function $n(e){if(Array.isArray(e))return e}function Xn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Yn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Yn(e,t){if(e){if("string"==typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kn(e,t):void 0}}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e){if("object"===qn(e)&&null!==e)return e.type&&e.source&&e.compiled}function Qn(e){return e.type&&"actionRef"===e.type}function Zn(e){if(!e)return e;if(Array.isArray(e))return e.map((function(e){return Zn(e)}));if(!V(e))return e;var t,n,r;if(bt(e))return"Slot"===e.value.componentName?{type:"JSSlot",title:null===(t=e.value.props)||void 0===t?void 0:t.slotTitle,name:null===(n=e.value.props)||void 0===n?void 0:n.slotName,value:Zn(e.value.children),params:null===(r=e.value.props)||void 0===r?void 0:r.slotParams}:e.value;if(Sn(e))return{type:"JSExpression",value:e.variable,mock:e.value};if(Jn(e))return{type:"JSExpression",value:e.compiled,extType:"function"};if(Qn(e))return{type:"JSExpression",value:"".concat(e.id,".bind(this)")};var o={};return Object.keys(e).forEach((function(t){/^__slot__/.test(t)&&!0===e[t]||(o[t]=Zn(e[t]))})),o}function er(e,t){var n;if(e.id===t)return e;var r=e.children,o=e.props;if(Array.isArray(r)){var i=Xn(r),a;try{for(i.s();!(a=i.n()).done;){var u;if(n=er(a.value,t))return n}}catch(e){i.e(e)}finally{i.f()}}return V(o)&&(n=tr(o,t))?n:void 0}function tr(e,t){for(var n,r=0,o=Object.entries(e);r<o.length;r++){var i=Un(o[r],2),a=i[0],u=i[1];if(St(u)){if(Array.isArray(u.value)){var c=Xn(u.value),s;try{for(c.s();!(s=c.n()).done;){var l;if(n=er(s.value,t))return n}}catch(e){c.e(e)}finally{c.f()}}if(n=er(u.value,t))return n}else if(V(u)&&(n=tr(u,t)))return n}}function nr(e,t){var n=Vn({},e);return Array.isArray(t)||(t=[t]),t.reduce((function(e,t){if(t.type===r.a.MODIFIED){var n=er(e,t.payload.schema.id);if(!n)return e;Object.assign(n,t.payload.schema)}else if(t.type===r.a.ADDED){var o=t.payload,i=o.location,a=o.schema,u=i.parent,c=er(e,u.nodeId);c&&(Array.isArray(c.children)?c.children.splice(u.index,0,a):c.children||(c.children=[a]))}else if(t.type===r.a.DELETED){var s,l,f=t.payload.location.parent,p=er(e,f.nodeId);p&&Array.isArray(p.children)&&p.children.splice(f.index,1)}return e}),n)}var rr=function e(t,n){if(t)return n(t)?t:e(t.parent,n)};function or(e,t){var n,r,o,i=null===(n=e.componentMeta)||void 0===n||null===(r=n.advanced)||void 0===r||null===(o=r.callbacks)||void 0===o?void 0:o.onClickHook,a;return"function"!=typeof i||i(t,e)}function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cr(e,t,n){return(t=pr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pr(r.key),r)}}function fr(e,t,n){return t&&lr(e.prototype,t),n&&lr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pr(e){var t=hr(e,"string");return"symbol"===ir(t)?t:String(t)}function hr(e,t){if("object"!==ir(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var dr={debug:-1,log:0,info:0,warn:1,error:2},vr=["#daa569","#00ffff","#385e0f","#7fffd4","#00c957","#b0e0e6","#4169e1","#6a5acd","#87ceeb","#ffff00","#e3cf57","#ff9912","#eb8e55","#ffe384","#40e0d0","#a39480","#d2691e","#ff7d40","#f0e68c","#bc8f8f","#c76114","#734a12","#5e2612","#0000ff","#3d59ab","#1e90ff","#03a89e","#33a1c9","#a020f0","#a066d3","#da70d6","#dda0dd","#688e23","#2e8b57"],yr={debug:"#fadb14",log:"#8c8c8c",info:"#52c41a",warn:"#fa8c16",error:"#ff4d4f"},mr={debug:"debug",log:"log",info:"info",warn:"warn",error:"error"},br={debug:console.log,log:console.log,info:console.log,warn:console.warn,error:console.error},gr={},wr=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=dr[n]<=dr[t],a="*"===o||r.indexOf(o)>-1;return i&&a},Or=function e(t,n){return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return br[t].apply(console,Sr(r,n,t))}},jr=function e(t){if(!gr[t]){var n=vr[Object.keys(gr).length%vr.length];gr[t]=n}return gr[t]},Sr=function e(t,n,r){var o=jr(n),i=yr[r],a=t[0],u="%c[".concat(n,"]%c[").concat(mr[r],"]:");a.forEach((function(e){I(e)?u+="%o":u+="%s"}));var c=[u,"color: ".concat(o),"color: ".concat(i)];return c=c.concat(a)},kr=function e(t,n){if(!t)return{level:n.level,bizName:n.bizName};if(t.indexOf(":")>-1){var r=t.split(":");return{level:r[0],bizName:r[1]||"*"}}return{level:t,bizName:"*"}},Er={level:"warn",bizName:"*"},_r=function(){function e(t){sr(this,e),this.bizName=void 0,this.targetBizName=void 0,this.targetLevel=void 0,t=ur(ur({},Er),t);var n=location||{},r=(/__(?:logConf|logLevel)__=([^#/&]*)/.exec(n.href)||[])[1],o=kr(r,t);this.bizName=t.bizName,this.targetBizName=o.bizName,this.targetLevel=o.level}return fr(e,[{key:"debug",value:function e(){if(wr("debug",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Or("debug",this.bizName)(n)}}},{key:"log",value:function e(){if(wr("log",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Or("log",this.bizName)(n)}}},{key:"info",value:function e(){if(wr("info",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Or("info",this.bizName)(n)}}},{key:"warn",value:function e(){if(wr("warn",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Or("warn",this.bizName)(n)}}},{key:"error",value:function e(){if(wr("error",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Or("error",this.bizName)(n)}}}]),e}();function Pr(e){return new _r(e)}var xr=4;function Nr(e,t){return!!e.shaken||(e.target!==t.target||Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2)>4)}function Cr(e){if(!e)return!1;var t=e.split(":");return t.length>1&&t[0].length>0}var Tr=["hover","focus","active","visited"],Lr=/[A-Z]/g,Rr=/[-\s]+(.)?/g,Ar=/([^:]*):\s?(.*)/i;function Mr(e){var t=0,n=0,r=[];return e.split("").forEach((function(o,i){"{"===o&&t++,"}"===o&&(1===t&&(r.push(e.substring(n,i+1)),n=i+1),t--)})),r}function Dr(e){return"[object String]"==={}.toString.call(e)}function Ir(e){return e.replace(Lr,(function(e){return"-".concat(e)})).toLowerCase()}function Br(e){return e.replace(Rr,(function(e,t){return t?t.toUpperCase():""}))}function Vr(e){var t=[];return Object.keys(e).forEach((function(n){t.push("  ".concat(n,": ").concat(e[n],";"))})),t.join("\n")}function Fr(e){if(!e)return{};if(e.default){var t={};return Object.keys(e).forEach((function(n){t[n]="extra"!==n?Fr(e[n]):e[n]})),t}var n={};return Object.keys(e).forEach((function(t){n[Br(t)]=e[t]})),n}function Gr(e){if(!e)return{};if(e.default){var t={};return Object.keys(e).forEach((function(n){t[n]="extra"!==n?Gr(e[n]):e[n]})),t}var n={};return Object.keys(e).forEach((function(t){n[Ir(t)]=e[t]})),n}function Hr(e){if(!e)return":root {\n\n}";if(e.default){var t=[];return Object.keys(e).forEach((function(n){if("extra"!==n){var r=Tr.indexOf(n)>-1?":":"";t.push(":root".concat("default"===n?"":"".concat(r).concat(n)," {\n").concat(Vr(Gr(e[n])),"\n}\n"))}else Array.isArray(e.extra)&&t.push(e.extra.join("\n"))})),t.join("\n")}return":root {\n".concat(Vr(Gr(e)),"\n}\n")}function Ur(e){if(!e)return{};var t={},n;return Mr(e).forEach((function(e){if(e.startsWith(":root")){var n=/:root:?(.*)?{(.*)/gi.exec(e.replace(/[\r\n]+/gi,"").trim());if(n){var r;n[1]&&n[1].trim()&&Object(bn.some)(Tr,(function(e){return 0===n[1].indexOf(e)}))?r=n[1].trim():n[1]&&n[1].trim()&&(r=n[1]);var o={};n[2].split(";").reduce((function(e,t){return t.indexOf("base64")>-1?e[e.length-1]+=";".concat(t):e.push(t),e}),[]).forEach((function(e){if(e&&Ar.test(e)){var t=e.match(Ar),n=null==t?void 0:t[1],r=null==t?void 0:t[2];n&&r&&(o[n.trim()]=r.trim())}})),t[r||"default"]=o}}else t.extra=t.extra||[],t.extra.push(e.trim())})),t}function zr(e){try{return Dr(e)?Fr(Ur(e).default):e.default?Fr(Gr(e.default)):Fr(Gr(e))}catch(e){}return{}}var Wr=n(6);function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kr(r.key),r)}}function Yr(e,t,n){return t&&Xr(e.prototype,t),n&&Xr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kr(e){var t=qr(e,"string");return"symbol"===$r(t)?t:String(t)}function qr(e,t){if("object"!==$r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Qr,Zr=new(Yr((function e(){var t=this;Jr(this,e),this.emitter=new tn.a,this.executeTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i.REPAINT;t.emitter.emit("[".concat(n,"]startTransaction")),Object(Wr.runInAction)(e),t.emitter.emit("[".concat(n,"]endTransaction"))},this.onStartTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i.REPAINT;return t.emitter.on("[".concat(n,"]startTransaction"),e),function(){t.emitter.off("[".concat(n,"]startTransaction"),e)}},this.onEndTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i.REPAINT;return t.emitter.on("[".concat(n,"]endTransaction"),e),function(){t.emitter.off("[".concat(n,"]endTransaction"),e)}}})))},function(e,t){e.exports=window.React},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return k})),n.d(t,"h",(function(){return _})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return L}));var r={};n.r(r),n.d(r,"Change",(function(){return f})),n.d(r,"InnerChange",(function(){return p}));var o={};n.r(o),n.d(o,"Prop",(function(){return r})),n.d(o,"Rerender",(function(){return h}));var i={},a,u,c;n.r(i),n.d(i,"Node",(function(){return o})),function(e){e.Initial="init",e.Loading="loading",e.Loaded="loaded",e.Error="error"}(a||(a={})),function(e){e.ADDED="added",e.DELETED="deleted",e.MODIFIED="modified",e.COMPOSITE="composite"}(u||(u={})),function(e){e[e.Environment=1]="Environment",e[e.Library=2]="Library",e[e.Theme=3]="Theme",e[e.Runtime=4]="Runtime",e[e.Components=5]="Components",e[e.App=6]="App"}(c||(c={}));var s=[c.Environment,c.Library,c.Theme,c.Runtime,c.Components,c.App],l;!function(e){e.JSUrl="jsUrl",e.CSSUrl="cssUrl",e.CSSText="cssText",e.JSText="jsText",e.Bundle="bundle"}(l||(l={}));var f="node.prop.change",p="node.innerProp.change",h="node.edit.rerender.time",d,v;function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=w(e,"string");return"symbol"===y(t)?t:String(t)}function w(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e.Children="Children",e.Prop="Prop"}(d||(d={})),function(e){e.Children="Children",e.Prop="Prop"}(v||(v={}));var j=b((function e(){O(this,e),this.type=void 0,this.data=void 0,this.nodes=void 0})),S,k,E,_,P,x,N,C,T,L;function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e){return e&&"object"===R(e)}S||(S={}),function(e){e[e.REPAINT=0]="REPAINT"}(k||(k={})),function(e){e[e.REPAINT=0]="REPAINT"}(E||(E={})),function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"}(_||(_={})),function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"}(P||(P={})),function(e){e.Node="node",e.NodeData="nodedata"}(x||(x={})),function(e){e.Node="node",e.NodeData="nodedata"}(N||(N={})),function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"}(C||(C={})),function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"}(T||(T={})),function(e){e.Default="default",e.Workspace="workspace",e.Resource="resource",e.EditorView="editorView"}(L||(L={}));var M=n(3);function D(e){return e&&e.prototype&&(e.prototype.isReactComponent||e.prototype instanceof M.Component)}function I(e){return e&&(D(e)||"function"==typeof e)}function B(e){return e&&(Object(M.isValidElement)(e)||I(e))}function V(e){return"string"==typeof e}function F(e){return e&&"function"==typeof e&&!D(e)}function G(e){return e&&"i18n"===e.type}function H(e){return e&&"JSBlock"===e.type}function U(e){return e&&"JSExpression"===e.type&&"function"!==e.extType}function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e){return"object"===z(e)&&e&&"JSFunction"===e.type}function $(e){return e&&"JSSlot"===e.type}function X(e){return"package"in e}function Y(e){return!X(e)}function K(e){return e&&e.componentName}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e){if("object"!==q(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||null===Object.getPrototypeOf(t)}function Q(e){return e&&e.componentsTree}function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e){return e&&"object"===Z(e)&&"componentName"in e&&!B(e)}function te(e){return J(e)&&!G(e)}},function(e,t,n){var r,o;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty,i="[native code]";function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var i=a.apply(null,r);i&&e.push(i)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,r=[]))||(e.exports=o)}()},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"$mobx",(function(){return De})),n.d(t,"FlowCancellationError",(function(){return $r})),n.d(t,"ObservableMap",(function(){return ci})),n.d(t,"ObservableSet",(function(){return di})),n.d(t,"Reaction",(function(){return Jn})),n.d(t,"_allowStateChanges",(function(){return nn})),n.d(t,"_allowStateChangesInsideComputed",(function(){return Sr})),n.d(t,"_allowStateReadsEnd",(function(){return xn})),n.d(t,"_allowStateReadsStart",(function(){return Pn})),n.d(t,"_autoAction",(function(){return jr})),n.d(t,"_endAction",(function(){return tn})),n.d(t,"_getAdministration",(function(){return Mi})),n.d(t,"_getGlobalState",(function(){return Dn})),n.d(t,"_interceptReads",(function(){return eo})),n.d(t,"_isComputingDerivation",(function(){return mn})),n.d(t,"_resetGlobalState",(function(){return In})),n.d(t,"_startAction",(function(){return en})),n.d(t,"action",(function(){return Or})),n.d(t,"autorun",(function(){return Er})),n.d(t,"comparer",(function(){return ze})),n.d(t,"computed",(function(){return zt})),n.d(t,"configure",(function(){return Br})),n.d(t,"createAtom",(function(){return Ve})),n.d(t,"defineProperty",(function(){return bo})),n.d(t,"entries",(function(){return po})),n.d(t,"extendObservable",(function(){return Vr})),n.d(t,"flow",(function(){return qr})),n.d(t,"flowResult",(function(){return Qr})),n.d(t,"get",(function(){return mo})),n.d(t,"getAtom",(function(){return Ai})),n.d(t,"getDebugName",(function(){return Di})),n.d(t,"getDependencyTree",(function(){return Fr})),n.d(t,"getObserverTree",(function(){return Hr})),n.d(t,"has",(function(){return yo})),n.d(t,"intercept",(function(){return to})),n.d(t,"isAction",(function(){return kr})),n.d(t,"isBoxedObservable",(function(){return cn})),n.d(t,"isComputed",(function(){return io})),n.d(t,"isComputedProp",(function(){return ao})),n.d(t,"isFlow",(function(){return Zr})),n.d(t,"isFlowCancellationError",(function(){return Xr})),n.d(t,"isObservable",(function(){return co})),n.d(t,"isObservableArray",(function(){return oi})),n.d(t,"isObservableMap",(function(){return si})),n.d(t,"isObservableObject",(function(){return ji})),n.d(t,"isObservableProp",(function(){return so})),n.d(t,"isObservableSet",(function(){return vi})),n.d(t,"keys",(function(){return lo})),n.d(t,"makeAutoObservable",(function(){return Uo})),n.d(t,"makeObservable",(function(){return Go})),n.d(t,"observable",(function(){return Vt})),n.d(t,"observe",(function(){return wo})),n.d(t,"onBecomeObserved",(function(){return Lr})),n.d(t,"onBecomeUnobserved",(function(){return Rr})),n.d(t,"onReactionError",(function(){return Qn})),n.d(t,"override",(function(){return qe})),n.d(t,"ownKeys",(function(){return go})),n.d(t,"reaction",(function(){return xr})),n.d(t,"remove",(function(){return vo})),n.d(t,"runInAction",(function(){return Sr})),n.d(t,"set",(function(){return ho})),n.d(t,"spy",(function(){return lr})),n.d(t,"toJS",(function(){return Eo})),n.d(t,"trace",(function(){return _o})),n.d(t,"transaction",(function(){return xo})),n.d(t,"untracked",(function(){return kn})),n.d(t,"values",(function(){return fo})),n.d(t,"when",(function(){return No}));var r="Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",o=function e(t,n){return"Cannot apply '"+t+"' to '"+n.toString()+"': Field not found."},i="'keys()' can only be used on observable objects, arrays, sets and maps",a="'values()' can only be used on observable objects, arrays, sets and maps",u="'entries()' can only be used on observable objects, arrays and maps",c="'set()' can only be used on observable objects, arrays and maps",s="'remove()' can only be used on observable objects, arrays and maps",l="'has()' can only be used on observable objects, arrays and maps",f="'get()' can only be used on observable objects, arrays and maps",p="Invalid annotation",h="Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",d="Intercept handlers should return nothing or a change object",v="Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",y="Modification exception: the internal structure of an observable array was changed.",m=function e(t,n){return"[mobx.array] Index out of bounds, "+t+" is larger than "+n},b="mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",g=function e(t){return"Cannot initialize from classes that inherit from Map: "+t.constructor.name},w=function e(t){return"Cannot initialize map from "+t},O=function e(t){return"Cannot convert to map from '"+t+"'"},j="mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",S="It is not possible to get index atoms from arrays",k=function e(t){return"Cannot obtain administration from "+t},E=function e(t,n){return"the entry '"+t+"' does not exist in the observable map '"+n+"'"},_="please specify a property",P=function e(t,n){return"no observable property '"+t.toString()+"' found on the observable object '"+n+"'"},x=function e(t){return"Cannot obtain atom from "+t},N="Expecting some object",C="invalid action stack. did you forget to finish an action?",T="missing option for computed: get",L=function e(t,n){return"Cycle detected in computation "+t+": "+n},R=function e(t){return"The setter of computed value '"+t+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},A=function e(t){return"[ComputedValue '"+t+"'] It is not possible to assign a new value to a computed value."},M="There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",D="isolateGlobalState should be called before MobX is running any reactions",I=function e(t){return"[mobx] `observableArray."+t+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+t+"()` instead"},B="'ownKeys()' can only be used on observable objects",V="'defineProperty()' can only be used on observable objects",F={};function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var H={};function U(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:H}var z=Object.assign,W=Object.getOwnPropertyDescriptor,$=Object.defineProperty,X=Object.prototype,Y=[];Object.freeze(Y);var K={};Object.freeze(K);var q="undefined"!=typeof Proxy,J=Object.toString();function Q(){q||G("Proxy not available")}function Z(e){0}function ee(){return++An.mobxGuid}function te(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ne=function e(){};function re(e){return"function"==typeof e}function oe(e){var t;switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function ie(e){return null!==e&&"object"==typeof e}function ae(e){if(!ie(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===J}function ue(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function ce(e,t,n){$(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function se(e,t,n){$(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function le(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return ie(e)&&!0===e[n]}}function fe(e){return e instanceof Map}function pe(e){return e instanceof Set}var he=void 0!==Object.getOwnPropertySymbols;function de(e){var t=Object.keys(e);if(!he)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return X.propertyIsEnumerable.call(e,t)}))):t}var ve="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:he?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function ye(e){return"string"==typeof e?e:"symbol"==typeof e?e.toString():new String(e).toString()}function me(e){return null===e?null:"object"==typeof e?""+e:e}function be(e,t){return X.hasOwnProperty.call(e,t)}var ge=Object.getOwnPropertyDescriptors||function e(t){var n={};return ve(t).forEach((function(e){n[e]=W(t,e)})),n};function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ce(r.key),r)}}function Oe(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function je(){return(je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ke(e,t)}function ke(e,t){return(ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_e(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ce(e){var t=Ne(e,"string");return"symbol"==typeof t?t:String(t)}var Te=Symbol("mobx-stored-annotations");function Le(e){function t(t,n){Re(t,n,e)}return Object.assign(t,e)}function Re(e,t,n){var r;be(e,Te)||ce(e,Te,je({},e[Te])),Ae(e,n,t),Je(n)||(e[Te][t]=n)}function Ae(e,t,n){var r,o,i}function Me(e){return be(e,Te)||ce(e,Te,je({},e[Te])),e[Te]}var De=Symbol("mobx administration"),Ie=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=pn.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function e(){return Wn(this)},t.reportChanged=function e(){Un(),$n(this),An.stateVersion=An.stateVersion<Number.MAX_SAFE_INTEGER?An.stateVersion+1:Number.MIN_SAFE_INTEGER,zn()},t.toString=function e(){return this.name_},e}(),Be=le("Atom",Ie);function Ve(e,t,n){void 0===t&&(t=ne),void 0===n&&(n=ne);var r=new Ie(e);return t!==ne&&Lr(r,t),n!==ne&&Rr(r,n),r}function Fe(e,t){return e===t}function Ge(e,t){return Bi(e,t)}function He(e,t){return Bi(e,t,1)}function Ue(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t}var ze={identity:Fe,structural:Ge,default:Ue,shallow:He};function We(e,t,n){return co(e)?e:Array.isArray(e)?Vt.array(e,{name:n}):ae(e)?Vt.object(e,void 0,{name:n}):fe(e)?Vt.map(e,{name:n}):pe(e)?Vt.set(e,{name:n}):"function"!=typeof e||kr(e)||Zr(e)?e:ue(e)?qr(e):jr(n,e)}function $e(e,t,n){return null==e||ji(e)||oi(e)||si(e)||vi(e)?e:Array.isArray(e)?Vt.array(e,{name:n,deep:!1}):ae(e)?Vt.object(e,void 0,{name:n,deep:!1}):fe(e)?Vt.map(e,{name:n,deep:!1}):pe(e)?Vt.set(e,{name:n,deep:!1}):void 0}function Xe(e){return e}function Ye(e,t){return Bi(e,t)?t:e}var Ke="override",qe=Le({annotationType_:Ke,make_:Qe,extend_:Ze});function Je(e){return e.annotationType_===Ke}function Qe(e,t){return 0}function Ze(e,t,n,r){G("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function et(e,t){return{annotationType_:e,options_:t,make_:tt,extend_:nt}}function tt(e,t,n,r){var o;if(null!=(o=this.options_)&&o.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(kr(n.value))return 1;var i=ot(e,this,t,n,!1);return $(r,t,i),2}function nt(e,t,n,r){var o=ot(e,this,t,n);return e.defineProperty_(t,o,r)}function rt(e,t,n,r){var o=t.annotationType_,i=r.value}function ot(e,t,n,r,o){var i,a,u,c,s,l,f;void 0===o&&(o=An.safeDescriptors),rt(e,t,n,r);var p=r.value,h;null!=(i=t.options_)&&i.bound&&(p=p.bind(null!=(h=e.proxy_)?h:e.target_));return{value:Qt(null!=(a=null==(u=t.options_)?void 0:u.name)?a:n.toString(),p,null!=(c=null==(s=t.options_)?void 0:s.autoAction)&&c,null!=(l=t.options_)&&l.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function it(e,t){return{annotationType_:e,options_:t,make_:at,extend_:ut}}function at(e,t,n,r){var o;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(o=this.options_)&&o.bound&&(!be(e.target_,t)||!Zr(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(Zr(n.value))return 1;var i=st(e,this,t,n,!1,!1);return $(r,t,i),2}function ut(e,t,n,r){var o,i=st(e,this,t,n,null==(o=this.options_)?void 0:o.bound);return e.defineProperty_(t,i,r)}function ct(e,t,n,r){var o=t.annotationType_,i=r.value}function st(e,t,n,r,o,i){void 0===i&&(i=An.safeDescriptors),ct(e,t,n,r);var a=r.value,u;(Zr(a)||(a=qr(a)),o)&&((a=a.bind(null!=(u=e.proxy_)?u:e.target_)).isMobXFlow=!0);return{value:a,configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function lt(e,t){return{annotationType_:e,options_:t,make_:ft,extend_:pt}}function ft(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function pt(e,t,n,r){return ht(e,this,t,n),e.defineComputedProperty_(t,je({},this.options_,{get:n.get,set:n.set}),r)}function ht(e,t,n,r){var o=t.annotationType_,i=r.get}function dt(e,t){return{annotationType_:e,options_:t,make_:vt,extend_:yt}}function vt(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function yt(e,t,n,r){var o,i;return mt(e,this,t,n),e.defineObservableProperty_(t,n.value,null!=(o=null==(i=this.options_)?void 0:i.enhancer)?o:We,r)}function mt(e,t,n,r){var o=t.annotationType_}var bt="true",gt=wt();function wt(e){return{annotationType_:bt,options_:e,make_:Ot,extend_:jt}}function Ot(e,t,n,r){var o,i,a,u,c,s;if(n.get)return zt.make_(e,t,n,r);if(n.set){var l=Qt(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!An.safeDescriptors||e.isPlainObject_,set:l})?0:2:($(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return ue(n.value)?(null!=(u=this.options_)&&u.autoBind?qr.bound:qr).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?jr.bound:jr).make_(e,t,n,r);var f=!1===(null==(o=this.options_)?void 0:o.deep)?Vt.ref:Vt,p;"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(p=e.proxy_)?p:e.target_));return f.make_(e,t,n,r)}function jt(e,t,n,r){var o,i,a,u;if(n.get)return zt.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!An.safeDescriptors||e.isPlainObject_,set:Qt(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(i=this.options_)?void 0:i.deep)?Vt.ref:Vt).extend_(e,t,n,r)}var St="observable",kt="observable.ref",Et="observable.shallow",_t="observable.struct",Pt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function xt(e){return e||Pt}Object.freeze(Pt);var Nt=dt(St),Ct=dt(kt,{enhancer:Xe}),Tt=dt(Et,{enhancer:$e}),Lt=dt(_t,{enhancer:Ye}),Rt=Le(Nt);function At(e){return!0===e.deep?We:!1===e.deep?Xe:Dt(e.defaultDecorator)}function Mt(e){var t;return e?null!=(t=e.defaultDecorator)?t:wt(e):void 0}function Dt(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:We}function It(e,t,n){if(!oe(t))return co(e)?e:ae(e)?Vt.object(e,t,n):Array.isArray(e)?Vt.array(e,t):fe(e)?Vt.map(e,t):pe(e)?Vt.set(e,t):"object"==typeof e&&null!==e?e:Vt.box(e,t);Re(e,t,Nt)}z(It,Rt);var Bt,Vt=z(It,{box:function e(t,n){var r=xt(n);return new un(t,At(r),r.name,!0,r.equals)},array:function e(t,n){var r=xt(n);return(!1===An.useProxies||!1===r.proxy?Ri:Ko)(t,At(r),r.name)},map:function e(t,n){var r=xt(n);return new ci(t,At(r),r.name)},set:function e(t,n){var r=xt(n);return new di(t,At(r),r.name)},object:function e(t,n,r){return Vr(!1===An.useProxies||!1===(null==r?void 0:r.proxy)?gi({},r):Ao({},r),t,n)},ref:Le(Ct),shallow:Le(Tt),deep:Rt,struct:Le(Lt)}),Ft="computed",Gt="computed.struct",Ht=lt(Ft),Ut=lt(Gt,{equals:ze.structural}),zt=function e(t,n){if(oe(n))return Re(t,n,Ht);if(ae(t))return Le(lt(Ft,t));var r=ae(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new ln(r)},Wt,$t;Object.assign(zt,Ht),zt.struct=Le(Ut);var Xt=0,Yt=1,Kt=null!=(Wt=null==($t=W((function(){}),"name"))?void 0:$t.configurable)&&Wt,qt={value:"action",configurable:!0,writable:!1,enumerable:!1},Jt;function Qt(e,t,n,r){function o(){return Zt(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),o.isMobxAction=!0,Kt&&(qt.value=e,$(o,"name",qt)),o}function Zt(e,t,n,r,o){var i=en(e,t,r,o);try{return n.apply(r,o)}catch(e){throw i.error_=e,e}finally{tn(i)}}function en(e,t,n,r){var o=!1,i=0,a,u=An.trackingDerivation,c=!t||!u;Un();var s=An.allowStateChanges;c&&(En(),s=rn(!0));var l,f={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:s,prevAllowStateReads_:Pn(!0),notifySpy_:!1,startTime_:0,actionId_:Yt++,parentActionId_:Xt};return Xt=f.actionId_,f}function tn(e){Xt!==e.actionId_&&G(30),Xt=e.parentActionId_,void 0!==e.error_&&(An.suppressReactionErrors=!0),on(e.prevAllowStateChanges_),xn(e.prevAllowStateReads_),zn(),e.runAsAction_&&_n(e.prevDerivation_),An.suppressReactionErrors=!1}function nn(e,t){var n=rn(e);try{return t()}finally{on(n)}}function rn(e){var t=An.allowStateChanges;return An.allowStateChanges=e,t}function on(e){An.allowStateChanges=e}var an="create";Jt=Symbol.toPrimitive;var un=function(e){function t(t,n,r,o,i){var a;return void 0===r&&(r="ObservableValue"),void 0===o&&(o=!0),void 0===i&&(i=ze.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=i,a.value_=n(t,void 0,r),a}Se(t,e);var n=t.prototype;return n.dehanceValue=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},n.set=function e(t){var n=this.value_;if((t=this.prepareNewValue_(t))!==An.UNCHANGED){var r=!1;0,this.setNewValue_(t)}},n.prepareNewValue_=function e(t){if(bn(this),Mo(this)){var n=Io(this,{object:this,type:Wo,newValue:t});if(!n)return An.UNCHANGED;t=n.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?An.UNCHANGED:t},n.setNewValue_=function e(t){var n=this.value_;this.value_=t,this.reportChanged(),Bo(this)&&Fo(this,{type:Wo,object:this,newValue:t,oldValue:n})},n.get=function e(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function e(t){return Do(this,t)},n.observe_=function e(t,n){return n&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:Wo,newValue:this.value_,oldValue:void 0}),Vo(this,t)},n.raw=function e(){return this.value_},n.toJSON=function e(){return this.get()},n.toString=function e(){return this.name_+"["+this.value_+"]"},n.valueOf=function e(){return me(this.get())},n[Jt]=function(){return this.valueOf()},t}(Ie),cn=le("ObservableValue",un),sn;sn=Symbol.toPrimitive;var ln=function(){function e(e){this.dependenciesState_=pn.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=pn.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new dn(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=hn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||G(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Qt("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?ze.structural:ze.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function e(){Yn(this)},t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function e(){if(this.isComputing_&&G(32,this.name_,this.derivation),0!==An.inBatch||0!==this.observers_.size||this.keepAlive_){if(Wn(this),yn(this)){var t=An.trackingContext;this.keepAlive_&&!t&&(An.trackingContext=this),this.trackAndCompute()&&Xn(this),An.trackingContext=t}}else yn(this)&&(this.warnAboutUntrackedRead_(),Un(),this.value_=this.computeValue_(!1),zn());var n=this.value_;if(vn(n))throw n.cause;return n},t.set=function e(t){if(this.setter_){this.isRunningSetter_&&G(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else G(34,this.name_)},t.trackAndCompute=function e(){var t=this.value_,n=this.dependenciesState_===pn.NOT_TRACKING_,r=this.computeValue_(!0),o=n||vn(t)||vn(r)||!this.equals_(t,r);return o&&(this.value_=r),o},t.computeValue_=function e(t){this.isComputing_=!0;var n=rn(!1),r;if(t)r=wn(this,this.derivation,this.scope_);else if(!0===An.disableErrorBoundaries)r=this.derivation.call(this.scope_);else try{r=this.derivation.call(this.scope_)}catch(e){r=new dn(e)}return on(n),this.isComputing_=!1,r},t.suspend_=function e(){this.keepAlive_||(Sn(this),this.value_=void 0)},t.observe_=function e(t,n){var r=this,o=!0,i=void 0;return Er((function(){var e=r.get();if(!o||n){var a=En();t({observableKind:"computed",debugObjectName:r.name_,type:Wo,object:r,newValue:e,oldValue:i}),_n(a)}o=!1,i=e}))},t.warnAboutUntrackedRead_=function e(){},t.toString=function e(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function e(){return me(this.get())},t[sn]=function(){return this.valueOf()},e}(),fn=le("ComputedValue",ln),pn,hn;!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(pn||(pn={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(hn||(hn={}));var dn=function e(t){this.cause=void 0,this.cause=t};function vn(e){return e instanceof dn}function yn(e){switch(e.dependenciesState_){case pn.UP_TO_DATE_:return!1;case pn.NOT_TRACKING_:case pn.STALE_:return!0;case pn.POSSIBLY_STALE_:for(var t=Pn(!0),n=En(),r=e.observing_,o=r.length,i=0;i<o;i++){var a=r[i];if(fn(a)){if(An.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return _n(n),xn(t),!0}if(e.dependenciesState_===pn.STALE_)return _n(n),xn(t),!0}}return Nn(e),_n(n),xn(t),!1}}function mn(){return null!==An.trackingDerivation}function bn(e){var t}function gn(e){0}function wn(e,t,n){var r=Pn(!0);Nn(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++An.runId;var o=An.trackingDerivation,i;if(An.trackingDerivation=e,An.inBatch++,!0===An.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new dn(e)}return An.inBatch--,An.trackingDerivation=o,jn(e),On(e),xn(r),i}function On(e){}function jn(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=pn.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,a=0;a<i;a++){var u=n[a];0===u.diffValue_&&(u.diffValue_=1,o!==a&&(n[o]=u),o++),u.dependenciesState_>r&&(r=u.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var c=t[i];0===c.diffValue_&&Gn(c,e),c.diffValue_=0}for(;o--;){var s=n[o];1===s.diffValue_&&(s.diffValue_=0,Fn(s,e))}r!==pn.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function Sn(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Gn(t[n],e);e.dependenciesState_=pn.NOT_TRACKING_}function kn(e){var t=En();try{return e()}finally{_n(t)}}function En(){var e=An.trackingDerivation;return An.trackingDerivation=null,e}function _n(e){An.trackingDerivation=e}function Pn(e){var t=An.allowStateReads;return An.allowStateReads=e,t}function xn(e){An.allowStateReads=e}function Nn(e){if(e.dependenciesState_!==pn.UP_TO_DATE_){e.dependenciesState_=pn.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=pn.UP_TO_DATE_}}var Cn=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Tn=function e(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},Ln=!0,Rn=!1,An=function(){var e=U();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Ln=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Tn).version&&(Ln=!1),Ln?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Tn):(setTimeout((function(){Rn||G(35)}),1),new Tn)}();function Mn(){if((An.pendingReactions.length||An.inBatch||An.isRunningReactions)&&G(36),Rn=!0,Ln){var e=U();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),An=new Tn}}function Dn(){return An}function In(){var e=new Tn;for(var t in e)-1===Cn.indexOf(t)&&(An[t]=e[t]);An.allowStateChanges=!An.enforceActions}function Bn(e){return e.observers_&&e.observers_.size>0}function Vn(e){return e.observers_}function Fn(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Gn(e,t){e.observers_.delete(t),0===e.observers_.size&&Hn(e)}function Hn(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,An.pendingUnobservations.push(e))}function Un(){An.inBatch++}function zn(){if(0==--An.inBatch){tr();for(var e=An.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof ln&&n.suspend_())}An.pendingUnobservations=[]}}function Wn(e){gn(e);var t=An.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&An.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&An.inBatch>0&&Hn(e),!1)}function $n(e){e.lowestObserverState_!==pn.STALE_&&(e.lowestObserverState_=pn.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===pn.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=pn.STALE_})))}function Xn(e){e.lowestObserverState_!==pn.STALE_&&(e.lowestObserverState_=pn.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===pn.POSSIBLY_STALE_?t.dependenciesState_=pn.STALE_:t.dependenciesState_===pn.UP_TO_DATE_&&(e.lowestObserverState_=pn.UP_TO_DATE_)})))}function Yn(e){e.lowestObserverState_===pn.UP_TO_DATE_&&(e.lowestObserverState_=pn.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===pn.UP_TO_DATE_&&(e.dependenciesState_=pn.POSSIBLY_STALE_,e.onBecomeStale_())})))}function Kn(e,t){if(console.log("[mobx.trace] '"+e.name_+"' is invalidated due to a change in: '"+t.name_+"'"),e.isTracing_===hn.BREAK){var n=[];qn(Fr(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name_+"'\n\nYou are entering this break point because derivation '"+e.name_+"' is being traced and '"+t.name_+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof ln?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function qn(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+"\t".repeat(n-1)+e.name),e.dependencies&&e.dependencies.forEach((function(e){return qn(e,t,n+1)})))}var Jn=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=pn.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=hn.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function e(){this.schedule_()},t.schedule_=function e(){this.isScheduled_||(this.isScheduled_=!0,An.pendingReactions.push(this),tr())},t.isScheduled=function e(){return this.isScheduled_},t.runReaction_=function e(){if(!this.isDisposed_){Un(),this.isScheduled_=!1;var t=An.trackingContext;if(An.trackingContext=this,yn(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}An.trackingContext=t,zn()}},t.track=function e(t){if(!this.isDisposed_){Un();var n=!1,r;0,this.isRunning_=!0;var o=An.trackingContext;An.trackingContext=this;var i=wn(this,t,void 0);An.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Sn(this),vn(i)&&this.reportExceptionInDerivation_(i.cause),zn()}},t.reportExceptionInDerivation_=function e(t){var n=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(An.disableErrorBoundaries)throw t;var r="[mobx] uncaught error in '"+this+"'";An.suppressReactionErrors||console.error(r,t),An.globalReactionErrorHandlers.forEach((function(e){return e(t,n)}))}},t.dispose=function e(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Un(),Sn(this),zn()))},t.getDisposer_=function e(){var t=this.dispose.bind(this);return t[De]=this,t},t.toString=function e(){return"Reaction["+this.name_+"]"},t.trace=function e(t){void 0===t&&(t=!1),_o(this,t)},e}();function Qn(e){return An.globalReactionErrorHandlers.push(e),function(){var t=An.globalReactionErrorHandlers.indexOf(e);t>=0&&An.globalReactionErrorHandlers.splice(t,1)}}var Zn=100,er=function e(t){return t()};function tr(){An.inBatch>0||An.isRunningReactions||er(nr)}function nr(){An.isRunningReactions=!0;for(var e=An.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}An.isRunningReactions=!1}var rr=le("Reaction",Jn);function or(e){var t=er;er=function n(r){return e((function(){return t(r)}))}}function ir(){return!1}function ar(e){var t,n,r}function ur(e){var t}var cr={type:"report-end",spyReportEnd:!0};function sr(e){}function lr(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var fr="action",pr="action.bound",hr="autoAction",dr="autoAction.bound",vr="<unnamed action>",yr=et(fr),mr=et(pr,{bound:!0}),br=et(hr,{autoAction:!0}),gr=et(dr,{autoAction:!0,bound:!0});function wr(e){var t;return function t(n,r){return re(n)?Qt(n.name||"<unnamed action>",n,e):re(r)?Qt(n,r,e):oe(r)?Re(n,r,e?br:yr):oe(n)?Le(et(e?hr:fr,{name:n,autoAction:e})):void 0}}var Or=wr(!1);Object.assign(Or,yr);var jr=wr(!0);function Sr(e){return Zt(e.name||"<unnamed action>",!1,e,this,void 0)}function kr(e){return re(e)&&!0===e.isMobxAction}function Er(e,t){var n,r;void 0===t&&(t=K);var o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun",i,a;if(!t.scheduler&&!t.delay)a=new Jn(o,(function(){this.track(s)}),t.onError,t.requiresObservable);else{var u=Pr(t),c=!1;a=new Jn(o,(function(){c||(c=!0,u((function(){c=!1,a.isDisposed_||a.track(s)})))}),t.onError,t.requiresObservable)}function s(){e(a)}return a.schedule_(),a.getDisposer_()}Object.assign(jr,br),Or.bound=Le(mr),jr.bound=Le(gr);var _r=function e(t){return t()};function Pr(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:_r}function xr(e,t,n){var r;void 0===n&&(n=K);var o=null!=(r=n.name)?r:"Reaction",i=Or(o,n.onError?Nr(n.onError,t):t),a=!n.scheduler&&!n.delay,u=Pr(n),c=!0,s=!1,l,f,p=n.compareStructural?ze.structural:n.equals||ze.default,h=new Jn(o,(function(){c||a?d():s||(s=!0,u(d))}),n.onError,n.requiresObservable);function d(){if(s=!1,!h.isDisposed_){var t=!1;h.track((function(){var n=nn(!1,(function(){return e(h)}));t=c||!p(l,n),f=l,l=n})),(c&&n.fireImmediately||!c&&t)&&i(l,f,h),c=!1}}return h.schedule_(),h.getDisposer_()}function Nr(e,t){return function(){try{return t.apply(this,arguments)}catch(t){e.call(this,t)}}}var Cr="onBO",Tr="onBUO";function Lr(e,t,n){return Ar("onBO",e,t,n)}function Rr(e,t,n){return Ar("onBUO",e,t,n)}function Ar(e,t,n,r){var o="function"==typeof r?Ai(t,n):Ai(t),i=re(r)?r:n,a=e+"L";return o[a]?o[a].add(i):o[a]=new Set([i]),function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}var Mr="never",Dr="always",Ir="observed";function Br(e){!0===e.isolateGlobalState&&Mn();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(An.useProxies=t===Dr||t!==Mr&&"undefined"!=typeof Proxy),"ifavailable"===t&&(An.verifyProxies=!0),void 0!==n){var r=n===Dr?Dr:n===Ir;An.enforceActions=r,An.allowStateChanges=!0!==r&&r!==Dr}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(An[t]=!!e[t])})),An.allowStateReads=!An.observableRequiresReaction,e.reactionScheduler&&or(e.reactionScheduler)}function Vr(e,t,n,r){var o=ge(t),i=gi(e,r)[De];Un();try{ve(o).forEach((function(e){i.extend_(e,o[e],!n||(!(e in n)||n[e]))}))}finally{zn()}return e}function Fr(e,t){return Gr(Ai(e,t))}function Gr(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=zr(e.observing_).map(Gr)),t}function Hr(e,t){return Ur(Ai(e,t))}function Ur(e){var t={name:e.name_};return Bn(e)&&(t.observers=Array.from(Vn(e)).map(Ur)),t}function zr(e){return Array.from(new Set(e))}var Wr=0;function $r(){this.message="FLOW_CANCELLED"}function Xr(e){return e instanceof $r}$r.prototype=Object.create(Error.prototype);var Yr=it("flow"),Kr=it("flow.bound",{bound:!0}),qr=Object.assign((function e(t,n){if(oe(n))return Re(t,n,Yr);var r=t,o=r.name||"<unnamed flow>",i=function e(){var t=this,n=arguments,i=++Wr,a=Or(o+" - runid: "+i+" - init",r).apply(t,n),u,c=void 0,s=new Promise((function(e,t){var n=0;function r(e){var r;c=void 0;try{r=Or(o+" - runid: "+i+" - yield "+n++,a.next).call(a,e)}catch(e){return t(e)}l(r)}function s(e){var r;c=void 0;try{r=Or(o+" - runid: "+i+" - yield "+n++,a.throw).call(a,e)}catch(e){return t(e)}l(r)}function l(n){if(!re(null==n?void 0:n.then))return n.done?e(n.value):(c=Promise.resolve(n.value)).then(r,s);n.then(l,t)}u=t,r(void 0)}));return s.cancel=Or(o+" - runid: "+i+" - cancel",(function(){try{c&&Jr(c);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(ne,ne),Jr(t),u(new $r)}catch(e){u(e)}})),s};return i.isMobXFlow=!0,i}),Yr);function Jr(e){re(e.cancel)&&e.cancel()}function Qr(e){return e}function Zr(e){return!0===(null==e?void 0:e.isMobXFlow)}function eo(e,t,n){var r;return si(e)||oi(e)||cn(e)?r=Mi(e):ji(e)&&(r=Mi(e,t)),r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0}}function to(e,t,n){return re(n)?ro(e,t,n):no(e,t)}function no(e,t){return Mi(e).intercept_(t)}function ro(e,t,n){return Mi(e,t).intercept_(n)}function oo(e,t){if(void 0===t)return fn(e);if(!1===ji(e))return!1;if(!e[De].values_.has(t))return!1;var n=Ai(e,t);return fn(n)}function io(e){return oo(e)}function ao(e,t){return oo(e,t)}function uo(e,t){return!!e&&(void 0!==t?!!ji(e)&&e[De].values_.has(t):ji(e)||!!e[De]||Be(e)||rr(e)||fn(e))}function co(e){return uo(e)}function so(e,t){return uo(e,t)}function lo(e){return ji(e)?e[De].keys_():si(e)||vi(e)?Array.from(e.keys()):oi(e)?e.map((function(e,t){return t})):void G(5)}function fo(e){return ji(e)?lo(e).map((function(t){return e[t]})):si(e)?lo(e).map((function(t){return e.get(t)})):vi(e)?Array.from(e.values()):oi(e)?e.slice():void G(6)}function po(e){return ji(e)?lo(e).map((function(t){return[t,e[t]]})):si(e)?lo(e).map((function(t){return[t,e.get(t)]})):vi(e)?Array.from(e.entries()):oi(e)?e.map((function(e,t){return[t,e]})):void G(7)}function ho(e,t,n){if(2!==arguments.length||vi(e))ji(e)?e[De].set_(t,n):si(e)?e.set(t,n):vi(e)?e.add(t):oi(e)?("number"!=typeof t&&(t=parseInt(t,10)),t<0&&G("Invalid index: '"+t+"'"),Un(),t>=e.length&&(e.length=t+1),e[t]=n,zn()):G(8);else{Un();var r=t;try{for(var o in r)ho(e,o,r[o])}finally{zn()}}}function vo(e,t){ji(e)?e[De].delete_(t):si(e)||vi(e)?e.delete(t):oi(e)?("number"!=typeof t&&(t=parseInt(t,10)),e.splice(t,1)):G(9)}function yo(e,t){return ji(e)?e[De].has_(t):si(e)||vi(e)?e.has(t):oi(e)?t>=0&&t<e.length:void G(10)}function mo(e,t){if(yo(e,t))return ji(e)?e[De].get_(t):si(e)?e.get(t):oi(e)?e[t]:void G(11)}function bo(e,t,n){if(ji(e))return e[De].defineProperty_(t,n);G(39)}function go(e){if(ji(e))return e[De].ownKeys_();G(38)}function wo(e,t,n,r){return re(n)?jo(e,t,n,r):Oo(e,t,n)}function Oo(e,t,n){return Mi(e).observe_(t,n)}function jo(e,t,n,r){return Mi(e,t).observe_(n,r)}function So(e,t,n){return e.set(t,n),n}function ko(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!co(e))return e;if(cn(e)||fn(e))return ko(e.get(),t);if(t.has(e))return t.get(e);if(oi(e)){var n=So(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=ko(e,t)})),n}if(vi(e)){var r=So(t,e,new Set);return e.forEach((function(e){r.add(ko(e,t))})),r}if(si(e)){var o=So(t,e,new Map);return e.forEach((function(e,n){o.set(n,ko(e,t))})),o}var i=So(t,e,{});return go(e).forEach((function(n){X.propertyIsEnumerable.call(e,n)&&(i[n]=ko(e[n],t))})),i}function Eo(e,t){return ko(e,new Map)}function _o(){G("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var o=Po(n);if(!o)return G("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===hn.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=e?hn.BREAK:hn.LOG}function Po(e){switch(e.length){case 0:return An.trackingDerivation;case 1:return Ai(e[0]);case 2:return Ai(e[0],e[1])}}function xo(e,t){void 0===t&&(t=void 0),Un();try{return e.apply(t)}finally{zn()}}function No(e,t,n){return 1===arguments.length||t&&"object"==typeof t?To(e,t):Co(e,t,n||{})}function Co(e,t,n){var r;if("number"==typeof n.timeout){var o=new Error("WHEN_TIMEOUT");r=setTimeout((function(){if(!a[De].isDisposed_){if(a(),!n.onError)throw o;n.onError(o)}}),n.timeout)}n.name="When";var i=Qt("When-effect",t),a=Er((function(t){var n;nn(!1,e)&&(t.dispose(),r&&clearTimeout(r),i())}),n);return a}function To(e,t){var n,r,o;if(null!=t&&null!=(n=t.signal)&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function e(){return null}});var i=new Promise((function(n,i){var a,u=Co(e,n,je({},t,{onError:i}));r=function e(){u(),i(new Error("WHEN_CANCELLED"))},o=function e(){u(),i(new Error("WHEN_ABORTED"))},null==t||null==(a=t.signal)||null==a.addEventListener||a.addEventListener("abort",o)})).finally((function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",o)}));return i.cancel=r,i}function Lo(e){return e[De]}qr.bound=Le(Kr);var Ro={has:function e(t,n){return Lo(t).has_(n)},get:function e(t,n){return Lo(t).get_(n)},set:function e(t,n,r){var o;return!!oe(n)&&(null==(o=Lo(t).set_(n,r,!0))||o)},deleteProperty:function e(t,n){var r;return!!oe(n)&&(null==(r=Lo(t).delete_(n,!0))||r)},defineProperty:function e(t,n,r){var o;return null==(o=Lo(t).defineProperty_(n,r))||o},ownKeys:function e(t){return Lo(t).ownKeys_()},preventExtensions:function e(t){G(13)}};function Ao(e,t){var n,r;return Q(),null!=(r=(n=(e=gi(e,t))[De]).proxy_)?r:n.proxy_=new Proxy(e,Ro)}function Mo(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Do(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Io(e,t){var n=En();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&((t=r[o](t))&&!t.type&&G(14),t);o++);return t}finally{_n(n)}}function Bo(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Vo(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Fo(e,t){var n=En(),r=e.changeListeners_;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);_n(n)}}function Go(e,t,n){var r=gi(e,n)[De];Un();try{var o;0,null!=(o=t)||(t=Me(e)),ve(t).forEach((function(e){return r.make_(e,t[e])}))}finally{zn()}return e}var Ho=Symbol("mobx-keys");function Uo(e,t,n){if(ae(e))return Vr(e,e,t,n);var r=gi(e,n)[De];if(!e[Ho]){var o=Object.getPrototypeOf(e),i=new Set([].concat(ve(e),ve(o)));i.delete("constructor"),i.delete(De),ce(o,Ho,i)}Un();try{e[Ho].forEach((function(e){return r.make_(e,!t||(!(e in t)||t[e]))}))}finally{zn()}return e}var zo="splice",Wo="update",$o=1e4,Xo={get:function e(t,n){var r=t[De];return n===De?r:"length"===n?r.getArrayLength_():"string"!=typeof n||isNaN(n)?be(qo,n)?qo[n]:t[n]:r.get_(parseInt(n))},set:function e(t,n,r){var o=t[De];return"length"===n&&o.setArrayLength_(r),"symbol"==typeof n||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function e(){G(15)}},Yo=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Ie(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.dehanceValues_=function e(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.intercept_=function e(t){return Do(this,t)},t.observe_=function e(t,n){return void 0===n&&(n=!1),n&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Vo(this,t)},t.getArrayLength_=function e(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function e(t){("number"!=typeof t||isNaN(t)||t<0)&&G("Out of range: "+t);var n=this.values_.length;if(t!==n)if(t>n){for(var r=new Array(t-n),o=0;o<t-n;o++)r[o]=void 0;this.spliceWithArray_(n,0,r)}else this.spliceWithArray_(t,n-t)},t.updateArrayLength_=function e(t,n){t!==this.lastKnownLength_&&G(16),this.lastKnownLength_+=n,this.legacyMode_&&n>0&&Li(t+n+1)},t.spliceWithArray_=function e(t,n,r){var o=this;bn(this.atom_);var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),n=1===arguments.length?i-t:null==n?0:Math.max(0,Math.min(n,i-t)),void 0===r&&(r=Y),Mo(this)){var a=Io(this,{object:this.proxy_,type:zo,index:t,removedCount:n,added:r});if(!a)return Y;n=a.removedCount,r=a.added}if(r=0===r.length?r:r.map((function(e){return o.enhancer_(e,void 0)})),this.legacyMode_){var u=r.length-n;this.updateArrayLength_(i,u)}var c=this.spliceItemsIntoValues_(t,n,r);return 0===n&&0===r.length||this.notifyArraySplice_(t,r,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function e(t,n,r){var o;if(r.length<1e4)return(o=this.values_).splice.apply(o,[t,n].concat(r));var i=this.values_.slice(t,t+n),a=this.values_.slice(t+n);this.values_.length+=r.length-n;for(var u=0;u<r.length;u++)this.values_[t+u]=r[u];for(var c=0;c<a.length;c++)this.values_[t+r.length+c]=a[c];return i},t.notifyArrayChildUpdate_=function e(t,n,r){var o=!this.owned_&&!1,i=Bo(this),a=i||o?{observableKind:"array",object:this.proxy_,type:Wo,debugObjectName:this.atom_.name_,index:t,newValue:n,oldValue:r}:null;this.atom_.reportChanged(),i&&Fo(this,a)},t.notifyArraySplice_=function e(t,n,r){var o=!this.owned_&&!1,i=Bo(this),a=i||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:zo,index:t,removed:r,added:n,removedCount:r.length,addedCount:n.length}:null;this.atom_.reportChanged(),i&&Fo(this,a)},t.get_=function e(t){if(!(this.legacyMode_&&t>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx] Out of bounds read: "+t)},t.set_=function e(t,n){var r=this.values_;if(this.legacyMode_&&t>r.length&&G(17,t,r.length),t<r.length){bn(this.atom_);var o=r[t],i;if(Mo(this)){var a=Io(this,{type:Wo,object:this.proxy_,index:t,newValue:n});if(!a)return;n=a.newValue}(n=this.enhancer_(n,o))!==o&&(r[t]=n,this.notifyArrayChildUpdate_(t,n,o))}else{for(var u=new Array(t+1-r.length),c=0;c<u.length-1;c++)u[c]=void 0;u[u.length-1]=n,this.spliceWithArray_(r.length,0,u)}},e}();function Ko(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Q();var o=new Yo(n,t,r,!1);se(o.values_,De,o);var i=new Proxy(o.values_,Xo);if(o.proxy_=i,e&&e.length){var a=rn(!0);o.spliceWithArray_(0,0,e),on(a)}return i}var qo={clear:function e(){return this.splice(0)},replace:function e(t){var n=this[De];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function e(){return this.slice()},splice:function e(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=this[De];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,o)},spliceWithArray:function e(t,n,r){return this[De].spliceWithArray_(t,n,r)},push:function e(){for(var t=this[De],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function e(){return this.splice(Math.max(this[De].values_.length-1,0),1)[0]},shift:function e(){return this.splice(0,1)[0]},unshift:function e(){for(var t=this[De],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function e(){return An.trackingDerivation&&G(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function e(){An.trackingDerivation&&G(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function e(t){var n=this[De],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1&&(this.splice(r,1),!0)}};function Jo(e,t){"function"==typeof Array.prototype[e]&&(qo[e]=t(e))}function Qo(e){return function(){var t=this[De];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Zo(e){return function(t,n){var r=this,o=this[De],i;return o.atom_.reportObserved(),o.dehanceValues_(o.values_)[e]((function(e,o){return t.call(n,e,o,r)}))}}function ei(e){return function(){var t=this,n=this[De];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(e,n,r){return o(e,n,r,t)},r[e].apply(r,arguments)}}Jo("concat",Qo),Jo("flat",Qo),Jo("includes",Qo),Jo("indexOf",Qo),Jo("join",Qo),Jo("lastIndexOf",Qo),Jo("slice",Qo),Jo("toString",Qo),Jo("toLocaleString",Qo),Jo("every",Zo),Jo("filter",Zo),Jo("find",Zo),Jo("findIndex",Zo),Jo("flatMap",Zo),Jo("forEach",Zo),Jo("map",Zo),Jo("some",Zo),Jo("reduce",ei),Jo("reduceRight",ei);var ti=le("ObservableArrayAdministration",Yo),ni,ri;function oi(e){return ie(e)&&ti(e[De])}var ii={},ai="add",ui="delete";ni=Symbol.iterator,ri=Symbol.toStringTag;var ci=function(){function e(e,t,n){var r=this;void 0===t&&(t=We),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[De]=ii,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,re(Map)||G(18),this.keysAtom_=Ve("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,nn(!0,(function(){r.merge(e)}))}var t=e.prototype;return t.has_=function e(t){return this.data_.has(t)},t.has=function e(t){var n=this;if(!An.trackingDerivation)return this.has_(t);var r=this.hasMap_.get(t);if(!r){var o=r=new un(this.has_(t),Xe,"ObservableMap.key?",!1);this.hasMap_.set(t,o),Rr(o,(function(){return n.hasMap_.delete(t)}))}return r.get()},t.set=function e(t,n){var r=this.has_(t);if(Mo(this)){var o=Io(this,{type:r?Wo:ai,object:this,newValue:n,name:t});if(!o)return this;n=o.newValue}return r?this.updateValue_(t,n):this.addValue_(t,n),this},t.delete=function e(t){var n=this,r;if((bn(this.keysAtom_),Mo(this))&&!Io(this,{type:ui,object:this,name:t}))return!1;if(this.has_(t)){var o=!1,i=Bo(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:ui,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return xo((function(){var e,r;n.keysAtom_.reportChanged(),null==(e=n.hasMap_.get(t))||e.setNewValue_(!1),n.data_.get(t).setNewValue_(void 0),n.data_.delete(t)})),i&&Fo(this,a),!0}return!1},t.updateValue_=function e(t,n){var r=this.data_.get(t);if((n=r.prepareNewValue_(n))!==An.UNCHANGED){var o=!1,i=Bo(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:Wo,object:this,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Fo(this,a)}},t.addValue_=function e(t,n){var r=this;bn(this.keysAtom_),xo((function(){var e,o=new un(n,r.enhancer_,"ObservableMap.key",!1);r.data_.set(t,o),n=o.value_,null==(e=r.hasMap_.get(t))||e.setNewValue_(!0),r.keysAtom_.reportChanged()}));var o=!1,i=Bo(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:ai,object:this,name:t,newValue:n}:null;i&&Fo(this,a)},t.get=function e(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.keys=function e(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function e(){var t=this,n=this.keys();return Gi({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:t.get(i)}}})},t.entries=function e(){var t=this,n=this.keys();return Gi({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:[i,t.get(i)]}}})},t[ni]=function(){return this.entries()},t.forEach=function e(t,n){for(var r=xe(this),o;!(o=r()).done;){var i=o.value,a=i[0],u=i[1];t.call(n,u,a,this)}},t.merge=function e(t){var n=this;return si(t)&&(t=new Map(t)),xo((function(){ae(t)?de(t).forEach((function(e){return n.set(e,t[e])})):Array.isArray(t)?t.forEach((function(e){var t=e[0],r=e[1];return n.set(t,r)})):fe(t)?(t.constructor!==Map&&G(19,t),t.forEach((function(e,t){return n.set(t,e)}))):null!=t&&G(20,t)})),this},t.clear=function e(){var t=this;xo((function(){kn((function(){for(var e=xe(t.keys()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},t.replace=function e(t){var n=this;return xo((function(){for(var e=pi(t),r=new Map,o=!1,i=xe(n.data_.keys()),a;!(a=i()).done;){var u=a.value,c;if(!e.has(u))if(n.delete(u))o=!0;else{var s=n.data_.get(u);r.set(u,s)}}for(var l=xe(e.entries()),f;!(f=l()).done;){var p=f.value,h=p[0],d=p[1],v=n.data_.has(h);if(n.set(h,d),n.data_.has(h)){var y=n.data_.get(h);r.set(h,y),v||(o=!0)}}if(!o)if(n.data_.size!==r.size)n.keysAtom_.reportChanged();else for(var m=n.data_.keys(),b=r.keys(),g=m.next(),w=b.next();!g.done;){if(g.value!==w.value){n.keysAtom_.reportChanged();break}g=m.next(),w=b.next()}n.data_=r})),this},t.toString=function e(){return"[object ObservableMap]"},t.toJSON=function e(){return Array.from(this)},t.observe_=function e(t,n){return Vo(this,t)},t.intercept_=function e(t){return Do(this,t)},Oe(e,[{key:"size",get:function e(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:ri,get:function e(){return"Map"}}]),e}(),si=le("ObservableMap",ci),li,fi;function pi(e){if(fe(e)||si(e))return e;if(Array.isArray(e))return new Map(e);if(ae(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return G(21,e)}var hi={};li=Symbol.iterator,fi=Symbol.toStringTag;var di=function(){function e(e,t,n){void 0===t&&(t=We),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[De]=hi,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,re(Set)||G(22),this.atom_=Ve(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.clear=function e(){var t=this;xo((function(){kn((function(){for(var e=xe(t.data_.values()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},t.forEach=function e(t,n){for(var r=xe(this),o;!(o=r()).done;){var i=o.value;t.call(n,i,i,this)}},t.add=function e(t){var n=this,r;if((bn(this.atom_),Mo(this))&&!Io(this,{type:ai,object:this,newValue:t}))return this;if(!this.has(t)){xo((function(){n.data_.add(n.enhancer_(t,void 0)),n.atom_.reportChanged()}));var o=!1,i=Bo(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:ai,object:this,newValue:t}:null;0,i&&Fo(this,a)}return this},t.delete=function e(t){var n=this,r;if(Mo(this)&&!Io(this,{type:ui,object:this,oldValue:t}))return!1;if(this.has(t)){var o=!1,i=Bo(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:ui,object:this,oldValue:t}:null;return xo((function(){n.atom_.reportChanged(),n.data_.delete(t)})),i&&Fo(this,a),!0}return!1},t.has=function e(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},t.entries=function e(){var t=0,n=Array.from(this.keys()),r=Array.from(this.values());return Gi({next:function e(){var o=t;return t+=1,o<r.length?{value:[n[o],r[o]],done:!1}:{done:!0}}})},t.keys=function e(){return this.values()},t.values=function e(){this.atom_.reportObserved();var t=this,n=0,r=Array.from(this.data_.values());return Gi({next:function e(){return n<r.length?{value:t.dehanceValue_(r[n++]),done:!1}:{done:!0}}})},t.replace=function e(t){var n=this;return vi(t)&&(t=new Set(t)),xo((function(){Array.isArray(t)||pe(t)?(n.clear(),t.forEach((function(e){return n.add(e)}))):null!=t&&G("Cannot initialize set from "+t)})),this},t.observe_=function e(t,n){return Vo(this,t)},t.intercept_=function e(t){return Do(this,t)},t.toJSON=function e(){return Array.from(this)},t.toString=function e(){return"[object ObservableSet]"},t[li]=function(){return this.values()},Oe(e,[{key:"size",get:function e(){return this.atom_.reportObserved(),this.data_.size}},{key:fi,get:function e(){return"Set"}}]),e}(),vi=le("ObservableSet",di),yi=Object.create(null),mi="remove",bi=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=gt),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Ie("ObservableObject.keys"),this.isPlainObject_=ae(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function e(t){return this.values_.get(t).get()},t.setObservablePropValue_=function e(t,n){var r=this.values_.get(t);if(r instanceof ln)return r.set(n),!0;if(Mo(this)){var o=Io(this,{type:Wo,object:this.proxy_||this.target_,name:t,newValue:n});if(!o)return null;n=o.newValue}if((n=r.prepareNewValue_(n))!==An.UNCHANGED){var i=Bo(this),a=!1,u=i?{type:Wo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Fo(this,u)}return!0},t.get_=function e(t){return An.trackingDerivation&&!be(this.target_,t)&&this.has_(t),this.target_[t]},t.set_=function e(t,n,r){return void 0===r&&(r=!1),be(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,n):r?Reflect.set(this.target_,t,n):(this.target_[t]=n,!0):this.extend_(t,{value:n,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},t.has_=function e(t){if(!An.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var n=this.pendingKeys_.get(t);return n||(n=new un(t in this.target_,Xe,"ObservableObject.key?",!1),this.pendingKeys_.set(t,n)),n.get()},t.make_=function e(t,n){if(!0===n&&(n=this.defaultAnnotation_),!1!==n){if(ki(this,n,t),!(t in this.target_)){var r;if(null!=(r=this.target_[Te])&&r[t])return;G(1,n.annotationType_,this.name_+"."+t.toString())}for(var o=this.target_;o&&o!==X;){var i=W(o,t);if(i){var a=n.make_(this,t,i,o);if(0===a)return;if(1===a)break}o=Object.getPrototypeOf(o)}Si(this,n,t)}},t.extend_=function e(t,n,r,o){if(void 0===o&&(o=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(t,n,o);ki(this,r,t);var i=r.extend_(this,t,n,o);return i&&Si(this,r,t),i},t.defineProperty_=function e(t,n,r){void 0===r&&(r=!1);try{Un();var o=this.delete_(t);if(!o)return o;if(Mo(this)){var i=Io(this,{object:this.proxy_||this.target_,name:t,type:ai,newValue:n.value});if(!i)return null;var a=i.newValue;n.value!==a&&(n=je({},n,{value:a}))}if(r){if(!Reflect.defineProperty(this.target_,t,n))return!1}else $(this.target_,t,n);this.notifyPropertyAddition_(t,n.value)}finally{zn()}return!0},t.defineObservableProperty_=function e(t,n,r,o){void 0===o&&(o=!1);try{Un();var i=this.delete_(t);if(!i)return i;if(Mo(this)){var a=Io(this,{object:this.proxy_||this.target_,name:t,type:ai,newValue:n});if(!a)return null;n=a.newValue}var u=Oi(t),c={configurable:!An.safeDescriptors||this.isPlainObject_,enumerable:!0,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,t,c))return!1}else $(this.target_,t,c);var s=new un(n,r,"ObservableObject.key",!1);this.values_.set(t,s),this.notifyPropertyAddition_(t,s.value_)}finally{zn()}return!0},t.defineComputedProperty_=function e(t,n,r){void 0===r&&(r=!1);try{Un();var o=this.delete_(t),i;if(!o)return o;if(Mo(this))if(!Io(this,{object:this.proxy_||this.target_,name:t,type:ai,newValue:void 0}))return null;n.name||(n.name="ObservableObject.key"),n.context=this.proxy_||this.target_;var a=Oi(t),u={configurable:!An.safeDescriptors||this.isPlainObject_,enumerable:!1,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,t,u))return!1}else $(this.target_,t,u);this.values_.set(t,new ln(n)),this.notifyPropertyAddition_(t,void 0)}finally{zn()}return!0},t.delete_=function e(t,n){if(void 0===n&&(n=!1),!be(this.target_,t))return!0;var r;if(Mo(this)&&!Io(this,{object:this.proxy_||this.target_,name:t,type:mi}))return null;try{var o,i;Un();var a=Bo(this),u=!1,c=this.values_.get(t),s=void 0,l;if(!c&&a)s=null==(l=W(this.target_,t))?void 0:l.value;if(n){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(c&&(this.values_.delete(t),c instanceof un&&(s=c.value_),$n(c)),this.keysAtom_.reportChanged(),null==(o=this.pendingKeys_)||null==(i=o.get(t))||i.set(t in this.target_),a){var f={type:mi,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:t};0,a&&Fo(this,f)}}finally{zn()}return!0},t.observe_=function e(t,n){return Vo(this,t)},t.intercept_=function e(t){return Do(this,t)},t.notifyPropertyAddition_=function e(t,n){var r,o,i=Bo(this),a=!1;if(i){var u=i?{type:ai,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:n}:null;0,i&&Fo(this,u)}null==(r=this.pendingKeys_)||null==(o=r.get(t))||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function e(){return this.keysAtom_.reportObserved(),ve(this.target_)},t.keys_=function e(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function gi(e,t){var n;if(be(e,De))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",o=new bi(e,new Map,String(r),Mt(t));return ce(e,De,o),e}var wi=le("ObservableObjectAdministration",bi);function Oi(e){return yi[e]||(yi[e]={get:function t(){return this[De].getObservablePropValue_(e)},set:function t(n){return this[De].setObservablePropValue_(e,n)}})}function ji(e){return!!ie(e)&&wi(e[De])}function Si(e,t,n){var r;null==(r=e.target_[Te])||delete r[n]}function ki(e,t,n){var r,o,i}var Ei=Ci(0),_i=0,Pi=function e(){};function xi(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):void 0!==e.prototype.__proto__?e.prototype.__proto__=t:e.prototype=t}xi(Pi,Array.prototype);var Ni=function(e,t,n){function r(t,n,r,o){var i;void 0===r&&(r="ObservableArray"),void 0===o&&(o=!1),i=e.call(this)||this;var a=new Yo(r,n,o,!0);if(a.proxy_=Ee(i),se(Ee(i),De,a),t&&t.length){var u=rn(!0);i.spliceWithArray(0,0,t),on(u)}return Object.defineProperty(Ee(i),"0",Ei),i}Se(r,e);var o=r.prototype;return o.concat=function e(){this[De].atom_.reportObserved();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),n.map((function(e){return oi(e)?e.slice():e})))},o[n]=function(){var e=this,t=0;return Gi({next:function n(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Oe(r,[{key:"length",get:function e(){return this[De].getArrayLength_()},set:function e(t){this[De].setArrayLength_(t)}},{key:t,get:function e(){return"Array"}}]),r}(Pi,Symbol.toStringTag,Symbol.iterator);function Ci(e){return{enumerable:!1,configurable:!0,get:function t(){return this[De].get_(e)},set:function t(n){this[De].set_(e,n)}}}function Ti(e){$(Ni.prototype,""+e,Ci(e))}function Li(e){if(e>_i){for(var t=_i;t<e+100;t++)Ti(t);_i=e}}function Ri(e,t,n){return new Ni(e,t,n)}function Ai(e,t){if("object"==typeof e&&null!==e){if(oi(e))return void 0!==t&&G(23),e[De].atom_;if(vi(e))return e.atom_;if(si(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||G(25,t,Di(e)),n}if(ji(e)){if(!t)return G(26);var r=e[De].values_.get(t);return r||G(27,t,Di(e)),r}if(Be(e)||fn(e)||rr(e))return e}else if(re(e)&&rr(e[De]))return e[De];G(28)}function Mi(e,t){return e||G(29),void 0!==t?Mi(Ai(e,t)):Be(e)||fn(e)||rr(e)||si(e)||vi(e)?e:e[De]?e[De]:void G(24,e)}function Di(e,t){var n;if(void 0!==t)n=Ai(e,t);else{if(kr(e))return e.name;n=ji(e)||si(e)||vi(e)?Mi(e):Ai(e)}return n.name_}Object.entries(qo).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&ce(Ni.prototype,t,n)})),Li(1e3);var Ii=X.toString;function Bi(e,t,n){return void 0===n&&(n=-1),Vi(e,t,n)}function Vi(e,t,n,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var a=Ii.call(e);if(a!==Ii.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Fi(e),t=Fi(t);var u="[object Array]"===a;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,s=t.constructor;if(c!==s&&!(re(c)&&c instanceof c&&re(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return o[l]===t;if(r.push(e),o.push(t),u){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Vi(e[l],t[l],n-1,r,o))return!1}else{var f=Object.keys(e),p;if(l=f.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!be(t,p=f[l])||!Vi(e[p],t[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function Fi(e){return oi(e)?e.slice():fe(e)||si(e)||pe(e)||vi(e)?Array.from(e.entries()):e}function Gi(e){return e[Symbol.iterator]=Hi,e}function Hi(){return this}function Ui(e){return e instanceof Object&&"string"==typeof e.annotationType_&&re(e.make_)&&re(e.extend_)}["Symbol","Map","Set"].forEach((function(e){var t;void 0===U()[e]&&G("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:lr,extras:{getDebugName:Di},$mobx:De})}.call(this,n(32))},function(e,t){e.exports=Next},function(e,t){e.exports=_},function(e,t,n){"use strict";var r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function e(t,n,r){return Function.prototype.apply.call(t,n,r)},i;function a(e){console&&console.warn&&console.warn(e)}i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function e(t){return Object.getOwnPropertyNames(t)};var u=Number.isNaN||function e(t){return t!=t};function c(){c.init.call(this)}e.exports=c,e.exports.once=w,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var s=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var o,i,u;if(l(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),u=i[t]),void 0===u)u=i[t]=n,++e._eventsCount;else if("function"==typeof u?u=i[t]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(o=f(e))>0&&u.length>o&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=u.length,a(c)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function v(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?g(o):m(o,o.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function b(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function w(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}j(e,t,i,{once:!0}),"error"!==t&&O(e,o,{once:!0})}))}function O(e,t,n){"function"==typeof e.on&&j(e,"error",t,n)}function j(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||u(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function e(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function e(){return f(this)},c.prototype.emit=function e(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i="error"===t,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var u;if(n.length>0&&(u=n[0]),u instanceof Error)throw u;var c=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw c.context=u,c}var s=a[t];if(void 0===s)return!1;if("function"==typeof s)o(s,this,n);else for(var l=s.length,f=m(s,l),r=0;r<l;++r)o(f[r],this,n);return!0},c.prototype.addListener=function e(t,n){return p(this,t,n,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function e(t,n){return p(this,t,n,!0)},c.prototype.once=function e(t,n){return l(n),this.on(t,d(this,t,n)),this},c.prototype.prependOnceListener=function e(t,n){return l(n),this.prependListener(t,d(this,t,n)),this},c.prototype.removeListener=function e(t,n){var r,o,i,a,u;if(l(n),void 0===(o=this._events))return this;if(void 0===(r=o[t]))return this;if(r===n||r.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){u=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():b(r,i),1===r.length&&(o[t]=r[0]),void 0!==o.removeListener&&this.emit("removeListener",t,u||n)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function e(t){var n,r,o;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i=Object.keys(r),a;for(o=0;o<i.length;++o)"removeListener"!==(a=i[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=r[t]))this.removeListener(t,n);else if(void 0!==n)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this},c.prototype.listeners=function e(t){return v(this,t,!0)},c.prototype.rawListeners=function e(t){return v(this,t,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},c.prototype.listenerCount=y,c.prototype.eventNames=function e(){return this._eventsCount>0?i(this._events):[]}},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var r=n(14);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"===u(t)?t:String(t)}function p(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h,d=new(function(){function e(){c(this,e),this.tip=null,this.showDelay=null,this.hideDelay=null,this.emitter=Object(r.b)("TipHandler")}return l(e,[{key:"setTarget",value:function e(t){var n=this,r=v(t);if(r){if(this.tip){if(this.tip.target===r.target)return void(this.tip=r);if(!this.showDelay)return this.hideDelay&&(clearTimeout(this.hideDelay),this.hideDelay=null),this.tip=r,void this.emitter.emit("tipchange");clearTimeout(this.showDelay),this.showDelay=null,this.tip=null}this.tip=r,this.hideDelay?(clearTimeout(this.hideDelay),this.hideDelay=null,this.emitter.emit("tipchange")):this.showDelay=setTimeout((function(){n.showDelay=null,n.emitter.emit("tipchange")}),350)}else this.showDelay?(clearTimeout(this.showDelay),this.showDelay=null):this.hideDelay=setTimeout((function(){n.hideDelay=null}),100),this.tip=null,this.emitter.emit("tipchange")}},{key:"hideImmediately",value:function e(){this.hideDelay&&(clearTimeout(this.hideDelay),this.hideDelay=null),this.showDelay&&(clearTimeout(this.showDelay),this.showDelay=null),this.tip=null,this.emitter.emit("tipchange")}},{key:"onChange",value:function e(t){var n=this;return this.emitter.on("tipchange",t),function(){n.emitter.removeListener("tipchange",t)}}}]),e}());function v(e){if(!e)return null;for(var t=10;e&&t-- >0;){if(e.dataset&&e.dataset.tip)return{children:e.dataset.tip,direction:e.dataset.direction||e.dataset.dir,theme:e.dataset.theme,target:e};for(var n=e.lastElementChild;n;){if(n.dataset&&"tip"===n.dataset.role){var r=n.dataset.tipId;if(!r)return null;var o=y.get(r);return o?i(i({},o),{},{target:e}):null}n=n.previousElementSibling}e=e.parentNode}return null}var y=new Map;function m(e,t){t?y.set(e,t):y.delete(e)}},function(e,t){e.exports=window.PropTypes},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadataField=t.getMetadata=t.MetadataType=t.metaSymbol=void 0,t.metaSymbol=Symbol("power-di-metadata");var r=function(){function e(){this.classInfo={extends:[],implements:[]},this.injects=[],this.postConstruct=[],this.preDestroy=[],this.aspects=[]}return e}();function o(e){if([Object,Object.prototype,Array,Array.prototype,Error,Error.prototype,null].includes(e))return new r;var n=Object.getOwnPropertyDescriptor(e,t.metaSymbol);return n&&n.value?n.value:(Object.defineProperty(e,t.metaSymbol,{enumerable:!1,configurable:!1,value:new r}),o(e))}function i(e,t){var n=o(e)[t];if(Array.isArray(n)){var r=Object.getPrototypeOf(e);if(r)return i(r,t).concat(n)}return n}t.MetadataType=r,t.getMetadata=o,t.getMetadataField=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return v}));var r=n(2),o=n(9),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"===a(t)?t:String(t)}function f(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=new r.e({level:"warn",bizName:"event-bus"}),h=new r.e({level:"warn",bizName:"module-event-bus"}),d=function(){function e(t,n){u(this,e),this.eventEmitter=void 0,this.name=void 0,this.names=[],this.eventEmitter=t,this.name=n}return s(e,[{key:"getMsgPrefix",value:function e(t){return this.name&&this.name.length>0?"[".concat(this.name,"][event-").concat(t,"]"):"[*][event-".concat(t,"]")}},{key:"getLogger",value:function e(){return this.name&&this.name.length>0?h:p}},{key:"on",value:function e(t,n){var r=this;return this.eventEmitter.on(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("on")," ").concat(t)),function(){r.off(t,n)}}},{key:"prependListener",value:function e(t,n){var r=this;return this.eventEmitter.prependListener(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("prependListener")," ").concat(t)),function(){r.off(t,n)}}},{key:"off",value:function e(t,n){this.eventEmitter.off(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("off")," ").concat(t))}},{key:"emit",value:function e(t){for(var n,r,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];(n=this.eventEmitter).emit.apply(n,[t].concat(i)),(r=this.getLogger()).debug.apply(r,["".concat(this.getMsgPrefix("emit")," name: ").concat(t,", args: ")].concat(i))}},{key:"removeListener",value:function e(t,n){return this.eventEmitter.removeListener(t,n)}},{key:"addListener",value:function e(t,n){return this.eventEmitter.addListener(t,n)}},{key:"setMaxListeners",value:function e(t){return this.eventEmitter.setMaxListeners(t)}},{key:"removeAllListeners",value:function e(t){return this.eventEmitter.removeAllListeners(t)}}]),e}(),v=function e(t,n){var r=new i.a;return n&&r.setMaxListeners(n),new d(r,t)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return kt})),n.d(t,"d",(function(){return Et})),n.d(t,"a",(function(){return xt})),n.d(t,"b",(function(){return ot}));var r=n(0),o=n(3),i,a,u;function c(e){return e.type===a.literal}function s(e){return e.type===a.argument}function l(e){return e.type===a.number}function f(e){return e.type===a.date}function p(e){return e.type===a.time}function h(e){return e.type===a.select}function d(e){return e.type===a.plural}function v(e){return e.type===a.pound}function y(e){return e.type===a.tag}function m(e){return!(!e||"object"!=typeof e||e.type!==u.number)}function b(e){return!(!e||"object"!=typeof e||e.type!==u.dateTime)}function g(e){return{type:a.literal,value:e}}function w(e,t){return{type:a.number,value:e,style:t}}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(i||(i={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(a||(a={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(u||(u={}));var O=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,j=/[\t-\r \x85\u200E\u200F\u2028\u2029]/,S=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function k(e){var t={};return e.replace(S,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var E=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function _(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t,n=[],r=0,o=e.split(E).filter((function(e){return e.length>0}));r<o.length;r++){var i,a=o[r].split("/");if(0===a.length)throw new Error("Invalid number skeleton");for(var u=a[0],c=a.slice(1),s=0,l=c;s<l.length;s++){var f;if(0===l[s].length)throw new Error("Invalid number skeleton")}n.push({stem:u,options:c})}return n}function P(e){return e.replace(/^(.*?)-/,"")}var x=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,N=/^(@+)?(\+|#+)?[rs]?$/g,C=/(\*)(0+)|(#+)(0+)|(0+)/g,T=/^(0+)$/;function L(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(N,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function R(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function A(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!T.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function M(e){var t={},n=R(e);return n||t}function D(e){for(var t={},n=0,o=e;n<o.length;n++){var i=o[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=P(i.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Object(r.a)(Object(r.a)(Object(r.a)({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),M(t))}),{}));continue;case"engineering":t=Object(r.a)(Object(r.a)(Object(r.a)({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),M(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(C,(function(e,n,r,o,i,a){if(n)t.minimumIntegerDigits=r.length;else{if(o&&i)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(T.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(x.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(x,(function(e,n,r,o,i,a){return"*"===r?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:i&&a?(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var a=i.options[0];"w"===a?t=Object(r.a)(Object(r.a)({},t),{trailingZeroDisplay:"stripIfInteger"}):a&&(t=Object(r.a)(Object(r.a)({},t),L(a)))}else if(N.test(i.stem))t=Object(r.a)(Object(r.a)({},t),L(i.stem));else{var u=R(i.stem);u&&(t=Object(r.a)(Object(r.a)({},t),u));var c=A(i.stem);c&&(t=Object(r.a)(Object(r.a)({},t),c))}}return t}var I={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]},B;function V(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charAt(r);if("j"===o){for(var i=0;r+1<e.length&&e.charAt(r+1)===o;)i++,r++;var a=1+(1&i),u=i<2?1:3+(i>>1),c="a",s=F(t);for("H"!=s&&"k"!=s||(u=0);u-- >0;)n+="a";for(;a-- >0;)n=s+n}else n+="J"===o?"H":o}return n}function F(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=e.language,r,o;return"root"!==n&&(r=e.maximize().region),(I[r||""]||I[n||""]||I["".concat(n,"-001")]||I["001"])[0]}var G=new RegExp("^".concat(O.source,"*")),H=new RegExp("".concat(O.source,"*$"));function U(e,t){return{start:e,end:t}}var z=!!String.prototype.startsWith,W=!!String.fromCodePoint,$=!!Object.fromEntries,X=!!String.prototype.codePointAt,Y=!!String.prototype.trimStart,K=!!String.prototype.trimEnd,q,J=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Q=!0;try{var Z;Q="a"===(null===(B=ue("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===B?void 0:B[0])}catch(e){Q=!1}var ee=z?function e(t,n,r){return t.startsWith(n,r)}:function e(t,n,r){return t.slice(r,r+n.length)===n},te=W?String.fromCodePoint:function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",o=t.length,i=0,a;o>i;){if((a=t[i++])>1114111)throw RangeError(a+" is not a valid code point");r+=a<65536?String.fromCharCode(a):String.fromCharCode(55296+((a-=65536)>>10),a%1024+56320)}return r},ne=$?Object.fromEntries:function e(t){for(var n={},r=0,o=t;r<o.length;r++){var i=o[r],a=i[0],u=i[1];n[a]=u}return n},re=X?function e(t,n){return t.codePointAt(n)}:function e(t,n){var r=t.length;if(!(n<0||n>=r)){var o=t.charCodeAt(n),i;return o<55296||o>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?o:i-56320+(o-55296<<10)+65536}},oe=Y?function e(t){return t.trimStart()}:function e(t){return t.replace(G,"")},ie=K?function e(t){return t.trimEnd()}:function e(t){return t.replace(H,"")},ae;function ue(e,t){return new RegExp(e,t)}if(Q){var ce=ue("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ae=function e(t,n){var r,o;return ce.lastIndex=n,null!==(r=ce.exec(t)[1])&&void 0!==r?r:""}}else ae=function e(t,n){for(var r=[];;){var o=re(t,n);if(void 0===o||he(o)||de(o))break;r.push(o),n+=o>=65536?2:1}return te.apply(void 0,r)};var se=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){var u;if((u=this.parseArgument(e,n)).err)return u;r.push(u.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(i.UNMATCHED_CLOSING_TAG,U(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&le(this.peek()||0)){var u;if((u=this.parseTag(e,t)).err)return u;r.push(u.val)}else{var u;if((u=this.parseLiteral(e,t)).err)return u;r.push(u.val)}}else{var c=this.clonePosition();this.bump(),r.push({type:a.pound,location:U(c,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:a.literal,value:"<".concat(r,"/>"),location:U(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var u=o.val,c=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!le(this.char()))return this.error(i.INVALID_TAG,U(c,this.clonePosition()));var s=this.clonePosition(),l;return r!==this.parseTagName()?this.error(i.UNMATCHED_CLOSING_TAG,U(s,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:a.tag,value:r,children:u,location:U(n,this.clonePosition())},err:null}:this.error(i.INVALID_TAG,U(c,this.clonePosition())))}return this.error(i.UNCLOSED_TAG,U(n,this.clonePosition()))}return this.error(i.INVALID_TAG,U(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&pe(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var i=this.tryParseUnquoted(e,t);if(i)r+=i;else{var u=this.tryParseLeftAngleBracket();if(!u)break;r+=u}}}var c=U(n,this.clonePosition());return{val:{type:a.literal,value:r,location:c},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&fe(this.peek()||0)?null:(this.bump(),"<")},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return te.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),te(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(i.EMPTY_ARGUMENT,U(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(i.MALFORMED_ARGUMENT,U(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:a.argument,value:r,location:U(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(i.MALFORMED_ARGUMENT,U(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=ae(this.message,t),r=t+n.length,o,i;return this.bumpTo(r),{value:n,location:U(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,o){var c,s=this.clonePosition(),l=this.parseIdentifierIfPossible().value,f=this.clonePosition();switch(l){case"":return this.error(i.EXPECT_ARGUMENT_TYPE,U(s,f));case"number":case"date":case"time":this.bumpSpace();var p=null,h;if(this.bumpIf(",")){this.bumpSpace();var d=this.clonePosition(),v,y,m;if((v=this.parseSimpleArgStyleIfPossible()).err)return v;if(0===(y=ie(v.val)).length)return this.error(i.EXPECT_ARGUMENT_STYLE,U(this.clonePosition(),this.clonePosition()));p={style:y,styleLocation:U(d,this.clonePosition())}}if((h=this.tryParseArgumentClose(o)).err)return h;var b=U(o,this.clonePosition());if(p&&ee(null==p?void 0:p.style,"::",0)){var g=oe(p.style.slice(2)),v;if("number"===l)return(v=this.parseNumberSkeletonFromString(g,p.styleLocation)).err?v:{val:{type:a.number,value:n,location:b,style:v.val},err:null};if(0===g.length)return this.error(i.EXPECT_DATE_TIME_SKELETON,b);var w=g;this.locale&&(w=V(g,this.locale));var y={type:u.dateTime,pattern:w,location:p.styleLocation,parsedOptions:this.shouldParseSkeletons?k(w):{}},O;return{val:{type:"date"===l?a.date:a.time,value:n,location:b,style:y},err:null}}return{val:{type:"number"===l?a.number:"date"===l?a.date:a.time,value:n,location:b,style:null!==(c=null==p?void 0:p.style)&&void 0!==c?c:null},err:null};case"plural":case"selectordinal":case"select":var j=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(i.EXPECT_SELECT_ARGUMENT_OPTIONS,U(j,Object(r.a)({},j)));this.bumpSpace();var S=this.parseIdentifierIfPossible(),E=0;if("select"!==l&&"offset"===S.value){if(!this.bumpIf(":"))return this.error(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,U(this.clonePosition(),this.clonePosition()));var v;if(this.bumpSpace(),(v=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,i.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return v;this.bumpSpace(),S=this.parseIdentifierIfPossible(),E=v.val}var _=this.tryParsePluralOrSelectOptions(e,l,t,S),h;if(_.err)return _;if((h=this.tryParseArgumentClose(o)).err)return h;var P=U(o,this.clonePosition());return"select"===l?{val:{type:a.select,value:n,options:ne(_.val),location:P},err:null}:{val:{type:a.plural,value:n,options:ne(_.val),offset:E,pluralType:"plural"===l?"cardinal":"ordinal",location:P},err:null};default:return this.error(i.INVALID_ARGUMENT_TYPE,U(s,f))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){var n;switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(i.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,U(r,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=_(e)}catch(e){return this.error(i.INVALID_NUMBER_SKELETON,t)}return{val:{type:u.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?D(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,a=!1,u=[],c=new Set,s=r.value,l=r.location;;){if(0===s.length){var f=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var p=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_SELECTOR,i.INVALID_PLURAL_ARGUMENT_SELECTOR);if(p.err)return p;l=U(f,this.clonePosition()),s=this.message.slice(f.offset,this.offset())}if(c.has(s))return this.error("select"===t?i.DUPLICATE_SELECT_ARGUMENT_SELECTOR:i.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===s&&(a=!0),this.bumpSpace();var h=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:i.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,U(this.clonePosition(),this.clonePosition()));var d=this.parseMessage(e+1,t,n);if(d.err)return d;var v=this.tryParseArgumentClose(h);if(v.err)return v;u.push([s,{value:d.val,location:U(h,this.clonePosition())}]),c.add(s),this.bumpSpace(),s=(o=this.parseIdentifierIfPossible()).value,l=o.location}return 0===u.length?this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR:i.EXPECT_PLURAL_ARGUMENT_SELECTOR,U(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(i.MISSING_OTHER_CLAUSE,U(this.clonePosition(),this.clonePosition())):{val:u,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,i=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;o=!0,i=10*i+(a-48),this.bump()}var u=U(r,this.clonePosition());return o?J(i*=n)?{val:i,err:null}:this.error(t,u):this.error(e,u)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=re(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(ee(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&he(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function le(e){return e>=97&&e<=122||e>=65&&e<=90}function fe(e){return le(e)||47===e}function pe(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function he(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function de(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function ve(e){e.forEach((function(e){if(delete e.location,h(e)||d(e))for(var t in e.options)delete e.options[t].location,ve(e.options[t].value);else l(e)&&m(e.style)||(f(e)||p(e))&&b(e.style)?delete e.style.location:y(e)&&ve(e.children)}))}function ye(e,t){void 0===t&&(t={}),t=Object(r.a)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new se(e,t).parse();if(n.err){var o=SyntaxError(i[n.err.kind]);throw o.location=n.err.location,o.originalMessage=n.err.message,o}return(null==t?void 0:t.captureLocation)||ve(n.val),n.val}function me(e,t){var n=t&&t.cache?t.cache:Pe,r=t&&t.serializer?t.serializer:Ee,o;return(t&&t.strategy?t.strategy:je)(e,{cache:n,serializer:r})}function be(e){return null==e||"number"==typeof e||"boolean"==typeof e}function ge(e,t,n,r){var o=be(r)?r:n(r),i=t.get(o);return void 0===i&&(i=e.call(this,r),t.set(o,i)),i}function we(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function Oe(e,t,n,r,o){return n.bind(t,e,r,o)}function je(e,t){var n;return Oe(e,this,1===e.length?ge:we,t.cache.create(),t.serializer)}function Se(e,t){return Oe(e,this,we,t.cache.create(),t.serializer)}function ke(e,t){return Oe(e,this,ge,t.cache.create(),t.serializer)}var Ee=function(){return JSON.stringify(arguments)};function _e(){this.cache=Object.create(null)}_e.prototype.get=function(e){return this.cache[e]},_e.prototype.set=function(e,t){this.cache[e]=t};var Pe={create:function e(){return new _e}},xe={variadic:Se,monadic:ke},Ne;!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Ne||(Ne={}));var Ce=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return Object(r.c)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),Te=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),Ne.INVALID_VALUE,o)||this}return Object(r.c)(t,e),t}(Ce),Le=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),Ne.INVALID_VALUE,r)||this}return Object(r.c)(t,e),t}(Ce),Re=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),Ne.MISSING_VALUE,n)||this}return Object(r.c)(t,e),t}(Ce),Ae;function Me(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===Ae.literal&&t.type===Ae.literal?n.value+=t.value:e.push(t),e}),[])}function De(e){return"function"==typeof e}function Ie(e,t,n,r,o,i,a){if(1===e.length&&c(e[0]))return[{type:Ae.literal,value:e[0].value}];for(var u=[],g=0,w=e;g<w.length;g++){var O=w[g];if(c(O))u.push({type:Ae.literal,value:O.value});else if(v(O))"number"==typeof i&&u.push({type:Ae.literal,value:n.getNumberFormat(t).format(i)});else{var j=O.value;if(!o||!(j in o))throw new Re(j,a);var S=o[j];if(s(O))S&&"string"!=typeof S&&"number"!=typeof S||(S="string"==typeof S||"number"==typeof S?String(S):""),u.push({type:"string"==typeof S?Ae.literal:Ae.object,value:S});else if(f(O)){var k="string"==typeof O.style?r.date[O.style]:b(O.style)?O.style.parsedOptions:void 0;u.push({type:Ae.literal,value:n.getDateTimeFormat(t,k).format(S)})}else if(p(O)){var k="string"==typeof O.style?r.time[O.style]:b(O.style)?O.style.parsedOptions:r.time.medium;u.push({type:Ae.literal,value:n.getDateTimeFormat(t,k).format(S)})}else if(l(O)){var k;(k="string"==typeof O.style?r.number[O.style]:m(O.style)?O.style.parsedOptions:void 0)&&k.scale&&(S*=k.scale||1),u.push({type:Ae.literal,value:n.getNumberFormat(t,k).format(S)})}else{if(y(O)){var E=O.children,_=O.value,P=o[_];if(!De(P))throw new Le(_,"function",a);var x,N=P(Ie(E,t,n,r,o,i).map((function(e){return e.value})));Array.isArray(N)||(N=[N]),u.push.apply(u,N.map((function(e){return{type:"string"==typeof e?Ae.literal:Ae.object,value:e}})))}if(h(O)){var C;if(!(C=O.options[S]||O.options.other))throw new Te(O.value,S,Object.keys(O.options),a);u.push.apply(u,Ie(C.value,t,n,r,o))}else if(d(O)){var C;if(!(C=O.options["=".concat(S)])){if(!Intl.PluralRules)throw new Ce('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Ne.MISSING_INTL_API,a);var T=n.getPluralRules(t,{type:O.pluralType}).select(S-(O.offset||0));C=O.options[T]||O.options.other}if(!C)throw new Te(O.value,S,Object.keys(O.options),a);u.push.apply(u,Ie(C.value,t,n,r,o,S-(O.offset||0)))}else;}}}return Me(u)}function Be(e,t){return t?Object(r.a)(Object(r.a)(Object(r.a)({},e||{}),t||{}),Object.keys(e).reduce((function(n,o){return n[o]=Object(r.a)(Object(r.a)({},e[o]),t[o]||{}),n}),{})):e}function Ve(e,t){return t?Object.keys(e).reduce((function(n,r){return n[r]=Be(e[r],t[r]),n}),Object(r.a)({},e)):e}function Fe(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function Ge(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:me((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Fe(e.number),strategy:xe.variadic}),getDateTimeFormat:me((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Fe(e.dateTime),strategy:xe.variadic}),getPluralRules:me((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Fe(e.pluralRules),strategy:xe.variadic})}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Ae||(Ae={}));var He=function(){function e(t,n,r,o){var i=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=i.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===Ae.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Ie(i.ast,i.locales,i.formatters,i.formats,e,void 0,i.message)},this.resolvedOptions=function(){return{locale:i.resolvedLocale.toString()}},this.getAst=function(){return i.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==o?void 0:o.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Ve(e.formats,r),this.formatters=o&&o.formatters||Ge(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])},e.__parse=ye,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),Ue=n(14),ze=n(21),We=n(2);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qe(r.key),r)}}function Ke(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qe(e){var t=Je(e,"string");return"symbol"===$e(t)?t:String(t)}function Je(e,t){if("object"!==$e(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Qe=new We.e({level:"warn",bizName:"globalLocale"}),Ze={en:"en-US",zh:"zh-CN",zt:"zh-TW",es:"es-ES",pt:"pt-PT",fr:"fr-FR",de:"de-DE",it:"it-IT",ru:"ru-RU",ja:"ja-JP",ko:"ko-KR",ar:"ar-SA",tr:"tr-TR",th:"th-TH",vi:"vi-VN",nl:"nl-NL",he:"iw-IL",id:"in-ID",pl:"pl-PL",hi:"hi-IN",uk:"uk-UA",ms:"ms-MY",tl:"tl-PH"},et="ali-lowcode-config",tt=function(){function e(){Xe(this,e),this.emitter=Object(Ue.b)("GlobalLocale"),this._locale=void 0,this.emitter.setMaxListeners(0)}return Ke(e,[{key:"locale",get:function e(){if(null!=this._locale)return this._locale;var t=null;if(rt(window)){var n,r=window.localStorage,o;try{o=JSON.parse(r.getItem(et)||"")}catch(e){}null!==(n=o)&&void 0!==n&&n.locale&&(t=(o.locale||"").replace("_","-"),Qe.debug("getting locale from localStorage: ".concat(t)))}if(!t){var i=nt("locale");i&&(t=Ze[i]||i.replace("_","-"),Qe.debug("getting locale from config: ".concat(t)))}if(!t){var a,u=window.navigator;if(u.language){var c=u.language;return Ze[c]||c.replace("_","-")}if(u.browserLanguage){var s=u.browserLanguage.split("-"),l=s[0];s[1]&&(l+="-".concat(s[1].toUpperCase())),t=l,Qe.debug("getting locale from system: ".concat(t))}}return t||(Qe.warn("something when wrong when trying to get locale, use zh-CN as default, please check it out!"),t="zh-CN"),this._locale=t,t}},{key:"setLocale",value:function e(t){if(Qe.info("setting locale to ".concat(t)),t!==this.locale){if(this._locale=t,rt(window)){var n=window.localStorage,r;try{r=JSON.parse(n.getItem(et)||"")}catch(e){}r&&"object"===$e(r)?r.locale=t:r={locale:t},n.setItem(et,JSON.stringify(r))}this.emitter.emit("localechange",t)}}},{key:"getLocale",value:function e(){return this.locale}},{key:"onChangeLocale",value:function e(t){var n=this;return this.emitter.on("localechange",t),function(){n.emitter.removeListener("localechange",t)}}}]),e}();function nt(e){var t=window;return t[e]||(t.g_config||{})[e]||(t.pageConfig||{})[e]}function rt(e){return e.localStorage}Object(r.b)([ze.h.ref,Object(r.d)("design:type",String)],tt.prototype,"_locale",void 0),Object(r.b)([ze.c,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],tt.prototype,"locale",null);var ot=new tt,it=n(17);function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,st(r.key),r)}}function ct(e,t,n){return t&&ut(e.prototype,t),n&&ut(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function st(e){var t=lt(e,"string");return"symbol"===bt(t)?t:String(t)}function lt(e,t){if("object"!==bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}function pt(e,t){return(pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ht(e){var t=yt();return function n(){var r=mt(e),o;if(t){var i=mt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return dt(this,o)}}function dt(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vt(e)}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function wt(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jt(e){var t=[e,e.replace("-","_")];return"zh-TW"===e||"en-US"===e?(t.push("zh-CN"),t.push("zh_CN")):(t.push("en-US"),t.push("en_US"),"zh-CN"!==e&&(t.push("zh-CN"),t.push("zh_CN"))),t}function St(e,t,n){return e&&t?new He(e,n).format(t):e;var r}function kt(e,t){if(!Object(We.G)(e))return e;if(e.intl)return e.intl;var n=ot.getLocale(),r,o,i=gt(jt(n)),a;try{for(i.s();!(a=i.n()).done;){var u;if(null!=(o=e[a.value]))break}}catch(e){i.e(e)}finally{i.f()}return null==o?"##intl@".concat(n,"##"):St(o,t,n)}function Et(e){if(!e||"object"!==bt(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=kt(e[n])})),t}function _t(e,t){return Object(We.G)(e)?e.intlNode?e.intlNode:Object(o.createElement)(Pt,{data:e,params:t}):e}var Pt=function(e){ft(n,e);var t=ht(n);function n(){return at(this,n),t.apply(this,arguments)}return ct(n,[{key:"render",value:function e(){var t=this.props,n,r;return kt(t.data,t.params)}}]),n}(o.Component);function xt(e){var t=function(){var t=ot.getLocale();if("string"==typeof e){if(window[e])return window[e][t]||{};var n="".concat(e,"_").concat(t.toLocaleLowerCase());return window[n]||{}}return e&&"object"===bt(e)&&e[t]||{}}();function n(e,n){var r=t[e];return null==r?"##intl@".concat(e,"##"):St(r,n,ot.getLocale())}var i=function(e){ft(r,e);var t=ht(r);function r(){return at(this,r),t.apply(this,arguments)}return ct(r,[{key:"render",value:function e(){var t=this.props,r,o;return n(t.id,t.params)}}]),r}(o.Component);return i=Object(r.b)([it.i],i),{intlNode:function e(t,n){return Object(o.createElement)(i,{id:t,params:n})},intl:n,getLocale:function e(){return ot.getLocale()},setLocale:function e(t){ot.setLocale(t)}}}Pt=Object(r.b)([it.i],Pt)},function(e,t){var n=function(e){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},r="undefined"!=typeof requestIdleCallback;e.exports=r?requestIdleCallback:n,e.exports.cancelIdleCallback=r?cancelIdleCallback:clearTimeout},function(e,t,n){"use strict";var r;n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return a.h})),n.d(t,"h",(function(){return a.f})),n.d(t,"c",(function(){return a.b})),n.d(t,"f",(function(){return a.d})),n.d(t,"k",(function(){return a.i})),n.d(t,"d",(function(){return a.c})),n.d(t,"b",(function(){return a.a})),n.d(t,"l",(function(){return a.j})),n.d(t,"n",(function(){return a.k})),n.d(t,"g",(function(){return a.e})),n.d(t,"i",(function(){return a.g})),n.d(t,"a",(function(){return R})),n.d(t,"m",(function(){return F})),n.d(t,"o",(function(){return G}));var o=null===(r=document.currentScript)||void 0===r?void 0:r.src.replace(/^(.*\/)[^/]+$/,"$1");function i(){return o||""}var a=n(21),u=n(53),c;function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=h(e,"string");return"symbol"===d(t)?t:String(t)}function h(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return w(e)||g(e,t)||m(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function w(e){if(Array.isArray(e))return e}var O=n.n(u)()("request");function j(e){if(!e)return"";var t=[];return Object.entries(e||{}).forEach((function(e){var n=v(e,2),r=n[0],o=n[1];null!=o&&""!==o&&("object"===d(o)?t.push("".concat(r,"=").concat(encodeURIComponent(JSON.stringify(o)))):t.push("".concat(r,"=").concat(encodeURIComponent(o))))})),t.join("&")}function S(e,t){var n=j(t);return n?e.indexOf("?")>0?"".concat(e,"&").concat(n):"".concat(e,"?").concat(n):e}function k(e,t,n,r){var o=l({Accept:"application/json"},n);return _(S(e,t),"GET",void 0,o,r)}function E(e,t,n,r){var o=l({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},n);return _(e,"POST",o["Content-Type"].indexOf("application/json")>-1||Array.isArray(t)?JSON.stringify(t):j(t),o,r)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return new Promise((function(i,a){o&&o.timeout&&setTimeout((function(){a(new Error("timeout"))}),o.timeout),fetch(e,l({method:t,credentials:"include",headers:r,body:n},o)).then((function(e){switch(e.status){case 200:case 201:case 202:return e.json();case 204:return"DELETE"===t?{success:!0}:{__success:!1,code:e.status};case 400:case 401:case 403:case 404:case 406:case 410:case 422:case 500:return e.json().then((function(t){return{__success:!1,code:e.status,data:t}})).catch((function(){return{__success:!1,code:e.status}}));default:return null}})).then((function(e){e&&!1!==e.__success?i(e):(delete e.__success,a(e))})).catch((function(e){O(e),a(e)}))}))}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function C(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e){var t=L(e,"string");return"symbol"===P(t)?t:String(t)}function L(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var R=function(){function e(){x(this,e),this.actives=[],this.modals=[]}return C(e,[{key:"mount",value:function e(t){var n=this,r=function e(t){if(!n.checkModalDown(t)){var r=n.first;r&&!r.internalCheckInRange(t)&&(n.internalSuspenseItem(r),r.internalTriggerBlur())}};return t.document.addEventListener("click",r,!0),function(){t.document.removeEventListener("click",r,!0)}}},{key:"first",get:function e(){return this.actives[0]}},{key:"addModal",value:function e(t,n){this.modals.push({checkDown:t,checkOpen:n})}},{key:"checkModalOpen",value:function e(){return this.modals.some((function(e){return e.checkOpen()}))}},{key:"checkModalDown",value:function e(t){return this.modals.some((function(e){return e.checkDown(t)}))}},{key:"execSave",value:function e(){this.checkModalOpen()||this.first&&this.first.internalTriggerSave()}},{key:"execEsc",value:function e(){var t=this.first;t&&(this.internalSuspenseItem(t),t.internalTriggerEsc())}},{key:"create",value:function e(t){return new A(this,t)}},{key:"internalActiveItem",value:function e(t){var n=this.actives[0];if(n!==t){var r=this.actives.indexOf(t);r>-1&&this.actives.splice(r,1),this.actives.unshift(t),!t.isModal&&n&&n.internalTriggerBlur(),t.internalTriggerActive()}}},{key:"internalSuspenseItem",value:function e(t){var n=this.actives.indexOf(t),r;n>-1&&(this.actives.splice(n,1),null===(r=this.first)||void 0===r||r.internalTriggerActive())}}]),e}(),A=function(){function e(t,n){x(this,e),this.tracker=void 0,this.config=void 0,this.isModal=void 0,this.tracker=t,this.config=n,this.isModal=null!=n.modal&&n.modal}return C(e,[{key:"active",value:function e(){this.tracker.internalActiveItem(this)}},{key:"suspense",value:function e(){this.tracker.internalSuspenseItem(this)}},{key:"purge",value:function e(){this.tracker.internalSuspenseItem(this)}},{key:"internalCheckInRange",value:function e(t){var n=this.config.range;return!!n&&("function"==typeof n?n(t):n.contains(t.target))}},{key:"internalTriggerBlur",value:function e(){this.config.onBlur&&this.config.onBlur()}},{key:"internalTriggerSave",value:function e(){return!!this.config.onSave&&(this.config.onSave(),!0)}},{key:"internalTriggerEsc",value:function e(){this.config.onEsc&&this.config.onEsc()}},{key:"internalTriggerActive",value:function e(){this.config.onActive&&this.config.onActive()}}]),e}(),M=!0;function D(e){M=e}function I(){D(!0)}function B(){D(!1)}function V(){return M}function F(e){B(),e(),I()}function G(e){return function(){V()&&e.apply(void 0,arguments)}}var H=n(27)},function(e,t,n){(function(t){var n=a(),r=u(),o=c(),i="undefined"!=typeof window?window:t;function a(){return Object.assign?Object.assign:function e(t,n,r,o){for(var i=1;i<arguments.length;i++)f(Object(arguments[i]),(function(e,n){t[n]=e}));return t}}function u(){if(Object.create)return function e(t,r,o,i){var a=l(arguments,1);return n.apply(this,[Object.create(t)].concat(a))};{function e(){}return function t(r,o,i,a){var u=l(arguments,1);return e.prototype=r,n.apply(this,[new e].concat(u))}}}function c(){return String.prototype.trim?function e(t){return String.prototype.trim.call(t)}:function e(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function s(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function l(e,t){return Array.prototype.slice.call(e,t||0)}function f(e,t){h(e,(function(e,n){return t(e,n),!1}))}function p(e,t){var n=d(e)?[]:{};return h(e,(function(e,r){return n[r]=t(e,r),!1})),n}function h(e,t){if(d(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function d(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function v(e){return e&&"[object Function]"==={}.toString.call(e)}function y(e){return e&&"[object Object]"==={}.toString.call(e)}e.exports={assign:n,create:r,trim:o,bind:s,slice:l,each:f,map:p,pluck:h,isList:d,isFunction:v,isObject:y,Global:i}}).call(this,n(32))},function(e,t,n){const r=n(38),o=(e,t,n)=>new r(e,n).compare(new r(t,n));e.exports=o},function(e,t,n){"use strict";var r=n(39);n.d(t,"Setters",(function(){return r.a}));var o=n(40);n.o(o,"Hotkey")&&n.d(t,"Hotkey",(function(){return o.Hotkey})),n.o(o,"Tip")&&n.d(t,"Tip",(function(){return o.Tip})),n.o(o,"TipContainer")&&n.d(t,"TipContainer",(function(){return o.TipContainer})),n.o(o,"Title")&&n.d(t,"Title",(function(){return o.Title})),n.o(o,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return o.createModuleEventBus})),n.o(o,"engineConfig")&&n.d(t,"engineConfig",(function(){return o.engineConfig})),n.o(o,"globalContext")&&n.d(t,"globalContext",(function(){return o.globalContext}));var i=n(25);n.d(t,"Tip",(function(){return i.a}))},function(e,t,n){"use strict";n.d(t,"h",(function(){return r.observable})),n.d(t,"f",(function(){return r.observable})),n.d(t,"b",(function(){return r.autorun})),n.d(t,"d",(function(){return r.makeObservable})),n.d(t,"i",(function(){return r.reaction})),n.d(t,"c",(function(){return r.computed})),n.d(t,"a",(function(){return r.action})),n.d(t,"j",(function(){return r.runInAction})),n.d(t,"k",(function(){return r.untracked})),n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return ve}));var r=n(6),o=n(3),i=n.n(o);if(!o.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r.makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var a=n(10);function u(e){e()}function c(e){e||(e=u),Object(r.configure)({reactionScheduler:e})}var s=function(){return!0},l=[];function f(e){l.includes(e)||(l.push(e),console.warn(e))}function p(e){return Object(r.getDependencyTree)(e)}var h=1e4,d=1e4,v=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(r,o){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(o))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),y,m=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:v)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),b=!1;function g(e){b=e}function w(){return b}var O=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function j(e){return"observer".concat(e)}var S=function(){function e(){}return e}();function k(){return new S}function E(e,t){if(void 0===t&&(t="observed"),w())return e();var n,o=O(i.a.useState(k),1)[0],a,u=O(i.a.useState(),2)[1],c=function(){return u([])},s=i.a.useRef(null);s.current||(s.current={reaction:null,mounted:!1,changedBeforeMount:!1});var l=s.current,f,h;if(l.reaction||(l.reaction=new r.Reaction(j(t),(function(){l.mounted?c():l.changedBeforeMount=!0})),m.register(o,l,l)),i.a.useDebugValue(l.reaction,p),i.a.useEffect((function(){return m.unregister(l),l.mounted=!0,l.reaction?l.changedBeforeMount&&(l.changedBeforeMount=!1,c()):(l.reaction=new r.Reaction(j(t),(function(){c()})),c()),function(){l.reaction.dispose(),l.reaction=null,l.mounted=!1,l.changedBeforeMount=!1}}),[]),l.reaction.track((function(){try{f=e()}catch(e){h=e}})),h)throw h;return f}var _=!0,P="function"==typeof Symbol&&Symbol.for,x=P?Symbol.for("react.forward_ref"):"function"==typeof o.forwardRef&&Object(o.forwardRef)((function(e){return null})).$$typeof,N=P?Symbol.for("react.memo"):"function"==typeof o.memo&&Object(o.memo)((function(e){return null})).$$typeof;function C(e,t){var n;if(N&&e.$$typeof===N)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(w())return e;var r=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,i=e,a=e.displayName||e.name;if(x&&e.$$typeof===x&&(r=!0,"function"!=typeof(i=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(e,t){return E((function(){return i(e,t)}),a)};return""!==a&&(u.displayName=a),e.contextTypes&&(u.contextTypes=e.contextTypes),r&&(u=Object(o.forwardRef)(u)),L(e,u=Object(o.memo)(u)),u}var T={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function L(e,t){Object.keys(e).forEach((function(n){T[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}function R(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:E(r)}function A(e,t,n,r,o){var i="children"===t?"render":"children",a="function"==typeof e[t],u="function"==typeof e[i];return a&&u?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||u?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}function M(e,t){return Object(o.useState)((function(){return Object(r.observable)(e(),t,{autoBind:!0})}))[0]}R.displayName="Observer";var D=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},I;function B(e){var t,n=D(Object(o.useState)((function(){return Object(r.observable)(e,{},{deep:!1})})),1)[0];return Object(r.runInAction)((function(){Object.assign(n,e)})),n}function V(e,t){var n=t&&B(t);return Object(o.useState)((function(){return Object(r.observable)(e(n),void 0,{autoBind:!0})}))[0]}c(a.unstable_batchedUpdates);var F=null!==(I=m.finalizeAllImmediately)&&void 0!==I?I:function(){};function G(e,t){return void 0===t&&(t="observed"),E(e,t)}function H(e){g(e)}var U=0;function z(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+U+")";return U++,t}var W={};function $(e){return W[e]||(W[e]=z(e)),W[e]}function X(e,t){if(Y(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(t,n[o])||!Y(e[n[o]],t[n[o]]))return!1;return!0}function Y(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var K={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,displayName:1,propTypes:1};function q(e,t){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Object.getOwnPropertyNames(e).forEach((function(r){K[r]||-1!==n.indexOf(r)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}function J(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Q=$("patchMixins"),Z=$("patchedDefinition");function ee(e,t){var n=e[Q]=e[Q]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function te(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function ne(e,t){var n;return function n(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];te.call.apply(te,[this,e,t].concat(o))}}function re(e,t,n){var r=ee(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[Z]){var i=e[t],a=oe(e,t,o?o.enumerable:void 0,r,i);Object.defineProperty(e,t,a)}}function oe(e,t,n,r,o){var i,a=ne(o,r);return(i={})[Z]=!0,i.get=function e(){return a},i.set=function o(i){if(this===e)a=ne(i,r);else{var u=oe(this,t,n,r,i);Object.defineProperty(this,t,u)}},i.configurable=!0,i.enumerable=n,i}var ie=r.$mobx||"$mobx",ae=$("isMobXReactObserver"),ue=$("isUnmounted"),ce=$("skipRender"),se=$("isForcingUpdate");function le(e){var t=e.prototype;if(e[ae]){var n=fe(t);console.warn("The provided component class ("+n+")\n                has already been declared as an observer component.")}else e[ae]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==o.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==he)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=he;de(t,"props"),de(t,"state"),e.contextType&&de(t,"context");var r=t.render;if("function"!=typeof r){var i=fe(t);throw new Error("[mobx-react] class component ("+i+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return t.render=function(){return this.render=w()?r:pe.call(this,r),this.render()},re(t,"componentDidMount",(function(){this[ue]=!1,this.render[ie]||o.Component.prototype.forceUpdate.call(this)})),re(t,"componentWillUnmount",(function(){if(!w()){var e=this.render[ie];if(e)e.dispose(),this.render[ie]=null;else{var t=fe(this);console.warn("The reactive render of an observer class component ("+t+")\n                was overridden after MobX attached. This may result in a memory leak if the\n                overridden reactive render was not properly disposed.")}this[ue]=!0}})),e}function fe(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function pe(e){var t=this;J(this,ce,!1),J(this,se,!1);var n=fe(this),i=e.bind(this),a=!1,u=function e(){var i=new r.Reaction(n+".render()",(function(){if(!a&&(a=!0,!0!==t[ue])){var e=!0;try{J(t,se,!0),t[ce]||o.Component.prototype.forceUpdate.call(t),e=!1}finally{J(t,se,!1),e&&(i.dispose(),t.render[ie]=null)}}}));return i.reactComponent=t,i};function c(){var e;a=!1;var t=null!=(e=c[ie])?e:c[ie]=u(),n=void 0,o=void 0;if(t.track((function(){try{o=Object(r._allowStateChanges)(!1,i)}catch(e){n=e}})),n)throw n;return o}return c}function he(e,t){return w()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!X(this.props,e)}function de(e,t){var n=$("reactProp_"+t+"_valueHolder"),o=$("reactProp_"+t+"_atomHolder");function i(){return this[o]||J(this,o,Object(r.createAtom)("reactive "+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function e(){var t=!1;return r._allowStateReadsStart&&r._allowStateReadsEnd&&(t=Object(r._allowStateReadsStart)(!0)),i.call(this).reportObserved(),r._allowStateReadsStart&&r._allowStateReadsEnd&&Object(r._allowStateReadsEnd)(t),this[n]},set:function e(t){this[se]||X(this[n],t)?J(this,n,t):(J(this,n,t),J(this,ce,!0),i.call(this).reportChanged(),J(this,ce,!1))}})}function ve(e){return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(o.Component,e)||Object.prototype.isPrototypeOf.call(o.PureComponent,e)?le(e):C(e)}function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}var be=["children"],ge=i.a.createContext({});function we(e){var t=e.children,n=me(e,be),r=i.a.useContext(ge),o,a=i.a.useRef(ye({},r,n)).current,u;return i.a.createElement(ge.Provider,{value:a},t)}function Oe(e,t,n,r){var o=i.a.forwardRef((function(n,r){var o=ye({},n),a=i.a.useContext(ge);return Object.assign(o,e(a||{},o)||{}),r&&(o.ref=r),i.a.createElement(t,o)}));return r&&(o=ve(o)),o.isMobxInjector=!0,q(t,o),o.wrappedComponent=t,o.displayName=je(t,n),o}function je(e,t){var n,r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return n=t?"inject-with-"+t+"("+r+")":"inject("+r+")"}function Se(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"==typeof arguments[0]){var r=arguments[0];return function(e){return Oe(r,e,r.name,!0)}}return function(e){return Oe(Se(t),e,t.join("-"),!1)}}we.displayName="MobXProvider";var Ee=$("disposeOnUnmountProto"),_e=$("disposeOnUnmountInst");function Pe(){var e=this;[].concat(this[Ee]||[],this[_e]||[]).forEach((function(t){var n="string"==typeof t?e[t]:t;null!=n&&(Array.isArray(n)?n.map((function(e){return e()})):n())}))}function xe(e,t){if(Array.isArray(t))return t.map((function(t){return xe(e,t)}));var n=Object.getPrototypeOf(e).constructor,r=Object.getPrototypeOf(e.constructor),o=Object.getPrototypeOf(Object.getPrototypeOf(e));if(n!==i.a.Component&&n!==i.a.PureComponent&&r!==i.a.Component&&r!==i.a.PureComponent&&o!==i.a.Component&&o!==i.a.PureComponent)throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if("string"!=typeof t&&"function"!=typeof t&&!Array.isArray(t))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var a="string"==typeof t,u=!!e[Ee]||!!e[_e],c;return(a?e[Ee]||(e[Ee]=[]):e[_e]||(e[_e]=[])).push(t),u||re(e,"componentWillUnmount",Pe),"string"!=typeof t?t:void 0}function Ne(e){function t(t,n,o,i,a,u){for(var c=arguments.length,s=new Array(c>6?c-6:0),l=6;l<c;l++)s[l-6]=arguments[l];return Object(r.untracked)((function(){if(i=i||"<<anonymous>>",u=u||o,null==n[o]){if(t){var r=null===n[o]?"null":"undefined";return new Error("The "+a+" `"+u+"` is marked as required in `"+i+"`, but its value is `"+r+"`.")}return null}return e.apply(void 0,[n,o,i,a,u].concat(s))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function Ce(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function Te(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":Ce(t,e)?"symbol":t}function Le(e){var t=Te(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function Re(e,t){return Ne((function(n,o,i,a,u){return Object(r.untracked)((function(){if(e&&Te(n[o])===t.toLowerCase())return null;var a;switch(t){case"Array":a=r.isObservableArray;break;case"Object":a=r.isObservableObject;break;case"Map":a=r.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+t)}var c=n[o];if(!a(c)){var s=Le(c),l=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+u+"` of type `"+s+"` supplied to `"+i+"`, expected `mobx.Observable"+t+"`"+l+".")}return null}))}))}function Ae(e,t){return Ne((function(n,o,i,a,u){for(var c=arguments.length,s=new Array(c>5?c-5:0),l=5;l<c;l++)s[l-5]=arguments[l];return Object(r.untracked)((function(){if("function"!=typeof t)return new Error("Property `"+u+"` of component `"+i+"` has invalid PropType notation.");var r=Re(e,"Array")(n,o,i,a,u);if(r instanceof Error)return r;for(var c=n[o],l=0;l<c.length;l++)if((r=t.apply(void 0,[c,l,i,a,u+"["+l+"]"].concat(s)))instanceof Error)return r;return null}))}))}var Me,De,Ie,Be,Ve,Fe,Ge,He=Re(!1,"Array"),Ue=Ae.bind(null,!1),ze=Re(!1,"Map"),We=Re(!1,"Object"),$e=Re(!0,"Array"),Xe=Ae.bind(null,!0),Ye=Re(!0,"Object");if(!o.Component)throw new Error("mobx-react requires React to be available");if(!r.observable)throw new Error("mobx-react requires mobx to be available");Object(r.configure)({enforceActions:"never"})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0,o(n(74),t),o(n(23),t),o(n(77),t),o(n(41),t),o(n(42),t),o(n(43),t),o(n(78),t);var i=n(43);t.logger=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.symbolString=t.isExtendOf=t.getGlobalType=t.isClass=void 0;var r=n(34),o=n(41),i=0,a={};function u(e){return(null==e?void 0:e.prototype)&&e.prototype.constructor===e}function c(e,t){if(void 0===t&&(t=""),!e)throw new Error("no key.");if(["string","symbol","object"].includes(typeof e))return e;if(e.hasOwnProperty("__type"))return e.__type;var n,o=e[r.nameSymbol]||e.name;if("function"!=typeof e||!o)throw new Error("data MUST be a class or string.");return a[n=t+o]&&(n=n+"_"+i++),a[n]=!0,Object.defineProperty(e,"__type",{configurable:!1,enumerable:!1,writable:!1,value:n}),n}function s(e,t){if(!u(e)||!u(t))throw new Error("classType and superClassType MUST be a class.");var n=c(t);return!!(0,o.getSuperClassInfo)(e).find((function(e){return e.type===n}))}function l(e){return"symbol"==typeof e?e.toString():e}t.isClass=u,t.getGlobalType=c,t.isExtendOf=s,t.symbolString=l},function(e,t,n){"use strict";var r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.classLoader=t.ClassLoader=t.DuplicateRegistrationError=void 0;var a=n(13),u=n(22),c=function(e){function t(t){return e.call(this,"Type ".concat(t.name," is already registration."))||this}return r(t,e),t}(Error);t.DuplicateRegistrationError=c;var s=function(){function e(e,t){void 0===e&&(e=new Map),void 0===t&&(t=new Map),this.classInfoMap=e,this.implementCacheMap=t}return e.prototype.hasClass=function(e){return this.classInfoMap.has(e)},e.prototype.registerClass=function(e,t){var n=this,r;if(this.classInfoMap.has(e))throw new c(e);var o=(0,a.getMetadata)(e);o.injectable=!0;var s=t||o.classInfo;if(s.name||(s.name=e.name),!(null===(r=s.extends)||void 0===r?void 0:r.length)){var l=(0,u.getSuperClassInfo)(e);s.extends=l.map((function(e){return e.class}))}return this.classInfoMap.set(e,s),s.implements||(s.implements=[]),i(i([],s.extends,!0),s.implements,!0).forEach((function(t){var r=n.getImplCacheByType(t);r.every((function(t){return t.type!==e}))&&r.push({type:e,info:s})})),this},e.prototype.unregisterClass=function(e){var t=this,n=this.classInfoMap.get(e);return!!n&&(i(i([],n.extends,!0),n.implements,!0).forEach((function(n){var r=t.getImplCacheByType(n),o=r.findIndex((function(t){return t.type===e}));o>=0&&r.splice(o,1)})),this.classInfoMap.delete(e))},e.prototype.getClassInfo=function(e){return this.classInfoMap.get(e)},e.prototype.filterClasses=function(e){var t=[];return this.classInfoMap.forEach((function(n,r){var o={type:r,info:n};e(o)&&t.push(o)})),t},e.prototype.getImplementClasses=function(e){return this.getImplCacheByType(e)},e.prototype.clearAll=function(){return this.classInfoMap.clear(),this.implementCacheMap.clear(),this},e.prototype.clone=function(){var e,t=new(0,this.constructor);return t.initWith(this),t},e.prototype.initWith=function(e){this.classInfoMap=new Map(e.classInfoMap),this.implementCacheMap=this.cloneImplCacheMap(e.implementCacheMap)},e.prototype.cloneImplCacheMap=function(e){return new Map(Array.from(e.entries()).map((function(e){var t=e[0],n=e[1];return[t,i([],n,!0)]})))},e.prototype.getImplCacheByType=function(e){var t=(0,u.getGlobalType)(e);return this.implementCacheMap.has(t)?this.implementCacheMap.get(t):(this.implementCacheMap.set(t,[]),this.getImplCacheByType(e))},e}();t.ClassLoader=s,t.classLoader=new s},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(3),o=n.n(r),i=n(2),a=n(11);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"===u(t)?t:String(t)}function p(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){var t=b();return function n(){var r=g(e),o;if(t){var i=g(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return y(this,o)}}function y(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var w=function(e){h(n,e);var t=v(n);function n(){var e;c(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).id=Object(i.db)("tips$"),e}return l(n,[{key:"componentWillUnmount",value:function e(){Object(a.a)(this.id,null)}},{key:"render",value:function e(){return Object(a.a)(this.id,this.props),React.createElement("meta",{"data-role":"tip","data-tip-id":this.id})}}]),n}(r.Component)},function(e,t,n){(function(t){const n="object"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\bsemver\b/i.test(t.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(33))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(31),o=n.n(r),i=n(30);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"===a(t)?t:String(t)}function f(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=Object(i.a)({level:"warn",bizName:"Preference"}),h="ale",d=function(){function e(){u(this,e)}return s(e,[{key:"getStorageKey",value:function e(t,n){var r=n||"__inner__";return"".concat("ale","_").concat(r,".").concat(t)}},{key:"set",value:function e(t,n,r){if(t&&"string"==typeof t&&0!==t.length){var i=this.getStorageKey(t,r);p.debug("storageKey:",i,"set with value:",n),o.a.set(i,n)}else p.error("Invalid key when setting preference",t)}},{key:"get",value:function e(t,n){if(t&&"string"==typeof t&&0!==t.length){var r=this.getStorageKey(t,n),i=o.a.get(r);return p.debug("storageKey:",r,"get with result:",i),i}p.error("Invalid key when getting from preference",t)}},{key:"contains",value:function e(t,n){if(!t||"string"!=typeof t||0===t.length)return p.error("Invalid key when getting from preference",t),!1;var r=this.getStorageKey(t,n),i=o.a.get(r);return!(null==i)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(8),o=n.n(r),i=n(2),a=n(30),u=n(27);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=h(e,"string");return"symbol"===c(t)?t:String(t)}function h(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=Object(a.a)({level:"log",bizName:"config"}),v=!0,y={enableCondition:{type:"boolean",description:"\u662f\u5426\u5f00\u542f condition \u7684\u80fd\u529b\uff0c\u9ed8\u8ba4\u5728\u8bbe\u8ba1\u5668\u4e2d\u4e0d\u7ba1 condition \u662f\u5565\u90fd\u6b63\u5e38\u5c55\u793a"},designMode:{type:"string",enum:["design","live"],default:"design",description:"\u8bbe\u8ba1\u6a21\u5f0f\uff0clive \u6a21\u5f0f\u5c06\u4f1a\u5b9e\u65f6\u5c55\u793a\u53d8\u91cf\u503c"},device:{type:"string",enum:["default","mobile","any string value"],default:"default",description:"\u8bbe\u5907\u7c7b\u578b"},deviceClassName:{type:"string",default:void 0,description:"\u6307\u5b9a\u521d\u59cb\u5316\u7684 deviceClassName\uff0c\u6302\u8f7d\u5230\u753b\u5e03\u7684\u9876\u5c42\u8282\u70b9\u4e0a"},locale:{type:"string",default:"zh-CN",description:"\u8bed\u8a00"},renderEnv:{type:"string",enum:["react","rax","any string value"],default:"react",description:"\u6e32\u67d3\u5668\u7c7b\u578b"},deviceMapper:{type:"object",description:"\u8bbe\u5907\u7c7b\u578b\u6620\u5c04\u5668\uff0c\u5904\u7406\u8bbe\u8ba1\u5668\u4e0e\u6e32\u67d3\u5668\u4e2d device \u7684\u6620\u5c04"},enableStrictPluginMode:{type:"boolean",default:!0,description:"\u5f00\u542f\u4e25\u683c\u63d2\u4ef6\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u503c\uff1aSTRICT_PLUGIN_MODE_DEFAULT , \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u63d2\u4ef6\u5c06\u65e0\u6cd5\u901a\u8fc7 engineOptions \u4f20\u9012\u81ea\u5b9a\u4e49\u914d\u7f6e\u9879"},enableReactiveContainer:{type:"boolean",default:!1,description:"\u5f00\u542f\u62d6\u62fd\u7ec4\u4ef6\u65f6\uff0c\u5373\u5c06\u88ab\u653e\u5165\u7684\u5bb9\u5668\u662f\u5426\u6709\u89c6\u89c9\u53cd\u9988"},disableAutoRender:{type:"boolean",default:!1,description:"\u5173\u95ed\u753b\u5e03\u81ea\u52a8\u6e32\u67d3\uff0c\u5728\u8d44\u4ea7\u5305\u591a\u91cd\u5f02\u6b65\u52a0\u8f7d\u7684\u573a\u666f\u6709\u6548"},disableDetecting:{type:"boolean",default:!1,description:"\u5173\u95ed\u62d6\u62fd\u7ec4\u4ef6\u65f6\u7684\u865a\u7ebf\u54cd\u5e94\uff0c\u6027\u80fd\u8003\u8651"},customizeIgnoreSelectors:{type:"function",default:void 0,description:"\u5b9a\u5236\u753b\u5e03\u4e2d\u70b9\u51fb\u88ab\u5ffd\u7565\u7684 selectors, eg. (defaultIgnoreSelectors: string[], e: MouseEvent) => string[]"},disableDefaultSettingPanel:{type:"boolean",default:!1,description:"\u7981\u6b62\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u9762\u677f"},disableDefaultSetters:{type:"boolean",default:!1,description:"\u7981\u6b62\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u5668"},enableCanvasLock:{type:"boolean",default:!1,description:"\u6253\u5f00\u753b\u5e03\u7684\u9501\u5b9a\u64cd\u4f5c"},enableLockedNodeSetting:{type:"boolean",default:!1,description:"\u5bb9\u5668\u9501\u5b9a\u540e\uff0c\u5bb9\u5668\u672c\u8eab\u662f\u5426\u53ef\u4ee5\u8bbe\u7f6e\u5c5e\u6027\uff0c\u4ec5\u5f53\u753b\u5e03\u9501\u5b9a\u7279\u6027\u5f00\u542f\u65f6\u751f\u6548"},stayOnTheSameSettingTab:{type:"boolean",default:!1,description:"\u5f53\u9009\u4e2d\u8282\u70b9\u5207\u6362\u65f6\uff0c\u662f\u5426\u505c\u7559\u5728\u76f8\u540c\u7684\u8bbe\u7f6e tab \u4e0a"},hideSettingsTabsWhenOnlyOneItem:{type:"boolean",description:"\u662f\u5426\u5728\u53ea\u6709\u4e00\u4e2a item \u7684\u65f6\u5019\u9690\u85cf\u8bbe\u7f6e tabs"},loadingComponent:{type:"ComponentType",default:void 0,description:"\u81ea\u5b9a\u4e49 loading \u7ec4\u4ef6"},supportVariableGlobally:{type:"boolean",default:!1,description:"\u8bbe\u7f6e\u6240\u6709\u5c5e\u6027\u652f\u6301\u53d8\u91cf\u914d\u7f6e"},visionSettings:{type:"object",description:"Vision-polyfill settings"},simulatorUrl:{type:"array",description:"\u81ea\u5b9a\u4e49 simulatorUrl \u7684\u5730\u5740"},appHelper:{type:"object",description:"\u5b9a\u4e49 utils \u548c constants \u7b49\u5bf9\u8c61"},requestHandlersMap:{type:"object",description:"\u6570\u636e\u6e90\u5f15\u64ce\u7684\u8bf7\u6c42\u5904\u7406\u5668\u6620\u5c04"},thisRequiredInJSE:{type:"boolean",description:"JSExpression \u662f\u5426\u53ea\u652f\u6301\u4f7f\u7528 this \u6765\u8bbf\u95ee\u4e0a\u4e0b\u6587\u53d8\u91cf"},enableStrictNotFoundMode:{type:"boolean",description:"\u5f53\u5f00\u542f\u7ec4\u4ef6\u672a\u627e\u5230\u4e25\u683c\u6a21\u5f0f\u65f6\uff0c\u6e32\u67d3\u6a21\u5757\u4e0d\u4f1a\u9ed8\u8ba4\u7ed9\u4e00\u4e2a\u5bb9\u5668\u7ec4\u4ef6"},focusNodeSelector:{type:"function",description:"\u914d\u7f6e\u6307\u5b9a\u8282\u70b9\u4e3a\u6839\u7ec4\u4ef6"},enableAutoOpenFirstWindow:{type:"boolean",description:"\u5e94\u7528\u7ea7\u8bbe\u8ba1\u6a21\u5f0f\u4e0b\uff0c\u81ea\u52a8\u6253\u5f00\u7b2c\u4e00\u4e2a\u7a97\u53e3",default:!0},enableWorkspaceMode:{type:"boolean",description:"\u662f\u5426\u5f00\u542f\u5e94\u7528\u7ea7\u8bbe\u8ba1\u6a21\u5f0f",default:!1},workspaceEmptyComponent:{type:"function",description:"\u5e94\u7528\u7ea7\u8bbe\u8ba1\u6a21\u5f0f\u4e0b\uff0c\u7a97\u53e3\u4e3a\u7a7a\u65f6\u5c55\u793a\u7684\u5360\u4f4d\u7ec4\u4ef6"}},m=function e(t,n){return t&&Object(i.P)(t)?void 0===t.enableStrictPluginMode||null===t.enableStrictPluginMode?n:t.enableStrictPluginMode:n},b,g=new(function(){function e(t){s(this,e),this.config={},this.waits=new Map,this.preference=void 0,this.config=t||{},this.preference=new u.a}return f(e,[{key:"has",value:function e(t){return void 0!==this.config[t]}},{key:"get",value:function e(t,n){return Object(r.get)(this.config,t,n)}},{key:"set",value:function e(t,n){this.config[t]=n,this.notifyGot(t)}},{key:"setConfig",value:function e(t){var n=this;t&&Object.keys(t).forEach((function(e){n.set(e,t[e])}))}},{key:"setEngineOptions",value:function e(t){var n=this,r;if(t&&Object(i.P)(t))if(!0===m(t,!0)){var o=function e(t){var n=y[t];return!(null==n)};Object.keys(t).forEach((function(e){o(e)?n.set(e,t[e]):d.warn("failed to config ".concat(e," to engineConfig, only predefined options can be set under strict mode, predefined options: "),y)}))}else this.setConfig(t)}},{key:"onceGot",value:function e(t){var n=this,r=this.config[t];return void 0!==r?Promise.resolve(r):new Promise((function(e){n.setWait(t,e,!0)}))}},{key:"onGot",value:function e(t,n){var r,o=this,i=null===(r=this.config)||void 0===r?void 0:r[t];return void 0!==i&&n(i),this.setWait(t,n),function(){o.delWait(t,n)}}},{key:"notifyGot",value:function e(t){var n=this.waits.get(t);if(n){for(var r=(n=n.slice().reverse()).length;r--;)n[r].resolve(this.get(t)),n[r].once&&n.splice(r,1);n.length>0?this.waits.set(t,n):this.waits.delete(t)}}},{key:"setWait",value:function e(t,n,r){var o=this.waits.get(t);o?o.push({resolve:n,once:r}):this.waits.set(t,[{resolve:n,once:r}])}},{key:"delWait",value:function e(t,n){var r=this.waits.get(t);if(r){for(var o=r.length;o--;)r[o].resolve===n&&r.splice(o,1);r.length<1&&this.waits.delete(t)}}},{key:"getPreference",value:function e(){return this.preference}}]),e}())},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(73),t),o(n(34),t),o(n(79),t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2);function o(e){return new r.e(e)}},function(e,t,n){var r=n(63),o=n(64),i=[n(71)];e.exports=r.createStore(o,i)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=e.exports={},r,o;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var s=[],l=!1,f,p=-1;function h(){l&&f&&(l=!1,f.length?s=f.concat(s):p=-1,s.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=s.length;t;){for(f=s,s=[];++p<t;)f&&f[p].run();p=-1,t=s.length}f=null,l=!1,c(e)}}function v(e,t){this.fun=e,this.array=t}function y(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new v(e,t)),1!==s.length||l||u(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(76),t),o(n(24),t)},function(e,t){const n=Object.freeze({loose:!0}),r=Object.freeze({}),o=e=>e?"object"!=typeof e?n:e:r;e.exports=o},function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r}=n(37),o=n(26),i=(t=e.exports={}).re=[],a=t.src=[],u=t.t={};let c=0;const s=(e,t,n)=>{const r=c++;o(e,r,t),u[e]=r,a[r]=t,i[r]=new RegExp(t,n?"g":void 0)};s("NUMERICIDENTIFIER","0|[1-9]\\d*"),s("NUMERICIDENTIFIERLOOSE","[0-9]+"),s("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),s("MAINVERSION",`(${a[u.NUMERICIDENTIFIER]})\\.(${a[u.NUMERICIDENTIFIER]})\\.(${a[u.NUMERICIDENTIFIER]})`),s("MAINVERSIONLOOSE",`(${a[u.NUMERICIDENTIFIERLOOSE]})\\.(${a[u.NUMERICIDENTIFIERLOOSE]})\\.(${a[u.NUMERICIDENTIFIERLOOSE]})`),s("PRERELEASEIDENTIFIER",`(?:${a[u.NUMERICIDENTIFIER]}|${a[u.NONNUMERICIDENTIFIER]})`),s("PRERELEASEIDENTIFIERLOOSE",`(?:${a[u.NUMERICIDENTIFIERLOOSE]}|${a[u.NONNUMERICIDENTIFIER]})`),s("PRERELEASE",`(?:-(${a[u.PRERELEASEIDENTIFIER]}(?:\\.${a[u.PRERELEASEIDENTIFIER]})*))`),s("PRERELEASELOOSE",`(?:-?(${a[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[u.PRERELEASEIDENTIFIERLOOSE]})*))`),s("BUILDIDENTIFIER","[0-9A-Za-z-]+"),s("BUILD",`(?:\\+(${a[u.BUILDIDENTIFIER]}(?:\\.${a[u.BUILDIDENTIFIER]})*))`),s("FULLPLAIN",`v?${a[u.MAINVERSION]}${a[u.PRERELEASE]}?${a[u.BUILD]}?`),s("FULL",`^${a[u.FULLPLAIN]}$`),s("LOOSEPLAIN",`[v=\\s]*${a[u.MAINVERSIONLOOSE]}${a[u.PRERELEASELOOSE]}?${a[u.BUILD]}?`),s("LOOSE",`^${a[u.LOOSEPLAIN]}$`),s("GTLT","((?:<|>)?=?)"),s("XRANGEIDENTIFIERLOOSE",a[u.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),s("XRANGEIDENTIFIER",a[u.NUMERICIDENTIFIER]+"|x|X|\\*"),s("XRANGEPLAIN",`[v=\\s]*(${a[u.XRANGEIDENTIFIER]})(?:\\.(${a[u.XRANGEIDENTIFIER]})(?:\\.(${a[u.XRANGEIDENTIFIER]})(?:${a[u.PRERELEASE]})?${a[u.BUILD]}?)?)?`),s("XRANGEPLAINLOOSE",`[v=\\s]*(${a[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[u.XRANGEIDENTIFIERLOOSE]})(?:${a[u.PRERELEASELOOSE]})?${a[u.BUILD]}?)?)?`),s("XRANGE",`^${a[u.GTLT]}\\s*${a[u.XRANGEPLAIN]}$`),s("XRANGELOOSE",`^${a[u.GTLT]}\\s*${a[u.XRANGEPLAINLOOSE]}$`),s("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),s("COERCERTL",a[u.COERCE],!0),s("LONETILDE","(?:~>?)"),s("TILDETRIM",`(\\s*)${a[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",s("TILDE",`^${a[u.LONETILDE]}${a[u.XRANGEPLAIN]}$`),s("TILDELOOSE",`^${a[u.LONETILDE]}${a[u.XRANGEPLAINLOOSE]}$`),s("LONECARET","(?:\\^)"),s("CARETTRIM",`(\\s*)${a[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",s("CARET",`^${a[u.LONECARET]}${a[u.XRANGEPLAIN]}$`),s("CARETLOOSE",`^${a[u.LONECARET]}${a[u.XRANGEPLAINLOOSE]}$`),s("COMPARATORLOOSE",`^${a[u.GTLT]}\\s*(${a[u.LOOSEPLAIN]})$|^$`),s("COMPARATOR",`^${a[u.GTLT]}\\s*(${a[u.FULLPLAIN]})$|^$`),s("COMPARATORTRIM",`(\\s*)${a[u.GTLT]}\\s*(${a[u.LOOSEPLAIN]}|${a[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",s("HYPHENRANGE",`^\\s*(${a[u.XRANGEPLAIN]})\\s+-\\s+(${a[u.XRANGEPLAIN]})\\s*$`),s("HYPHENRANGELOOSE",`^\\s*(${a[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[u.XRANGEPLAINLOOSE]})\\s*$`),s("STAR","(<|>)?=?\\s*\\*"),s("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),s("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(e,t){const n="2.0.0",r=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,a=["major","premajor","minor","preminor","patch","prepatch","prerelease"];e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_INTEGER:o,RELEASE_TYPES:a,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},function(e,t,n){const r=n(26),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(37),{re:a,t:u}=n(36),c=n(35),{compareIdentifiers:s}=n(102);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?a[u.LOOSE]:a[u.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),s(this.major,e.major)||s(this.minor,e.minor)||s(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===s(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}e.exports=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(2);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=f(e,"string");return"symbol"===p(t)?t:String(t)}function f(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=new Map;function d(e,t){if("object"!==p(e)){if(t){if(Object(r.y)(t)&&(t={component:t,title:t.displayName||t.name||"CustomSetter"}),!t.initialValue){var n=v(t.component);n&&(t.initialValue=function(e){return n.call(e,e.getValue())})}h.set(e,c({type:e},t))}}else Object.keys(e).forEach((function(t){d(t,e[t])}))}function v(e){return e&&(e.initial||e.Initial||e.type&&(e.type.initial||e.type.Initial))||null}var y=i((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";a(this,e),this.viewName=void 0,this.settersMap=new Map,this.getSetter=function(e){return t.settersMap.get(e)||null},this.registerSetter=function(e,n){if("object"!==p(e)){if(n){if(Object(r.y)(n)&&(n={component:n,title:n.displayName||n.name||"CustomSetter"}),!n.initialValue){var o=v(n.component);o&&(n.initialValue=function(e){return o.call(e,e.getValue())})}t.settersMap.set(e,c({type:e},n))}}else Object.keys(e).forEach((function(n){t.registerSetter(n,e[n])}))},this.getSettersMap=function(){return t.settersMap},this.createSetterContent=function(e,n){if("string"==typeof e){if(!(e=t.getSetter(e)))return null;e.defaultProps&&(n=c(c({},e.defaultProps),n)),e=e.component}return"value"in n&&void 0===n.value&&delete n.value,Object(r.m)(e,n)},this.viewName=n}))},function(e,t,n){"use strict";n.d(t,"globalContext",(function(){return i}));var r=n(29),o=n.n(r);n.o(r,"Hotkey")&&n.d(t,"Hotkey",(function(){return r.Hotkey})),n.o(r,"Tip")&&n.d(t,"Tip",(function(){return r.Tip})),n.o(r,"TipContainer")&&n.d(t,"TipContainer",(function(){return r.TipContainer})),n.o(r,"Title")&&n.d(t,"Title",(function(){return r.Title})),n.o(r,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return r.createModuleEventBus})),n.o(r,"engineConfig")&&n.d(t,"engineConfig",(function(){return r.engineConfig}));var i=r.IocContext.DefaultInstance},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSuperClassInfo=void 0;var r=n(23);function o(e){if(!(0,r.isClass)(e))throw new Error("need a classType.");for(var t=[],n=Object.getPrototypeOf(e);(0,r.isClass)(n);){var o=(0,r.getGlobalType)(n);t.push({type:o,class:n}),n=Object.getPrototypeOf(n)}return t}t.getSuperClassInfo=o},function(e,t,n){"use strict";function r(e,t){var n;void 0===t&&(t={});try{return e()}catch(e){return null===(n=t.onError)||void 0===n||n.call(t,e),t.defaultValue}}Object.defineProperty(t,"__esModule",{value:!0}),t.guard=void 0,t.guard=r},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.OutLevel=void 0,function(e){e[e.Log=0]="Log",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.None=4]="None"}(o=t.OutLevel||(t.OutLevel={}));var i=function(){function e(){this.outLevel=o.Warn}return e.prototype.setOutLevel=function(e){this.outLevel=e},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Error&&console.error.apply(console,r([e],t,!1))},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Info&&console.info.apply(console,r([e],t,!1))},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Log&&console.log.apply(console,r([e],t,!1))},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Warn&&console.warn.apply(console,r([e],t,!1))},e}();t.Logger=i;var a=new i;t.default=a},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return c([e,t])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,o=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){n=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(6===a[0]&&n.label<i[1]){n.label=i[1],i=a;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(a);break}i[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e],o=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.aspect=t.genAspectWrapper=void 0;var o=n(13),i=function e(){},a=function(){return r(this,(function(e){return[2]}))},u=Object.getPrototypeOf(i),c=Object.getPrototypeOf(a);function s(e){return"function"==typeof e&&u!==c&&Object.getPrototypeOf(e)===c}function l(e,t){e&&e(t)}function f(e,t,n,r){return{ioc:e,functionName:n.__name||n.name,inst:t,data:{},args:r}}function p(e,t,n){var o;return(o=s(n)?function(){var o,i,a,u,c=[];for(o=0;o<arguments.length;o++)c[o]=arguments[o];return r(this,(function(r){switch(r.label){case 0:i=f(e,this,n,c),r.label=1;case 1:return r.trys.push([1,4,,5]),l(t.before,i),i.skipRunning?[3,3]:(a=i,[4,n.apply(this,i.args)]);case 2:a.ret=r.sent(),r.label=3;case 3:return l(t.after,i),[2,i.ret];case 4:if(u=r.sent(),i.err=u,l(t.error,i),i.err)throw i.err;return[3,5];case 5:return[2]}}))}:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=f(e,this,n,r);try{return l(t.before,i),i.skipRunning||(i.ret=n.apply(this,i.args)),i.ret instanceof Promise?(i.ret=i.ret.then((function(e){return i.ret=e,l(t.after,i),i.ret})),t.error&&(i.ret=i.ret.catch((function(e){if(i.err=e,l(t.error,i),i.err)throw i.err}))),i.ret):(l(t.after,i),i.ret)}catch(e){if(i.err=e,l(t.error,i),i.err)throw i.err}}).__name=n.__name||n.name,o}function h(e){return void 0===e&&(e={}),function(t,n){(0,o.getMetadata)(t.constructor).aspects.push({key:n,point:e})}}t.genAspectWrapper=p,t.aspect=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n(8),o=n.n(r),i=n(20);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function c(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=d(e,"string");return"symbol"===a(t)?t:String(t)}function d(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}for(var v={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},y={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},m={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},b={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},g,w=1;w<20;++w)v[111+w]="f".concat(w);for(var O=0;O<=9;++O)v[O+96]=String(O);function j(e){var t=e.keyCode||e.which;if("keypress"===e.type){var n=String.fromCharCode(t);return e.shiftKey||(n=n.toLowerCase()),n}return v[t]?v[t]:y[t]?y[t]:String.fromCharCode(t).toLowerCase()}function S(e){return"keypress"===e.type}function k(e,t){return e.sort().join(",")===t.sort().join(",")}function E(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function _(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}function P(){if(!g)for(var e in g={},v)Number(e)>95&&Number(e)<112||v.hasOwnProperty(e)&&(g[v[e]]=e);return g}function x(e,t,n){return n||(n=P()[e]?"keydown":"keypress"),"keypress"===n&&t.length&&(n="keydown"),n}function N(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}function C(e,t){var n=[],r="",o,i=[];for(n=N(e),o=0;o<n.length;++o)r=n[o],b[r]&&(r=b[r]),t&&"keypress"!==t&&m[r]&&(r=m[r],i.push("shift")),_(r)&&i.push(r);return{key:r,modifiers:i,action:t=x(r,i,t)}}function T(e,t,n,r){try{var o,a,u,c,s,l=i.globalContext.get("workspace"),f=l.isActive?null===(o=l.window)||void 0===o?void 0:o.editor:i.globalContext.get("editor"),p=null==f?void 0:f.get("designer"),h=null==p||null===(a=p.currentSelection)||void 0===a||null===(u=a.getNodes())||void 0===u?void 0:u[0],d=null==h||null===(c=h.componentMeta)||void 0===c?void 0:c.npm,v=[null==d?void 0:d.package,null==d?void 0:d.componentName].filter((function(e){return!!e})).join("-")||(null==h||null===(s=h.componentMeta)||void 0===s?void 0:s.componentName)||"";!1===e(t,n)&&(t.preventDefault(),t.stopPropagation()),null==f||f.eventBus.emit("hotkey.callback.call",{callback:e,e:t,combo:n,sequence:r,selected:v})}catch(e){console.error(e.message)}}var L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";l(this,e),this.viewName=void 0,this.callBacks={},this.directMap={},this.sequenceLevels={},this.resetTimer=0,this.ignoreNextKeyup=!1,this.ignoreNextKeypress=!1,this.nextExpectedAction=!1,this.isActivate=!0,this.viewName=t,this.mount(window)}return p(e,[{key:"activate",value:function e(t){this.isActivate=t}},{key:"mount",value:function e(t){var n=t.document,r=this.handleKeyEvent.bind(this);return n.addEventListener("keypress",r,!1),n.addEventListener("keydown",r,!1),n.addEventListener("keyup",r,!1),function(){n.removeEventListener("keypress",r,!1),n.removeEventListener("keydown",r,!1),n.removeEventListener("keyup",r,!1)}}},{key:"bind",value:function e(t,n,r){return this.bindMultiple(Array.isArray(t)?t:[t],n,r),this}},{key:"unbind",value:function e(t,n,o){var i=this,a;(Array.isArray(t)?t:[t]).forEach((function(e){var t=C(e,o),a=t.key,u=t.modifiers,c=i.callBacks[a].findIndex((function(e){return Object(r.isEqual)(e.modifiers,u)&&e.callback===n}));-1!==c&&i.callBacks[a].splice(c,1)}))}},{key:"resetSequences",value:function e(t){var n=!1,r="";for(r in this.sequenceLevels)t&&t[r]?n=!0:this.sequenceLevels[r]=0;n||(this.nextExpectedAction=!1)}},{key:"getMatches",value:function e(t,n,r,o,i,a){var u,c,s=[],l=r.type;if(!this.callBacks[t])return[];for("keyup"===l&&_(t)&&(n=[t]),u=0;u<this.callBacks[t].length;++u)if(c=this.callBacks[t][u],(o||!c.seq||this.sequenceLevels[c.seq]===c.level)&&l===c.action&&(S(r)&&!r.metaKey&&!r.ctrlKey||k(n,c.modifiers))){var f=!o&&c.combo===i,p=o&&c.seq===o&&c.level===a;(f||p)&&this.callBacks[t].splice(u,1),s.push(c)}return s}},{key:"handleKey",value:function e(t,n,r){var o=this.getMatches(t,n,r),i,a={},u=0,c=!1;for(i=0;i<o.length;++i)o[i].seq&&(u=Math.max(u,o[i].level||0));for(i=0;i<o.length;++i)if(o[i].seq){if(o[i].level!==u)continue;c=!0,a[o[i].seq||""]=1,T(o[i].callback,r,o[i].combo,o[i].seq)}else c||T(o[i].callback,r,o[i].combo);var s="keypress"===r.type&&this.ignoreNextKeypress;r.type!==this.nextExpectedAction||_(t)||s||this.resetSequences(a),this.ignoreNextKeypress=c&&"keydown"===r.type}},{key:"handleKeyEvent",value:function e(t){if(this.isActivate){var n=j(t);n&&("keyup"!==t.type||this.ignoreNextKeyup!==n?this.handleKey(n,E(t),t):this.ignoreNextKeyup=!1)}}},{key:"resetSequenceTimer",value:function e(){this.resetTimer&&clearTimeout(this.resetTimer),this.resetTimer=window.setTimeout(this.resetSequences,1e3)}},{key:"bindSequence",value:function e(t,n,r,o){var i=this;this.sequenceLevels[t]=0;for(var a=function e(n){return function(){i.nextExpectedAction=n,++i.sequenceLevels[t],i.resetSequenceTimer()}},u=function e(n){T(r,n,t),"keyup"!==o&&(i.ignoreNextKeyup=j(n)),setTimeout(i.resetSequences,10)},c=0;c<n.length;++c){var s,l=c+1===n.length?u:a(o||C(n[c+1]).action);this.bindSingle(n[c],l,o,t,c)}}},{key:"bindSingle",value:function e(t,n,r,o,i){this.directMap["".concat(t,":").concat(r)]=n;var a=(t=t.replace(/\s+/g," ")).split(" ");if(a.length>1)this.bindSequence(t,a,n,r);else{var u=C(t,r);this.callBacks[u.key]=this.callBacks[u.key]||[],this.getMatches(u.key,u.modifiers,{type:u.action},o,t,i),this.callBacks[u.key][o?"unshift":"push"]({callback:n,modifiers:u.modifiers,action:u.action,seq:o,level:i,combo:t})}}},{key:"bindMultiple",value:function e(t,n,r){var o=u(t),i;try{for(o.s();!(i=o.n()).done;){var a=i.value;this.bindSingle(a,n,r)}}catch(e){o.e(e)}finally{o.f()}}}]),e}()},function(e,t,n){class r{constructor(e,t){if(t=a(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof u)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!m(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=undefined,n=((this.options.includePrerelease&&v)|(this.options.loose&&y))+":"+e,r=i.get(n);if(r)return r;const o=this.options.loose,a=o?l[f.HYPHENRANGELOOSE]:l[f.HYPHENRANGE];e=e.replace(a,C(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(l[f.COMPARATORTRIM],p),c("comparator trim",e);let s=(e=(e=(e=e.replace(l[f.TILDETRIM],h)).replace(l[f.CARETTRIM],d)).split(/\s+/).join(" ")).split(" ").map(e=>w(e,this.options)).join(" ").split(/\s+/).map(e=>N(e,this.options));o&&(s=s.filter(e=>(c("loose invalid filter",e,this.options),!!e.match(l[f.COMPARATORLOOSE])))),c("range list",s);const b=new Map,g=s.map(e=>new u(e,this.options));for(const e of g){if(m(e))return[e];b.set(e.value,e)}b.size>1&&b.has("")&&b.delete("");const O=[...b.values()];return i.set(n,O),O}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>g(n,t)&&e.set.some(e=>g(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const o=undefined,i=new(n(96))({max:1e3}),a=n(35),u=n(99),c=n(26),s=n(38),{re:l,t:f,comparatorTrimReplace:p,tildeTrimReplace:h,caretTrimReplace:d}=n(36),{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:y}=n(37),m=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,g=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every(e=>o.intersects(e,t)),o=r.pop();return n},w=(e,t)=>(c("comp",e,t),e=k(e,t),c("caret",e),e=j(e,t),c("tildes",e),e=_(e,t),c("xrange",e),e=x(e,t),c("stars",e),e),O=e=>!e||"x"===e.toLowerCase()||"*"===e,j=(e,t)=>e.trim().split(/\s+/).map(e=>S(e,t)).join(" "),S=(e,t)=>{const n=t.loose?l[f.TILDELOOSE]:l[f.TILDE];return e.replace(n,(t,n,r,o,i)=>{let a;return c("tilde",e,t,n,r,o,i),O(n)?a="":O(r)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:O(o)?a=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(c("replaceTilde pr",i),a=`>=${n}.${r}.${o}-${i} <${n}.${+r+1}.0-0`):a=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,c("tilde return",a),a})},k=(e,t)=>e.trim().split(/\s+/).map(e=>E(e,t)).join(" "),E=(e,t)=>{c("caret",e,t);const n=t.loose?l[f.CARETLOOSE]:l[f.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,o,i,a)=>{let u;return c("caret",e,t,n,o,i,a),O(n)?u="":O(o)?u=`>=${n}.0.0${r} <${+n+1}.0.0-0`:O(i)?u="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:a?(c("replaceCaret pr",a),u="0"===n?"0"===o?`>=${n}.${o}.${i}-${a} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}-${a} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i}-${a} <${+n+1}.0.0-0`):(c("no pr"),u="0"===n?"0"===o?`>=${n}.${o}.${i}${r} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i} <${+n+1}.0.0-0`),c("caret return",u),u})},_=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map(e=>P(e,t)).join(" ")),P=(e,t)=>{e=e.trim();const n=t.loose?l[f.XRANGELOOSE]:l[f.XRANGE];return e.replace(n,(n,r,o,i,a,u)=>{c("xRange",e,n,r,o,i,a,u);const s=O(o),l=s||O(i),f=l||O(a),p=f;return"="===r&&p&&(r=""),u=t.includePrerelease?"-0":"",s?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(i=0),a=0,">"===r?(r=">=",l?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===r&&(r="<",l?o=+o+1:i=+i+1),"<"===r&&(u="-0"),n=`${r+o}.${i}.${a}${u}`):l?n=`>=${o}.0.0${u} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${i}.0${u} <${o}.${+i+1}.0-0`),c("xRange return",n),n})},x=(e,t)=>(c("replaceStars",e,t),e.trim().replace(l[f.STAR],"")),N=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?f.GTE0PRE:f.GTE0],"")),C=e=>(t,n,r,o,i,a,u,c,s,l,f,p,h)=>`${n=O(r)?"":O(o)?`>=${r}.0.0${e?"-0":""}`:O(i)?`>=${r}.${o}.0${e?"-0":""}`:a?">="+n:`>=${n}${e?"-0":""}`} ${c=O(s)?"":O(l)?`<${+s+1}.0.0-0`:O(f)?`<${s}.${+l+1}.0-0`:p?`<=${s}.${l}.${f}-${p}`:e?`<${s}.${l}.${+f+1}-0`:"<="+c}`.trim(),T=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(c(e[n].semver),e[n].semver!==u.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},function(e,t,n){},function(e,t,n){},function(e){e.exports=JSON.parse('{"Initializing":"Initializing","Hide":"Hide","Show":"Show","Lock":"Lock","Unlock":"Unlock","Expand":"Expand","Collapse":"Collapse","Conditional":"Condition","Loop":"Loop","Slots":"Slots","Slot for {prop}":"Slot for {prop}","Outline Tree":"Outline Tree","Filter Node":"Filter Node","Check All":"Check All","Conditional rendering":"Conditional rendering","Loop rendering":"Loop rendering","Locked":"Locked","Hidden":"Hidden","Modal View":"Modal View","Rename":"Rename","Delete":"Delete"}')},function(e){e.exports=JSON.parse('{"Initializing":"\u6b63\u5728\u521d\u59cb\u5316","Hide":"\u9690\u85cf","Show":"\u663e\u793a","Lock":"\u9501\u5b9a","Unlock":"\u89e3\u9501","Expand":"\u5c55\u5f00","Collapse":"\u6536\u8d77","Conditional":"\u6761\u4ef6\u5f0f","Loop":"\u5faa\u73af","Slots":"\u63d2\u69fd","Slot for {prop}":"\u5c5e\u6027 {prop} \u7684\u63d2\u69fd","Outline Tree":"\u5927\u7eb2\u6811","Filter Node":"\u8fc7\u6ee4\u8282\u70b9","Check All":"\u5168\u9009","Conditional rendering":"\u6761\u4ef6\u6e32\u67d3","Loop rendering":"\u5faa\u73af\u6e32\u67d3","Locked":"\u5df2\u9501\u5b9a","Hidden":"\u5df2\u9690\u85cf","Modal View":"\u6a21\u6001\u89c6\u56fe\u5c42","Rename":"\u91cd\u547d\u540d","Delete":"\u5220\u9664"}')},function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return Z})),n.d(t,"c",(function(){return ye}));var r=n(86),o=n(25),i=n(3),a=n(10),u=n.n(a),c=n(5),s=n.n(c),l=n(15);function f(e,t){return y(e)||v(e,t)||h(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function y(e){if(Array.isArray(e))return e}function m(e,t,n,r){var o=n.width>t.width?(n.width-t.width)/2:0,i=n.width>t.height?(n.width-t.height)/2:0,a,u,c,s;return{top:Math.max(t.top-e.height+n.width-i,r.top),right:Math.min(t.right+e.width-n.width+o,r.right),bottom:Math.min(t.bottom+e.height-n.width+i,r.bottom),left:Math.max(t.left-e.width+n.width-o,r.left)}}function b(e,t,n,r,o){if(o.forceDirection)return o.dir;var i=e.width+e.extraOffset,a=e.height+e.extraOffset,u=e.width*a,c=e.height*i,s=Math.min(n.right-n.left,e.width),l=Math.min(n.bottom-n.top,e.height),f={top:function e(){var n=s*Math.min(t.top-r.top,a);return{s:n,enough:n>=u}},bottom:function e(){var n=s*Math.min(r.bottom-t.bottom,a);return{s:n,enough:n>=u}},left:function e(){var n=l*Math.min(t.left-r.left,i);return{s:n,enough:n>=c}},right:function e(){var n=l*Math.min(r.right-t.right,i);return{s:n,enough:n>=c}}},p=["top","right","bottom","left"];if(o.dir){var h=p.indexOf(o.dir);h>-1&&(p.splice(h,1),p.unshift(o.dir))}for(var d=0,v=p[0],y=0,m=p.length;y<m;y++){var b=p[y],g=f[b](),w=g.s,O;if(g.enough)return b;w>d&&(d=w,v=b)}return v}function g(e,t,n){if(!e)return t.left-n.left<10?{dir:"right"}:t.top-n.top<10?{dir:"bottom"}:n.bottom-t.bottom<10?{dir:"top"}:n.right-t.right<10?{dir:"left"}:{};var r="!"===e[0];r&&(e=e.slice(1));var o,i=f(e.split(/\s+/),2),a=i[0],u=i[1],c=!1,s=!1;return"center"===a&&(a="auto",u||(u="center")),r&&(a&&"auto"!==a&&(c=!0),u&&"auto"!==u&&(s=!0)),{dir:a,offset:u,forceDirection:c,forceOffset:s}}function w(e,t,n,r,o){e={extraOffset:n.height,top:e.top,right:e.right,left:e.left,bottom:e.bottom,height:e.height,width:e.width};var i=g(o,t,r),a=m(e,t,n,r),u=b(e,t,a,r,i),c,s,l,f;if("top"===u||"bottom"===u){c="top"===u?t.top-e.extraOffset-e.height:t.bottom+e.extraOffset;var p=n.width>t.width?(n.width-t.width)/2:0,h=t.left+n.width-p-e.width,d=t.right-n.width+p,v=t.left-(e.width-t.width)/2;s="left"===i.offset?h:"right"===i.offset?d:v,i.forceOffset||(s=Math.max(Math.min(a.right-e.width,s),h),s=Math.min(Math.max(a.left,s),d)),f=Math.min(e.width-n.width,Math.max(t.left-(n.width-t.width)/2-s,0))}else{s="left"===u?t.left-e.extraOffset-e.width:t.right+e.extraOffset;var y=n.width>t.height?(n.width-t.height)/2:0,w=t.top+n.width-y-e.height,O=t.bottom-n.width+y,j=t.top-(e.height-t.height)/2;c="top"===i.offset?w:"bottom"===i.offset?O:j,i.forceOffset||(c=Math.max(Math.min(a.bottom-e.height,c),w),c=Math.min(Math.max(a.top,c),O)),l=Math.min(e.height-n.height,Math.max(t.top-(n.width-t.height)/2-c,0))}return{dir:u,left:s,top:c,arrowLeft:f,arrowTop:l}}var O={right:1,left:0,top:0,bottom:1,center:.5};function j(e){return/^[\d.]+%$/.test(e)}function S(e,t,n){return e?j(e)?e=parseFloat(e)/100*n:O.hasOwnProperty(e)?e=O[e]*n:(e=parseFloat(e),isNaN(e)&&(e=0)):e=0,"".concat(e+t,"px")}function k(e,t,n){if(!e)return{top:"38.2%",left:"calc(50% - 110px)"};var r,o=f(e.trim().split(/\s+/),2),i=o[0],a=o[1];if("top"===i||"bottom"===i||"left"===a||"right"===a){var u=i;i=a,a=u}return"center"!==i||a||(a="center"),{left:S(i,0,n.right-n.left-t.width),top:S(a,0,n.bottom-n.top-t.height)}}var E=n(11);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function N(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e){var t=T(e,"string");return"symbol"===_(t)?t:String(t)}function T(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function A(e){var t=I();return function n(){var r=B(e),o;if(t){var i=B(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return M(this,o)}}function M(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var V=function(e){L(n,e);var t=A(n);function n(e){var r;return P(this,n),(r=t.call(this,e)).dispose=void 0,r.timer=null,r.shell=null,r.originClassName="",r.dispose=E.b.onChange((function(){return r.forceUpdate()})),r}return N(n,[{key:"shouldComponentUpdate",value:function e(){return!1}},{key:"componentDidMount",value:function e(){this.updateTip()}},{key:"componentDidUpdate",value:function e(){this.updateTip()}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose(),this.clearTimer()}},{key:"clearTimer",value:function e(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"updateTip",value:function e(){if(this.shell){var t=this.shell,n=t.querySelector(".lc-arrow");t.className=this.originClassName,t.style.cssText="",n.style.cssText="",this.clearTimer();var r=E.b.tip;if(r){var o=r.target,i=r.direction,a=o.getBoundingClientRect();if(0!==a.width&&0!==a.height){var u=t.getBoundingClientRect(),c={left:1,top:1,right:document.documentElement.clientWidth-1,bottom:document.documentElement.clientHeight-1},s,l=w(u,a,n.getBoundingClientRect(),c,i),f=l.dir,p=l.left,h=l.top,d=l.arrowLeft,v=l.arrowTop;t.classList.add("lc-align-".concat(f)),t.style.top="".concat(h,"px"),t.style.left="".concat(p,"px"),t.style.width="".concat(u.width,"px"),t.style.height="".concat(u.height,"px"),"top"===f||"bottom"===f?n.style.left="".concat(d,"px"):n.style.top="".concat(v,"px"),this.timer=window.setTimeout((function(){t.classList.add("lc-visible-animate"),t.style.transform="none"}),10)}}}}},{key:"render",value:function e(){var t=this,n=E.b.tip||{},r=s()("lc-tip",n.className,n&&n.theme?"lc-theme-".concat(n.theme):null);return this.originClassName=r,React.createElement("div",{className:r,ref:function e(n){t.shell=n}},React.createElement("i",{className:"lc-arrow"}),React.createElement("div",{className:"lc-tip-content"},Object(l.c)(n.children)))}}]),n}(i.Component);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z(r.key),r)}}function U(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z(e){var t=W(e,"string");return"symbol"===F(t)?t:String(t)}function W(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Y(e){var t=J();return function n(){var r=Q(e),o;if(t){var i=Q(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return K(this,o)}}function K(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Z=function(e){$(n,e);var t=Y(n);function n(){var e;G(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).dispose=void 0,e}return U(n,[{key:"shouldComponentUpdate",value:function e(){return!1}},{key:"componentDidMount",value:function e(){var t=function e(t){return E.b.setTarget(t.target)},n=function e(){return E.b.hideImmediately()};document.addEventListener("mouseover",t,!1),document.addEventListener("mousedown",n,!0),this.dispose=function(){document.removeEventListener("mouseover",t,!1),document.removeEventListener("mousedown",n,!0)}}},{key:"UNSAFE_componentWillMount",value:function e(){this.dispose&&this.dispose()}},{key:"render",value:function e(){return u.a.createPortal(React.createElement("div",{className:"lc-tips-container"},React.createElement(V,null)),document.querySelector("body"))}}]),n}(i.Component),ee=n(2),te=n(87);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ae(r.key),r)}}function ie(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ae(e){var t=ue(e,"string");return"symbol"===ne(t)?t:String(t)}function ue(e,t){if("object"!==ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}function se(e,t){return(se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function le(e){var t=he();return function n(){var r=de(e),o;if(t){var i=de(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return fe(this,o)}}function fe(e,t){if(t&&("object"===ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pe(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ve(e,t){for(var n=t.length,r=[],o=e;o.length>0;){var i=o.indexOf(t);0===i?(r.push(t),o=o.slice(n)):i<0?(r.push(o),o=""):(r.push(o.slice(0,i)),o=o.slice(i))}return r}var ye=function(e){ce(n,e);var t=le(n);function n(e){var r;return re(this,n),(r=t.call(this,e)).renderLabel=function(e){var t=r.props,n=t.match,o=t.keywords;if(!e)return null;var i=Object(l.c)(e);if("string"!=typeof i)return React.createElement("span",{className:"lc-title-txt"},i);var a=i,u;n&&o&&(a=ve(i,o).map((function(e){return React.createElement("span",{style:{color:e===o?"red":"inherit"}},e)})));return React.createElement("span",{className:"lc-title-txt"},a)},r.handleClick=r.handleClick.bind(pe(r)),r}return ie(n,[{key:"handleClick",value:function e(t){var n=this.props,r=n.title,o=n.onClick,i=r&&(r.docUrl||r.url);i&&(window.open(i),t.stopPropagation()),o&&o(t)}},{key:"render",value:function e(){var t=this.props,n=t.title,r=t.className,a;if(null==n)return null;if(Object(i.isValidElement)(n))return n;var u=(a="string"==typeof n||Object(ee.G)(n)?{label:n}:Object(ee.X)(n)?n:{label:n}).icon?Object(ee.n)(a.icon,{size:20}):null,c=null;if(a.tip)if(Object(i.isValidElement)(a.tip)&&a.tip.type===o.a)c=a.tip;else{var l="object"!==ne(a.tip)||Object(i.isValidElement)(a.tip)||Object(ee.G)(a.tip)?{children:a.tip}:a.tip;c=React.createElement(o.a,l)}return React.createElement("span",{className:s()("lc-title",r,a.className,{"has-tip":!!c,"only-icon":!a.label}),onClick:this.handleClick},u?React.createElement("b",{className:"lc-title-icon"},u):null,this.renderLabel(a.label),c)}}]),n}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return R}));var r=n(0),o=n(9),i=n(14),a=n(28),u=n(15),c=n(17),s=n(2);function l(e){var t=e.components,n,r=(e.packages||[]).reduce((function(e,t){var n;return e[t.id||t.package||""]=t,e}),{});return t.forEach((function(e){var t=e.devMode,n=e.schema,o=e.reference;if("lowcode"===t?t="lowCode":"proCode"===t&&(t="proCode"),t&&(e.devMode=t),"lowCode"===t&&!n&&o){var i=o.id||"";e.schema=r[i].schema}})),e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),u=new P(o||[]);return r(a,"_invoke",{value:S(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var h={};function d(){}function v(){}function y(){}var m={};c(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&n.call(g,i)&&(m=g);var w=y.prototype=d.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,p=s.value;return p&&"object"==f(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function S(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=k(a,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},O(j.prototype),c(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new j(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,P.prototype={constructor:P,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),h},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function h(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,u,"next",e)}function u(e){h(i,r,o,a,u,"throw",e)}a(void 0)}))}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function w(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e){var t=j(e,"string");return"symbol"===f(t)?t:String(t)}function j(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function E(e){var t=x();return function n(){var r=N(e),o;if(t){var i=N(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return _(this,o)}}function _(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}o.EventEmitter.defaultMaxListeners=100;var C=["designer","skeleton","currentDocument","simulator","plugins","setters","material","innerHotkey","innerPlugins"],T={},L=function(e){S(n,e);var t=E(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b(this,n),(e=t.call(this)).viewName=void 0,e.workspaceMode=void 0,e.context=new Map,e.config=void 0,e.eventBus=void 0,e.components=void 0,e.hooks=[],e.waits=new Map,e.initHooks=function(t){return e.hooks=t.map((function(t){return y(y({},t),{},{handler:t.handler.bind(P(e),P(e))})})),e.hooks},e.registerHooks=function(t){e.initHooks(t).forEach((function(t){var n=t.message,r=t.type,o=t.handler;-1!==["on","once"].indexOf(r)&&e[r](n,o)}))},e.unregisterHooks=function(){e.hooks.forEach((function(t){var n=t.message,r=t.handler;e.removeListener(n,r)}))},e.viewName=r,e.workspaceMode=o,e.setMaxListeners(200),e.eventBus=new i.a(P(e)),e}return w(n,[{key:"locale",get:function e(){return u.b.getLocale()}},{key:"get",value:function e(t){return this.context.get(t)}},{key:"has",value:function e(t){return this.context.has(t)}},{key:"set",value:function e(t,n){if("assets"===t)return this.setAssets(n);C.includes(t)||a.a.set(t,n),this.context.set(t,n),this.notifyGot(t)}},{key:"setAssets",value:function(){var e=d(p().mark((function e(t){var n,r,o,i;return p().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(!(n=t.components)||!n.length){a.next=10;break}if(r=[],o=[],n.forEach((function(e){e&&(e.exportName&&e.url?o.push(e):r.push(e))})),t.components=r,t.componentList=t.componentList||[],!o||!o.length){a.next=10;break}return a.next=10,Promise.all(o.map(function(){var e=d(p().mark((function e(n){var r,o,i,a,u,c;return p().wrap((function e(l){for(;;)switch(l.prev=l.next){case 0:if(c=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.forEach((function(e,t){var o=[n,t.toString()].filter((function(e){return!!e})).join("."),i=[r,t.toString()].filter((function(e){return!!e})).join(".");Array.isArray(e)?c(e,o,i):u(e,{exportName:o,subName:i})}))},u=function e(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.components;t.componentList=null===(r=t.componentList)||void 0===r?void 0:r.concat(n.componentList||[]),Array.isArray(i)?i.forEach((function(e){t.components=t.components.concat(y({npm:y(y({},a),o)},e)||[])})):n.components&&(t.components=t.components.concat(y({npm:y(y({},a),o)},n.components)||[]))},o=n.exportName,i=n.url,a=n.npm,i&&o){l.next=5;break}return l.abrupt("return");case 5:if(T[o]&&null!=a&&a.version&&(null===(r=T[o].npm)||void 0===r?void 0:r.version)===(null==a?void 0:a.version)){l.next=8;break}return l.next=8,(new s.c).load(i);case 8:return T[o]=n,window[o]&&(Array.isArray(window[o])?c(window[o]):u(window[o])),l.abrupt("return",window[o]);case 11:case"end":return l.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:i=l(t),this.context.set("assets",i),this.notifyGot("assets");case 13:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onceGot",value:function e(t){var n=this,r=this.context.get(t);return void 0!==r?Promise.resolve(r):new Promise((function(e){n.setWait(t,e,!0)}))}},{key:"onGot",value:function e(t,n){var r=this,o=this.context.get(t);return void 0!==o&&n(o),this.setWait(t,n),function(){r.delWait(t,n)}}},{key:"onChange",value:function e(t,n){var r=this;return this.setWait(t,n),function(){r.delWait(t,n)}}},{key:"register",value:function e(t,n){this.context.set(n||t,t),this.notifyGot(n||t)}},{key:"init",value:function(){var e=d(p().mark((function e(t,n){var r,o,i,a,u;return p().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:return this.config=t||{},this.components=n||{},r=this.config,o=r.hooks,i=void 0===o?[]:o,a=r.lifeCycles,this.emit("editor.beforeInit"),u=a&&a.init||function(){},c.prev=5,c.next=8,u(this);case 8:return this.registerHooks(i),this.emit("editor.afterInit"),c.abrupt("return",!0);case 13:c.prev=13,c.t0=c.catch(5),console.error(c.t0);case 16:case"end":return c.stop()}}),e,this,[[5,13]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function e(){if(this.config)try{var t=this.config.lifeCycles,n=void 0===t?{}:t;this.unregisterHooks(),n.destroy&&n.destroy(this)}catch(e){console.warn(e)}}},{key:"notifyGot",value:function e(t){var n=this.waits.get(t);if(n){for(var r=(n=n.slice().reverse()).length;r--;)n[r].resolve(this.get(t)),n[r].once&&n.splice(r,1);n.length>0?this.waits.set(t,n):this.waits.delete(t)}}},{key:"setWait",value:function e(t,n,r){var o=this.waits.get(t);o?o.push({resolve:n,once:r}):this.waits.set(t,[{resolve:n,once:r}])}},{key:"delWait",value:function e(t,n){var r=this.waits.get(t);if(r){for(var o=r.length;o--;)r[o].resolve===n&&r.splice(o,1);r.length<1&&this.waits.delete(t)}}}]),n}(o.EventEmitter);Object(r.b)([c.j.shallow,Object(r.d)("design:type",Object)],L.prototype,"context",void 0);var R=new i.a(new o.EventEmitter)},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}}function u(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}function c(){try{return localStorage}catch(e){}}t.formatArgs=i,t.save=a,t.load=u,t.useColors=o,t.storage=c(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(61)(t);const{formatters:s}=e.exports;s.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(33))},function(e){e.exports=JSON.parse('{"copy":"Copy","remove":"Remove","hide":"Hide","lock":"Lock","unlock":"Unlock","Condition Group":"Condition Group","No opened document":"No opened document, open some document to editing","locked":"locked","Item":"Item"}')},function(e){e.exports=JSON.parse('{"copy":"\u590d\u5236","remove":"\u5220\u9664","hide":"\u9690\u85cf","lock":"\u9501\u5b9a","unlock":"\u89e3\u9501","Condition Group":"\u6761\u4ef6\u7ec4","No opened document":"\u6ca1\u6709\u6253\u5f00\u7684\u9875\u9762\uff0c\u8bf7\u9009\u62e9\u9875\u9762\u6253\u5f00\u7f16\u8f91","locked":"\u5df2\u9501\u5b9a","Item":"\u9879\u76ee"}')},function(e,t,n){const r=n(46),o=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)};e.exports=o},function(e){e.exports=JSON.parse('{"Binded: {expr}":"Binded: {expr}","Variable Binding":"Variable Binding","Switch Setter":"Switch Setter","Multiple Value, Click to Clear":"Multiple Value, Click to Clear","Required":"Required","Setted Value, Click to Clear":"Setted Value, Click to Clear","Multiple Value":"Multiple Value","Attribute: ":"Attribute: ","Description: ":"Description: ","Please select a node in canvas":"Please select a node in canvas","Current node is locked":"Current node is locked","No config found for this type of component":"No config found for this type of component","Please select same kind of components":"Please select same kind of components"}')},function(e){e.exports=JSON.parse('{"Binded: {expr}":"\u5df2\u7ed1\u5b9a\uff1a{expr}","Variable Binding":"\u53d8\u91cf\u7ed1\u5b9a","Switch Setter":"\u5207\u6362\u8bbe\u7f6e\u5668","Multiple Value, Click to Clear":"\u591a\u79cd\u503c\uff0c\u70b9\u51fb\u6e05\u9664","Required":"\u5fc5\u586b\u9879","Setted Value, Click to Clear":"\u5df2\u8bbe\u7f6e\u503c\uff0c\u70b9\u51fb\u6e05\u9664","Multiple Value":"\u591a\u79cd\u503c","Attribute: ":"\u5c5e\u6027\uff1a","Description: ":"\u8bf4\u660e\uff1a","Please select a node in canvas":"\u8bf7\u5728\u5de6\u4fa7\u753b\u5e03\u9009\u4e2d\u8282\u70b9","Current node is locked":"\u8be5\u8282\u70b9\u5df2\u88ab\u9501\u5b9a\uff0c\u65e0\u6cd5\u914d\u7f6e","No config found for this type of component":"\u8be5\u7ec4\u4ef6\u6682\u65e0\u914d\u7f6e","Please select same kind of components":"\u8bf7\u9009\u4e2d\u540c\u4e00\u7c7b\u578b\u8282\u70b9\u7f16\u8f91"}')},function(e,t,n){e.exports=n(117)},function(e,t,n){},function(e,t,n){function r(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let t,n=null,i,a;function u(...e){if(!u.enabled)return;const n=u,o=Number(new Date),i=o-(t||o);n.diff=i,n.prev=t,n.curr=o,t=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,o)=>{if("%%"===t)return"%";a++;const i=r.formatters[o];if("function"==typeof i){const r=e[a];t=i.call(n,r),e.splice(a,1),a--}return t}),r.formatArgs.call(n,e);const c=undefined;(n.log||r.log).apply(n,e)}return u.namespace=e,u.useColors=r.useColors(),u.color=r.selectColor(e),u.extend=o,u.destroy=r.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==n?n:(i!==r.namespaces&&(i=r.namespaces,a=r.enabled(e)),a),set:e=>{n=e}}),"function"==typeof r.init&&r.init(u),u}function o(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function i(e){let t;r.save(e),r.namespaces=e,r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.slice(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function a(){const e=[...r.names.map(c),...r.skips.map(c).map(e=>"-"+e)].join(",");return r.enable(""),e}function u(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function c(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function s(e){return e instanceof Error?e.stack||e.message:e}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.debug=r,r.default=r,r.coerce=s,r.disable=a,r.enable=i,r.enabled=u,r.humanize=n(62),r.destroy=l,Object.keys(e).forEach(t=>{r[t]=e[t]}),r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},function(e,t){var n=1e3,r=6e4,o=60*r,i=24*o,a=7*i,u=365.25*i;function c(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var c=parseFloat(t[1]),s;switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*u;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function s(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}function l(e){var t=Math.abs(e);return t>=i?f(e,t,i,"day"):t>=o?f(e,t,o,"hour"):t>=r?f(e,t,r,"minute"):t>=n?f(e,t,n,"second"):e+" ms"}function f(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return c(e);if("number"===n&&isFinite(e))return t.long?l(e):s(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(18),o=r.slice,i=r.pluck,a=r.each,u=r.bind,c=r.create,s=r.isList,l=r.isFunction,f=r.isObject;e.exports={createStore:d};var p={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return d.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return d(this.storage,this.plugins,e)}};function h(){var e="undefined"==typeof console?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}function d(e,t,n){n||(n=""),e&&!s(e)&&(e=[e]),t&&!s(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",d=n?new RegExp("^"+r):null,v;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var y,m=c({_namespacePrefix:r,_namespaceRegexp:d,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function t(){var r=o(arguments,0),i=this;function u(){if(n)return a(arguments,(function(e,t){r[t]=e})),n.apply(i,r)}var c=[u].concat(r);return e.apply(i,c)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this,n;if(s(e))a(e,(function(e){t._addPlugin(e)}));else if(!i(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!l(e))throw new Error("Plugins must be function values that return objects");var r=e.call(this);if(!f(r))throw new Error("Plugins must return an object of function properties");a(r,(function(n,r){if(!l(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}},addStorage:function(e){h("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},p,{plugins:[]});return m.raw={},a(m,(function(e,t){l(e)&&(m.raw[t]=u(m,e))})),a(e,(function(e){m._addStorage(e)})),a(t,(function(e){m._addPlugin(e)})),m}},function(e,t,n){e.exports=[n(65),n(66),n(67),n(68),n(69),n(70)]},function(e,t,n){var r,o=n(18).Global;function i(){return o.localStorage}function a(e){return i().getItem(e)}function u(e,t){return i().setItem(e,t)}function c(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}e.exports={name:"localStorage",read:a,write:u,each:c,remove:s,clearAll:l}},function(e,t,n){var r,o=n(18).Global;e.exports={name:"oldFF-globalStorage",read:a,write:u,each:c,remove:s,clearAll:l};var i=o.globalStorage;function a(e){return i[e]}function u(e,t){i[e]=t}function c(e){for(var t=i.length-1;t>=0;t--){var n=i.key(t);e(i[n],n)}}function s(e){return i.removeItem(e)}function l(){c((function(e,t){delete i[e]}))}},function(e,t,n){var r,o=n(18).Global;e.exports={name:"oldIE-userDataStorage",write:s,read:l,each:f,remove:p,clearAll:h};var i="storejs",a=o.document,u=y(),c=(o.navigator?o.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function s(e,t){if(!c){var n=v(e);u((function(e){e.setAttribute(n,t),e.save("storejs")}))}}function l(e){if(!c){var t=v(e),n=null;return u((function(e){n=e.getAttribute(t)})),n}}function f(e){u((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var o=n[r];e(t.getAttribute(o.name),o.name)}}))}function p(e){var t=v(e);u((function(e){e.removeAttribute(t),e.save("storejs")}))}function h(){u((function(e){var t=e.XMLDocument.documentElement.attributes;e.load("storejs");for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save("storejs")}))}var d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function v(e){return e.replace(/^\d/,"___$&").replace(d,"___")}function y(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e="script",t,n,r;try{(n=new ActiveXObject("htmlfile")).open(),n.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),n.close(),t=n.w.frames[0].document,r=t.createElement("div")}catch(e){r=a.createElement("div"),t=a.body}return function(e){var n=[].slice.call(arguments,0);n.unshift(r),t.appendChild(r),r.addBehavior("#default#userData"),r.load("storejs"),e.apply(this,n),t.removeChild(r)}}},function(e,t,n){var r=n(18),o=r.Global,i=r.trim;e.exports={name:"cookieStorage",read:u,write:s,each:c,remove:l,clearAll:f};var a=o.document;function u(e){if(!e||!p(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))}function c(e){for(var t=a.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(i(t[n])){var r=t[n].split("="),o=unescape(r[0]),u;e(unescape(r[1]),o)}}function s(e,t){e&&(a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function l(e){e&&p(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function f(){c((function(e,t){l(t)}))}function p(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},function(e,t,n){var r,o=n(18).Global;function i(){return o.sessionStorage}function a(e){return i().getItem(e)}function u(e,t){return i().setItem(e,t)}function c(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}e.exports={name:"sessionStorage",read:a,write:u,each:c,remove:s,clearAll:l}},function(e,t){e.exports={name:"memoryStorage",read:r,write:o,each:i,remove:a,clearAll:u};var n={};function r(e){return n[e]}function o(e,t){n[e]=t}function i(e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)}function a(e){delete n[e]}function u(e){n={}}},function(e,t,n){function r(){return n(72),{}}e.exports=r},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a=gap,u,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;n<i;n+=1)u[n]=str(n,c)||"null";return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+a+"]":"["+u.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],c))&&u.push(quote(r)+(gap?": ":":")+o);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c))&&u.push(quote(r)+(gap?": ":":")+o);return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+a+"}":"{"+u.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(e,t,o)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(e,t,n){"use strict";var r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.AlreadyRegistryError=t.NoRegistryError=t.NotfoundTypeError=t.MultiImplementError=t.IocContext=t.DefaultRegisterOption=t.Config=void 0;var u=n(22),c=n(13),s=n(24),l=n(42),f=n(44),p=function(){function e(){this.autoRegisterSelf=!1,this.constructorInject=!0,this.useClassLoader=!0}return e}();t.Config=p,t.DefaultRegisterOption={singleton:!0,autoNew:!0};var h=function(){function e(e){void 0===e&&(e={}),this.config=e,this.components=new Map,this.setConfig(Object.assign(new p,e))}return Object.defineProperty(e.prototype,"classLoader",{get:function(){return this._classLoader},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DefaultInstance",{get:function(){return this.defaultInstance||(this.defaultInstance=new e,this.defaultInstance)},enumerable:!1,configurable:!0}),e.prototype.setConfig=function(e){Object.assign(this.config,e),this._classLoader=!0===this.config.useClassLoader?s.classLoader:!1===this.config.useClassLoader?void 0:this.config.useClassLoader},e.prototype.remove=function(e){var t=(0,u.getGlobalType)(e),n=this.components.get(t);return!!n&&(this.preDestroyInstance(n),this.components.delete(t))},e.prototype.clear=function(){var e=this;Array.from(this.components.values()).forEach((function(t){e.preDestroyInstance(t)})),this.components.clear()},e.prototype.get=function(e,t){var n=this;void 0===t&&(t={});var r=(0,u.getGlobalType)(e),o=this.components.get(r),a;if(o)return this.returnValue(o,t.forceNew);if(this.config.notFoundHandler){var s=this.config.notFoundHandler(e);if(void 0!==s)return s}if(!1!==t.useClassLoader&&this.classLoader){var l=e,f=this.classLoader.getImplementClasses(l);switch(f.length){case 1:return this.get(f[0].type,i(i({},t),{sourceType:t.sourceType||l}));case 0:break;default:var p=f.filter((function(e){return n.has(e.type,!0)}));if(1===p.length)return this.get(p[0].type,t);if(this.config.conflictHandler){var h=this.config.conflictHandler(l,f,t.sourceCls?{type:t.sourceCls,info:this.classLoader.getClassInfo(t.sourceCls)}:void 0);if(void 0!==h)return this.get(h,t)}if((0,u.isClass)(e)&&(0,c.getMetadata)(l).injectable)return this.register(l),this.get(l,t);throw new d(l,r)}}if(this.config.parentContext)return this.config.parentContext.get(t.sourceType||e);if((0,u.isClass)(e)&&(this.config.autoRegisterSelf||(0,c.getMetadata)(e).injectable))return this.register(e),this.get(e,t);throw new v(e,r)},e.prototype.getImports=function(e,t){var n=this,r,o=(void 0===t?{}:t).cache,i=e;if(o&&this.has(i))return this.get(i);if(!this.classLoader)return[];var a=this.classLoader.getImplementClasses(i).map((function(e){return n.get(e.type)}));return o&&this.register(a,i),a},e.prototype.has=function(e,t){void 0===t&&(t=!1);var n=(0,u.getGlobalType)(e);return!!(this.components.has(n)||t&&this.config.parentContext&&this.config.parentContext.has(n,t))},e.prototype.replace=function(e,t,n,r){void 0===r&&(r=!1);var o=(0,u.getGlobalType)(e),i=this.components.get(o);if(i)this.components.set(o,this.newStore(t,n||i.options));else{if(!r)throw new y(o);this.register(t,e,n)}},e.prototype.register=function(e,n,r){if(void 0===r&&(r=t.DefaultRegisterOption),n){if(!this.canBeKey(n))throw new Error("key require string, symbol or class.")}else if(!this.canBeKey(e))throw new Error("when data is not string, symbol or class, require a key.");var o=n&&(0,u.getGlobalType)(n)||e&&(0,u.getGlobalType)(e);if(this.components.has(o))throw new m(o);r=i(i({},t.DefaultRegisterOption),r);var a=this.newStore(e,r);this.components.set(o,a)},e.prototype.inject=function(e,t){var n=this;void 0===t&&(t={autoRunPostConstruct:!0});var r=this,o=e.constructor;(0,c.getMetadataField)(o,"injects").forEach((function(t){var a=t.key,u=t.typeCls,c=t.optional,s=t.singleton,f=Object.getOwnPropertyDescriptor(e,a),p=f&&f.value,h=c||void 0!==p;if("inject"===t.type&&Object.defineProperty(e,a,{configurable:!0,writable:!0,value:(0,l.guard)((function(){return n.get(u,i({sourceCls:o},s?{}:{forceNew:!0}))}),{defaultValue:p,onError:function(e){if(!h)throw e.message+="\n\tSource: ".concat(o.name,".").concat(a.toString()),e}})}),["lazyInject","imports"].includes(t.type)){var d=t.always;Object.defineProperty(e,a,{configurable:!0,get:function(){var e=!1,n=(0,l.guard)((function(){switch(t.type){case"lazyInject":return r.get(u,i({sourceCls:o},s?{}:{forceNew:!0}));case"imports":return r.getImports(u,{cache:!d})}}),{defaultValue:p,onError:function(t){if(e=!0,!h)throw t.message+="\n\tSource: ".concat(o.name,".").concat(a.toString()),t}});return e||d||Object.defineProperty(this,a,{configurable:!0,writable:!0,value:n}),n},set:function(e){Object.defineProperty(this,a,{configurable:!0,writable:!0,value:e})}})}})),(0,c.getMetadataField)(o,"aspects").forEach((function(t){var r=e[t.key],o=(0,f.genAspectWrapper)(n,t.point,r);Object.defineProperty(e,t.key,{configurable:!0,value:o})})),t.autoRunPostConstruct&&this.runPostConstruct(e)},e.prototype.runPostConstruct=function(e){Array.from(new Set((0,c.getMetadataField)(e.constructor,"postConstruct").map((function(e){return e.key})))).forEach((function(t){e[t]()}))},e.prototype.runPreDestroy=function(e){Array.from(new Set((0,c.getMetadataField)(e.constructor,"preDestroy").map((function(e){return e.key})))).forEach((function(t){e[t]()}))},e.prototype.createChildContext=function(t){return new e(i(i(i({},this.config),t||{}),{parentContext:this}))},e.prototype.preDestroyInstance=function(e){e.inited&&this.runPreDestroy(e.value)},e.prototype.newStore=function(e,t){var n=this,r="function"==typeof e,o=r&&(0,u.isClass)(e),i=r&&t.autoNew;return{inited:!i,factory:i?function(){if(o){var t=e,r=[];if(n.config.constructorInject&&Reflect&&Reflect.getMetadata){var i=Reflect.getMetadata("design:paramtypes",t);i&&(r=i.map((function(e){return e===t||null==e||e===Number||e===Error||e===Object||e===String||e===Boolean||e===Array||e===Function?null:n.get(e)})))}var u=new(t.bind.apply(t,a([void 0],r,!1)));return n.inject(u),n.config.createInstanceHook?n.config.createInstanceHook(u,n):u}var c;return e(n)}:void 0,value:i?void 0:e,options:t}},e.prototype.canBeKey=function(e){var t=typeof e;return"object"===t?"[object Object]"!==e.toString():["function","string","symbol"].includes(t)},e.prototype.returnValue=function(e,t){return void 0===t&&(t=!1),e.options.singleton&&!t?(e.inited||(e.inited=!0,e.value=e.factory()),e.value):e.factory()},e.prototype.toJSON=function(){return{type:"power-di.IocContext",message:"NoSerializable"}},e}();t.IocContext=h;var d=function(e){function t(t,n){return e.call(this,"Has multi Classes of implement type: ".concat(t.name,"(").concat((0,u.symbolString)(n),")"))||this}return r(t,e),t}(Error);t.MultiImplementError=d;var v=function(e){function t(t,n){return e.call(this,"Notfound type: ".concat(t.name||(0,u.symbolString)(t),"(").concat((0,u.symbolString)(n),")"))||this}return r(t,e),t}(Error);t.NotfoundTypeError=v;var y=function(e){function t(t){return e.call(this,"the key:[".concat((0,u.symbolString)(t),"] is no registry."))||this}return r(t,e),t}(Error);t.NoRegistryError=y;var m=function(e){function t(t){return e.call(this,"the key:[".concat((0,u.symbolString)(t),"] is already registry."))||this}return r(t,e),t}(Error);t.AlreadyRegistryError=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalTypeByDecorator=t.getClsTypeByDecorator=void 0,n(75);var r=n(23);function o(e,t,n){return!e&&Reflect&&Reflect.getMetadata&&(e=Reflect.getMetadata("design:type",t,n)),e}function i(e,t,n){return(0,r.getGlobalType)(o(e,t,n))}t.getClsTypeByDecorator=o,t.getGlobalTypeByDecorator=i},function(e,t,n){(function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(e){var r="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(n);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=n:o=i(r.Reflect,o),e(o)}((function(t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,u={__proto__:[]}instanceof Array,c=!a&&!u,s={create:a?function(){return ie(Object.create(null))}:u?function(){return ie({__proto__:null})}:function(){return ie({})},has:c?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:c?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ne():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?re():Set,d,v=new(f||"function"!=typeof WeakMap?oe():WeakMap);function y(e,t,n,r){if(I(n)){if(!$(e))throw new TypeError;if(!Y(t))throw new TypeError;return _(e,t)}if(!$(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(r)&&!I(r)&&!B(r))throw new TypeError;return B(r)&&(r=void 0),P(e,t,n=W(n),r)}function m(e,t){function n(n,r){if(!F(n))throw new TypeError;if(!I(r)&&!K(r))throw new TypeError;R(e,t,n,r)}return n}function b(e,t,n,r){if(!F(n))throw new TypeError;return I(r)||(r=W(r)),R(e,t,n,r)}function g(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),N(e,t,n)}function w(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),C(e,t,n)}function O(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),T(e,t,n)}function j(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),L(e,t,n)}function S(e,t){if(!F(e))throw new TypeError;return I(t)||(t=W(t)),A(e,t)}function k(e,t){if(!F(e))throw new TypeError;return I(t)||(t=W(t)),M(e,t)}function E(e,t,n){if(!F(t))throw new TypeError;I(n)||(n=W(n));var r=x(t,n,!1);if(I(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=v.get(t);return o.delete(n),o.size>0||v.delete(t),!0}function _(e,t){for(var n=e.length-1;n>=0;--n){var r,o=(0,e[n])(t);if(!I(o)&&!B(o)){if(!Y(o))throw new TypeError;t=o}}return t}function P(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i,a=(0,e[o])(t,n,r);if(!I(a)&&!B(a)){if(!F(a))throw new TypeError;r=a}}return r}function x(e,t,n){var r=v.get(e);if(I(r)){if(!n)return;r=new p,v.set(e,r)}var o=r.get(t);if(I(o)){if(!n)return;o=new p,r.set(t,o)}return o}function N(e,t,n){var r;if(C(e,t,n))return!0;var o=te(t);return!B(o)&&N(e,o,n)}function C(e,t,n){var r=x(t,n,!1);return!I(r)&&U(r.has(e))}function T(e,t,n){var r;if(C(e,t,n))return L(e,t,n);var o=te(t);return B(o)?void 0:T(e,o,n)}function L(e,t,n){var r=x(t,n,!1);if(!I(r))return r.get(e)}function R(e,t,n,r){var o;x(n,r,!0).set(e,t)}function A(e,t){var n=M(e,t),r=te(e);if(null===r)return n;var o=A(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new h,a=[],u=0,c=n;u<c.length;u++){var s=c[u],l;(l=i.has(s))||(i.add(s),a.push(s))}for(var f=0,p=o;f<p.length;f++){var s=p[f],l;(l=i.has(s))||(i.add(s),a.push(s))}return a}function M(e,t){var n=[],r=x(e,t,!1);if(I(r))return n;for(var o,i=J(r.keys()),a=0;;){var u=Z(i);if(!u)return n.length=a,n;var c=Q(u);try{n[a]=c}catch(e){try{ee(i)}finally{throw e}}a++}}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function I(e){return void 0===e}function B(e){return null===e}function V(e){return"symbol"==typeof e}function F(e){return"object"==typeof e?null!==e:"function"==typeof e}function G(e,t){switch(D(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=q(e,o);if(void 0!==r){var i=r.call(e,n);if(F(i))throw new TypeError;return i}return H(e,"default"===n?"number":n)}function H(e,t){if("string"===t){var n=e.toString,r,o,r;if(X(n))if(!F(r=n.call(e)))return r;if(X(o=e.valueOf))if(!F(r=o.call(e)))return r}else{var o,r;if(X(o=e.valueOf))if(!F(r=o.call(e)))return r;var i=e.toString,r;if(X(i))if(!F(r=i.call(e)))return r}throw new TypeError}function U(e){return!!e}function z(e){return""+e}function W(e){var t=G(e,3);return V(t)?t:z(t)}function $(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function X(e){return"function"==typeof e}function Y(e){return"function"==typeof e}function K(e){switch(D(e)){case 3:case 4:return!0;default:return!1}}function q(e,t){var n=e[t];if(null!=n){if(!X(n))throw new TypeError;return n}}function J(e){var t=q(e,i);if(!X(t))throw new TypeError;var n=t.call(e);if(!F(n))throw new TypeError;return n}function Q(e){return e.value}function Z(e){var t=e.next();return!t.done&&t}function ee(e){var t=e.return;t&&t.call(e)}function te(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function ne(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function re(){return function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function oe(){var e=16,t=s.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&s.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?s.get(t,this._key):void 0},e.prototype.set=function(e,t){var n;return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(s.has(t,e));return t[e]=!0,e}function i(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:s.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function u(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function c(){var e=u(16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var r=e[n];4!==n&&6!==n&&8!==n||(t+="-"),r<16&&(t+="0"),t+=r.toString(16).toLowerCase()}return t}}function ie(e){return e.__=void 0,delete e.__,e}t("decorate",y),t("metadata",m),t("defineMetadata",b),t("hasMetadata",g),t("hasOwnMetadata",w),t("getMetadata",O),t("getOwnMetadata",j),t("getMetadataKeys",S),t("getOwnMetadataKeys",k),t("deleteMetadata",E)}))}(n||(n={}))}).call(this,n(33),n(32))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nameSymbol=void 0,t.nameSymbol=Symbol("className")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRefMap=void 0;var r=n(23),o=n(13);function i(e,t){void 0===t&&(t={});var n=t;function i(e){var t=(0,r.symbolString)((0,r.getGlobalType)(e));if(!n[t]){var a=n[t]={count:0,deps:[]};(0,o.getMetadataField)(e,"injects").forEach((function(e){var t=(0,r.symbolString)(e.globalType);i(e.typeCls),n[t].count++,a.deps.push({prop:e.key,type:t})}))}}return i(e),n}t.getRefMap=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(80),t),o(n(81),t),o(n(82),t),o(n(83),t),o(n(84),t),o(n(44),t),o(n(85),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classInfo=void 0;var r=n(34),o=n(13),i=n(24);function a(e){return void 0===e&&(e={}),function(t){e.name&&Object.defineProperty(t,r.nameSymbol,{enumerable:!1,writable:!1,configurable:!1,value:e.name}),i.classLoader.hasClass(t)&&i.classLoader.unregisterClass(t),Object.assign((0,o.getMetadata)(t).classInfo,{},e),i.classLoader.registerClass(t)}}t.classInfo=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=void 0;var r=n(22),o=n(13);function i(e){var t=void 0===e?{}:e,n=t.type,i=t.lazy,a=void 0===i||i,u=t.always,c=void 0!==u&&u,s=t.optional,l=void 0!==s&&s,f=t.singleton,p=void 0===f||f;return function(e,t){var i=(0,r.getClsTypeByDecorator)(n,e,t);if(void 0===i||i===Object)throw new Error("CANNOT inject undefined! source: ".concat(e.constructor.name,".").concat(t.toString()));(0,o.getMetadata)(e.constructor).injects.push({key:t,globalType:(0,r.getGlobalTypeByDecorator)(n,e,t),type:a?"lazyInject":"inject",always:c,typeCls:i,optional:l,singleton:p})}}t.inject=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(24);function o(){return function(e){r.classLoader.hasClass(e)||r.classLoader.registerClass(e)}}t.injectable=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imports=void 0;var r=n(22),o=n(13);function i(e){var t=e.type,n=e.always,i=void 0!==n&&n;return function(e,n){(0,o.getMetadata)(e.constructor).injects.push({key:n,globalType:(0,r.getGlobalType)(t),type:"imports",always:i,typeCls:t})}}t.imports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(13);function o(){return function(e,t){(0,r.getMetadata)(e.constructor).postConstruct.push({key:t})}}t.postConstruct=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preDestroy=void 0;var r=n(13);function o(){return function(e,t){(0,r.getMetadata)(e.constructor).preDestroy.push({key:t})}}t.preDestroy=o},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";const r=n(97),o=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),u=Symbol("allowStale"),c=Symbol("maxAge"),s=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),d=()=>1;class v{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");const t=this[o]=e.max||1/0,n=e.length||d;if(this[a]="function"!=typeof n?d:n,this[u]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[s]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,b(this)}get max(){return this[o]}set allowStale(e){this[u]=!!e}get allowStale(){return this[u]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,b(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[a]&&(this[a]=e,this[i]=0,this[f].forEach(e=>{e.length=this[a](e.value,e.key),this[i]+=e.length})),b(this)}get lengthCalculator(){return this[a]}get length(){return this[i]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let n=this[f].tail;null!==n;){const r=n.prev;O(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[f].head;null!==n;){const r=n.next;O(this,e,n,t),n=r}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[s]&&this[f]&&this[f].length&&this[f].forEach(e=>this[s](e.key,e.value)),this[p]=new Map,this[f]=new r,this[i]=0}dump(){return this[f].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,u=this[a](t,e);if(this[p].has(e)){if(u>this[o])return g(this,this[p].get(e)),!1;const a=undefined,c=this[p].get(e).value;return this[s]&&(this[l]||this[s](e,c.value)),c.now=r,c.maxAge=n,c.value=t,this[i]+=u-c.length,c.length=u,this.get(e),b(this),!0}const h=new w(e,t,u,r,n);return h.length>this[o]?(this[s]&&this[s](e,t),!1):(this[i]+=h.length,this[f].unshift(h),this[p].set(e,this[f].head),b(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!m(this,t)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){const e=this[f].tail;return e?(g(this,e),e.value):null}del(e){g(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{const e=o-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[p].forEach((e,t)=>y(this,t,!1))}}const y=(e,t,n)=>{const r=e[p].get(t);if(r){const t=r.value;if(m(e,t)){if(g(e,r),!e[u])return}else n&&(e[h]&&(r.value.now=Date.now()),e[f].unshiftNode(r));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},b=e=>{if(e[i]>e[o])for(let t=e[f].tail;e[i]>e[o]&&null!==t;){const n=t.prev;g(e,t),t=n}},g=(e,t)=>{if(t){const n=t.value;e[s]&&e[s](n.key,n.value),e[i]-=n.length,e[p].delete(n.key),e[f].removeNode(t)}};class w{constructor(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}}const O=(e,t,n,r)=>{let o=n.value;m(e,o)&&(g(e,n),e[u]||(o=void 0)),o&&t.call(r,o.value,o.key,e)};e.exports=v},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function o(e,t,n){var r=t===e.head?new u(n,null,t,e):new u(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function i(e,t){e.tail=new u(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new u(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function u(e,t,n,r){if(!(this instanceof u))return new u(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=u,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(var a=[],r=0;i&&r<t;r++)a.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=o(this,i,n[r]);return a},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(98)(r)}catch(e){}},function(e,t,n){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,n){const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}s("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(e){const t=this.options.loose?a[u.COMPARATORLOOSE]:a[u.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(s("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new f(e.value,t).test(this.value):""===e.operator?""===e.value||new f(this.value,t).test(e.semver):(!(t=i(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=o;const i=n(35),{re:a,t:u}=n(36),c=n(100),s=n(26),l=n(38),f=n(46)},function(e,t,n){const r=n(101),o=n(103),i=n(104),a=n(105),u=n(106),c=n(107),s=(e,t,n,s)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,s);case"!=":return o(e,n,s);case">":return i(e,n,s);case">=":return a(e,n,s);case"<":return u(e,n,s);case"<=":return c(e,n,s);default:throw new TypeError("Invalid operator: "+t)}};e.exports=s},function(e,t,n){const r=n(19),o=(e,t,n)=>0===r(e,t,n);e.exports=o},function(e,t){const n=/^[0-9]+$/,r=(e,t)=>{const r=n.test(e),o=n.test(t);return r&&o&&(e=+e,t=+t),e===t?0:r&&!o?-1:o&&!r?1:e<t?-1:1},o=(e,t)=>r(t,e);e.exports={compareIdentifiers:r,rcompareIdentifiers:o}},function(e,t,n){const r=n(19),o=(e,t,n)=>0!==r(e,t,n);e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)>0;e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)>=0;e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)<0;e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)<=0;e.exports=o},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=window.AliLowCodeEngineExt},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"skeleton",(function(){return rI})),n.d(t,"plugins",(function(){return pI})),n.d(t,"project",(function(){return nI})),n.d(t,"setters",(function(){return iI})),n.d(t,"material",(function(){return aI})),n.d(t,"config",(function(){return uI})),n.d(t,"event",(function(){return cI})),n.d(t,"logger",(function(){return sI})),n.d(t,"hotkey",(function(){return tI})),n.d(t,"common",(function(){return lI})),n.d(t,"workspace",(function(){return KD})),n.d(t,"canvas",(function(){return fI})),n.d(t,"isOpenSource",(function(){return vI})),n.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return yI})),n.d(t,"version",(function(){return bI})),n.d(t,"init",(function(){return wI})),n.d(t,"destroy",(function(){return jI}));var r=n(3),o=n.n(r),i=n(10),a=n(1),u=n(4),c=n(0),s=n(2),l,f,p;function h(e){return m(e)||y(e)||v(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function y(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){try{var t={worksWithoutQuotes:!1};return new Function("ctx","ctx.worksWithoutQuotes = {".concat(e,": true}['").concat(e,"']"))(),!t.worksWithoutQuotes}catch(e){return!0}}function O(e,t){var n;return t.doubleQuote?'"'.concat(e.replace(/"/g,'\\"'),'"'):"'".concat(e.replace(/'/g,"\\'"),"'")}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.circularReferenceToken,r=void 0===n?"CIRCULAR_REFERENCE":n,o=t.doubleQuote,i=void 0===o||o,a=t.includeFunctions,u=void 0===a||a,c=t.includeUndefinedProperties,s=void 0!==c&&c,l=t.indentLevel,f=void 0===l?0:l,p=t.indentString,d=void 0===p?"  ":p,v=t.lineEnding,y=void 0===v?"\n":v,m=t.visitedObjects,b=void 0===m?new Set:m;switch(g(e)){case"boolean":return"".concat(d.repeat(f),e?"true":"false");case"function":return u?"".concat(d.repeat(f)).concat(e):null;case"number":return"".concat(d.repeat(f)).concat(e);case"object":if(!e)return"".concat(d.repeat(f),"null");if(b.has(e))return"".concat(d.repeat(f)).concat(r);if(e instanceof Date)return"".concat(d.repeat(f),"new Date(").concat(O(e.toISOString(),{doubleQuote:i}),")");if(e instanceof Map)return e.size?"".concat(d.repeat(f),"new Map(").concat(j(h(e),{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f,indentString:d,lineEnding:y,visitedObjects:new Set([e].concat(h(b)))}).slice(f*d.length),")"):"".concat(d.repeat(f),"new Map()");if(e instanceof RegExp)return"".concat(d.repeat(f),"/").concat(e.source,"/").concat(e.flags);if(e instanceof Set)return e.size?"".concat(d.repeat(f),"new Set(").concat(j(h(e),{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f,indentString:d,lineEnding:y,visitedObjects:new Set([e].concat(h(b)))}).slice(f*d.length),")"):"".concat(d.repeat(f),"new Set()");if(Array.isArray(e)){if(!e.length)return"".concat(d.repeat(f),"[]");var S=e.every((function(t){return"object"===g(t)&&t&&!(t instanceof Date)&&!(t instanceof Map)&&!(t instanceof RegExp)&&!(t instanceof Set)&&(Object.keys(t).length||1===e.length)})),k=null;return e=e.reduce((function(t,n,o){if(null!==k)for(var a=o-k-1;a>0;a-=1)t.push(d.repeat(f+1));return k=o,null===(n=j(n,{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:S?f:f+1,indentString:d,lineEnding:y,visitedObjects:new Set([e].concat(h(b)))}))?t.push(d.repeat(f+1)):S?t.push(n.slice(f*d.length)):t.push(n),t}),[]),S?"".concat(d.repeat(f),"[").concat(e.join(", "),"]"):"".concat(d.repeat(f),"[").concat(y).concat(e.join(",".concat(y))).concat(y).concat(d.repeat(f),"]")}return(e=Object.keys(e).reduce((function(t,n){var o=e[n],a=void 0!==o||s?j(e[n],{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f+1,indentString:d,lineEnding:y,visitedObjects:new Set([e].concat(h(b)))}):null;if(a){var c=w(n)?O(n,{doubleQuote:i}):n,l=a.slice((f+1)*d.length);"function"==typeof o&&l.startsWith("".concat(n,"()"))?t.push("".concat(d.repeat(f+1)).concat(c," ").concat(l.slice(n.length))):t.push("".concat(d.repeat(f+1)).concat(c,": ").concat(l))}return t}),[])).length?"".concat(d.repeat(f),"{").concat(y).concat(e.join(",".concat(y))).concat(y).concat(d.repeat(f),"}"):"".concat(d.repeat(f),"{}");case"string":return"".concat(d.repeat(f)).concat(O(e,{doubleQuote:i}));case"symbol":var E=Symbol.keyFor(e);return"string"==typeof E?"".concat(d.repeat(f),"Symbol.for(").concat(O(E,{doubleQuote:i}),")"):(E=e.toString().slice(7,-1))?"".concat(d.repeat(f),"Symbol(").concat(O(E,{doubleQuote:i}),")"):"".concat(d.repeat(f),"Symbol()");case"undefined":default:return"".concat(d.repeat(f),"undefined")}}function S(e){if(e&&e.__source)return e.__source;var t=j(e);if("undefined"===t&&(t=""),e)try{e.__source=t}catch(e){console.error(e)}return t}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function C(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e){var t=R(e,"string");return"symbol"===k(t)?t:String(t)}function R(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var A=a.mobx.set,M=a.mobx.isObservableArray,D=Symbol.for("unset");l=Symbol.iterator;var I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};x(this,e),this.parent=void 0,this.isProp=!0,this.owner=void 0,this.key=void 0,this.spread=void 0,this.props=void 0,this.options=void 0,this.id=Object(s.db)("prop$"),this._type="unset",this._value=D,this._code=null,this._slotNode=void 0,this._items=null,this._maps=null,this.purged=!1,this.parent=t,Object(a.makeObservable)(this),this.owner=t.owner,this.props=t.props,this.key=r,this.spread=o,this.options=i,n!==D&&this.setValue(n),this.setupItems()}return C(e,[{key:"type",get:function e(){return this._type}},{key:"value",get:function e(){return this.export(u.h.Serilize)}},{key:"code",get:function e(){return Object(s.H)(this.value)?this.value.value:"slot"===this.type?JSON.stringify(this._slotNode.export(u.h.Save)):null!=this._code?this._code:JSON.stringify(this.value)},set:function e(t){if(Object(s.H)(this._value))return this.setValue(_(_({},this._value),{},{value:t})),void(this._code=t);try{var n=JSON.parse(t);return this.setValue(n),void(this._code=t)}catch(e){}this.setValue({type:"JSExpression",value:t,mock:this._value}),this._code=t}},{key:"slotNode",get:function e(){return this._slotNode||null}},{key:"items",get:function t(){var n=this;return this._items?this._items:Object(a.runInAction)((function(){var t=null;if("list"===n._type){var r=new Map,o;n._value.forEach((function(o,i){var a,u;t=t||[],null!==(a=n._maps)&&void 0!==a&&a.has(i.toString())?(u=n._maps.get(i.toString())).setValue(o):u=new e(n,o,i),r.set(i.toString(),u),t.push(u)})),n._maps=r}else if("map"===n._type){for(var i=n._value,a=new Map,u,c=0,s=Object.keys(i);c<s.length;c++){var l,f=s[c],p=void 0;null!==(l=n._maps)&&void 0!==l&&l.has(f)?(p=n._maps.get(f)).setValue(i[f]):p=new e(n,i[f],f),(t=t||[]).push(p),a.set(f,p)}n._maps=a}else t=null,n._maps=null;return n._items=t,n._items}))}},{key:"maps",get:function e(){return this.items?this._maps:null}},{key:"path",get:function e(){return(this.parent.path||[]).concat(this.key)}},{key:"size",get:function e(){var t;return(null===(t=this.items)||void 0===t?void 0:t.length)||0}},{key:"setupItems",value:function e(){return this.items}},{key:"getPropValue",value:function e(t){return this.get(t).getValue()}},{key:"setPropValue",value:function e(t,n){this.set(t,n)}},{key:"clearPropValue",value:function e(t){var n;null===(n=this.get(t,!1))||void 0===n||n.unset()}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Save;t=Object(s.k)(t);var n=this._type;if(t===u.h.Render&&"___condition___"===this.key)return!0!==(null===a.engineConfig||void 0===a.engineConfig?void 0:a.engineConfig.get("enableCondition"))||this._value;if("unset"!==n){if("literal"===n||"expression"===n)return null===this._value&&t===u.h.Save?"":this._value;if("slot"===n){var r,o=(null===(r=this._slotNode)||void 0===r?void 0:r.export(t))||{};return t===u.h.Render?{type:"JSSlot",params:o.params,value:o,id:o.id}:{type:"JSSlot",params:o.params,value:o.children,title:o.title,name:o.name,id:o.id}}var i;return"map"===n?this._items?(this.items.forEach((function(e,n){if(!e.isUnset()){var r=e.export(t);null!=r&&((i=i||{})[e.key||n]=r)}})),i):this._value:"list"===n?this._items?this.items.map((function(e){return null==e?void 0:e.export(t)})):this._value:void 0}}},{key:"getAsString",value:function e(){return"literal"===this.type&&this._value?String(this._value):""}},{key:"setValue",value:function e(t){var n;if(t!==this._value){var r=null===(n=this.owner.document)||void 0===n?void 0:n.designer.editor,o=this._value;this._value=t,this._code=null;var i=k(t);if(null==t||"string"===i||"number"===i||"boolean"===i?this._type="literal":Array.isArray(t)?this._type="list":Object(s.P)(t)?Object(s.J)(t)?this.setAsSlot(t):Object(s.H)(t)?this._type="expression":this._type="map":(this._type="expression",this._value={type:"JSExpression",value:j(t)}),this.dispose(),this.setupItems(),o!==this._value){var a,c,l={key:this.key,prop:this,oldValue:o,newValue:this._value};null==r||r.eventBus.emit(u.e.Node.Prop.InnerChange,_({node:this.owner},l)),null===(a=this.owner)||void 0===a||null===(c=a.emitPropChange)||void 0===c||c.call(a,l)}}}},{key:"getValue",value:function e(){return this.export(u.h.Serilize)}},{key:"dispose",value:function e(){var t=this,n=Object(a.untracked)((function(){return t._items}));n&&n.forEach((function(e){return e.purge()})),this._items=null,"slot"!==this._type&&this._slotNode&&(this._slotNode.remove(),this._slotNode=void 0)}},{key:"setAsSlot",value:function e(t){var n,r;if(this._type="slot",Object(s.P)(t.value)&&Object(s.O)(t.value)&&"Slot"===(null===(n=t.value)||void 0===n?void 0:n.componentName)){var o,i,a,u=t.value;r={componentName:"Slot",title:u.title||(null===(o=u.props)||void 0===o?void 0:o.slotTitle),id:u.id,name:u.name||(null===(i=u.props)||void 0===i?void 0:i.slotName),params:u.params||(null===(a=u.props)||void 0===a?void 0:a.slotParams),children:u.children}}else r={componentName:"Slot",title:t.title,id:t.id,name:t.name,params:t.params,children:t.value};if(this._slotNode)this._slotNode.import(r);else{var c,l=this.props.owner;this._slotNode=null===(c=l.document)||void 0===c?void 0:c.createNode(r),this._slotNode&&(l.addSlot(this._slotNode),this._slotNode.internalSetSlotFor(this))}}},{key:"unset",value:function e(){this._type="unset"}},{key:"isUnset",value:function e(){return"unset"===this._type}},{key:"isVirtual",value:function e(){return"string"==typeof this.key&&"!"===this.key.charAt(0)}},{key:"compare",value:function e(t){return!t||t.isUnset()?this.isUnset()?0:2:t.type!==this.type?2:"list"===this.type?this.size===t.size?1:2:"map"===this.type?1:this.code===t.code?0:2}},{key:"get",value:function t(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this._type;if("map"!==o&&"list"!==o&&"unset"!==o&&!r)return null;var i="map"===o?this.maps:null,a="list"===o?this.items:null,u=n,c="",s;if("number"!=typeof n){var l=n.indexOf(".");l>0&&(c=n.slice(l+1))&&(u=n.slice(0,l))}return"list"===o?H(u,this.size)&&(s=a[u]):"map"===o&&(s=null==i?void 0:i.get(u)),s?c?s.get(c,r):s:r?(s=new e(this,D,u),this.set(u,s,!0),c?s.get(c,!0):s):null}},{key:"remove",value:function e(){this.parent.delete(this)}},{key:"delete",value:function e(t){if(this._items){var n=this._items.indexOf(t);n>-1&&(this._items.splice(n,1),t.purge()),this._maps&&t.key&&this._maps.delete(String(t.key))}}},{key:"deleteKey",value:function e(t){if(this.maps){var n=this.maps.get(t);n&&this.delete(n)}}},{key:"add",value:function t(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this._type;if("list"!==o&&"unset"!==o&&!r)return null;("unset"===o||r&&"list"!==o)&&this.setValue([]);var i=new e(this,n);return this._items=this._items||[],this._items.push(i),i}},{key:"set",value:function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._type;if("map"!==i&&"list"!==i&&"unset"!==i&&!o)return null;("unset"===i||o&&"map"!==i)&&(H(n)?"list"!==i&&this.setValue([]):this.setValue({}));var a=G(r)?r:new e(this,r,n),u=this._items||[];if("list"===this.type){if(!H(n))return null;M(u)?A(u,n,a):u[n]=a,this._items=u}else{if("map"!==this.type)return null;var c=this._maps||new Map,s=null==c?void 0:c.get(n);if(s){var l=u.indexOf(s);l>-1&&u.splice(l,1,a)[0].purge(),null==c||c.set(n,a)}else u.push(a),this._items=u,null==c||c.set(n,a);this._maps=c}return a}},{key:"has",value:function e(t){return"map"===this._type&&(this._maps?this._maps.has(t):Object(s.t)(this._value,t))}},{key:"purge",value:function e(){this.purged||(this.purged=!0,this._items&&this._items.forEach((function(e){return e.purge()})),this._items=null,this._maps=null,this._slotNode&&this._slotNode.slotFor===this&&(this._slotNode.remove(),this._slotNode=void 0))}},{key:l,value:function e(){var t=0,n=this.items,r=(null==n?void 0:n.length)||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){var n=this.items;if(n){var r="map"===this._type;n.forEach((function(e,n){return t(e,r?e.key:n)}))}}},{key:"map",value:function e(t){var n=this.items;if(!n)return null;var r="map"===this._type;return n.map((function(e,n){return t(e,r?e.key:n)}))}},{key:"getProps",value:function e(){return this.props}},{key:"getNode",value:function e(){return this.owner}}]),e}(),B,V,F;function G(e){return e&&e.isProp}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=parseFloat(String(e));return n>=0&&Math.floor(n)===n&&isFinite(n)&&(t<0||n<t)}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X(r.key),r)}}function $(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function X(e){var t=Y(e,"string");return"symbol"===U(t)?t:String(t)}function Y(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx,Object(c.d)("design:type",Object)],I.prototype,"key",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Boolean)],I.prototype,"spread",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",String)],I.prototype,"_type",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],I.prototype,"_value",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],I.prototype,"value",null),Object(c.b)([a.computed,Object(c.d)("design:type",String),Object(c.d)("design:paramtypes",[String])],I.prototype,"code",null),Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Object)],I.prototype,"_items",void 0),Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Object)],I.prototype,"_maps",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],I.prototype,"maps",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],I.prototype,"setupItems",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",Object)],I.prototype,"getPropValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],I.prototype,"setPropValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",void 0)],I.prototype,"clearPropValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",void 0)],I.prototype,"setValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],I.prototype,"dispose",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",void 0)],I.prototype,"setAsSlot",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],I.prototype,"unset",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],I.prototype,"isUnset",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",Object)],I.prototype,"get",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],I.prototype,"remove",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",void 0)],I.prototype,"delete",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String]),Object(c.d)("design:returntype",void 0)],I.prototype,"deleteKey",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",Object)],I.prototype,"add",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object,Object]),Object(c.d)("design:returntype",void 0)],I.prototype,"set",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],I.prototype,"purge",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Function]),Object(c.d)("design:returntype",void 0)],I.prototype,"forEach",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Function]),Object(c.d)("design:returntype",Object)],I.prototype,"map",null);var K="___";function q(e){if(!e)return"";var t=e;return e.indexOf(".")>0&&(t=e.split(".")[0]),"___"+t+"___"+e.slice(t.length)}function J(e){return e.replace(new RegExp("".concat("___"),"g"),"")}B=Symbol.iterator;var Q=function(){function e(t,n,r){var o=this;z(this,e),this.id=Object(s.db)("props"),this.items=[],this.path=[],this.owner=void 0,this.type="map",this.purged=!1,Object(a.makeObservable)(this),this.owner=t,Array.isArray(n)?(this.type="list",this.items=n.map((function(e,t){return new I(o,e.value,e.name||t,e.spread)}))):null!=n&&(this.items=Object.keys(n).map((function(e){return new I(o,n[e],e,!1)}))),r&&Object.keys(r).forEach((function(e){o.items.push(new I(o,r[e],q(e)))}))}return $(e,[{key:"maps",get:function e(){var t=new Map;return this.items.length>0&&this.items.forEach((function(e){e.key&&t.set(e.key,e)})),t}},{key:"props",get:function e(){return this}},{key:"size",get:function e(){return this.items.length}},{key:"import",value:function e(t,n){var r=this,o=this.items;Array.isArray(t)?(this.type="list",this.items=t.map((function(e,t){return new I(r,e.value,e.name||t,e.spread)}))):null!=t?(this.type="map",this.items=Object.keys(t).map((function(e){return new I(r,t[e],e)}))):(this.type="map",this.items=[]),n&&Object.keys(n).forEach((function(e){r.items.push(new I(r,n[e],q(e)))})),o.forEach((function(e){return e.purge()}))}},{key:"merge",value:function e(t,n){var r=this;Object.keys(t).forEach((function(e){r.query(e,!0).setValue(t[e]),r.query(e,!0).setupItems()})),n&&Object.keys(n).forEach((function(e){r.query(q(e),!0).setValue(n[e]),r.query(q(e),!0).setupItems()}))}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Save;if(t=Object(s.k)(t),this.items.length<1)return{};var n={},r={},o={};if("list"===this.type)r=[],this.items.forEach((function(e){var n=e.export(t),i=e.key;i&&"string"==typeof i&&i.startsWith("___")?(i=J(i),o[i]=n):r.push({spread:e.spread,name:i,value:n})}));else{this.items.forEach((function(e){var r=e.key;if(null!=r&&!e.isUnset()&&!e.isVirtual()){var o=e.export(t);null!=o&&(n[r]=o)}}));var i=this.transformToStatic(n);Object.keys(i).forEach((function(e){var t=i[e];"string"==typeof e&&e.startsWith("___")?(e=J(e),o[e]=t):r[e]=t}))}return{props:r,extras:o}}},{key:"transformToStatic",value:function e(t){var n,r,o,i=null===(n=this.owner.componentMeta)||void 0===n||null===(r=n.prototype)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.transducers;return i?(Array.isArray(i)||(i=[i]),t=i.reduce((function(e,t){return t&&"function"==typeof t.toStatic?t.toStatic(e):e}),t)):t}},{key:"query",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.get(t,n)}},{key:"get",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t,o="",i=t.indexOf(".");i>0&&(o=t.slice(i+1))&&(r=t.slice(0,i));var a=this.maps.get(r);return!a&&n&&(a=new I(this,D,r),this.items.push(a)),a?o?a.get(o,n):a:null}},{key:"delete",value:function e(t){var n=this.items.indexOf(t);n>-1&&(this.items.splice(n,1),t.purge())}},{key:"deleteKey",value:function e(t){var n=this;this.items=this.items.filter((function(e,r){return e.key!==t||(e.purge(),n.items.splice(r,1),!1)}))}},{key:"add",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new I(this,t,n,r,o);return this.items.push(i),i}},{key:"has",value:function e(t){return this.maps.has(t)}},{key:B,value:function e(){var t=0,n=this.items,r=n.length||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){this.items.forEach((function(e){return t(e,e.key)}))}},{key:"map",value:function e(t){return this.items.map((function(e){return t(e,e.key)}))}},{key:"filter",value:function e(t){return this.items.filter((function(e){return t(e,e.key)}))}},{key:"purge",value:function e(){this.purged||(this.purged=!0,this.items.forEach((function(e){return e.purge()})))}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.query(t,n)||null}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.value}},{key:"setPropValue",value:function e(t,n){this.getProp(t,!0).setValue(n)}},{key:"getNode",value:function e(){return this.owner}},{key:"toData",value:function e(){var t;return null===(t=this.export())||void 0===t?void 0:t.props}}]),e}(),Z,ee;function te(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.length-1;o>=0;o--)t.call(r,n(e,o))}function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return(t=se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,se(r.key),r)}}function ce(e,t,n){return t&&ue(e.prototype,t),n&&ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function se(e){var t=le(e,"string");return"symbol"===ne(t)?t:String(t)}function le(e,t){if("object"!==ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],Q.prototype,"items",void 0),Object(c.b)([a.computed,Object(c.d)("design:type","function"==typeof(V="undefined"!=typeof Map&&Map)?V:Object),Object(c.d)("design:paramtypes",[])],Q.prototype,"maps",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Q.prototype,"size",null),Object(c.b)([a.obx,Object(c.d)("design:type",String)],Q.prototype,"type",void 0),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],Q.prototype,"import",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],Q.prototype,"merge",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String,Object]),Object(c.d)("design:returntype",Object)],Q.prototype,"query",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String,Object]),Object(c.d)("design:returntype",Object)],Q.prototype,"get",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",void 0)],Q.prototype,"delete",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String]),Object(c.d)("design:returntype",void 0)],Q.prototype,"deleteKey",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object,Object,Object]),Object(c.d)("design:returntype",Object)],Q.prototype,"add",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Function]),Object(c.d)("design:returntype",void 0)],Q.prototype,"forEach",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Function]),Object(c.d)("design:returntype",Object)],Q.prototype,"map",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Function]),Object(c.d)("design:returntype",void 0)],Q.prototype,"filter",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],Q.prototype,"purge",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String,Object]),Object(c.d)("design:returntype",Object)],Q.prototype,"getProp",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String]),Object(c.d)("design:returntype",Object)],Q.prototype,"getPropValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[String,Object]),Object(c.d)("design:returntype",void 0)],Q.prototype,"setPropValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],Q.prototype,"toData",null),Z=Symbol.toStringTag,ee=Symbol.iterator;var fe=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ae(this,e),this.owner=void 0,this.children=void 0,this.emitter=Object(a.createModuleEventBus)("NodeChildren"),this.purged=!1,this.owner=t,Object(a.makeObservable)(this),this.children=(Array.isArray(n)?n:[n]).filter((function(e){return!!e})).map((function(e){var t;return null===(t=r.owner.document)||void 0===t?void 0:t.createNode(e,o.checkId)}))}return ce(e,[{key:"size",get:function e(){return this.children.length}},{key:"isEmptyNode",get:function e(){return this.size<1}},{key:"notEmptyNode",get:function e(){return this.size>0}},{key:"length",get:function e(){return this.children.length}},{key:Z,get:function e(){return"Array"}},{key:"internalInitParent",value:function e(){var t=this;this.children.forEach((function(e){return e.internalSetParent(t.owner)}))}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Save;return t=Object(s.k)(t),this.children.map((function(e){var n=e.export(t);return e.isLeafNode&&u.h.Save===t?n.children:n}))}},{key:"import",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=(t?Array.isArray(t)?t:[t]:[]).filter((function(e){return!!e}));var r=this.children.slice();this.children.forEach((function(e){return e.internalSetParent(null)}));for(var o=new Array(t.length),i=0,a=t.length;i<a;i++){var u=r[i],c=t[i],l=void 0,f;if(Object(s.O)(c)&&!n&&u&&u.componentName===c.componentName)(l=u).import(c);else l=null===(f=this.owner.document)||void 0===f?void 0:f.createNode(c,n);o[i]=l}this.children=o,this.internalInitParent(),Object(s.ab)(o,r)||this.emitter.emit("change")}},{key:"concat",value:function e(t){return this.children.concat(t)}},{key:"isEmpty",value:function e(){return this.isEmptyNode}},{key:"notEmpty",value:function e(){return this.notEmptyNode}},{key:"purge",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.purged||(this.purged=!0,this.children.forEach((function(e){e.purge(t)})))}},{key:"unlinkChild",value:function e(t){var n=this.children.map((function(e){return e.id})).indexOf(t.id);if(n<0)return!1;this.children.splice(n,1),this.emitter.emit("change",{type:"unlink",node:t})}},{key:"delete",value:function e(t){return this.internalDelete(t)}},{key:"internalDelete",value:function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.internalPurgeStart(),t.isParentalNode&&(te(t.children,(function(e){e.remove(o,r,i)}),(function(e,t){return e.get(t)})),te(t.slots,(function(e){e.remove(o,r)}),(function(e,t){return e[t]})));var a=this.children.map((function(e){return e.id})).indexOf(t.id);if(r){t.internalSetParent(null,o);try{t.purge()}catch(e){console.error(e)}}var u=t.document,c=null===(n=t.document)||void 0===n?void 0:n.designer.editor;return null==c||c.eventBus.emit("node.remove",{node:t,index:a}),null==u||u.unlinkNode(t),null==u||u.selection.remove(t.id),null==u||u.destroyNode(t),this.emitter.emit("change",{type:"delete",node:t}),o&&this.reportModified(t,this.owner,{type:"remove",propagated:!1,isSubDeleting:this.owner.isPurging,removeIndex:a,removeNode:t}),a>-1&&!r&&this.children.splice(a,1),!1}},{key:"insert",value:function e(t,n){this.internalInsert(t,n,!0)}},{key:"internalInsert",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.children,a=null==n||-1===n?i.length:n,u=i.map((function(e){return e.id})).indexOf(t.id);if(t.parent){var c,s=null===(c=t.document)||void 0===c?void 0:c.designer.editor;null==s||s.eventBus.emit("node.remove.topLevel",{node:t,index:t.index})}if(u<0)a<i.length?i.splice(a,0,t):i.push(t),t.internalSetParent(this.owner,o);else{if(a>u&&(a-=1),a===u)return;i.splice(u,1),i.splice(a,0,t)}this.emitter.emit("change",{type:"insert",node:t}),this.emitter.emit("insert",t);var l=null===(r=t.document)||void 0===r?void 0:r.designer.editor;if(null==l||l.eventBus.emit("node.add",{node:t}),o&&this.reportModified(t,this.owner,{type:"insert"}),t.conditionGroup&&(t.prevSibling&&t.prevSibling.conditionGroup===t.conditionGroup||t.nextSibling&&t.nextSibling.conditionGroup===t.conditionGroup||t.setConditionGroup(null)),t.prevSibling&&t.nextSibling){var f=t.prevSibling.conditionGroup;f&&f===t.nextSibling.conditionGroup&&t.setConditionGroup(f)}}},{key:"indexOf",value:function e(t){return this.children.map((function(e){return e.id})).indexOf(t.id)}},{key:"splice",value:function e(t,n,r){return r?this.children.splice(t,n,r):this.children.splice(t,n)}},{key:"get",value:function e(t){return this.children.length>t?this.children[t]:null}},{key:"has",value:function e(t){return this.indexOf(t)>-1}},{key:ee,value:function e(){var t=0,n=this.children,r=n.length||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){this.children.forEach((function(e,n){return t(e,n)}))}},{key:"map",value:function e(t){return this.children.map((function(e,n){return t(e,n)}))}},{key:"every",value:function e(t){return this.children.every((function(e,n){return t(e,n)}))}},{key:"some",value:function e(t){return this.children.some((function(e,n){return t(e,n)}))}},{key:"filter",value:function e(t){return this.children.filter(t)}},{key:"find",value:function e(t){return this.children.find(t)}},{key:"reduce",value:function e(t,n){return this.children.reduce(t,n)}},{key:"reverse",value:function e(){return this.children.reverse()}},{key:"mergeChildren",value:function e(t,n,r){var o=this,i=!1;if(t){var a=this.children.filter(t);a.length>0&&(a.forEach((function(e){var t=o.children.map((function(e){return e.id})).indexOf(e.id);t>-1&&(o.children.splice(t,1),e.remove(!1))})),i=!0)}if(n){var u=n(this.children);u&&u.length>0&&(u.forEach((function(e){var t,n=null===(t=o.owner.document)||void 0===t?void 0:t.createNode(e);o.children.push(n),n.internalSetParent(o.owner)})),i=!0)}r&&(this.children=this.children.sort(r),i=!0),i&&this.emitter.emit("change")}},{key:"onChange",value:function e(t){var n=this;return this.emitter.on("change",t),function(){n.emitter.removeListener("change",t)}}},{key:"onInsert",value:function e(t){var n=this;return this.emitter.on("insert",t),function(){n.emitter.removeListener("insert",t)}}},{key:"reportModified",value:function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&!t.isRootNode){var i=null===(r=n.componentMeta)||void 0===r?void 0:r.advanced.callbacks;if(null!=i&&i.onSubtreeModified)try{null==i||i.onSubtreeModified.call(t.internalToShellNode(),n.internalToShellNode(),o)}catch(e){console.error("error when execute advanced.callbacks.onSubtreeModified",e)}n.parent&&!n.parent.isRootNode&&this.reportModified(t,n.parent,oe(oe({},o),{},{propagated:!0}))}}}]),e}();Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],fe.prototype,"children",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[])],fe.prototype,"size",null),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[])],fe.prototype,"length",null);var pe=n(54),he=n(55),de=Object(a.createIntl)({"en-US":pe,"zh-CN":he}),ve=de.intl,ye=de.intlNode,me=de.getLocale,be=de.setLocale;function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Se(r.key),r)}}function je(e,t,n){return t&&Oe(e.prototype,t),n&&Oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e){var t=ke(e,"string");return"symbol"===ge(t)?t:String(t)}function ke(e,t){if("object"!==ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ee=function(){function e(t,n){we(this,e),this.name=void 0,this.isExclusiveGroup=!0,this.id=Object(s.db)("exclusive"),this.title=void 0,this.children=[],this.visibleIndex=0,this.name=t,Object(a.makeObservable)(this),this.title=n||{type:"i18n",intl:ve("Condition Group")}}return je(e,[{key:"document",get:function e(){return this.visibleNode.document}},{key:"zLevel",get:function e(){return this.visibleNode.zLevel}},{key:"length",get:function e(){return this.children.length}},{key:"visibleNode",get:function e(){return this.children[this.visibleIndex]}},{key:"firstNode",get:function e(){return this.children[0]}},{key:"index",get:function e(){return this.firstNode.index}},{key:"add",value:function e(t){var n;if(t.nextSibling&&(null===(n=t.nextSibling.conditionGroup)||void 0===n?void 0:n.id)===this.id){var r=this.children.indexOf(t.nextSibling);this.children.splice(r,0,t)}else this.children.push(t)}},{key:"remove",value:function e(t){var n=this.children.indexOf(t);n>-1&&(this.children.splice(n,1),this.visibleIndex>n?this.visibleIndex-=1:this.visibleIndex>=this.children.length&&(this.visibleIndex=this.children.length-1))}},{key:"setVisible",value:function e(t){var n=this.children.indexOf(t);n>-1&&(this.visibleIndex=n)}},{key:"isVisible",value:function e(t){var n;return this.children.indexOf(t)===this.visibleIndex}}]),e}();function _e(e){return e&&e.isExclusiveGroup}function Pe(e,t){var n=e.slots,r;return(void 0===n?[]:n).some((function(e){var n;return t&&t===(null==e||null===(n=e.getExtraProp("name"))||void 0===n?void 0:n.getAsString())}))}function xe(e,t){var n=e.slots,r=void 0===n?[]:n;return r.some((function(e,n){var o;return!(!t||t!==(null==e||null===(o=e.getExtraProp("name"))||void 0===o?void 0:o.getAsString()))&&(e.remove(),r.splice(n,1),!0)}))}Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],Ee.prototype,"children",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],Ee.prototype,"visibleIndex",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Ee.prototype,"document",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Ee.prototype,"zLevel",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Ee.prototype,"length",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Ee.prototype,"visibleNode",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Ee.prototype,"firstNode",null);var Ne=s.O,Ce=s.F,Te=s.l,Le=s.s,Re;!function(e){e.NODE_CHILDREN_CHANGE="node.children.change",e.NODE_VISIBLE_CHANGE="node.visible.change"}(Re||(Re={}));var Ae=["componentName","id","children","props"],Me=["componentName","id","children","props"],De,Ie,Be;function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return(t=Ye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){if(null==e)return{};var n=ze(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ze(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ye(r.key),r)}}function Xe(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ye(e){var t=Ke(e,"string");return"symbol"===Ve(t)?t:String(t)}function Ke(e,t){if("object"!==Ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var qe=function(){function e(t,n){var r=this;We(this,e),this.document=void 0,this.emitter=void 0,this.isNode=!0,this.id=void 0,this.componentName=void 0,this.props=void 0,this._children=void 0,this._addons={},this._parent=null,this.isInited=!1,this._settingEntry=void 0,this.autoruns=void 0,this._isRGLContainer=!1,this._slotFor=null,this._slots=[],this._conditionGroup=null,this.purged=!1,this.purging=!1,this.status={inPlaceEditing:!1,locking:!1,pseudo:!1},this.document=t,Object(a.makeObservable)(this);var o=n.componentName,i=n.id,u=n.children,c=n.props,l=Ue(n,Ae);this.id=t.nextId(i),this.componentName=o,"Leaf"===this.componentName?this.props=new Q(this,{children:Object(s.z)(u)||Object(s.H)(u)?u:""}):(this.props=new Q(this,c,l),this._children=new fe(this,this.initialChildren(u)),this._children.internalInitParent(),this.props.merge(this.upgradeProps(this.initProps(c||{})),this.upgradeProps(l)),this.setupAutoruns()),this.initBuiltinProps(),this.isInited=!0,this.emitter=Object(a.createModuleEventBus)("Node");var f=this.document.designer.editor;this.onVisibleChange((function(e){null==f||f.eventBus.emit(Re.NODE_VISIBLE_CHANGE,r,e)})),this.onChildrenChange((function(e){null==f||f.eventBus.emit(Re.NODE_CHILDREN_CHANGE,{type:null==e?void 0:e.type,node:r})}))}return Xe(e,[{key:"parent",get:function e(){return this._parent}},{key:"children",get:function e(){return this._children||null}},{key:"zLevel",get:function e(){return this._parent?this._parent.zLevel+1:0}},{key:"title",get:function e(){var t=this.getExtraProp("title");if(t){var n=t.getAsString();if(n)return n}return this.componentMeta.title}},{key:"icon",get:function e(){return this.componentMeta.icon}},{key:"settingEntry",get:function e(){return this._settingEntry||(this._settingEntry=this.document.designer.createSettingEntry([this])),this._settingEntry}},{key:"isRGLContainer",get:function e(){return!!this._isRGLContainer},set:function e(t){this._isRGLContainer=t}},{key:"isRGLContainerNode",get:function e(){return!!this._isRGLContainer},set:function e(t){this._isRGLContainer=t}},{key:"isEmptyNode",get:function e(){return this.isEmpty()}},{key:"slots",get:function e(){return this._slots}},{key:"conditionGroup",get:function e(){return this._conditionGroup}},{key:"isPurged",get:function e(){return this.purged}},{key:"isPurging",get:function e(){return this.purging}},{key:"initBuiltinProps",value:function e(){this.props.has(q("hidden"))||this.props.add(!1,q("hidden")),this.props.has(q("title"))||this.props.add("",q("title")),this.props.has(q("isLocked"))||this.props.add(!1,q("isLocked")),this.props.has(q("condition"))||this.props.add(!0,q("condition")),this.props.has(q("conditionGroup"))||this.props.add("",q("conditionGroup")),this.props.has(q("loop"))||this.props.add(void 0,q("loop"))}},{key:"initProps",value:function e(t){return this.document.designer.transformProps(t,this,u.h.Init)}},{key:"upgradeProps",value:function e(t){return this.document.designer.transformProps(t,this,u.h.Upgrade)}},{key:"setupAutoruns",value:function e(){var t=this,n=this.componentMeta.advanced.autoruns;!n||n.length<1||(this.autoruns=n.map((function(e){return Object(a.autorun)((function(){var n;e.autorun(null===(n=t.props.getNode().settingEntry.get(e.name))||void 0===n?void 0:n.internalToShellField())}))})))}},{key:"initialChildren",value:function e(t){if(null==t){var e=this.componentMeta.advanced.initialChildren;if(e)return"function"==typeof e?e(this.internalToShellNode())||[]:e}return Array.isArray(t)?t:t?[t]:[]}},{key:"isContainer",value:function e(){return this.isContainerNode}},{key:"isContainerNode",get:function e(){return this.isParentalNode&&this.componentMeta.isContainer}},{key:"isModal",value:function e(){return this.isModalNode}},{key:"isModalNode",get:function e(){return this.componentMeta.isModal}},{key:"isRoot",value:function e(){return this.isRootNode}},{key:"isRootNode",get:function e(){return this.document.rootNode===this}},{key:"isPage",value:function e(){return this.isPageNode}},{key:"isPageNode",get:function e(){return this.isRootNode&&"Page"===this.componentName}},{key:"isComponent",value:function e(){return this.isComponentNode}},{key:"isComponentNode",get:function e(){return this.isRootNode&&"Component"===this.componentName}},{key:"isSlot",value:function e(){return this.isSlotNode}},{key:"isSlotNode",get:function e(){return null!=this._slotFor&&"Slot"===this.componentName}},{key:"isParental",value:function e(){return this.isParentalNode}},{key:"isParentalNode",get:function e(){return!this.isLeafNode}},{key:"isLeaf",value:function e(){return this.isLeafNode}},{key:"isLeafNode",get:function e(){return"Leaf"===this.componentName}},{key:"internalSetWillPurge",value:function e(){this.internalSetParent(null),this.document.addWillPurge(this)}},{key:"didDropIn",value:function e(t){var n=this.componentMeta.advanced.callbacks;if(null!=n&&n.onNodeAdd){var r=this.internalToShellNode();null==n||n.onNodeAdd.call(r,t.internalToShellNode(),r)}this._parent&&this._parent.didDropIn(t)}},{key:"didDropOut",value:function e(t){var n=this.componentMeta.advanced.callbacks;if(null!=n&&n.onNodeRemove){var r=this.internalToShellNode();null==n||n.onNodeRemove.call(r,t.internalToShellNode(),r)}this._parent&&this._parent.didDropOut(t)}},{key:"internalSetParent",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._parent!==t){var r,o;if(this._parent)if(this.isSlot())this._parent.unlinkSlot(this);else null===(r=this._parent.children)||void 0===r||r.unlinkChild(this);if(n)null===(o=this._parent)||void 0===o||o.didDropOut(this);if(t){if(this._parent=t,this.document.removeWillPurge(this),!this.conditionGroup){var i,a=null===(i=this.getExtraProp("conditionGroup",!1))||void 0===i?void 0:i.getAsString();a&&this.setConditionGroup(a)}n&&t.didDropIn(this)}}}},{key:"internalSetSlotFor",value:function e(t){this._slotFor=t}},{key:"internalToShellNode",value:function e(){return this.document.designer.shellModelFactory.createNode(this)}},{key:"slotFor",get:function e(){return this._slotFor}},{key:"remove",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{suppressRemoveEvent:!1};if(this.parent){var o,i,a,u,c;if(!r.suppressRemoveEvent)null===(o=this.document.designer.editor)||void 0===o||o.eventBus.emit("node.remove.topLevel",{node:this,index:null===(i=this.parent)||void 0===i||null===(a=i.children)||void 0===a?void 0:a.indexOf(this)});if(this.isSlot())this.parent.removeSlot(this),null===(u=this.parent.children)||void 0===u||u.internalDelete(this,n,t,{suppressRemoveEvent:!0});else null===(c=this.parent.children)||void 0===c||c.internalDelete(this,n,t,{suppressRemoveEvent:!0})}}},{key:"lock",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setExtraProp("isLocked",t)}},{key:"isLocked",get:function e(){var t;return!(null===(t=this.getExtraProp("isLocked"))||void 0===t||!t.getValue())}},{key:"canSelect",value:function e(){var t,n,r,o=null===(t=this.componentMeta)||void 0===t||null===(n=t.advanced)||void 0===n||null===(r=n.callbacks)||void 0===r?void 0:r.onSelectHook,e="function"!=typeof o||o(this.internalToShellNode());return e}},{key:"select",value:function e(){this.document.selection.select(this.id)}},{key:"hover",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.document.designer.detecting.capture(this):this.document.designer.detecting.release(this)}},{key:"componentMeta",get:function e(){return this.document.getComponentMeta(this.componentName)}},{key:"propsData",get:function e(){return this.isParental()&&"Fragment"!==this.componentName&&this.props.export(u.h.Serilize).props||null}},{key:"hasSlots",value:function e(){return this._slots.length>0}},{key:"setConditionGroup",value:function e(t){var n=null,r,o,i,a,u,c,s;if(!t)return null===(r=this.getExtraProp("conditionGroup",!1))||void 0===r||r.remove(),void(this._conditionGroup&&(this._conditionGroup.remove(this),this._conditionGroup=null));_e(t)||((null===(o=this.prevSibling)||void 0===o||null===(i=o.conditionGroup)||void 0===i?void 0:i.name)===t?n=this.prevSibling.conditionGroup:(null===(a=this.nextSibling)||void 0===a||null===(u=a.conditionGroup)||void 0===u?void 0:u.name)===t?n=this.nextSibling.conditionGroup:"string"==typeof t&&(n=new Ee(t)));n&&this._conditionGroup!==n&&(null===(c=this.getExtraProp("conditionGroup",!0))||void 0===c||c.setValue(n.name),this._conditionGroup&&this._conditionGroup.remove(this),this._conditionGroup=n,null===(s=n)||void 0===s||s.add(this))}},{key:"isConditionalVisible",value:function e(){var t;return null===(t=this._conditionGroup)||void 0===t?void 0:t.isVisible(this)}},{key:"setConditionalVisible",value:function e(){var t;null===(t=this._conditionGroup)||void 0===t||t.setVisible(this)}},{key:"hasCondition",value:function e(){var t,n=null===(t=this.getExtraProp("condition",!1))||void 0===t?void 0:t.getValue();return null!=n&&""!==n&&!0!==n}},{key:"hasLoop",value:function e(){var t,n=null===(t=this.getExtraProp("loop",!1))||void 0===t?void 0:t.getValue();return null!=n&&(!!Array.isArray(n)||!!Object(s.H)(n))}},{key:"wrapWith",value:function e(t){var n;return this.replaceWith(Ge(Ge({},t),{},{children:[this.export()]})).children.get(0)}},{key:"replaceWith",value:function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=Object.assign({},r?this.export():{},t),null===(n=this.parent)||void 0===n?void 0:n.replaceChild(this,t)}},{key:"replaceChild",value:function e(t,n){var r;if(null!==(r=this.children)&&void 0!==r&&r.has(t)){var o=this.document.selection.has(t.id);delete n.id;var i=this.document.createNode(n);return Object(s.N)(i)?(this.insertBefore(i,t,!1),t.remove(!1),o&&this.document.selection.select(i.id),i):null}return t}},{key:"setVisible",value:function e(t){var n;null===(n=this.getExtraProp("hidden"))||void 0===n||n.setValue(!t),this.emitter.emit("visibleChange",t)}},{key:"getVisible",value:function e(){var t;return!(null!==(t=this.getExtraProp("hidden"))&&void 0!==t&&t.getValue())}},{key:"onVisibleChange",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("visibleChange",r),function(){n.emitter.removeListener("visibleChange",r)}}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.props.query(t,n)||null}},{key:"getExtraProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.props.get(q(t),n)||null}},{key:"setExtraProp",value:function e(t,n){var r;null===(r=this.getProp(q(t),!0))||void 0===r||r.setValue(n)}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.value}},{key:"setPropValue",value:function e(t,n){this.getProp(t,!0).setValue(n)}},{key:"clearPropValue",value:function e(t){var n;null===(n=this.getProp(t,!1))||void 0===n||n.unset()}},{key:"mergeProps",value:function e(t){this.props.merge(t)}},{key:"setProps",value:function e(t){t instanceof Q?this.props=t:this.props.import(t)}},{key:"index",get:function e(){var t;return this.parent?null===(t=this.parent.children)||void 0===t?void 0:t.indexOf(this):-1}},{key:"nextSibling",get:function e(){var t;if(!this.parent)return null;var n=this.index;return"number"!=typeof n||n<0?null:null===(t=this.parent.children)||void 0===t?void 0:t.get(n+1)}},{key:"prevSibling",get:function e(){var t;if(!this.parent)return null;var n=this.index;return"number"!=typeof n||n<1?null:null===(t=this.parent.children)||void 0===t?void 0:t.get(n-1)}},{key:"schema",get:function e(){return this.export(u.h.Save)},set:function e(t){var n=this;Object(a.runInAction)((function(){return n.import(t)}))}},{key:"import",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.componentName,o=t.id,i=t.children,a=t.props,u=Ue(t,Me),c;(this.isSlot()&&te(this.children,(function(e){e.remove(!0,!0)}),(function(e,t){return e.get(t)})),this.isParental())?(this.props.import(a,u),null===(c=this._children)||void 0===c||c.import(i,n)):this.props.get("children",!0).setValue(Object(s.z)(i)||Object(s.H)(i)?i:"")}},{key:"toData",value:function e(){return this.export()}},{key:"export",value:function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Save,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=Object(s.k)(n);var o={componentName:this.componentName};if(n!==u.h.Clone&&(o.id=this.id),n===u.h.Render&&(o.docId=this.document.id),this.isLeaf()){var i;if(!r.bypassChildren)o.children=null===(i=this.props.get("children"))||void 0===i?void 0:i.export(n);return o}var a=this.props.export(n)||{},c=a.props,l=void 0===c?{}:c,f=a.extras,p=Ge({},f);Object.keys(this._addons).forEach((function(e){var n=t._addons[e];n&&(n.isProp?l[q(e)]=n.exportData():p[e]=n.exportData())}));var h=Ge(Ge({},o),{},{props:this.document.designer.transformProps(l,this,n)},this.document.designer.transformProps(p,this,n));return this.isParental()&&this.children&&this.children.size>0&&!r.bypassChildren&&(h.children=this.children.export(n)),h}},{key:"contains",value:function e(t){return nt(this,t)}},{key:"getZLevelTop",value:function e(t){return tt(this,t)}},{key:"comparePosition",value:function e(t){return rt(this,t)}},{key:"unlinkSlot",value:function e(t){var n=this._slots.indexOf(t);if(n<0)return!1;this._slots.splice(n,1)}},{key:"removeSlot",value:function e(t){var n=this._slots.indexOf(t);return n<0||this._slots.splice(n,1),!1}},{key:"addSlot",value:function e(t){var n,r=null==t||null===(n=t.getExtraProp("name"))||void 0===n?void 0:n.getAsString();Pe(this,r)&&xe(this,r),t.internalSetParent(this,!0),this._slots.push(t)}},{key:"isValidComponent",value:function e(){var t,n,r=null===(t=this.document)||void 0===t||null===(n=t.designer)||void 0===n?void 0:n.componentsMap;return!(!r||!r[this.componentName])}},{key:"removeChild",value:function e(t){var n;null===(n=this.children)||void 0===n||n.delete(t)}},{key:"purge",value:function e(){var t,n;this.purged||(this.purged=!0,null===(t=this.autoruns)||void 0===t||t.forEach((function(e){return e()})),this.props.purge(),null===(n=this.settingEntry)||void 0===n||n.purge())}},{key:"internalPurgeStart",value:function e(){this.purging=!0}},{key:"canPerformAction",value:function e(t){var n,r,o=this,i;return((null===(n=this.componentMeta)||void 0===n||null===(r=n.availableActions)||void 0===r?void 0:r.filter((function(e){var t=e.condition;return"function"==typeof t?!1!==t(o):!1!==t})).map((function(e){return e.name})))||[]).indexOf(t)>=0}},{key:"isEmpty",value:function e(){return!this.children||this.children.isEmpty()}},{key:"getChildren",value:function e(){return this.children}},{key:"getComponentName",value:function e(){return this.componentName}},{key:"insert",value:function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.insertAfter(t,n,r)}},{key:"insertBefore",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Qe(t,this.document);null===(r=this.children)||void 0===r||r.internalInsert(i,n?n.index:null,o)}},{key:"insertAfter",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Qe(t,this.document);null===(r=this.children)||void 0===r||r.internalInsert(i,n?(n.index||0)+1:null,o)}},{key:"getParent",value:function e(){return this.parent}},{key:"getId",value:function e(){return this.id}},{key:"getIndex",value:function e(){return this.index}},{key:"getNode",value:function e(){return this}},{key:"getRoot",value:function e(){return this.document.rootNode}},{key:"getProps",value:function e(){return this.props}},{key:"onChildrenChange",value:function e(t){var n,r=Object(a.wrapWithEventSwitch)(t);return null===(n=this.children)||void 0===n?void 0:n.onChange(r)}},{key:"mergeChildren",value:function e(t,n,r){var o;null===(o=this.children)||void 0===o||o.mergeChildren(t,n,r)}},{key:"getStatus",value:function e(t){return t&&null!=this.status[t]?this.status[t]:this.status}},{key:"setStatus",value:function e(t,n){this.status.hasOwnProperty(t)&&n!==this.status[t]&&(this.status[t]=n)}},{key:"getDOMNode",value:function e(){var t,n,r,o,i=null===(t=this.document.simulator)||void 0===t||null===(n=t.getComponentInstances(this))||void 0===n?void 0:n[0];if(i)return null===(r=this.document.simulator)||void 0===r||null===(o=r.findDOMNodes(i))||void 0===o?void 0:o[0]}},{key:"getPage",value:function e(){return console.warn("getPage is deprecated, use document instead"),this.document}},{key:"getRGL",value:function e(){var t,n=this.isContainer(),r=this.isEmpty(),o=this.isRGLContainer,i=null===(t=this.getParent())||void 0===t?void 0:t.isRGLContainer,a=o||i&&(!n||!r),u;return{isContainerNode:n,isEmptyNode:r,isRGLContainerNode:o,isRGLNode:i,isRGL:a,rglNode:o?this:a?null==this?void 0:this.getParent():null}}},{key:"getSuitablePlace",value:function e(t,n){var r,o,i,a,u,c=null===(r=this.document)||void 0===r?void 0:r.focusNode;if(null!=t&&null!==(o=t.componentMeta)&&void 0!==o&&o.isModal)return{container:c,ref:n};if(!n&&c&&this.contains(c)){var s,l,f,p=null===(s=c.componentMeta)||void 0===s||null===(l=s.prototype)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.canDropIn;return void 0===p||!0===p||"function"==typeof p&&p(t)?{container:c}:null}if(this.isRoot()&&this.children){var h,d,v,y=this.children.filter((function(e){var n,r,o;if(!e.isContainerNode)return!1;var i=null===(n=e.componentMeta)||void 0===n||null===(r=n.prototype)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.canDropIn;return!!(void 0===i||!0===i||"function"==typeof i&&i(t))}))[0];if(y)return{container:y,ref:n};var m=null===(h=this.componentMeta)||void 0===h||null===(d=h.prototype)||void 0===d||null===(v=d.options)||void 0===v?void 0:v.canDropIn;return void 0===m||!0===m||"function"==typeof m&&m(t)?{container:this,ref:n}:null}var b=null===(i=this.componentMeta)||void 0===i||null===(a=i.prototype)||void 0===a||null===(u=a.options)||void 0===u?void 0:u.canDropIn;return this.isContainer()&&(void 0===b||"boolean"==typeof b&&b||"function"==typeof b&&b(t))?{container:this,ref:n}:this.parent?this.parent.getSuitablePlace(t,{index:this.index}):null}},{key:"getAddonData",value:function e(t){var n,r=this._addons[t];return r?r.exportData():null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"registerAddon",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._addons[t]={exportData:n,isProp:r}}},{key:"getRect",value:function e(){var t,n;return this.isRoot()?(null===(n=this.document.simulator)||void 0===n?void 0:n.viewport.contentBounds)||null:(null===(t=this.document.simulator)||void 0===t?void 0:t.computeRect(this))||null}},{key:"getPrototype",value:function e(){return this.componentMeta.prototype}},{key:"setPrototype",value:function e(t){this.componentMeta.prototype=t}},{key:"getIcon",value:function e(){return this.icon}},{key:"toString",value:function e(){return this.id}},{key:"emitPropChange",value:function e(t){var n;null===(n=this.emitter)||void 0===n||n.emit("propChange",t)}},{key:"onPropChange",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("propChange",r),function(){n.emitter.removeListener("propChange",r)}}}]),e}(),Je;function Qe(e,t){var n=e;return Object(s.N)(e)||(n=e.getComponentName?t.createNode({componentName:e.getComponentName()}):t.createNode(e)),n}function Ze(e){return e&&e.isRootNode}function et(e){var t;return"lowCode"===(null===(t=e.componentMeta)||void 0===t?void 0:t.getMetadata().devMode)}function tt(e,t){var n=e.zLevel;if(n<t||t<0)return null;if(n===t)return e;for(var r=e;r&&n-- >t;)r=r.parent;return r}function nt(e,t){if(e===t)return!0;if(!e.isParentalNode||!t.parent)return!1;var n=tt(t,e.zLevel);return!!n&&e===n}function rt(e,t){if(e===t)return Je.TheSame;var n=e.zLevel,r=t.zLevel,o;return n===r?Je.BeforeOrAfter:n<r?(o=tt(t,n))&&o===e?Je.Contains:Je.BeforeOrAfter:(o=tt(e,r))&&o===t?Je.ContainedBy:Je.BeforeOrAfter}function ot(e,t,n,r){var o,i,a,c;if(Object(s.N)(t)&&(r||t.isSlot()))i=t.export(u.h.Clone),o=null===(a=e.document)||void 0===a?void 0:a.createNode(i);else if(Object(s.N)(t))o=t;else if(Object(s.O)(t)){var l;o=null===(l=e.document)||void 0===l?void 0:l.createNode(t)}return Object(s.N)(o)?(null===(c=e.children)||void 0===c||c.insert(o,n),o):null}function it(e,t,n,r){for(var o=n,i,a=[];i=t.pop();)i=ot(e,i,o,r),a.push(i),o=i.index;return a}function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ct(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function ct(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ht(r.key),r)}}function pt(e,t,n){return t&&ft(e.prototype,t),n&&ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ht(e){var t=dt(e,"string");return"symbol"===at(t)?t:String(t)}function dt(e,t){if("object"!==at(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==at(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],qe.prototype,"_parent",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[])],qe.prototype,"zLevel",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],qe.prototype,"title",null),Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],qe.prototype,"_slots",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],qe.prototype,"_conditionGroup",void 0),Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Object)],qe.prototype,"status",void 0),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],qe.prototype,"initBuiltinProps",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",Object)],qe.prototype,"initProps",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",Object)],qe.prototype,"upgradeProps",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],qe.prototype,"componentMeta",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],qe.prototype,"propsData",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],qe.prototype,"index",null),function(e){e[e.Contains=16]="Contains",e[e.ContainedBy=8]="ContainedBy",e[e.BeforeOrAfter=2]="BeforeOrAfter",e[e.TheSame=0]="TheSame"}(Je||(Je={}));var vt=function(){function e(t){lt(this,e),this.doc=void 0,this.emitter=Object(a.createModuleEventBus)("Selection"),this._selected=[],this.doc=t,Object(a.makeObservable)(this)}return pt(e,[{key:"selected",get:function e(){return this._selected}},{key:"select",value:function e(t){if(!(1===this._selected.length&&this._selected.indexOf(t)>-1)){var n=this.doc.getNode(t);null!=n&&n.canSelect()&&(this._selected=[t],this.emitter.emit("selectionchange",this._selected))}}},{key:"selectAll",value:function e(t){var n=this,r=[];t.forEach((function(e){var t=n.doc.getNode(e);null!=t&&t.canSelect()&&r.push(e)})),this._selected=r,this.emitter.emit("selectionchange",this._selected)}},{key:"clear",value:function e(){this._selected.length<1||(this._selected=[],this.emitter.emit("selectionchange",this._selected))}},{key:"dispose",value:function e(){for(var t=this._selected.length,n=t;n-- >0;){var r=this._selected[n];this.doc.hasNode(r)||this._selected.splice(n,1)}this._selected.length!==t&&this.emitter.emit("selectionchange",this._selected)}},{key:"add",value:function e(t){this._selected.indexOf(t)>-1||(this._selected.push(t),this.emitter.emit("selectionchange",this._selected))}},{key:"has",value:function e(t){return this._selected.indexOf(t)>-1}},{key:"remove",value:function e(t){var n=this._selected.indexOf(t);n>-1&&(this._selected.splice(n,1),this.emitter.emit("selectionchange",this._selected))}},{key:"containsNode",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ut(this._selected),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.doc.getNode(i);if((!n||null==a||!a.contains(this.doc.focusNode))&&(null!=a&&a.contains(t)))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"getNodes",value:function e(){var t=[],n=ut(this._selected),r;try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this.doc.getNode(o);i&&t.push(i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getTopNodes",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[],r=ut(this._selected),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.doc.getNode(i);if(a&&(t||!a.contains(this.doc.focusNode))){for(var u=n.length,c=!0;u-- >0;){var s=rt(n[u],a);if(s===Je.Contains||s===Je.TheSame){c=!1;break}s===Je.ContainedBy&&n.splice(u,1)}c&&n.push(a)}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"onSelectionChange",value:function e(t){var n=this;return this.emitter.on("selectionchange",t),function(){n.emitter.removeListener("selectionchange",t)}}}]),e}();function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wt(r.key),r)}}function gt(e,t,n){return t&&bt(e.prototype,t),n&&bt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wt(e){var t=Ot(e,"string");return"symbol"===yt(t)?t:String(t)}function Ot(e,t){if("object"!==yt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],vt.prototype,"_selected",void 0);var jt=new s.e({level:"warn",bizName:"history"}),St=function(){function e(t,n,r){var o=this;mt(this,e),this.redoer=void 0,this.document=void 0,this.session=void 0,this.records=void 0,this.point=0,this.emitter=Object(a.createModuleEventBus)("History"),this.asleep=!1,this.currentSerialization={serialize:function e(t){return JSON.stringify(t)},unserialize:function e(t){return JSON.parse(t)}},this.timeGap=1e3,this.redoer=n,this.document=r,this.session=new kt(0,null,this.timeGap),this.records=[this.session],Object(a.reaction)((function(){return t()}),(function(e){o.asleep||Object(a.untracked)((function(){var t=o.currentSerialization.serialize(e);if(o.session.data!==t)if(o.session.isActive())o.session.log(t);else{o.session.end();var n=o.getState(),r=o.session.cursor+1,i=new kt(r,t,o.timeGap);o.session=i,o.records.splice(r,o.records.length-r,i);var a=o.getState();a!==n&&o.emitter.emit("statechange",a)}}))}),{fireImmediately:!0})}return gt(e,[{key:"hotData",get:function e(){return this.session.data}},{key:"setSerialization",value:function e(t){this.currentSerialization=t}},{key:"isSavePoint",value:function e(){return this.point!==this.session.cursor}},{key:"sleep",value:function e(){this.asleep=!0}},{key:"wakeup",value:function e(){this.asleep=!1}},{key:"go",value:function e(t){this.session.end();var n=t,r;if((n=+n)<0?n=0:n>=this.records.length&&(n=this.records.length-1),n!==this.session.cursor){var o=this.records[n],i=o.data;this.sleep();try{this.redoer(this.currentSerialization.unserialize(i)),this.emitter.emit("cursor",i)}catch(e){jt.error(e)}this.wakeup(),this.session=o,this.emitter.emit("statechange",this.getState())}}},{key:"back",value:function e(){var t;if(this.session){var n=this.session.cursor-1;this.go(n);var r=null===(t=this.document)||void 0===t?void 0:t.designer.editor;r&&r.eventBus.emit("history.back",n)}}},{key:"forward",value:function e(){var t;if(this.session){var n=this.session.cursor+1;this.go(n);var r=null===(t=this.document)||void 0===t?void 0:t.designer.editor;r&&r.eventBus.emit("history.forward",n)}}},{key:"savePoint",value:function e(){this.session&&(this.session.end(),this.point=this.session.cursor,this.emitter.emit("statechange",this.getState()))}},{key:"getState",value:function e(){var t=this.session.cursor,n=7;return t<=0&&(n-=1),t>=this.records.length-1&&(n-=2),this.point===t&&(n-=4),n}},{key:"onChangeState",value:function e(t){return this.onStateChange(t)}},{key:"onStateChange",value:function e(t){var n=this;return this.emitter.on("statechange",t),function(){n.emitter.removeListener("statechange",t)}}},{key:"onChangeCursor",value:function e(t){return this.onCursor(t)}},{key:"onCursor",value:function e(t){var n=this;return this.emitter.on("cursor",t),function(){n.emitter.removeListener("cursor",t)}}},{key:"destroy",value:function e(){this.emitter.removeAllListeners(),this.records=[]}},{key:"isModified",value:function e(){return this.isSavePoint()}}]),e}(),kt=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;mt(this,e),this.cursor=void 0,this.timeGap=void 0,this._data=void 0,this.activeTimer=void 0,this.cursor=t,this.timeGap=r,this.setTimer(),this.log(n)}return gt(e,[{key:"data",get:function e(){return this._data}},{key:"log",value:function e(t){this.isActive()&&(this._data=t,this.setTimer())}},{key:"isActive",value:function e(){return null!=this.activeTimer}},{key:"end",value:function e(){this.isActive()&&this.clearTimer()}},{key:"setTimer",value:function e(){var t=this;this.clearTimer(),this.activeTimer=setTimeout((function(){return t.end()}),this.timeGap)}},{key:"clearTimer",value:function e(){this.activeTimer&&clearTimeout(this.activeTimer),this.activeTimer=null}}]),e}();function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nt(r.key),r)}}function xt(e,t,n){return t&&Pt(e.prototype,t),n&&Pt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nt(e){var t=Ct(e,"string");return"symbol"===Et(t)?t:String(t)}function Ct(e,t){if("object"!==Et(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Tt(e){if(!e)return[];var t=[];e.componentMeta.isModal&&t.push(e);var n=e.children;return n&&n.forEach((function(e){t=t.concat(Tt(e))})),t}var Lt=function(){function e(t){var n=this;_t(this,e),this.willDestroy=void 0,this.page=void 0,this.modalNodes=void 0,this.nodeRemoveEvents=void 0,this.emitter=void 0,this.page=t,this.emitter=Object(a.createModuleEventBus)("ModalNodesManager"),this.nodeRemoveEvents={},this.setNodes(),this.hideModalNodes(),this.willDestroy=[t.onNodeCreate((function(e){return n.addNode(e)})),t.onNodeDestroy((function(e){return n.removeNode(e)}))]}return xt(e,[{key:"getModalNodes",value:function e(){return this.modalNodes}},{key:"getVisibleModalNode",value:function e(){var t;return this.getModalNodes().find((function(e){return e.getVisible()}))||null}},{key:"hideModalNodes",value:function e(){this.modalNodes.forEach((function(e){e.setVisible(!1)}))}},{key:"setVisible",value:function e(t){this.hideModalNodes(),t.setVisible(!0)}},{key:"setInvisible",value:function e(t){t.setVisible(!1)}},{key:"onVisibleChange",value:function e(t){var n=this;return this.emitter.on("visibleChange",t),function(){n.emitter.removeListener("visibleChange",t)}}},{key:"onModalNodesChange",value:function e(t){var n=this;return this.emitter.on("modalNodesChange",t),function(){n.emitter.removeListener("modalNodesChange",t)}}},{key:"addNode",value:function e(t){null!=t&&t.componentMeta.isModal&&(this.hideModalNodes(),this.modalNodes.push(t),this.addNodeEvent(t),this.emitter.emit("modalNodesChange"),this.emitter.emit("visibleChange"))}},{key:"removeNode",value:function e(t){if(t.componentMeta.isModal){var n=this.modalNodes.indexOf(t);n>=0&&this.modalNodes.splice(n,1),this.removeNodeEvent(t),this.emitter.emit("modalNodesChange"),t.getVisible()&&this.emitter.emit("visibleChange")}}},{key:"addNodeEvent",value:function e(t){var n=this;this.nodeRemoveEvents[t.id]=t.onVisibleChange((function(){n.emitter.emit("visibleChange")}))}},{key:"removeNodeEvent",value:function e(t){this.nodeRemoveEvents[t.id]&&(this.nodeRemoveEvents[t.id](),delete this.nodeRemoveEvents[t.id])}},{key:"setNodes",value:function e(){var t=this,n=Tt(this.page.rootNode);this.modalNodes=n,this.modalNodes.forEach((function(e){t.addNodeEvent(e)})),this.emitter.emit("modalNodesChange")}}]),e}(),Rt;function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return(t=zt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Vt(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zt(r.key),r)}}function Ut(e,t,n){return t&&Ht(e.prototype,t),n&&Ht(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zt(e){var t=Wt(e,"string");return"symbol"===At(t)?t:String(t)}function Wt(e,t){if("object"!==At(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==At(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var $t=function(){function e(t,n){var r,o,i=this;Gt(this,e),this.rootNode=void 0,this.id=Object(s.db)("doc"),this.selection=new vt(this),this.history=void 0,this.modalNodesManager=void 0,this._nodesMap=new Map,this.project=void 0,this.designer=void 0,this.nodes=new Set,this.seqId=0,this.emitter=void 0,this.rootNodeVisitorMap={},this._addons=[],this._drillDownNode=null,this._modalNode=void 0,this._blank=void 0,this.inited=!1,this.willPurgeSpace=[],this.activeNodes=void 0,this._dropLocation=null,this._opened=!1,this._suspensed=!1,Object(a.makeObservable)(this),this.project=t,this.designer=null===(r=this.project)||void 0===r?void 0:r.designer,this.emitter=Object(a.createModuleEventBus)("DocumentModel"),n||(this._blank=!0),this.id=(null===(o=t.getSchema())||void 0===o?void 0:o.id)||this.id,this.rootNode=this.createNode(n||{componentName:"Page",id:"root",fileName:""}),this.history=new St((function(){return i.export(u.h.Serilize)}),(function(e){var t;i.import(e,!0),null===(t=i.simulator)||void 0===t||t.rerender()}),this),this.setupListenActiveNodes(),this.modalNodesManager=new Lt(this),this.inited=!0}return Ut(e,[{key:"simulator",get:function e(){return this.project.simulator}},{key:"nodesMap",get:function e(){return this._nodesMap}},{key:"fileName",get:function e(){var t,n;return(null===(t=this.rootNode)||void 0===t||null===(n=t.getExtraProp("fileName",!1))||void 0===n?void 0:n.getAsString())||this.id},set:function e(t){var n,r;null===(n=this.rootNode)||void 0===n||null===(r=n.getExtraProp("fileName",!0))||void 0===r||r.setValue(t)}},{key:"focusNode",get:function e(){if(this._drillDownNode)return this._drillDownNode;var t=a.engineConfig.get("focusNodeSelector");return t&&"function"==typeof t?t(this.rootNode):this.rootNode}},{key:"modalNode",get:function e(){return this._modalNode}},{key:"currentRoot",get:function e(){return this.modalNode||this.focusNode}},{key:"dropLocation",get:function e(){return this._dropLocation},set:function e(t){this._dropLocation=t,this.designer.editor.eventBus.emit("document.dropLocation.changed",{document:this,location:t})}},{key:"schema",get:function e(){var t;return null===(t=this.rootNode)||void 0===t?void 0:t.schema}},{key:"suspensed",get:function e(){return this._suspensed||!this._opened}},{key:"active",get:function e(){return!this._suspensed}},{key:"actived",get:function e(){return this.active}},{key:"opened",get:function e(){return this._opened}},{key:"root",get:function e(){return this.rootNode}},{key:"drillDown",value:function e(t){this._drillDownNode=t}},{key:"onChangeNodeVisible",value:function e(t){var n,r=this;return null===(n=this.designer.editor)||void 0===n||n.eventBus.on(Re.NODE_VISIBLE_CHANGE,t),function(){var e;null===(e=r.designer.editor)||void 0===e||e.eventBus.off(Re.NODE_VISIBLE_CHANGE,t)}}},{key:"onChangeNodeChildren",value:function e(t){var n,r=this;return null===(n=this.designer.editor)||void 0===n||n.eventBus.on(Re.NODE_CHILDREN_CHANGE,t),function(){var e;null===(e=r.designer.editor)||void 0===e||e.eventBus.off(Re.NODE_CHILDREN_CHANGE,t)}}},{key:"addWillPurge",value:function e(t){this.willPurgeSpace.push(t)}},{key:"removeWillPurge",value:function e(t){var n=this.willPurgeSpace.indexOf(t);n>-1&&this.willPurgeSpace.splice(n,1)}},{key:"isBlank",value:function e(){return!(!this._blank||this.isModified())}},{key:"nextId",value:function e(t){for(var n=t;!n||this.nodesMap.get(n);)n="node_".concat((String(this.id).slice(-10)+(++this.seqId).toString(36)).toLocaleLowerCase());return n}},{key:"getNode",value:function e(t){return this._nodesMap.get(t)||null}},{key:"getNodeCount",value:function e(){var t;return null===(t=this._nodesMap)||void 0===t?void 0:t.size}},{key:"hasNode",value:function e(t){var n=this.getNode(t);return!!n&&!n.isPurged}},{key:"createNode",value:function e(t){var n,r;r=Object(s.z)(t)||Object(s.H)(t)?{componentName:"Leaf",children:t}:t;var o=null;return this.hasNode(null===(n=r)||void 0===n?void 0:n.id)&&(r.id=null),r.id&&((o=this.getNode(r.id))&&o.componentName===r.componentName?(o.parent&&o.internalSetParent(null,!1),o.import(r,!0)):o&&(o=null)),o||(o=new qe(this,r)),this._nodesMap.set(o.id,o),this.nodes.add(o),this.emitter.emit("nodecreate",o),o}},{key:"destroyNode",value:function e(t){this.emitter.emit("nodedestroy",t)}},{key:"insertNode",value:function e(t,n,r,o){return ot(t,n,r,o)}},{key:"insertNodes",value:function e(t,n,r,o){return it(t,n,r,o)}},{key:"removeNode",value:function e(t){var n,r=null;"string"==typeof t?(n=t,r=this.getNode(n)):t.id&&(n=t.id,r=this.getNode(n)),r&&this.internalRemoveAndPurgeNode(r,!0)}},{key:"internalRemoveAndPurgeNode",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.nodes.has(t)&&t.remove(n)}},{key:"unlinkNode",value:function e(t){this.nodes.delete(t),this._nodesMap.delete(t.id)}},{key:"wrapWith",value:function e(t){var n=this.selection.getTopNodes();if(n.length<1)return null;var r=this.createNode(t);if(r.isParental()){var o=n[0];return ot(o.parent,r,o.index),it(r,n),this.selection.select(r.id),r}return this.removeNode(r),null}},{key:"import",value:function e(t){var n,r=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null===(n=this._drillDownNode)||void 0===n?void 0:n.id;Object(a.runWithGlobalEventOff)((function(){var e;r.nodes.forEach((function(e){e.isRoot()||r.internalRemoveAndPurgeNode(e,!0)})),null===(e=r.rootNode)||void 0===e||e.import(t,o),r.modalNodesManager=new Lt(r),i&&r.drillDown(r.getNode(i))}))}},{key:"export",value:function e(){var t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Serilize;o=Object(s.k)(o);var i=null===(t=this.rootNode)||void 0===t?void 0:t.export(o);if(Array.isArray(null==i?void 0:i.children)&&null!=i&&null!==(n=i.children)&&void 0!==n&&n.length&&(null==i||null===(r=i.children)||void 0===r?void 0:r.length)>0){var a=null==i?void 0:i.children.filter((function(e){return Object(s.P)(e)})).findIndex((function(e){var t;return null===(t=e.props)||void 0===t?void 0:t.__isTopFixed__}));if(a>0){var c=null==i?void 0:i.children.splice(a,1);null==i||i.children.unshift(c[0])}}return i}},{key:"getNodeSchema",value:function e(t){var n=this.getNode(t);return n?n.schema:null}},{key:"isModified",value:function e(){return this.history.isSavePoint()}},{key:"getComponent",value:function e(t){return this.simulator.getComponent(t)}},{key:"getComponentMeta",value:function e(t){var n=this;return this.designer.getComponentMeta(t,(function(){var e;return(null===(e=n.simulator)||void 0===e?void 0:e.generateComponentMetadata(t))||null}))}},{key:"setSuspense",value:function e(t){var n;(this._opened||t)&&(this._suspensed=t,null===(n=this.simulator)||void 0===n||n.setSuspense(t),t||this.project.checkExclusive(this))}},{key:"suspense",value:function e(){this.setSuspense(!0)}},{key:"activate",value:function e(){this.setSuspense(!1)}},{key:"open",value:function e(){var t=this._opened;return this._opened=!0,!1===t&&this.designer.postEvent("document-open",this),this._suspensed?this.setSuspense(!1):this.project.checkExclusive(this),this}},{key:"close",value:function e(){this.setSuspense(!0),this._opened=!1}},{key:"remove",value:function e(){this.designer.postEvent("document.remove",{id:this.id}),this.purge(),this.project.removeDocument(this)}},{key:"purge",value:function e(){var t;null===(t=this.rootNode)||void 0===t||t.purge(),this.nodes.clear(),this._nodesMap.clear(),this.rootNode=null}},{key:"checkNesting",value:function e(t,n){var r=this,o;if(Object(s.B)(n))o=Array.isArray(n.data)?n.data:[n.data];else if(Object(s.C)(n))o=n.nodes;else{if(!Object(s.N)(n)&&!Object(s.O)(n))return console.warn("the dragObject is not in the correct type, dragObject:",n),!0;o=[n]}return o.every((function(e){return r.checkNestingDown(t,e)&&r.checkNestingUp(t,e)}))}},{key:"checkDropTarget",value:function e(t,n){var r=this,o;if(Object(s.B)(n))o=Array.isArray(n.data)?n.data:[n.data];else{if(!Object(s.C)(n))return!1;o=n.nodes}return o.every((function(e){return r.checkNestingUp(t,e)}))}},{key:"checkNestingUp",value:function e(t,n){if(Object(s.N)(n)||Object(s.O)(n)){var r=Object(s.N)(n)?n.componentMeta:this.getComponentMeta(n.componentName);if(r)return r.checkNestingUp(n,t)}return!0}},{key:"checkNestingDown",value:function e(t,n){var r;return t.componentMeta.checkNestingDown(t,n)}},{key:"getRoot",value:function e(){return this.rootNode}},{key:"toData",value:function e(t){var n=this.export(u.h.Save),r;return{componentsMap:this.getComponentsMap(t),utils:this.getUtilsMap(),componentsTree:[n]}}},{key:"getHistory",value:function e(){return this.history}},{key:"getAddonData",value:function e(t){var n=this._addons.find((function(e){return e.name===t}));if(n)return n.exportData()}},{key:"exportAddonData",value:function e(){var t={};return this._addons.forEach((function(e){var n=e.exportData();null===n?delete t[e.name]:t[e.name]=n})),t}},{key:"registerAddon",value:function e(t,n){if(["id","params","layout"].indexOf(t)>-1)throw new Error("addon name cannot be id, params, layout");var r=this._addons.findIndex((function(e){return e.name===t}));r>-1&&this._addons.splice(r,1),this._addons.push({exportData:n,name:t})}},{key:"acceptRootNodeVisitor",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",n=arguments.length>1?arguments[1]:void 0,r={};t||console.warn("Invalid or empty RootNodeVisitor name.");try{this.rootNode&&(r=n.call(this,this.rootNode),this.rootNodeVisitorMap[t]=r)}catch(e){console.error("RootNodeVisitor is not valid."),console.error(e)}return r}},{key:"getRootNodeVisitor",value:function e(t){return this.rootNodeVisitorMap[t]}},{key:"getComponentsMap",value:function e(t){var n=this,r=[],o={},i=Bt(this._nodesMap.values()),a;try{for(i.s();!(a=i.n()).done;){var u=a.value,c,s=(u||{}).componentName,l,f;if("Slot"!==s)if(!o[s])o[s]=!0,null!==(l=u.componentMeta)&&void 0!==l&&null!==(f=l.npm)&&void 0!==f&&f.package?r.push(Dt(Dt({},u.componentMeta.npm),{},{componentName:s})):r.push({devMode:"lowCode",componentName:s})}}catch(e){i.e(e)}finally{i.f()}return Array.isArray(t)&&t.forEach((function(e){if(e&&!o[e]){var t,i=n.getComponentMeta(e);null!=i&&null!==(t=i.npm)&&void 0!==t&&t.package?r.push(Dt(Dt({},null==i?void 0:i.npm),{},{componentName:e})):r.push({devMode:"lowCode",componentName:e})}})),r}},{key:"getUtilsMap",value:function e(){var t,n,r,o;return null===(t=this.designer)||void 0===t||null===(n=t.editor)||void 0===n||null===(r=n.get("assets"))||void 0===r||null===(o=r.utils)||void 0===o?void 0:o.map((function(e){return{name:e.name,type:e.type||"npm",content:e.npm}}))}},{key:"onNodeCreate",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("nodecreate",r),function(){n.emitter.removeListener("nodecreate",r)}}},{key:"onNodeDestroy",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("nodedestroy",r),function(){n.emitter.removeListener("nodedestroy",r)}}},{key:"refresh",value:function e(){console.warn("refresh method is deprecated")}},{key:"onRefresh",value:function e(){console.warn("onRefresh method is deprecated")}},{key:"onReady",value:function e(t){var n=this;return this.designer.editor.eventBus.on("document-open",t),function(){n.designer.editor.eventBus.off("document-open",t)}}},{key:"setupListenActiveNodes",value:function e(){}}]),e}();function Xt(e){return e&&e.rootNode}function Yt(e){return"Page"===(null==e?void 0:e.componentName)}function Kt(){return(Kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qt(e){return React.createElement(s.f,Kt({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M704 480v-160c0-105.6-86.4-192-192-192s-192 86.4-192 192v160H160v416h704V480h-160z m-320-160c0-70.4 57.6-128 128-128s128 57.6 128 128v160h-256v-160z m416 512H224v-288h576v288z",fill:"#ffffff","p-id":"2680"}),React.createElement("path",{d:"M480 768h64v-160h-64z",fill:"#ffffff","p-id":"2681"}))}function Jt(){return(Jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qt(e){return React.createElement(s.f,Jt({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M183.423543 657.078213l163.499771-98.484012c-4.233418-14.908548-6.646374-30.585599-6.646374-46.852074 0-94.665033 76.739778-171.404812 171.404812-171.404812 45.983287 0 87.641059 18.20871 118.42518 47.679929l129.791042-78.17957c-73.254398-41.73145-157.866471-65.812915-248.216221-65.812915-192.742792 0-360.068705 108.505249-444.453604 267.715321C96.636944 567.228859 136.301316 616.355743 183.423543 657.078213zM841.253886 367.552144l-164.382884 99.015108c3.934612 14.415314 6.215562 29.513174 6.215562 45.174875 0 94.665033-76.739778 171.404812-171.404812 171.404812-45.361117 0-86.484723-17.747199-117.142977-46.515407l-129.419582 77.955466c72.874751 41.149189 156.893306 64.871473 246.563582 64.871473 192.742792 0 360.068705-108.505249 444.453604-267.717368C927.000805 456.773188 887.794875 408.054603 841.253886 367.552144zM420.280042 511.741104c0 0.550539 0.152473 1.060145 0.161682 1.608637l135.080511-81.366146c-13.065574-7.198959-27.854395-11.658528-43.826158-11.658528C461.20922 420.325068 420.280042 461.254246 420.280042 511.741104zM447.739441 576.947198l69.02098-41.574884L948.364369 275.395234c10.812253-6.512321 14.297634-20.558222 7.785314-31.369452-6.512321-10.812253-20.556175-14.296611-31.368428-7.785314L575.654762 446.537056l0 0-151.20577 91.078345 0 0L75.027787 748.090043c-10.812253 6.512321-14.297634 20.556175-7.785314 31.368428 6.512321 10.812253 20.556175 14.297634 31.369452 7.785314L447.739441 576.947198 447.739441 576.947198zM511.696078 603.157139c50.487881 0 91.416036-40.928155 91.416036-91.416036 0-0.549515-0.152473-1.057075-0.161682-1.605567l-135.079488 81.364099C480.935494 598.699618 495.724315 603.157139 511.696078 603.157139z"}))}function Zt(){return(Zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function en(e){return React.createElement(s.f,Zt({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M224 256v639.84A64 64 0 0 0 287.84 960h448.32A64 64 0 0 0 800 895.84V256h64a32 32 0 1 0 0-64H160a32 32 0 1 0 0 64h64zM384 96c0-17.664 14.496-32 31.904-32h192.192C625.696 64 640 78.208 640 96c0 17.664-14.496 32-31.904 32H415.904A31.872 31.872 0 0 1 384 96z m-96 191.744C288 270.208 302.4 256 320.224 256h383.552C721.6 256 736 270.56 736 287.744v576.512C736 881.792 721.6 896 703.776 896H320.224A32.224 32.224 0 0 1 288 864.256V287.744zM352 352c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z"}))}function tn(){return(tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nn(e){return React.createElement(s.f,tn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M965.824 405.952a180.48 180.48 0 0 1-117.12-85.376 174.464 174.464 0 0 1-16-142.08 22.208 22.208 0 0 0-7.04-23.552 480.576 480.576 0 0 0-153.6-89.216 23.104 23.104 0 0 0-24.32 5.76 182.208 182.208 0 0 1-135.68 57.92 182.208 182.208 0 0 1-133.12-56.64 23.104 23.104 0 0 0-26.88-7.04 478.656 478.656 0 0 0-153.6 89.856 22.208 22.208 0 0 0-7.04 23.552 174.464 174.464 0 0 1-16 141.44A180.48 180.48 0 0 1 58.24 405.952a22.4 22.4 0 0 0-17.28 17.792 455.08 455.08 0 0 0 0 176.512 22.4 22.4 0 0 0 17.28 17.792 180.48 180.48 0 0 1 117.12 84.736c25.408 42.944 31.232 94.592 16 142.08a22.208 22.208 0 0 0 7.04 23.552A480.576 480.576 0 0 0 352 957.632h7.68a23.04 23.04 0 0 0 16.64-7.04 184.128 184.128 0 0 1 266.944 0c6.592 8.96 18.752 11.968 28.8 7.04a479.36 479.36 0 0 0 156.16-88.576 22.208 22.208 0 0 0 7.04-23.552 174.464 174.464 0 0 1 13.44-142.72 180.48 180.48 0 0 1 117.12-84.736 22.4 22.4 0 0 0 17.28-17.792 452.613 452.613 0 0 0 0-176.512 23.04 23.04 0 0 0-17.28-17.792z m-42.88 169.408a218.752 218.752 0 0 0-128 98.112 211.904 211.904 0 0 0-21.76 156.736 415.936 415.936 0 0 1-112 63.68 217.472 217.472 0 0 0-149.12-63.68 221.312 221.312 0 0 0-149.12 63.68 414.592 414.592 0 0 1-112-63.68c12.8-53.12 4.288-109.12-23.68-156.096A218.752 218.752 0 0 0 101.12 575.36a386.176 386.176 0 0 1 0-127.36 218.752 218.752 0 0 0 128-98.112c27.2-47.552 34.944-103.68 21.76-156.8a415.296 415.296 0 0 1 112-63.68A221.44 221.44 0 0 0 512 187.392a218.24 218.24 0 0 0 149.12-57.984 413.952 413.952 0 0 1 112 63.744 211.904 211.904 0 0 0 23.04 156.096 218.752 218.752 0 0 0 128 98.112 386.65 386.65 0 0 1 0 127.36l-1.28 0.64z"}),React.createElement("path",{d:"M512 320.576c-105.984 0-192 85.568-192 191.104a191.552 191.552 0 0 0 192 191.104c106.112 0 192.064-85.568 192.064-191.104a190.72 190.72 0 0 0-56.256-135.168 192.448 192.448 0 0 0-135.744-55.936z m0 318.528c-70.656 0-128-57.088-128-127.424 0-70.4 57.344-127.36 128-127.36 70.72 0 128 56.96 128 127.36 0 33.792-13.44 66.176-37.44 90.112a128.32 128.32 0 0 1-90.496 37.312z"}))}function rn(){return(rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function on(e){return React.createElement(s.f,rn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M783.5648 437.4528h-18.0224V336.6912c0-43.8272-35.6352-79.4624-79.4624-79.4624h-110.592V241.664c0-90.9312-73.728-164.6592-164.6592-164.6592-90.9312 0-164.6592 73.728-164.6592 164.6592v15.5648H155.2384c-43.8272 0-79.4624 35.6352-79.4624 79.4624v131.4816c0 16.7936 13.9264 30.72 30.72 30.72h56.1152c56.9344 0 103.2192 46.2848 103.2192 103.2192s-46.2848 103.2192-103.2192 103.2192H106.496c-16.7936 0-30.72 13.9264-30.72 30.72v131.4816c0 43.8272 35.6352 79.4624 79.4624 79.4624h531.2512c43.8272 0 79.4624-35.6352 79.4624-79.4624v-100.7616h18.0224c90.9312 0 164.6592-73.728 164.6592-164.6592-0.4096-90.9312-74.1376-164.6592-165.0688-164.6592z m0 267.8784h-48.7424c-16.7936 0-30.72 13.9264-30.72 30.72v131.4816c0 9.8304-8.192 18.0224-18.0224 18.0224H155.2384c-9.8304 0-18.0224-8.192-18.0224-18.0224v-100.7616h25.3952c90.9312 0 164.6592-73.728 164.6592-164.6592 0-90.9312-73.728-164.6592-164.6592-164.6592h-25.3952V336.6912c0-9.8304 8.192-18.0224 18.0224-18.0224h121.6512c16.7936 0 30.72-13.9264 30.72-30.72V241.664c0-56.9344 46.2848-103.2192 103.2192-103.2192s103.2192 46.2848 103.2192 103.2192v46.2848c0 16.7936 13.9264 30.72 30.72 30.72h141.312c9.8304 0 18.0224 8.192 18.0224 18.0224v131.4816c0 16.7936 13.9264 30.72 30.72 30.72h48.7424c56.9344 0 103.2192 46.2848 103.2192 103.2192s-46.2848 103.2192-103.2192 103.2192z"}))}function an(){return(an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function un(e){return React.createElement(s.f,an({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M192 256.16C192 220.736 220.704 192 256.16 192h639.68C931.264 192 960 220.704 960 256.16v639.68A64.16 64.16 0 0 1 895.84 960H256.16A64.16 64.16 0 0 1 192 895.84V256.16z m64 31.584v576.512a32 32 0 0 0 31.744 31.744h576.512a32 32 0 0 0 31.744-31.744V287.744A32 32 0 0 0 864.256 256H287.744A32 32 0 0 0 256 287.744zM288 192v64h64V192H288z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m96 96v64h64V288h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m-96 96v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64H288z m-96-96v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64V288H192z m160 416c0-17.664 14.592-32 32.064-32h319.872a31.968 31.968 0 1 1 0 64h-319.872A31.968 31.968 0 0 1 352 704z m0-128c0-17.664 14.4-32 32.224-32h383.552c17.792 0 32.224 14.208 32.224 32 0 17.664-14.4 32-32.224 32H384.224A32.032 32.032 0 0 1 352 576z m0-128c0-17.664 14.4-32 32.224-32h383.552c17.792 0 32.224 14.208 32.224 32 0 17.664-14.4 32-32.224 32H384.224A32.032 32.032 0 0 1 352 448z m512 47.936V192h-64V159.968A31.776 31.776 0 0 0 768.032 128H160A31.776 31.776 0 0 0 128 159.968V768c0 17.92 14.304 31.968 31.968 31.968H192v64h303.936H128.128A63.968 63.968 0 0 1 64 799.872V128.128C64 92.704 92.48 64 128.128 64h671.744C835.296 64 864 92.48 864 128.128v367.808z"}))}function cn(){return(cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sn(e){return React.createElement(s.f,cn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M381.6 864H162.4c-6.9 0-12.4 4.6-12.4 10.3v19.3c0 5.7 5.6 10.3 12.4 10.3h219.1c6.8 0 12.4-4.6 12.4-10.3v-19.3c0.1-5.7-5.5-10.3-12.3-10.3zM382 780.6H162c-6.9 0-12.5 4.6-12.5 10.3v19.3c0 5.7 5.6 10.3 12.5 10.3h220c6.9 0 12.5-4.6 12.5-10.3v-19.3c0-5.7-5.6-10.3-12.5-10.3zM162.4 737.2h219.1c6.8 0 12.4-4.6 12.4-10.3v-19.3c0-5.7-5.6-10.3-12.4-10.3H162.4c-6.9 0-12.4 4.6-12.4 10.3v19.3c0 5.7 5.6 10.3 12.4 10.3z"}),React.createElement("path",{d:"M977.1 0H46.9C21 0 0 21 0 46.9v930.2c0 25.9 21 46.9 46.9 46.9h930.2c25.9 0 46.9-21 46.9-46.9V46.9C1024 21 1003 0 977.1 0z m-18.7 911.6c0 25.9-21 46.9-46.9 46.9H112.4c-25.9 0-46.9-21-46.9-47V112.4c0-25.9 21-46.9 46.9-46.9h799.1c25.9 0 46.9 21 46.9 46.9v799.2z"}),React.createElement("path",{d:"M207.9 342.7h608.2c32 0 57.9-25.9 57.9-57.9v-83c0-32-25.9-57.9-57.9-57.9H207.9c-32 0-57.9 25.9-57.9 57.9v83c0 32 25.9 57.9 57.9 57.9zM200 201.8c0-4.4 3.5-7.9 7.9-7.9h608.2c4.4 0 7.9 3.5 7.9 7.9v83c0 4.4-3.5 7.9-7.9 7.9H207.9c-4.4 0-7.9-3.5-7.9-7.9v-83zM806.4 405.7h-277c-37.3 0-67.6 30.2-67.6 67.6v363.2c0 37.3 30.2 67.6 67.6 67.6h277c37.3 0 67.6-30.2 67.6-67.6V473.3c0-37.4-30.2-67.6-67.6-67.6zM824 836.4c0 9.7-7.9 17.6-17.6 17.6h-277c-9.7 0-17.6-7.9-17.6-17.6V473.3c0-9.7 7.9-17.6 17.6-17.6h277c9.7 0 17.6 7.9 17.6 17.6v363.1zM272 649.7c67.4 0 122-54.6 122-122s-54.6-122-122-122-122 54.6-122 122 54.6 122 122 122z m0-204c45.2 0 82 36.8 82 82s-36.8 82-82 82-82-36.8-82-82 36.8-82 82-82z"}))}function ln(){return(ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fn(e){return React.createElement(s.f,ln({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M800 800h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-256 0h64v64h-64v-64z m0-640h64v64h-64v-64z m128 640h64v64h-64v-64zM160 672h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m640 384h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z"}),React.createElement("path",{d:"M896 64H128c-35.2 0-64 28.8-64 64v768c0 35.2 28.8 64 64 64h768c35.2 0 64-28.8 64-64V128c0-35.2-28.8-64-64-64z m0 800c0 19.2-12.8 32-32 32H160c-19.2 0-32-12.8-32-32V160c0-19.2 12.8-32 32-32h704c19.2 0 32 12.8 32 32v704z"}))}function pn(){return(pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hn(e){return React.createElement(s.f,pn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M384 480v-160c0-70.4 57.6-128 128-128s128 57.6 128 128v64h64v-64c0-105.6-86.4-192-192-192s-192 86.4-192 192v160H160v416h704V480H384z m416 352H224v-288h576v288z",fill:"#ffffff","p-id":"2813"}),React.createElement("path",{d:"M416 736h192v-64h-192z",fill:"#ffffff","p-id":"2814"}))}Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Object)],$t.prototype,"nodes",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],$t.prototype,"_drillDownNode",void 0),Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],$t.prototype,"willPurgeSpace",void 0),Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],$t.prototype,"activeNodes",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],$t.prototype,"_dropLocation",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],$t.prototype,"_opened",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],$t.prototype,"_suspensed",void 0),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype","function"==typeof(Rt="undefined"!=typeof T&&T)?Rt:Object)],$t.prototype,"createNode",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],$t.prototype,"import",null),qt.displayName="IconLock",Qt.displayName="Hidden",en.displayName="Remove",nn.displayName="Setting",on.displayName="Component",un.displayName="Clone",sn.displayName="Page",fn.displayName="Container",hn.displayName="IconUnlock";var dn=["componentName","npm"];function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bn(e,t,n){return(t=kn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t){if(null==e)return{};var n=wn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wn(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function On(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kn(r.key),r)}}function Sn(e,t,n){return t&&jn(e.prototype,t),n&&jn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kn(e){var t=En(e,"string");return"symbol"===vn(t)?t:String(t)}function En(e,t){if("object"!==vn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _n(e){if(!e)return null;if(!Array.isArray(e)){if("string"!=typeof e)return null;e=e.split(/ *[ ,|] */).filter(Boolean)}return e.length<1?null:e}function Pn(e){if(!e)return null;if("function"==typeof e)return e;if(Object(s.T)(e))return function(t){return e.test(t.componentName)};var t=_n(e);return t?function(e){return t.includes(e.componentName)}:null}var xn=function(){function e(t,n){On(this,e),this.designer=void 0,this.isComponentMeta=!0,this._npm=void 0,this.emitter=Object(a.createModuleEventBus)("ComponentMeta"),this._componentName=void 0,this._isContainer=void 0,this._isModal=void 0,this._descriptor=void 0,this._rootSelector=void 0,this._transformedMetadata=void 0,this._liveTextEditing=void 0,this._isTopFixed=void 0,this.parentWhitelist=void 0,this.childWhitelist=void 0,this._title=void 0,this._isMinimalRenderUnit=void 0,this._acceptable=void 0,this.prototype=void 0,this.designer=t,this.parseMetadata(n)}return Sn(e,[{key:"npm",get:function e(){return this._npm},set:function e(t){this.setNpm(t)}},{key:"componentName",get:function e(){return this._componentName}},{key:"isContainer",get:function e(){return this._isContainer||this.isRootComponent()}},{key:"isMinimalRenderUnit",get:function e(){return this._isMinimalRenderUnit||!1}},{key:"isModal",get:function e(){return this._isModal}},{key:"descriptor",get:function e(){return this._descriptor}},{key:"rootSelector",get:function e(){return this._rootSelector}},{key:"configure",get:function e(){var t,n=null===(t=this._transformedMetadata)||void 0===t?void 0:t.configure;return(null==n?void 0:n.combined)||(null==n?void 0:n.props)||[]}},{key:"liveTextEditing",get:function e(){return this._liveTextEditing}},{key:"isTopFixed",get:function e(){return!!this._isTopFixed}},{key:"title",get:function e(){var t;return Object(s.X)(this._title)?(null===(t=this._title)||void 0===t?void 0:t.label)||this.componentName:this._title||this.componentName}},{key:"icon",get:function e(){var t;return(null===(t=this._transformedMetadata)||void 0===t?void 0:t.icon)||("Page"===this.componentName?sn:this.isContainer?fn:on)}},{key:"acceptable",get:function e(){return this._acceptable}},{key:"advanced",get:function e(){return this.getMetadata().configure.advanced||{}}},{key:"setNpm",value:function e(t){this._npm||(this._npm=t)}},{key:"parseMetadata",value:function e(t){var n=t.componentName,r=t.npm,o=gn(t,dn),i=t;t.prototype&&(this.prototype=t.prototype),r||Object.keys(o).length||(i={componentName:n,configure:{component:{disableBehaviors:["copy","move","lock","unlock"]},advanced:{callbacks:{onMoveHook:function e(){return!1}}}}}),this._npm=r||this._npm,this._componentName=n,this._transformedMetadata=this.transformMetadata(i);var a=this._transformedMetadata.title;a&&(this._title="string"==typeof a?{type:"i18n","en-US":this.componentName,"zh-CN":a}:a);var u=this.advanced.liveTextEditing||[];function c(e){e.forEach((function(e){if(null!=e&&e.items)c(e.items);else{var t,n=e.liveTextEditing||(null===(t=e.extraProps)||void 0===t?void 0:t.liveTextEditing);n&&u.push(mn({propTarget:String(e.name)},n))}}))}c(this.configure),this._liveTextEditing=u.length>0?u:void 0;var s=this.advanced.isTopFixed;s&&(this._isTopFixed=s);var l=this._transformedMetadata.configure,f=void 0===l?{}:l;this._acceptable=!1;var p=f.component;if(p){if(this._isContainer=!!p.isContainer,this._isModal=!!p.isModal,this._descriptor=p.descriptor,this._rootSelector=p.rootSelector,this._isMinimalRenderUnit=p.isMinimalRenderUnit,p.nestingRule){var h=p.nestingRule,d=h.parentWhitelist,v=h.childWhitelist;this.parentWhitelist=Pn(d),this.childWhitelist=Pn(v)}}else this._isContainer=!1,this._isModal=!1;this.emitter.emit("metadata_change")}},{key:"refreshMetadata",value:function e(){this.parseMetadata(this.getMetadata())}},{key:"transformMetadata",value:function e(t){var n,r=this.designer.componentActions.getRegisteredMetadataTransducers().reduce((function(e,t){return t(e)}),Cn(t));return r.configure||(r.configure={}),r.experimental&&!r.configure.advanced&&(Object(s.p)(r.experimental,".experimental",".configure.advanced"),r.configure.advanced=r.experimental),r}},{key:"isRootComponent",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"Page"===this.componentName||"Component"===this.componentName||t&&"Block"===this.componentName}},{key:"availableActions",get:function e(){var t,n=(null===(t=this._transformedMetadata)||void 0===t?void 0:t.configure.component)||{},r=n.disableBehaviors,o=n.actions,i=_n(r)||(this.isRootComponent(!1)?["copy","remove","lock","unlock"]:null);return o=this.designer.componentActions.actions.concat(this.designer.getGlobalComponentActions()||[],o||[]),i?i.includes("*")?o.filter((function(e){return"always"===e.condition})):o.filter((function(e){return i.indexOf(e.name)<0})):o}},{key:"setMetadata",value:function e(t){this.parseMetadata(t)}},{key:"getMetadata",value:function e(){return this._transformedMetadata}},{key:"checkNestingUp",value:function e(t,n){return!this.parentWhitelist||this.parentWhitelist(n.internalToShellNode(),Object(s.N)(t)?t.internalToShellNode():t)}},{key:"checkNestingDown",value:function e(t,n){var r=this,o;return!this.childWhitelist||(Array.isArray(n)?n:[n]).every((function(e){var n=Object(s.N)(e)?e:new qe(t.document,e);return r.childWhitelist&&r.childWhitelist(n.internalToShellNode(),t.internalToShellNode())}))}},{key:"onMetadataChange",value:function e(t){var n=this;return this.emitter.on("metadata_change",t),function(){n.emitter.removeListener("metadata_change",t)}}}]),e}();function Nn(e){return e&&e.isComponentMeta}function Cn(e){return e.configure?Array.isArray(e.configure)?mn(mn({},e),{},{configure:{props:e.configure}}):e:mn(mn({},e),{},{configure:{}})}Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],xn.prototype,"icon",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],xn.prototype,"availableActions",null);var Tn="100%";function Ln(e){return e&&e.isSimulator}function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e,t,n){return(t=Fn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fn(r.key),r)}}function Vn(e,t,n){return t&&Bn(e.prototype,t),n&&Bn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fn(e){var t=Gn(e,"string");return"symbol"===Rn(t)?t:String(t)}function Gn(e,t){if("object"!==Rn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Hn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"global";In(this,e),this.designer=void 0,this.viewName=void 0,this.emitter=Object(a.createModuleEventBus)("Project"),this.documents=[],this.data={version:"1.0.0",componentsMap:[],componentsTree:[],i18n:{}},this._simulator=void 0,this.isRendererReady=!1,this._config={},this._i18n={},this.documentsMap=new Map,this.designer=t,this.viewName=r,Object(a.makeObservable)(this),this.load(n)}return Vn(e,[{key:"simulator",get:function e(){return this._simulator||null}},{key:"currentDocument",get:function e(){return this.documents.find((function(e){return e.active}))}},{key:"config",get:function e(){return this._config},set:function e(t){this._config=t}},{key:"i18n",get:function e(){return this._i18n},set:function e(t){this._i18n=t||{}}},{key:"getComponentsMap",value:function e(){return this.documents.reduce((function(e,t){var n=t.getComponentsMap();return Array.isArray(n)&&n.forEach((function(t){var n;e.find((function(e){return!(!Object(s.R)(e)||!Object(s.R)(t)||e.package!==t.package||e.componentName!==t.componentName)||!(!Object(s.M)(e)||e.componentName!==t.componentName)}))||e.push(t)})),e}),[])}},{key:"getSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Save;return Mn(Mn({},this.data),{},{componentsMap:this.getComponentsMap(),componentsTree:this.documents.filter((function(e){return!e.isBlank()})).map((function(e){return e.export(t)||{}})),i18n:this.i18n})}},{key:"setSchema",value:function e(t){var n,r=this.documents.find((function(e){return e.active}));r&&(null==t?void 0:t.componentsTree[0])&&r.import(null==t?void 0:t.componentsTree[0]),null===(n=this.simulator)||void 0===n||n.rerender()}},{key:"load",value:function e(t,n){var r=this;if(this.unload(),this.data=Mn({version:"1.0.0",componentsMap:[],componentsTree:[],i18n:{}},t),this.config=(null==t?void 0:t.config)||this.config,this.i18n=(null==t?void 0:t.i18n)||this.i18n,n)if(!0===n){var o,i,a,u,c,s=this.data.componentsTree.map((function(e){return r.createDocument(e)})),l;if((null===(o=this.config)||void 0===o||null===(i=o.layout)||void 0===i||null===(a=i.props)||void 0===a||null===(u=a.tabBar)||void 0===u||null===(c=u.items)||void 0===c?void 0:c.length)>0)null===(l=s.find((function(e){var t;return e.fileName===(null===(t=r.config.layout.props.tabBar.items[0].path)||void 0===t?void 0:t.slice(1))})))||void 0===l||l.open();else s[0].open()}else this.open(n)}},{key:"unload",value:function e(){if(!(this.documents.length<1))for(var t=this.documents.length-1;t>=0;t--)this.documents[t].remove()}},{key:"removeDocument",value:function e(t){var n=this.documents.indexOf(t);n<0||(this.documents.splice(n,1),this.documentsMap.delete(t.id))}},{key:"set",value:function e(t,n){"config"===t&&(this.config=n),"i18n"===t&&(this.i18n=n),Object.assign(this.data,Dn({},t,n))}},{key:"get",value:function e(t){return"config"===t?this.config:"i18n"===t?this.i18n:Reflect.get(this.data,t)}},{key:"getDocument",value:function e(t){return this.documents.find((function(e){return e.id===t}))||null}},{key:"getDocumentByFileName",value:function e(t){return this.documents.find((function(e){return e.fileName===t}))||null}},{key:"createDocument",value:function e(t){var n,r,o=new $t(this,t||(null==this||null===(n=this.data)||void 0===n||null===(r=n.componentsTree)||void 0===r?void 0:r[0]));return this.documents.push(o),this.documentsMap.set(o.id,o),o}},{key:"open",value:function e(t){if(!t){var n=this.documents.find((function(e){return e.isBlank()}));return n?n.open():(t=this.createDocument()).open()}if("string"==typeof t||"number"==typeof t){var r=this.documents.find((function(e){return e.fileName===String(t)||String(e.id)===String(t)}));if(r)return r.open();var o=this.data.componentsTree.find((function(e){return e.fileName===String(t)}));return o?(t=this.createDocument(o)).open():null}return Xt(t)?t.open():(t=this.createDocument(t)).open()}},{key:"checkExclusive",value:function e(t){this.documents.forEach((function(e){e!==t&&e.suspense()})),this.emitter.emit("current-document.change",t)}},{key:"closeOthers",value:function e(t){this.documents.forEach((function(e){e!==t&&e.close()}))}},{key:"mountSimulator",value:function e(t){this._simulator=t,this.emitter.emit("lowcode_engine_simulator_ready",t)}},{key:"setRendererReady",value:function e(t){this.isRendererReady=!0,this.emitter.emit("lowcode_engine_renderer_ready",t)}},{key:"onSimulatorReady",value:function e(t){var n=this;return this._simulator?(t(this._simulator),function(){}):(this.emitter.on("lowcode_engine_simulator_ready",t),function(){n.emitter.removeListener("lowcode_engine_simulator_ready",t)})}},{key:"onRendererReady",value:function e(t){var n=this;return this.isRendererReady&&t(),this.emitter.on("lowcode_engine_renderer_ready",t),function(){n.emitter.removeListener("lowcode_engine_renderer_ready",t)}}},{key:"onCurrentDocumentChange",value:function e(t){var n=this;return this.emitter.on("current-document.change",t),function(){n.emitter.removeListener("current-document.change",t)}}}]),e}(),Un,zn,Wn,$n,Xn,Yn,Kn;function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,er(r.key),r)}}function Zn(e,t,n){return t&&Qn(e.prototype,t),n&&Qn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function er(e){var t=tr(e,"string");return"symbol"===qn(t)?t:String(t)}function tr(e,t){if("object"!==qn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],Hn.prototype,"documents",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Hn.prototype,"currentDocument",null),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],Hn.prototype,"_config",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[Object])],Hn.prototype,"config",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Hn.prototype,"_i18n",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[Object])],Hn.prototype,"i18n",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],Hn.prototype,"load",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object]),Object(c.d)("design:returntype",Object)],Hn.prototype,"createDocument",null);var nr=function(){function e(){Jn(this,e),this.rect=void 0,this._bounds=void 0,this.viewportElement=void 0,this._scale=1,this._contentWidth="100%",this._contentHeight="100%",this._scrollX=0,this._scrollY=0,this._scrollTarget=void 0,this._scrolling=!1,Object(a.makeObservable)(this)}return Zn(e,[{key:"bounds",get:function e(){var t=this;return this._bounds||(this._bounds=this.viewportElement.getBoundingClientRect(),requestAnimationFrame((function(){t._bounds=void 0}))),this._bounds}},{key:"contentBounds",get:function e(){var t=this.bounds,n=this.scale;return new DOMRect(0,0,t.width/n,t.height/n)}},{key:"mount",value:function e(t){t&&this.viewportElement!==t&&(this.viewportElement=t,this.touch())}},{key:"touch",value:function e(){this.viewportElement&&(this.rect=this.bounds)}},{key:"height",get:function e(){return this.rect?this.rect.height:600},set:function e(t){this._contentHeight=t/this.scale,this.viewportElement&&(this.viewportElement.style.height="".concat(t,"px"),this.touch())}},{key:"width",get:function e(){return this.rect?this.rect.width:1e3},set:function e(t){this._contentWidth=t/this.scale,this.viewportElement&&(this.viewportElement.style.width="".concat(t,"px"),this.touch())}},{key:"scale",get:function e(){return this._scale},set:function e(t){if(isNaN(t)||t<=0)throw new Error('invalid new scale "'.concat(t,'"'));this._scale=t,this._contentWidth=this.width/this.scale,this._contentHeight=this.height/this.scale}},{key:"contentHeight",get:function e(){return this._contentHeight},set:function e(t){this._contentHeight=t}},{key:"contentWidth",get:function e(){return this._contentWidth},set:function e(t){this._contentWidth=t}},{key:"scrollX",get:function e(){return this._scrollX}},{key:"scrollY",get:function e(){return this._scrollY}},{key:"scrollTarget",get:function e(){return this._scrollTarget}},{key:"scrolling",get:function e(){return this._scrolling}},{key:"setScrollTarget",value:function e(t){var n=this,r=new nc(t),o;this._scrollX=r.left,this._scrollY=r.top,t.addEventListener("scroll",(function(){n._scrollX=r.left,n._scrollY=r.top,n._scrolling=!0,o&&clearTimeout(o),o=setTimeout((function(){n._scrolling=!1}),80)})),t.addEventListener("resize",(function(){return n.touch()})),this._scrollTarget=r}},{key:"toGlobalPoint",value:function e(t){if(!this.viewportElement)return t;var n=this.bounds;return{clientX:t.clientX*this.scale+n.left,clientY:t.clientY*this.scale+n.top}}},{key:"toLocalPoint",value:function e(t){if(!this.viewportElement)return t;var n=this.bounds;return{clientX:(t.clientX-n.left)/this.scale,clientY:(t.clientY-n.top)/this.scale}}}]),e}();function rr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=or(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function or(e,t){if(e){if("string"==typeof e)return ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ir(e,t):void 0}}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ar(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.contentWindow,o=t.contentDocument,i=e.designer.editor.get("innerPlugins");r.AliLowCodeEngine=i._getLowCodePluginContext({}),r.LCSimulatorHost=e,r._=window._;var a={},u={};function c(e,t){var n=rr(e),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o)if(Object(s.v)(o))o.assets&&c(Array.isArray(o.assets)?o.assets:[o.assets],o.level||t);else if(Array.isArray(o))c(o,t);else{Object(s.w)(o)||(o=Object(s.h)(Object(s.x)(o)?s.d.CSSUrl:s.d.JSUrl,o,t));var i=o.id?' data-id="'.concat(o.id,'"'):"",l=o.level||t||s.a.Environment;o.type===s.d.JSUrl?u[l].push('<script src="'.concat(o.content,'"').concat(i,"><\/script>")):o.type===s.d.JSText?u[l].push("<script".concat(i,">").concat(o.content,"<\/script>")):o.type===s.d.CSSUrl?a[l].push('<link rel="stylesheet" href="'.concat(o.content,'"').concat(i," />")):o.type===s.d.CSSText&&a[l].push('<style type="text/css"'.concat(i,">").concat(o.content,"</style>"))}}}catch(e){n.e(e)}finally{n.f()}}s.b.forEach((function(e){a[e]=[],u[e]=[]})),c(n);var l=Object.keys(a).map((function(e){return"".concat(a[e].join("\n"),'<meta level="').concat(e,'" />')})).join(""),f=Object.keys(u).map((function(e){return u[e].join("\n")})).join("");return o.open(),o.write('\n<!doctype html>\n<html class="engine-design-mode">\n  <head><meta charset="utf-8"/>\n    '.concat(l,"\n  </head>\n  <body>\n    ").concat(f,"\n  </body>\n</html>")),o.close(),new Promise((function(t){var n=r.SimulatorRenderer;if(n)return t(n);var o=function n(){t(r.SimulatorRenderer||e.renderer),r.removeEventListener("load",n)};r.addEventListener("load",o)}))}function ur(e){return e&&e.isSimulatorRenderer}function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sr=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==cr(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function lr(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function fr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lr(i,r,o,a,u,"next",e)}function u(e){lr(i,r,o,a,u,"throw",e)}a(void 0)}))}}function pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vr(r.key),r)}}function dr(e,t,n){return t&&hr(e.prototype,t),n&&hr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vr(e){var t=yr(e,"string");return"symbol"===cr(t)?t:String(t)}function yr(e,t){if("object"!==cr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(Un="undefined"!=typeof DOMRect&&DOMRect)?Un:Object)],nr.prototype,"rect",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[Number])],nr.prototype,"height",null),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[Number])],nr.prototype,"width",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],nr.prototype,"_scale",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[Number])],nr.prototype,"scale",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],nr.prototype,"_contentWidth",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],nr.prototype,"_contentHeight",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[Object])],nr.prototype,"contentHeight",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[Object])],nr.prototype,"contentWidth",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],nr.prototype,"_scrollX",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],nr.prototype,"_scrollY",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],nr.prototype,"_scrolling",void 0);var mr=Symbol("unset"),br=function(){function e(t,n){var r=this;pr(this,e),this.consumer=void 0,this.emitter=Object(a.createModuleEventBus)("ResourceConsumer"),this._data=mr,this._providing=void 0,this._consuming=void 0,this._firstConsumed=!1,this.resolveFirst=void 0,this.consumer=n,Object(a.makeObservable)(this),this._providing=Object(a.autorun)((function(){r._data=t()}))}return dr(e,[{key:"consume",value:function e(t){var n=this;if(!this._consuming){var r;if(ur(t)){if(!this.consumer)return;var o=this.consumer;r=function e(n){return o(t,n)}}else r=t;this._consuming=Object(a.autorun)(fr(sr().mark((function e(){return sr().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:if(n._data!==mr){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,r(n._data);case 4:n.resolveFirst?n.resolveFirst():n._firstConsumed=!0;case 5:case"end":return t.stop()}}),e)}))))}}},{key:"dispose",value:function e(){this._providing&&this._providing(),this._consuming&&this._consuming(),this.emitter.removeAllListeners()}},{key:"waitFirstConsume",value:function e(){var t=this;return this._firstConsumed?Promise.resolve():new Promise((function(e){t.resolveFirst=e}))}}]),e}();Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],br.prototype,"_data",void 0);var gr=n(12),wr=n.n(gr);function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(e,t,n){return(t=Er(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e){var t=_r(e,"string");return"symbol"===Or(t)?t:String(t)}function _r(e,t){if("object"!==Or(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Or(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Pr=["string","number","array","bool","func","object","node","element","symbol","any"];function xr(e,t){function n(){return e.isRequired.apply(e,arguments)}return"string"==typeof t&&(t={type:t}),n.lowcodeType=Sr(Sr({},t),{},{isRequired:!0}),n}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr.a.any,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(){return e.apply(void 0,arguments)}return e._inner||"lowcodeCheckType"===e.name||(e.lowcodeType=t),n.lowcodeType=t,n.isRequired=xr(e,t),n}var Cr=Sr(Sr({},wr.a),{},{define:Nr});window.PropTypes=Cr,window.React.PropTypes=Cr,Pr.forEach((function(e){var t=wr.a[e];t&&(t._inner=!0,Cr[e]=Nr(t,e))})),Cr.oneOf=function(e){return Nr(wr.a.oneOf(e),{type:"oneOf",value:e})},Cr.arrayOf=function(e){return Nr(wr.a.arrayOf(e),{type:"arrayOf",value:e.lowcodeType||"any"})},Cr.objectOf=function(e){return Nr(wr.a.objectOf(e),{type:"objectOf",value:e.lowcodeType||"any"})},Cr.oneOfType=function(e){var t=e.map((function(e){return e.lowcodeType||"any"}));return Nr(wr.a.oneOfType(e),{type:"oneOfType",value:t})},Cr.exact=function(e){var t=Object.keys(e).map((function(t){var n;return{name:t,propType:(null===(n=e[t])||void 0===n?void 0:n.lowcodeType)||"any"}}));return Nr(wr.a.exact(e),{type:"exact",value:t})},Cr.shape=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).map((function(t){var n;return{name:t,propType:(null===(n=e[t])||void 0===n?void 0:n.lowcodeType)||"any"}}));return Nr(wr.a.shape(e),{type:"shape",value:t})};var Tr=["string","number","object"];function Lr(e){if(!e)return[];var t=e.propTypes||{},n=e.defaultProps||{},o={};return t?(Object.keys(t).forEach((function(e){var r=t[e],i=n[e],a=r.lowcodeType;if(a)return o[e]={name:e,propType:a},void(null!=i&&(o[e].defaultValue=i));for(var u=Pr.length;u-- >0;){var c=Pr[u];if(Cr[c]===r)return o[e]={name:e,propType:c},void(null!=i&&(o[e].defaultValue=i))}o[e]={name:e,propType:"any"},null!=i&&(o[e].defaultValue=i)})),Object.keys(n).forEach((function(e){if(!o[e]){var t=n[e],i=Or(t);"boolean"===i?i="bool":"function"===i?i="func":"object"===i&&Array.isArray(t)?i="array":t&&Object(r.isValidElement)(t)?i="node":t&&Object(s.E)(t)?i="element":Tr.includes(i)||(i="any"),o[e]={name:e,propType:i||"any",defaultValue:t}}})),Object.keys(o).map((function(e){return o[e]}))):[]}function Rr(e){return Sr({props:Lr(e)},e.componentMetadata)}var Ar=function e(t,n){for(var r=t;r;){var o=Object(s.i)(r,n),i=Object(s.q)(r,(function(e){var t,n;return!!(null!==(t=r)&&void 0!==t&&t.isLocked?null===(n=e.parent)||void 0===n?void 0:n.isLocked:e.isLocked)}));if(i&&i.getId()!==r.getId()&&(o=!1),o)break;r=r.parent}return r};function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vr(r.key),r)}}function Br(e,t,n){return t&&Ir(e.prototype,t),n&&Ir(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vr(e){var t=Fr(e,"string");return"symbol"===Mr(t)?t:String(t)}function Fr(e,t){if("object"!==Mr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Gr(e){var t=e.clipboardData;if(!t)return null;try{var n=JSON.parse(t.getData("text/plain"));if(!n)return{};if(n.componentsTree)return n;if(n.componentName)return{componentsTree:[n]}}catch(e){return{}}}var Hr,Ur=new(function(){function e(){Dr(this,e),this.copyPasters=[],this.waitFn=void 0}return Br(e,[{key:"isCopyPasteEvent",value:function e(t){this.isCopyPaster(t.target)}},{key:"isCopyPaster",value:function e(t){return this.copyPasters.includes(t)}},{key:"initCopyPaster",value:function e(t){var n=this;this.copyPasters.push(t);var r=function e(r){n.waitFn&&(n.waitFn(Gr(r),r),n.waitFn=void 0),t.blur()};return t.addEventListener("paste",r,!1),function(){t.removeEventListener("paste",r,!1);var e=n.copyPasters.indexOf(t);e>-1&&n.copyPasters.splice(e,1)}}},{key:"injectCopyPaster",value:function e(t){if(!this.copyPasters.find((function(e){return e.ownerDocument===t}))){var n=t.createElement("textarea");n.style.cssText="position: absolute;left: -9999px;top:-100px",t.body.appendChild(n);var r=this.initCopyPaster(n);return function(){r(),t.removeChild(n)}}}},{key:"setData",value:function e(t){var n=this.copyPasters.find((function(e){return e.ownerDocument}));n&&(n.value="string"==typeof t?t:JSON.stringify(t),n.select(),n.ownerDocument.execCommand("copy"),n.blur())}},{key:"waitPasteData",value:function e(t,n){var r=t.view;if(r){var o=this.copyPasters.find((function(e){return e.ownerDocument===r.document}));o&&(o.select(),this.waitFn=n)}}}]),e}()),zr;function Wr(e){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kr(r.key),r)}}function Yr(e,t,n){return t&&Xr(e.prototype,t),n&&Xr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kr(e){var t=qr(e,"string");return"symbol"===Wr(t)?t:String(t)}function qr(e,t){if("object"!==Wr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Jr="data-setter-prop";function Qr(e,t){var n=e.closest("[".concat(Jr,"]"));return n&&t.contains(n)?n:null}function Zr(e,t){t.setValue(e)}var eo=[];function to(e){eo.push(e)}function no(){eo=[]}var ro=[];function oo(e){ro.push(e)}function io(){ro=[]}var ao=function(){function e(){$r(this,e),this._editing=null,this._dispose=void 0,this._save=void 0}return Yr(e,[{key:"apply",value:function e(t){var n,r,o,i,a=this,u=t.node,c=t.event,s=t.rootElement,l=c.target,f=u.componentMeta.liveTextEditing,p=null===(n=u.document)||void 0===n?void 0:n.designer.editor,h=null==u||null===(r=u.componentMeta)||void 0===r?void 0:r.npm,d=[null==h?void 0:h.package,null==h?void 0:h.componentName].filter((function(e){return!!e})).join("-")||(null==u||null===(o=u.componentMeta)||void 0===o?void 0:o.componentName)||"";null==p||p.eventBus.emit("designer.builtinSimulator.liveEditing",{selected:d});var v=Qr(l,s),y=null===(i=v)||void 0===i?void 0:i.dataset.setterProp,m,b;f?y?m=f.find((function(e){return e.propTarget==y})):(m=f.find((function(e){return!!e.selector&&!!(v=so(s,l,e.selector))})),y=null===(b=m)||void 0===b?void 0:b.propTarget):(ro.some((function(e){return!!(m=e(t))})),m&&(y=m.propTarget,v=m.propElement||so(s,l,m.selector)));if(y&&v){var g,w,O,j=u.getProp(y,!0);if(this._editing===j)return;var S=(null===(g=m)||void 0===g?void 0:g.onSaveContent)||(null===(w=eo.find((function(e){return e.condition(j)})))||void 0===w?void 0:w.onSaveContent)||Zr;v.setAttribute("contenteditable",null!==(O=m)&&void 0!==O&&O.mode&&"plaintext"!==m.mode?"true":"plaintext-only"),v.classList.add("engine-live-editing"),v.focus(),uo(c),this._save=function(){S(v.innerText,j)};var k=function e(t){var n;switch(console.info(t.code),t.code){case"Enter":case"Escape":break;case"Tab":null===(n=v)||void 0===n||n.blur()}},E=function e(){a.saveAndDispose()};v.addEventListener("focusout",E),v.addEventListener("keydown",k,!0),this._dispose=function(){v.classList.remove("engine-live-editing"),v.removeAttribute("contenteditable"),v.removeEventListener("focusout",E),v.removeEventListener("keydown",k,!0)},this._editing=j}}},{key:"editing",get:function e(){return this._editing}},{key:"saveAndDispose",value:function e(){this._save&&(this._save(),this._save=void 0),this.dispose()}},{key:"dispose",value:function e(){this._dispose&&(this._dispose(),this._dispose=void 0),this._editing=null}}]),e}();function uo(e){var t,n=null===(t=e.view)||void 0===t?void 0:t.document;if(n){var r=n.caretRangeFromPoint(e.clientX,e.clientY);r&&(co(n,r),setTimeout((function(){return co(n,r)}),1))}}function co(e,t){var n=e.getSelection();n&&(n.removeAllRanges(),n.addRange(t))}function so(e,t,n){if(!n)return null;var r=":root"===n?e:e.querySelector(n);return r&&(r.contains(t)||(r=Array.from(e.querySelectorAll(n)).find((function(e){return e.contains(t)}))))?r:null}function lo(e){return e.nodeType===Node.ELEMENT_NODE}function fo(e,t){var n=e.getBoundingClientRect(),r=t.contentBounds,o=r.width,i=r.height,a=n.left,u=n.right,c=n.top,s=n.bottom,l=n.width,f=n.height;return a>=-l&&c>=-f&&s<=i+f&&u<=o+l}function po(e){return e.map((function(e){return null==e?void 0:e.toUpperCase()}))}function ho(e,t){var n,r=window.document,o=(null===(n=e.view)||void 0===n?void 0:n.document)||r,i=new Set;return i.add(r),i.add(o),t.forEach((function(e){var t=e.contentDocument;t&&i.add(t)})),function(e){i.forEach((function(t){return e(t)}))}}ao.addLiveEditingSpecificRule=oo,ao.clearLiveEditingSpecificRule=io,ao.addLiveEditingSaveHandler=to,ao.clearLiveEditingSaveHandler=no,Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],ao.prototype,"_editing",void 0);var vo=n(8),yo,mo,bo,go;function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Mo(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function jo(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jo=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==wo(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function So(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ko(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){So(i,r,o,a,u,"next",e)}function u(e){So(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){Po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Po(e,t,n){return(t=To(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,To(r.key),r)}}function Co(e,t,n){return t&&No(e.prototype,t),n&&No(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function To(e){var t=Lo(e,"string");return"symbol"===wo(t)?t:String(t)}function Lo(e,t){if("object"!==wo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ro(e,t){return Bo(e)||Io(e,t)||Mo(e,t)||Ao()}function Ao(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mo(e,t){if(e){if("string"==typeof e)return Do(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Do(e,t):void 0}}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Io(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function Bo(e){if(Array.isArray(e))return e}var Vo=function(){var e=Object(a.getPublicPath)(),t,n,r=Ro(/^(.+?)(\/js)?\/?$/.exec(e)||[],3),o=r[0],i=r[1],u=void 0===i?"":i,c;return t=r[2]?["".concat(u,"/css/react-simulator-renderer.css"),"".concat(u,"/js/react-simulator-renderer.js")]:["".concat(u,"/react-simulator-renderer.css"),"".concat(u,"/react-simulator-renderer.js")]}(),Fo=function(){var e=Object(a.getPublicPath)(),t,n,r=Ro(/^(.+?)(\/js)?\/?$/.exec(e)||[],3),o=r[0],i=r[1],u=void 0===i?"":i,c;return t=r[2]?["".concat(u,"/css/rax-simulator-renderer.css"),"".concat(u,"/js/rax-simulator-renderer.js")]:["".concat(u,"/rax-simulator-renderer.css"),"".concat(u,"/rax-simulator-renderer.js")]}(),Go=[Object(s.h)(s.d.JSText,"window.React=parent.React;window.ReactDOM=parent.ReactDOM;window.__is_simulator_env__=true;",void 0,"react"),Object(s.h)(s.d.JSText,"window.PropTypes=parent.PropTypes;React.PropTypes=parent.PropTypes; window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;")],Ho=[Object(s.h)(s.d.JSText,"window.Rax=parent.Rax;window.React=parent.React;window.ReactDOM=parent.ReactDOM;window.VisualEngineUtils=parent.VisualEngineUtils;window.VisualEngine=parent.VisualEngine"),Object(s.h)(s.d.JSText,"window.PropTypes=parent.PropTypes;React.PropTypes=parent.PropTypes; window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;")],Uo=function(){function e(t,n){var r=this;xo(this,e),this.isSimulator=!0,this.project=void 0,this.designer=void 0,this.viewport=new nr,this.scroller=void 0,this.emitter=Object(a.createModuleEventBus)("BuiltinSimulatorHost"),this.componentsConsumer=void 0,this.injectionConsumer=void 0,this.i18nConsumer=void 0,this.autoRender=!0,this._props={},this._contentWindow=void 0,this._contentDocument=void 0,this._appHelper=void 0,this._renderer=void 0,this.asyncLibraryMap={},this.libraryMap={},this._iframe=void 0,this.disableHovering=void 0,this.disableDetecting=void 0,this.liveEditing=new ao,this.instancesMap={},this.tryScrollAgain=null,this._sensorAvailable=!0,this.sensing=!1,Object(a.makeObservable)(this),this.project=t,this.designer=n,this.scroller=this.designer.createScroller(this.viewport),this.autoRender=!a.engineConfig.get("disableAutoRender",!1),this._appHelper=a.engineConfig.get("appHelper"),this.componentsConsumer=new br((function(){return r.componentsAsset})),this.injectionConsumer=new br((function(){return{appHelper:r._appHelper}})),a.engineConfig.onGot("appHelper",(function(e){r._appHelper=e})),this.i18nConsumer=new br((function(){return r.project.i18n})),s.cb.onStartTransaction((function(){r.stopAutoRepaintNode()}),u.i.REPAINT);var o=Object(vo.debounce)(this.rerender.bind(this),28);s.cb.onEndTransaction((function(){o(),r.enableAutoRepaintNode()}),u.i.REPAINT)}return Co(e,[{key:"currentDocument",get:function e(){return this.project.currentDocument}},{key:"renderEnv",get:function e(){return this.get("renderEnv")||"default"}},{key:"device",get:function e(){return this.get("device")||"default"}},{key:"locale",get:function e(){return this.get("locale")||a.globalLocale.getLocale()}},{key:"deviceClassName",get:function e(){return this.get("deviceClassName")}},{key:"designMode",get:function e(){return this.get("designMode")||"design"}},{key:"requestHandlersMap",get:function e(){return this.get("requestHandlersMap")||null}},{key:"thisRequiredInJSE",get:function e(){var t;return null===(t=a.engineConfig.get("thisRequiredInJSE"))||void 0===t||t}},{key:"enableStrictNotFoundMode",get:function e(){var t;return null!==(t=a.engineConfig.get("enableStrictNotFoundMode"))&&void 0!==t&&t}},{key:"notFoundComponent",get:function e(){var t;return null!==(t=a.engineConfig.get("notFoundComponent"))&&void 0!==t?t:null}},{key:"faultComponent",get:function e(){var t;return null!==(t=a.engineConfig.get("faultComponent"))&&void 0!==t?t:null}},{key:"faultComponentMap",get:function e(){var t;return null!==(t=a.engineConfig.get("faultComponentMap"))&&void 0!==t?t:null}},{key:"componentsAsset",get:function e(){return this.get("componentsAsset")}},{key:"theme",get:function e(){return this.get("theme")}},{key:"componentsMap",get:function e(){return this.designer.componentsMap}},{key:"deviceStyle",get:function e(){return this.get("deviceStyle")}},{key:"contentWindow",get:function e(){return this._contentWindow}},{key:"contentDocument",get:function e(){return this._contentDocument}},{key:"renderer",get:function e(){return this._renderer}},{key:"sensorAvailable",get:function e(){return this._sensorAvailable}},{key:"stopAutoRepaintNode",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.stopAutoRepaintNode()}},{key:"enableAutoRepaintNode",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.enableAutoRepaintNode()}},{key:"setProps",value:function e(t){this._props=t}},{key:"set",value:function e(t,n){this._props=_o(_o({},this._props),{},Po({},t,n))}},{key:"get",value:function e(t){var n,r,o,i;return"device"===t?(null===(n=this.designer)||void 0===n||null===(r=n.editor)||void 0===r||null===(o=r.get("deviceMapper"))||void 0===o||null===(i=o.transform)||void 0===i?void 0:i.call(o,this._props.device))||this._props.device:this._props[t]}},{key:"connect",value:function e(t,n,r){return this._renderer=t,Object(a.autorun)(n,r)}},{key:"reaction",value:function e(t,n,r){return Object(a.reaction)(t,n,r)}},{key:"autorun",value:function e(t,n){return Object(a.autorun)(t,n)}},{key:"purge",value:function e(){}},{key:"mountViewport",value:function e(t){this.viewport.mount(t)}},{key:"buildLibrary",value:function e(t){var n=this,r=t||this.get("library"),o=[],i=[],a=[];return r&&r.length&&r.forEach((function(e){var t=e.exportMode,r=e.exportSourceLibrary;n.libraryMap[e.package]=e.library,e.async&&(n.asyncLibraryMap[e.package]=e),e.exportName&&e.library&&i.push("Object.defineProperty(window,'".concat(e.exportName,"',{get:()=>window.").concat(e.library,"});")),"functionCall"===t&&r&&a.push('window["'.concat(e.library,'"] = window["').concat(r,'"]("').concat(e.library,'", "').concat(e.package,'");')),e.editUrls?o.push(e.editUrls):e.urls&&o.push(e.urls)})),o.unshift(Object(s.h)(s.d.JSText,i.join(""))),o.push(Object(s.h)(s.d.JSText,a.join(""))),o}},{key:"rerender",value:function e(){var t,n;this.designer.refreshComponentMetasMap(),null===(t=this.renderer)||void 0===t||null===(n=t.rerender)||void 0===n||n.call(t)}},{key:"mountContentFrame",value:function(){var e=ko(jo().mark((function e(t){var n=this,r,o,i,a,u;return jo().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:if(t&&this._iframe!==t){c.next=2;break}return c.abrupt("return");case 2:return this._iframe=t,this._contentWindow=t.contentWindow,this._contentDocument=this._contentWindow.document,r=this.buildLibrary(),o=[Object(s.g)(this.get("environment")||("rax"===this.renderEnv?Ho:Go),s.a.Environment),Object(s.g)(this.get("extraEnvironment"),s.a.Environment),Object(s.g)(r,s.a.Library),Object(s.g)(this.theme,s.a.Theme),Object(s.g)(this.get("simulatorUrl")||("rax"===this.renderEnv?Fo:Vo),s.a.Runtime)],c.next=9,ar(this,t,o);case 9:return i=c.sent,c.next=12,this.componentsConsumer.waitFirstConsume();case 12:return c.next=14,this.injectionConsumer.waitFirstConsume();case 14:if(!(Object.keys(this.asyncLibraryMap).length>0)){c.next=18;break}return c.next=17,i.loadAsyncLibrary(this.asyncLibraryMap);case 17:Object.keys(this.asyncLibraryMap).forEach((function(e){delete n.asyncLibraryMap[e]}));case 18:i.run(),this.viewport.setScrollTarget(this._contentWindow),this.setupEvents(),(a=this.designer.editor.get("innerHotkey")).mount(this._contentWindow),(u=this.designer.editor.get("skeleton")).focusTracker.mount(this._contentWindow),Ur.injectCopyPaster(this._contentDocument);case 26:case"end":return c.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupComponents",value:function(){var e=ko(jo().mark((function e(t){var n,r=this,o,i;return jo().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:return o=this.buildLibrary(t),a.next=3,null===(n=this.renderer)||void 0===n?void 0:n.load(o);case 3:if(!(Object.keys(this.asyncLibraryMap).length>0)){a.next=7;break}return a.next=6,null===(i=this.renderer)||void 0===i?void 0:i.loadAsyncLibrary(this.asyncLibraryMap);case 6:Object.keys(this.asyncLibraryMap).forEach((function(e){delete r.asyncLibraryMap[e]}));case 7:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupEvents",value:function e(){this.setupDragAndClick(),this.setupDetecting(),this.setupLiveEditing(),this.setupContextMenu()}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.emitter).emit.apply(n,[t].concat(o))}},{key:"setupDragAndClick",value:function e(){var t=this,n=this.designer,r=this.contentDocument;r.addEventListener("mousedown",(function(e){var o,i;document.dispatchEvent(new Event("mousedown"));var a=t.project.currentDocument;if(!t.liveEditing.editing&&a){var c=a.selection,s=!1;if("design"===t.designMode)s=e.metaKey||e.ctrlKey;else if(!e.metaKey)return;null===(o=e.target)||void 0===o||o.removeAttribute("for");var l=t.getNodeInstanceFromElement(e.target),f=a.focusNode,p=Ar((null==l?void 0:l.node)||f,e);if(p){var h=null===(i=p.componentMeta.advanced.callbacks)||void 0===i?void 0:i.onMouseDownHook;h&&h(e,p.internalToShellNode());var d=null==p?void 0:p.getParent(),v=null==d?void 0:d.isRGLContainer;if(v){var y;if(null!==(y=e.target)&&void 0!==y&&y.classList.contains("react-resizable-handle"))return;s=!1,n.dragon.emitter.emit("rgl.switch",{action:"start",rglNode:d})}else e.stopPropagation(),e.preventDefault();var m,b=function o(i){if(r.removeEventListener("mouseup",o,!0),n.dragon.emitter.emit("rgl.switch",{action:"end",rglNode:d}),!gc(e,i)||v){var a=p.id;if(n.activeTracker.track({node:p,instance:null==l?void 0:l.instance}),s&&f&&!p.contains(f)&&c.has(a))c.remove(a);else{var u,h,y,m;if(p.isPage()&&null!==(u=p.getChildren())&&void 0!==u&&u.notEmpty()&&"live"===t.designMode){var b,g,w=null===(b=p.getChildren())||void 0===b||null===(g=b.get(0))||void 0===g?void 0:g.getId();w&&(a=w)}f&&c.select(p.contains(f)?f.id:a);var O=null===(h=t.designer)||void 0===h?void 0:h.editor,j=null==p||null===(y=p.componentMeta)||void 0===y?void 0:y.npm,S=[null==j?void 0:j.package,null==j?void 0:j.componentName].filter((function(e){return!!e})).join("-")||(null==p||null===(m=p.componentMeta)||void 0===m?void 0:m.componentName)||"";null==O||O.eventBus.emit("designer.builtinSimulator.select",{selected:S})}}};if((1===e.which||0===e.button)&&f&&!p.contains(f)){var g=[p],w=!1;if(s?(c.has(p.id)||(n.activeTracker.track({node:p,instance:null==l?void 0:l.instance}),c.add(p.id),w=!0),(null==f?void 0:f.id)&&c.remove(f.id),g=c.getTopNodes()):c.containsNode(p,!0)&&(g=c.getTopNodes()),n.dragon.boost({type:u.f.Node,nodes:g},e,v?d:void 0),w)return}r.addEventListener("mouseup",b,!0)}}}),!0),r.addEventListener("click",(function(e){var n,r=new Event("click");r.initEvent("click",!0),null===(n=t._iframe)||void 0===n||n.dispatchEvent(r);var o=e.target,i=a.engineConfig.get("customizeIgnoreSelectors"),u=[".next-input-group",".next-checkbox-group",".next-checkbox-wrapper",".next-date-picker",".next-input",".next-month-picker",".next-number-picker",".next-radio-group",".next-range",".next-range-picker",".next-rating",".next-select",".next-switch",".next-time-picker",".next-upload",".next-year-picker",".next-breadcrumb-item",".next-calendar-header",".next-calendar-table",".editor-container"],c,l=((null==i?void 0:i(u,e))||u).join(",");(!i&&Object(s.F)(e)||null!=o&&o.closest(l))&&(e.preventDefault(),e.stopPropagation())}),!0)}},{key:"setupDetecting",value:function e(){var t=this,n=this.contentDocument,r=this.designer,o=r.detecting,i=r.dragon,u=function e(n){if(o.enable&&"design"===t.designMode){var r=t.getNodeInstanceFromElement(n.target);if(null!=r&&r.node){var u,c=r.node,s=null===(u=c.document)||void 0===u?void 0:u.focusNode;s&&c.contains(s)&&(c=s),o.capture(c)}else o.capture(null);a.engineConfig.get("enableMouseEventPropagationInCanvas",!1)&&!i.dragging||n.stopPropagation()}},c=function e(){t.project.currentDocument&&o.leave(t.project.currentDocument)};n.addEventListener("mouseover",u,!0),n.addEventListener("mouseleave",c,!1),n.addEventListener("mousemove",(function(e){a.engineConfig.get("enableMouseEventPropagationInCanvas",!1)&&!i.dragging||e.stopPropagation()}),!0)}},{key:"setupLiveEditing",value:function e(){var t=this,n;this.contentDocument.addEventListener("dblclick",(function(e){var n,r;e.stopPropagation(),e.preventDefault();var o=e.target,i=t.getNodeInstanceFromElement(o);if(i){var a=null===(n=t.project.currentDocument)||void 0===n?void 0:n.focusNode,u=i.node||a;if(u&&!et(u)){var c=null===(r=t.findDOMNodes(i.instance,u.componentMeta.rootSelector))||void 0===r?void 0:r.find((function(e){return e&&e.contains(o)}));c&&t.liveEditing.apply({node:u,rootElement:c,event:e})}}}),!0)}},{key:"setSuspense",value:function e(){return!1}},{key:"setupContextMenu",value:function e(){var t=this,n;this.contentDocument.addEventListener("contextmenu",(function(e){var n,r,o,i,a=e.target,u=t.getNodeInstanceFromElement(a);if(u){var c=u.node||(null===(n=t.project.currentDocument)||void 0===n?void 0:n.focusNode);if(c){var s=null===(r=t.designer)||void 0===r?void 0:r.editor,l=null==c||null===(o=c.componentMeta)||void 0===o?void 0:o.npm,f=[null==l?void 0:l.package,null==l?void 0:l.componentName].filter((function(e){return!!e})).join("-")||(null==c||null===(i=c.componentMeta)||void 0===i?void 0:i.componentName)||"";null==s||s.eventBus.emit("designer.builtinSimulator.contextmenu",_o(_o({selected:f},u),{},{instanceRect:t.computeComponentInstanceRect(u.instance),originalEvent:e}))}}}))}},{key:"generateComponentMetadata",value:function e(t){if(zo(t))return{componentName:t};var n=this.getComponent(t);return n?_o({componentName:t},Rr(n)):{componentName:t}}},{key:"getComponent",value:function e(t){var n;return(null===(n=this.renderer)||void 0===n?void 0:n.getComponent(t))||null}},{key:"createComponent",value:function e(){return null}},{key:"setInstance",value:function e(t,n,r){Object(s.t)(this.instancesMap,t)||(this.instancesMap[t]=new Map),null==r?this.instancesMap[t].delete(n):this.instancesMap[t].set(n,r.slice())}},{key:"getComponentInstances",value:function e(t,n){var r,o,i=this,a=null===(r=t.document)||void 0===r?void 0:r.id;if(!a)return null;var u=(null===(o=this.instancesMap[a])||void 0===o?void 0:o.get(t.id))||null;return u&&n?u.filter((function(e){var t;return(null===(t=i.getClosestNodeInstance(e,null==n?void 0:n.nodeId))||void 0===t?void 0:t.instance)===n.instance})):u}},{key:"getComponentContext",value:function e(){throw new Error("Method not implemented.")}},{key:"getClosestNodeInstance",value:function e(t,n){var r;return(null===(r=this.renderer)||void 0===r?void 0:r.getClosestNodeInstance(t,n))||null}},{key:"computeRect",value:function e(t){var n=this.getComponentInstances(t);return n?this.computeComponentInstanceRect(n[0],t.componentMeta.rootSelector):null}},{key:"computeComponentInstanceRect",value:function e(t,n){var r=this.renderer,o=this.findDOMNodes(t,n);if(!o)return null;for(var i=o.slice(),a,u,c=!1;;){if(!a||a.length<1){var s=i.pop();if(!s)break;a=r.getClientRects(s)}var l=a.pop();if(!l)break;0===l.width&&0===l.height||(u?(l.left<u.x&&(u.x=l.left,c=!0),l.top<u.y&&(u.y=l.top,c=!0),l.right>u.r&&(u.r=l.right,c=!0),l.bottom>u.b&&(u.b=l.bottom,c=!0)):u={x:l.left,y:l.top,r:l.right,b:l.bottom})}if(u){var f=new DOMRect(u.x,u.y,u.r-u.x,u.b-u.y);return f.elements=o,f.computed=c,f}return null}},{key:"findDOMNodes",value:function e(t,n){var r,o=null===(r=this._renderer)||void 0===r?void 0:r.findDOMNodes(t);if(!o)return null;if(n){var i=Ko(o,n);return i?[i]:null}return o}},{key:"getNodeInstanceFromElement",value:function e(t){if(!t)return null;var n=this.getClosestNodeInstance(t);if(!n)return null;var r=n.docId,o,i=this.project.getDocument(r).getNode(n.nodeId);return _o(_o({},n),{},{node:i})}},{key:"scrollToNode",value:function e(t,n){var r,o,i;if(this.tryScrollAgain=null,!this.sensing){var a={},u=!1,c=null===(r=this.getComponentInstances((null==n||null===(o=n.near)||void 0===o?void 0:o.node)||t))||void 0===r?void 0:r[0];if(c){var s=null===(i=this.findDOMNodes(c))||void 0===i?void 0:i[0];if(s){if(lo(s)&&!fo(s,this.viewport)){var l,f=s.getBoundingClientRect(),p=f.left,h=f.top,d=(null===(l=this.contentDocument)||void 0===l?void 0:l.documentElement)||{},v=d.scrollTop,y=void 0===v?0:v,m=d.scrollLeft,b=void 0===m?0:m;a.left=p+b,a.top=h+y,u=!0}u&&this.scroller&&this.scroller.scrollTo(a)}}}}},{key:"setNativeSelection",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setNativeSelection(t)}},{key:"setDraggingState",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setDraggingState(t)}},{key:"setCopyState",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setCopyState(t)}},{key:"clearState",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.clearState()}},{key:"fixEvent",value:function e(t){var n;if(t.fixed)return t;var r=(null===(n=t.originalEvent.view)||void 0===n?void 0:n.document)!==this.contentDocument,o;if(r||!("canvasX"in t)||!("canvasY"in t)){var i=this.viewport.toLocalPoint({clientX:t.globalX,clientY:t.globalY});t.canvasX=i.clientX,t.canvasY=i.clientY}t.target&&!r||(isNaN(t.canvasX)||isNaN(t.canvasY)||(t.target=null===(o=this.contentDocument)||void 0===o?void 0:o.elementFromPoint(t.canvasX,t.canvasY)));return t.fixed=!0,t}},{key:"isEnter",value:function e(t){var n=this.viewport.bounds;return t.globalY>=n.top&&t.globalY<=n.bottom&&t.globalX>=n.left&&t.globalX<=n.right}},{key:"deactiveSensor",value:function e(){this.sensing=!1,this.scroller.cancel()}},{key:"locate",value:function e(t){var n=this,r=t.dragObject,o=null==r?void 0:r.nodes,i=null==o?void 0:o.filter((function(e){for(var t,n,r,o,i,a=null===(t=e.componentMeta)||void 0===t||null===(n=t.advanced.callbacks)||void 0===n?void 0:n.onMoveHook,u=!a||"function"!=typeof a||a(e.internalToShellNode()),c=null,s=e.parent;s;){if(s.isContainer()){c=s;break}s=s.parent}var l=null===(r=c)||void 0===r||null===(o=r.componentMeta)||void 0===o||null===(i=o.advanced.callbacks)||void 0===i?void 0:i.onChildMoveHook,f=!l||!c||"function"!=typeof l||l(e.internalToShellNode(),c.internalToShellNode());return u&&f}));if(!o||i&&0!==i.length){this.sensing=!0,this.scroller.scrolling(t);var a=this.project.currentDocument;if(!a)return null;var c=this.getDropContainer(t),l;if(Object(s.q)(null==c?void 0:c.container,(function(e){return e.isLocked})))return null;if(!c)return null;if(Object(s.L)(c))return this.designer.createLocation(c);var f=c.container,p=c.instance,h=this.computeComponentInstanceRect(p,f.componentMeta.rootSelector);if(!h)return null;var d=f.children,v={type:u.j.Children,index:0,edge:h},y={target:f,detail:v,source:"simulator".concat(a.id),event:t};if(t.dragObject&&t.dragObject.nodes&&t.dragObject.nodes.length&&t.dragObject.nodes[0].componentMeta.isModal&&a.focusNode)return this.designer.createLocation({target:a.focusNode,detail:v,source:"simulator".concat(a.id),event:t});if(!d||d.size<1||!h)return this.designer.createLocation(y);for(var m=null,b=0,g=null,w=null,O=null,j=null,S=0,k=d.size;S<k;S++){var E=d.get(S),_=S,P=this.getComponentInstances(E),x=P?P.length>1?P.find((function(e){var t;return(null===(t=n.getClosestNodeInstance(e,f.id))||void 0===t?void 0:t.instance)===p})):P[0]:null,N=x?this.computeComponentInstanceRect(x,E.componentMeta.rootSelector):null;if(N){var C=Wo(t,N)?0:$o(t,N);if(0===C){w=C,g=E,b=_,m=N;break}(null===O||N.top<O)&&(O=N.top),(null===j||N.bottom>j)&&(j=N.bottom),(null===w||C<w)&&(w=C,g=E,b=_,m=N)}}if(v.index=b,g&&m){var T=Jc(m),L=!!T&&qc(T),R=!!T&&Kc(T.parentElement),A=L||R,M={node:g.internalToShellNode(),pos:"before",align:A?"V":"H"};if(v.near=M,Yo(t,m,A)&&(M.pos="after",v.index=b+1),!R&&0!==w){var D=Xo(t,h);if(D.distance<w){var I=D.nearAfter;null==O&&(O=h.top),null==j&&(j=h.bottom),M.rect=new DOMRect(h.left,O,h.width,j-O),M.align="H",M.pos=I?"after":"before",v.index=I?d.size:0}}}return this.designer.createLocation(y)}}},{key:"getDropContainer",value:function e(t){var n,r=t.target,o=t.dragObject,i=Object(s.A)(o),a=this.project.currentDocument,u=a.currentRoot,c,l,f;if(r){var p=this.getNodeInstanceFromElement(r);if(null!=p&&p.node)l=p,c=p.node;else{if(i)return null;c=u}}else{if(i)return null;c=u}null!==(n=c)&&void 0!==n&&n.isParental()||(c=(null===(f=c)||void 0===f?void 0:f.parent)||u);if(i)return null;var h=new Set,d,v,y,m;if(Object(s.C)(o)){for(var b=o.nodes,g=b.length,w=c;g-- >0;)nt(b[g],w)&&(w=b[g].parent);w!==c&&(c=w||a.focusNode)&&h.add(c)}l?d=l.node===c?l.instance:null===(v=this.getClosestNodeInstance(l.instance,null===(y=c)||void 0===y?void 0:y.id))||void 0===v?void 0:v.instance:d=c&&(null===(m=this.getComponentInstances(c))||void 0===m?void 0:m[0]);for(var O={container:c,instance:d},j,S=null;c;){if(!0===(j=this.handleAccept(O,t)))return O;if(!j)if(h.add(c),S)c=(O=S).container,S=null;else{if(!c.parent)return null;var k;O={container:c=c.parent,instance:d=null===(k=this.getClosestNodeInstance(O.instance,c.id))||void 0===k?void 0:k.instance}}}return null}},{key:"isAcceptable",value:function e(){return!1}},{key:"handleAccept",value:function e(t,n){var r=t.container,o=n.dragObject,i=this.currentDocument,a=i.focusNode;if(Ze(r)||r.contains(a))return i.checkNesting(a,o);var u=r.componentMeta,c=this.isAcceptable(r);return!(!u.isContainer&&!c)&&i.checkNesting(r,o)}},{key:"getNearByContainer",value:function e(t,n){var r=t.container,o=t.instance,i=r.children;if(!i||i.isEmpty())return null;for(var a=null,u=0,c=i.size;u<c;u++){var s=i.get(u);if(s){if(s.conditionGroup){var l=s.conditionGroup;u=(l.index||0)+l.length-1,s=l.visibleNode}if(s.isParental()&&!n.has(s)){this.findDOMNodes(o),this.getComponentInstances(s);var f=this.computeRect(s)}}}return null}}]),e}();function zo(e){return/^[a-z]\w*$/.test(e)}function Wo(e,t){return e.canvasY>=t.top&&e.canvasY<=t.bottom&&e.canvasX>=t.left&&e.canvasX<=t.right}function $o(e,t){var n=Math.min(Math.abs(e.canvasX-t.left),Math.abs(e.canvasX-t.right)),r=Math.min(Math.abs(e.canvasY-t.top),Math.abs(e.canvasY-t.bottom));return e.canvasX>=t.left&&e.canvasX<=t.right&&(n=0),e.canvasY>=t.top&&e.canvasY<=t.bottom&&(r=0),Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function Xo(e,t){var n=Math.abs(e.canvasY-t.top),r=Math.abs(e.canvasY-t.bottom);return{distance:Math.min(n,r),nearAfter:r<n}}function Yo(e,t,n){return n?Math.abs(e.canvasX-t.left)+Math.abs(e.canvasY-t.top)>Math.abs(e.canvasX-t.right)+Math.abs(e.canvasY-t.bottom):Math.abs(e.canvasY-t.top)>Math.abs(e.canvasY-t.bottom)}function Ko(e,t){var n=null,r=Oo(e),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;if(Object(s.E)(i)){if(i.matches(t))return i;n||(n=i.querySelector(t))}}}catch(e){r.e(e)}finally{r.f()}return n}Object(c.b)([a.computed,Object(c.d)("design:type",String),Object(c.d)("design:paramtypes",[])],Uo.prototype,"renderEnv",null),Object(c.b)([a.computed,Object(c.d)("design:type",String),Object(c.d)("design:paramtypes",[])],Uo.prototype,"device",null),Object(c.b)([a.computed,Object(c.d)("design:type",String),Object(c.d)("design:paramtypes",[])],Uo.prototype,"locale",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Uo.prototype,"deviceClassName",null),Object(c.b)([a.computed,Object(c.d)("design:type",String),Object(c.d)("design:paramtypes",[])],Uo.prototype,"designMode",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Uo.prototype,"requestHandlersMap",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Uo.prototype,"componentsAsset",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Uo.prototype,"theme",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Uo.prototype,"componentsMap",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Uo.prototype,"deviceStyle",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Uo.prototype,"_props",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(bo="undefined"!=typeof Window&&Window)?bo:Object)],Uo.prototype,"_contentWindow",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(go="undefined"!=typeof Document&&Document)?go:Object)],Uo.prototype,"_contentDocument",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Uo.prototype,"_appHelper",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],Uo.prototype,"instancesMap",void 0);var qo=n(5),Jo=n.n(qo);function Qo(e){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ni(r.key),r)}}function ti(e,t,n){return t&&ei(e.prototype,t),n&&ei(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ni(e){var t=ri(e,"string");return"symbol"===Qo(t)?t:String(t)}function ri(e,t){if("object"!==Qo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function oi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ii(e,t)}function ii(e,t){return(ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ai(e){var t=si();return function n(){var r=li(e),o;if(t){var i=li(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ui(this,o)}}function ui(e,t){if(t&&("object"===Qo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ci(e)}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function si(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var fi=function(e){oi(n,e);var t=ai(n);function n(){return Zo(this,n),t.apply(this,arguments)}return ti(n,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.rect,o=t.scale,i=t.scrollX,u=t.scrollY,c=t.isLocked;if(!r)return null;var s={width:r.width*o,height:r.height*o,transform:"translate(".concat((i+r.left)*o,"px, ").concat((u+r.top)*o,"px)")},l=Jo()("lc-borders lc-borders-detecting");return React.createElement("div",{className:l,style:s},React.createElement(a.Title,{title:n,className:"lc-borders-title"}),c?React.createElement(a.Title,{title:ve("locked"),className:"lc-borders-status"}):null)}}]),n}(r.PureComponent),pi=function(e){oi(n,e);var t=ai(n);function n(){return Zo(this,n),t.apply(this,arguments)}return ti(n,[{key:"scale",get:function e(){return this.props.host.viewport.scale}},{key:"scrollX",get:function e(){return this.props.host.viewport.scrollX}},{key:"scrollY",get:function e(){return this.props.host.viewport.scrollY}},{key:"current",get:function e(){var t=this.props.host,n=t.currentDocument;if(!n)return null;var r=n.selection,o=t.designer.detecting.current;return!o||o.document!==n||r.has(o.id)?null:o}},{key:"render",value:function e(){var t,n=this,o=this.props.host,i=this.current,a=null==i||null===(t=i.componentMeta.advanced.callbacks)||void 0===t?void 0:t.onHoverHook,u;if(!(!a||"function"!=typeof a||a(i.internalToShellNode()))||!i||o.viewport.scrolling||o.liveEditing.editing)return null;var c=i.document.focusNode;if(!c.contains(i))return null;if(i.contains(c)){var l=o.viewport.bounds;return React.createElement(fi,{key:"line-root",title:i.title,scale:this.scale,scrollX:o.viewport.scrollX,scrollY:o.viewport.scrollY,rect:new DOMRect(0,0,l.width,l.height)})}var f=Object(s.q)(i,(function(e){var t;return!!(null!=i&&i.isLocked?null===(t=e.parent)||void 0===t?void 0:t.isLocked:e.isLocked)}));if(f&&f.getId()!==i.getId())return React.createElement(fi,{key:"line-h",title:i.title,scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:o.computeComponentInstanceRect(o.getComponentInstances(f)[0],f.componentMeta.rootSelector),isLocked:(null==f?void 0:f.getId())!==i.getId()});var p=o.getComponentInstances(i);return!p||p.length<1?null:1===p.length?React.createElement(fi,{key:"line-h",title:i.title,scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:o.computeComponentInstanceRect(p[0],i.componentMeta.rootSelector)}):React.createElement(r.Fragment,null,p.map((function(e,t){return React.createElement(fi,{key:"line-h-".concat(t),title:i.title,scale:n.scale,scrollX:n.scrollX,scrollY:n.scrollY,rect:o.computeComponentInstanceRect(e,i.componentMeta.rootSelector)})})))}}]),n}(r.Component);function hi(e){return(hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mi(r.key),r)}}function yi(e,t,n){return t&&vi(e.prototype,t),n&&vi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mi(e){var t=bi(e,"string");return"symbol"===hi(t)?t:String(t)}function bi(e,t){if("object"!==hi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function gi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wi(e,t)}function wi(e,t){return(wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Oi(e){var t=ki();return function n(){var r=Ei(e),o;if(t){var i=Ei(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ji(this,o)}}function ji(e,t){if(t&&("object"===hi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Si(e)}function Si(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ki(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ei(e){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],pi.prototype,"scale",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],pi.prototype,"scrollX",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],pi.prototype,"scrollY",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],pi.prototype,"current",null),pi=Object(c.b)([a.observer],pi);var _i=function(e){gi(n,e);var t=Oi(n);function n(){return di(this,n),t.apply(this,arguments)}return yi(n,[{key:"render",value:function e(){var t=this.props,n=t.title,o=t.rect,i=t.scale,u=t.scrollX,c=t.scrollY;if(!o)return null;var s={width:o.width*i,height:o.height*i,transform:"translate(".concat((u+o.left)*i,"px, ").concat((c+o.top)*i,"px)")},l=Jo()("lc-borders lc-borders-detecting");return r.createElement("div",{className:l,style:s},r.createElement(a.Title,{title:n,className:"lc-borders-title"}))}}]),n}(r.PureComponent);function Pi(e){if("string"==typeof e)return e;if(Object(s.G)(e)){var t=a.globalLocale.getLocale()||"zh-CN";return"\u5c06\u653e\u5165\u5230\u6b64".concat(e[t])}return""}var xi=function(e){gi(n,e);var t=Oi(n);function n(){var e;di(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={},e}return yi(n,[{key:"scale",get:function e(){return this.props.host.viewport.scale}},{key:"scrollX",get:function e(){return this.props.host.viewport.scrollX}},{key:"scrollY",get:function e(){return this.props.host.viewport.scrollY}},{key:"componentDidMount",value:function e(){var t=this,n;this.props.host.designer.editor.eventBus.on("designer.dropLocation.change",(function(e){var n;t.state.target!==(null==e?void 0:e.target)&&t.setState({target:null==e?void 0:e.target})}))}},{key:"render",value:function e(){var t=this,n=this.props.host,o=this.state.target;if(null==o)return null;var i=n.getComponentInstances(o);return!i||i.length<1?null:1===i.length?r.createElement(_i,{key:"line-h",title:Pi(o.componentMeta.title),scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:n.computeComponentInstanceRect(i[0],o.componentMeta.rootSelector)}):r.createElement(r.Fragment,null,i.map((function(e,i){return r.createElement(_i,{key:"line-h-".concat(i),title:Pi(o.componentMeta.title),scale:t.scale,scrollX:t.scrollX,scrollY:t.scrollY,rect:n.computeComponentInstanceRect(e,o.componentMeta.rootSelector)})})))}}]),n}(r.Component);Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],xi.prototype,"scale",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],xi.prototype,"scrollX",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],xi.prototype,"scrollY",null),xi=Object(c.b)([a.observer],xi);var Ni=n(7),Ci=n(88);function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Li(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mi(r.key),r)}}function Ai(e,t,n){return t&&Ri(e.prototype,t),n&&Ri(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mi(e){var t=Di(e,"string");return"symbol"===Ti(t)?t:String(t)}function Di(e,t){if("object"!==Ti(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ti(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ii(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bi(e,t)}function Bi(e,t){return(Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Vi(e){var t=Hi();return function n(){var r=Ui(e),o;if(t){var i=Ui(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Fi(this,o)}}function Fi(e,t){if(t&&("object"===Ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gi(e)}function Gi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hi(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ui(e){return(Ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var zi=Ni.Overlay.Popup,Wi=function(e){Ii(n,e);var t=Vi(n);function n(){var e;Li(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state={parentNodes:[]},e.getParentNodes=function(e){var t,n=[],r=null===(t=e.document)||void 0===t?void 0:t.focusNode;if(!r)return null;if(e.contains(r)||!r.contains(e))return n;for(var o=e;o&&n.length<5&&((o=o.getParent())&&n.push(o),o!==r););return n},e.onSelect=function(e){return function(t){var n;if(e&&(Object(s.i)(e.internalToShellNode(),t)&&"function"==typeof e.select)){var r,o,i;e.select();var a=null===(r=e.document)||void 0===r?void 0:r.designer.editor,u=null==e||null===(o=e.componentMeta)||void 0===o?void 0:o.npm,c=[null==u?void 0:u.package,null==u?void 0:u.componentName].filter((function(e){return!!e})).join("-")||(null==e||null===(i=e.componentMeta)||void 0===i?void 0:i.componentName)||"";null==a||a.eventBus.emit("designer.border.action",{name:"select",selected:c})}}},e.onMouseOver=function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&"function"==typeof e.hover&&e.hover(n)}},e.onMouseOut=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&"function"==typeof e.hover&&e.hover(n)}},e.renderNodes=function(){var t=e.state.parentNodes,n;return!t||t.length<1?null:t.map((function(t,n){return o.a.createElement("div",{key:n,onClick:e.onSelect(t),onMouseEnter:e.onMouseOver(t),onMouseLeave:e.onMouseOut(t),className:"instance-node-selector-node"},o.a.createElement("div",{className:"instance-node-selector-node-content"},o.a.createElement(a.Title,{className:"instance-node-selector-node-title",title:{label:t.title,icon:t.icon}})))}))},e}return Ai(n,[{key:"componentDidMount",value:function e(){var t=this.getParentNodes(this.props.node);this.setState({parentNodes:null!=t?t:[]})}},{key:"render",value:function e(){var t=this.props.node;return o.a.createElement("div",{className:"instance-node-selector"},o.a.createElement(zi,{trigger:o.a.createElement("div",{className:"instance-node-selector-current"},o.a.createElement(a.Title,{className:"instance-node-selector-node-title",title:{label:t.title,icon:t.icon}})),triggerType:"hover",offset:[0,0]},o.a.createElement("div",{className:"instance-node-selector"},this.renderNodes())))}}]),n}(o.a.Component),$i=Wi=Object(c.b)([a.observer],Wi);function Xi(e){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ji(r.key),r)}}function qi(e,t,n){return t&&Ki(e.prototype,t),n&&Ki(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ji(e){var t=Qi(e,"string");return"symbol"===Xi(t)?t:String(t)}function Qi(e,t){if("object"!==Xi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Zi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ea(e,t)}function ea(e,t){return(ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ta(e){var t=oa();return function n(){var r=ia(e),o;if(t){var i=ia(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return na(this,o)}}function na(e,t){if(t&&("object"===Xi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ra(e)}function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ia(e){return(ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var aa=function(e){Zi(n,e);var t=ta(n);function n(){return Yi(this,n),t.apply(this,arguments)}return qi(n,[{key:"componentWillUnmount",value:function e(){this.props.observed.purge()}},{key:"render",value:function e(){var t=this.props,n=t.observed,r=t.highlight,o=t.dragging;if(!n.hasOffset)return null;var i=n.offsetWidth,a=n.offsetHeight,u=n.offsetTop,c=n.offsetLeft,s={width:i,height:a,transform:"translate3d(".concat(c,"px, ").concat(u,"px, 0)")},l=Jo()("lc-borders lc-borders-selecting",{highlight:r,dragging:o}),f;return n.node.componentMeta.advanced.hideSelectTools?null:React.createElement("div",{className:l,style:s},!o&&React.createElement(ua,{observed:n}))}}]),n}(r.Component);aa=Object(c.b)([a.observer],aa);var ua=function(e){Zi(n,e);var t=ta(n);function n(){return Yi(this,n),t.apply(this,arguments)}return qi(n,[{key:"render",value:function e(){var t=this.props.observed,n=t.viewport,r=n.height,o=n.width,i=20,a=1,u=2,c=23,s=160,l;l=t.top>23?{top:-23,height:20}:t.bottom+23<r?{bottom:-23,height:20}:{height:20,top:Math.max(1,1-t.top)},160>t.left+t.width?l.left=Math.max(-2,t.left-o-2):(l.right=Math.max(-2,t.right-o-2),l.justifyContent="flex-start");var f=t.node,p=[];return f.componentMeta.availableActions.forEach((function(e){var t=e.important,n=void 0===t||t,r=e.condition,o=e.content,i=e.name;(!f.isSlot()||"copy"!==i&&"remove"!==i)&&n&&("function"==typeof r?!1!==r(f):!1!==r)&&p.push(ca(o,i,f))})),React.createElement("div",{className:"lc-borders-actions",style:l},p,React.createElement($i,{node:f}))}}]),n}(r.Component);function ca(e,t,n){if(Object(r.isValidElement)(e))return Object(r.cloneElement)(e,{key:t,node:n});if(Object(s.S)(e))return Object(r.createElement)(e,{key:t,node:n});if(Object(s.u)(e)){var o=e.action,i=e.title,u=e.icon;return React.createElement("div",{key:t,className:"lc-borders-action",onClick:function e(){var r,i,a;o&&o(n.internalToShellNode());var u=null===(r=n.document)||void 0===r?void 0:r.designer.editor,c=null==n||null===(i=n.componentMeta)||void 0===i?void 0:i.npm,s=[null==c?void 0:c.package,null==c?void 0:c.componentName].filter((function(e){return!!e})).join("-")||(null==n||null===(a=n.componentMeta)||void 0===a?void 0:a.componentName)||"";null==u||u.eventBus.emit("designer.border.action",{name:t,selected:s})}},u&&Object(s.n)(u),React.createElement(a.Tip,null,i))}return null}ua=Object(c.b)([a.observer],ua);var sa=function(e){Zi(n,e);var t=ta(n);function n(){return Yi(this,n),t.apply(this,arguments)}return qi(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"instances",get:function e(){return this.host.getComponentInstances(this.props.node)}},{key:"render",value:function e(){var t=this,n=this.instances,o=this.props.node,i=this.host.designer;return!n||n.length<1?null:React.createElement(r.Fragment,{key:o.id},n.map((function(e){var n=i.createOffsetObserver({node:o,instance:e});return n?React.createElement(aa,{key:n.id,dragging:t.dragging,observed:n}):null})))}}]),n}(r.Component);Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],sa.prototype,"instances",null),sa=Object(c.b)([a.observer],sa);var la=function(e){Zi(n,e);var t=ta(n);function n(){return Yi(this,n),t.apply(this,arguments)}return qi(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"selecting",get:function e(){var t=this.host.currentDocument;if(!t||t.suspensed||this.host.liveEditing.editing)return null;var n=t.selection;return this.dragging?n.getTopNodes():n.getNodes()}},{key:"render",value:function e(){var t=this,n=this.selecting;return!n||n.length<1?null:React.createElement(r.Fragment,null,n.map((function(e){return React.createElement(sa,{key:e.id,host:t.props.host,node:e})})))}}]),n}(r.Component);function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,va(r.key),r)}}function da(e,t,n){return t&&ha(e.prototype,t),n&&ha(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function va(e){var t=ya(e,"string");return"symbol"===fa(t)?t:String(t)}function ya(e,t){if("object"!==fa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],la.prototype,"selecting",null),la=Object(c.b)([a.observer],la);var ma=function(){function e(t){pa(this,e),this.emitter=void 0,this.dragResizing=!1,this.designer=void 0,this.designer=t,this.emitter=Object(a.createModuleEventBus)("DragResizeEngine")}return da(e,[{key:"isDragResizing",value:function e(){return this.dragResizing}},{key:"from",value:function e(t,n,r){var o=this,i,a;if(!t)return function(){};var u=function e(t){var r=l(t),u=r.clientX-a.clientX,c=r.clientY-a.clientY;o.emitter.emit("resize",t,n,i,u,c)},c=this.getMasterSensors(),l=function e(t){var n,r=null===(n=t.view)||void 0===n?void 0:n.document;if(!r||r===document)return t;var o=c.find((function(e){return e.contentDocument===r}));return o?o.viewport.toGlobalPoint(t):t},f=function e(t){var r;ho(t,c)((function(t){t.removeEventListener("mousemove",u,!0),t.removeEventListener("mouseup",e,!0)})),o.dragResizing=!1,o.designer.detecting.enable=!0,s.o.release(),o.emitter.emit("resizeEnd",t,n,i)},p=function e(t){var p;i=r(t),a=l(t),ho(t,c)((function(e){e.addEventListener("mousemove",u,!0),e.addEventListener("mouseup",f,!0)})),o.emitter.emit("resizeStart",t,n,i),o.dragResizing=!0,o.designer.detecting.enable=!1,s.o.addState("ew-resize")};return t.addEventListener("mousedown",p),function(){t.removeEventListener("mousedown",p)}}},{key:"onResizeStart",value:function e(t){var n=this;return this.emitter.on("resizeStart",t),function(){n.emitter.removeListener("resizeStart",t)}}},{key:"onResize",value:function e(t){var n=this;return this.emitter.on("resize",t),function(){n.emitter.removeListener("resize",t)}}},{key:"onResizeEnd",value:function e(t){var n=this;return this.emitter.on("resizeEnd",t),function(){n.emitter.removeListener("resizeEnd",t)}}},{key:"getMasterSensors",value:function e(){return this.designer.project.documents.map((function(e){var t;return e.active&&null!==(t=e.simulator)&&void 0!==t&&t.sensorAvailable?e.simulator:null})).filter(Boolean)}}]),e}(),ba=Object(r.createContext)({}),ga,wa;function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ea(r.key),r)}}function ka(e,t,n){return t&&Sa(e.prototype,t),n&&Sa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ea(e){var t=_a(e,"string");return"symbol"===Oa(t)?t:String(t)}function _a(e,t){if("object"!==Oa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Oa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Pa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xa(e,t)}function xa(e,t){return(xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Na(e){var t=La();return function n(){var r=Ra(e),o;if(t){var i=Ra(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ca(this,o)}}function Ca(e,t){if(t&&("object"===Oa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ta(e)}function Ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function La(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ra(e){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Aa=((ga=function(e){Pa(n,e);var t=Na(n);function n(){return ja(this,n),t.apply(this,arguments)}return ka(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"selecting",get:function e(){var t=this.host.currentDocument;if(!t||t.suspensed)return null;var n=t.selection;return this.dragging?n.getTopNodes():n.getNodes()}},{key:"componentDidUpdate",value:function e(){}},{key:"render",value:function e(){var t=this,n=this.selecting;return!n||n.length<1?o.a.createElement(r.Fragment,null):o.a.createElement(r.Fragment,null,n.map((function(e){return o.a.createElement(Da,{key:e.id,node:e,host:t.props.host})})))}}]),n}(r.Component)).contextType=ba,ga);Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Aa.prototype,"selecting",null);var Ma=Aa=Object(c.b)([a.observer],Aa),Da=((wa=function(e){Pa(n,e);var t=Na(n);function n(){return ja(this,n),t.apply(this,arguments)}return ka(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"instances",get:function e(){return this.host.getComponentInstances(this.props.node)}},{key:"render",value:function e(){var t=this,n=this.instances,i=this.props.node,a=this.host.designer;return!n||n.length<1||this.dragging?null:o.a.createElement(r.Fragment,{key:i.id},n.map((function(e){var n=a.createOffsetObserver({node:i,instance:e});return n?o.a.createElement(Ia,{key:n.id,dragging:t.dragging,designer:a,observed:n}):null})))}}]),n}(r.Component)).contextType=ba,wa);Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Da.prototype,"instances",null),Da=Object(c.b)([a.observer],Da);var Ia=function(e){Pa(n,e);var t=Na(n);function n(e){var r;return ja(this,n),(r=t.call(this,e)).willUnbind=void 0,r.outlineN=void 0,r.outlineE=void 0,r.outlineS=void 0,r.outlineW=void 0,r.outlineNE=void 0,r.outlineNW=void 0,r.outlineSE=void 0,r.outlineSW=void 0,r.dragEngine=void 0,r.dragEngine=new ma(e.designer),r}return ka(n,[{key:"componentWillUnmount",value:function e(){this.willUnbind&&this.willUnbind(),this.props.observed.purge()}},{key:"componentDidMount",value:function e(){this.willBind();var t=function e(t,n,r,o,i){var a=r.componentMeta.advanced;if(a.callbacks&&"function"==typeof a.callbacks.onResize){t.trigger=n,t.deltaX=o,t.deltaY=i;var u=null!=r&&r.isNode?r.internalToShellNode():r;a.callbacks.onResize(t,u)}},n=function e(t,n,r){var o=r.componentMeta.advanced;if(o.callbacks&&"function"==typeof o.callbacks.onResizeStart){t.trigger=n;var i=null!=r&&r.isNode?r.internalToShellNode():r;o.callbacks.onResizeStart(t,i)}},r=function e(t,n,r){var o,i,a,u,c=r.componentMeta.advanced;if(c.callbacks&&"function"==typeof c.callbacks.onResizeEnd){t.trigger=n;var s=null!=r&&r.isNode?r.internalToShellNode():r;c.callbacks.onResizeEnd(t,s)}var l=null===(o=r.document)||void 0===o?void 0:o.designer.editor,f=null==r||null===(i=r.componentMeta)||void 0===i?void 0:i.npm,p=[null==f?void 0:f.package,null==f?void 0:f.componentName].filter((function(e){return!!e})).join("-")||(null==r||null===(a=r.componentMeta)||void 0===a?void 0:a.componentName)||"";null==l||l.eventBus.emit("designer.border.resize",{selected:p,layout:(null==r||null===(u=r.parent)||void 0===u?void 0:u.getPropValue("layout"))||""})};this.dragEngine.onResize(t),this.dragEngine.onResizeStart(n),this.dragEngine.onResizeEnd(r)}},{key:"willBind",value:function e(){var t=this;if(this.willUnbind&&this.willUnbind(),this.outlineN||this.outlineE||this.outlineS||this.outlineW||this.outlineNE||this.outlineNW||this.outlineSE||this.outlineSW){var n=[],r=this.props.observed.node;n.push.apply(n,[this.dragEngine.from(this.outlineN,"n",(function(){return r})),this.dragEngine.from(this.outlineE,"e",(function(){return r})),this.dragEngine.from(this.outlineS,"s",(function(){return r})),this.dragEngine.from(this.outlineW,"w",(function(){return r})),this.dragEngine.from(this.outlineNE,"ne",(function(){return r})),this.dragEngine.from(this.outlineNW,"nw",(function(){return r})),this.dragEngine.from(this.outlineSE,"se",(function(){return r})),this.dragEngine.from(this.outlineSW,"sw",(function(){return r}))]),this.willUnbind=function(){n&&n.length>0&&n.forEach((function(e){e()})),t.willUnbind=function(){}}}}},{key:"render",value:function e(){var t=this,n=this.props.observed,r=[],i=0,a=0,u=0,c=0;if(n.hasOffset){var s,l;i=n.offsetWidth,a=n.offsetHeight,u=n.offsetTop,c=n.offsetLeft;var f=n.node,p=f.componentMeta.getMetadata();null!==(s=p.configure)&&void 0!==s&&null!==(l=s.advanced)&&void 0!==l&&l.getResizingHandlers&&(r=p.configure.advanced.getResizingHandlers(f.internalToShellNode()))}r=po(r);var h="lc-borders lc-resize-side",d="lc-borders lc-resize-corner";return o.a.createElement("div",null,o.a.createElement("div",{ref:function e(n){t.outlineN=n},className:Jo()(h,"n"),style:{height:20,transform:"translate(".concat(c,"px, ").concat(u-10,"px)"),width:i,display:r.includes("N")?"flex":"none"}}),o.a.createElement("div",{ref:function e(n){t.outlineNE=n},className:Jo()(d,"ne"),style:{transform:"translate(".concat(c+i-5,"px, ").concat(u-3,"px)"),cursor:"nesw-resize",display:r.includes("NE")?"flex":"none"}}),o.a.createElement("div",{className:Jo()(h,"e"),ref:function e(n){t.outlineE=n},style:{height:a,transform:"translate(".concat(c+i-10,"px, ").concat(u,"px)"),width:20,display:r.includes("E")?"flex":"none"}}),o.a.createElement("div",{ref:function e(n){t.outlineSE=n},className:Jo()(d,"se"),style:{transform:"translate(".concat(c+i-5,"px, ").concat(u+a-5,"px)"),cursor:"nwse-resize",display:r.includes("SE")?"flex":"none"}}),o.a.createElement("div",{ref:function e(n){t.outlineS=n},className:Jo()(h,"s"),style:{height:20,transform:"translate(".concat(c,"px, ").concat(u+a-10,"px)"),width:i,display:r.includes("S")?"flex":"none"}}),o.a.createElement("div",{ref:function e(n){t.outlineSW=n},className:Jo()(d,"sw"),style:{transform:"translate(".concat(c-3,"px, ").concat(u+a-5,"px)"),cursor:"nesw-resize",display:r.includes("SW")?"flex":"none"}}),o.a.createElement("div",{ref:function e(n){t.outlineW=n},className:Jo()(h,"w"),style:{height:a,transform:"translate(".concat(c-10,"px, ").concat(u,"px)"),width:20,display:r.includes("W")?"flex":"none"}}),o.a.createElement("div",{ref:function e(n){t.outlineNW=n},className:Jo()(d,"nw"),style:{transform:"translate(".concat(c-3,"px, ").concat(u-3,"px)"),cursor:"nwse-resize",display:r.includes("NW")?"flex":"none"}}))}}]),n}(r.Component);Ia=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],Ia);var Ba=n(89);function Va(e){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ua(r.key),r)}}function Ha(e,t,n){return t&&Ga(e.prototype,t),n&&Ga(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ua(e){var t=za(e,"string");return"symbol"===Va(t)?t:String(t)}function za(e,t){if("object"!==Va(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Wa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$a(e,t)}function $a(e,t){return($a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Xa(e){var t=qa();return function n(){var r=Ja(e),o;if(t){var i=Ja(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ya(this,o)}}function Ya(e,t){if(t&&("object"===Va(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ka(e)}function Ka(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qa(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ja(e){return(Ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Qa(e,t,n){var r=n.edge||null;if(!r&&!(r=e.computeRect(t)))return{};var o={edge:r,insertType:"before"};if(n.near){var i=n.near,a=i.node,u=i.pos,c=i.rect,s=i.align;return o.nearRect=c||e.computeRect(a),o.nearNode=a,"replace"===u?(o.coverRect=o.nearRect,o.insertType="cover"):!o.nearRect||0===o.nearRect.width&&0===o.nearRect.height?(o.nearRect=o.edge,o.insertType="after",o.vertical=Zc(o.nearRect)):(o.insertType=u,o.vertical=s?"V"===s:Zc(o.nearRect)),o}var l=n.index;if(null==l)return o.coverRect=o.edge,o.insertType="cover",o;var f=t.children.get(l);if(!f){if(!(f=t.children.get(l>0?l-1:0)))return o.insertType="cover",o.coverRect=r,o;o.insertType="after"}return f?(o.nearRect=e.computeRect(f),(!o.nearRect||0===o.nearRect.width&&0===o.nearRect.height)&&(o.nearRect=o.edge,o.insertType="after"),o.vertical=Zc(o.nearRect),o.nearNode=f):(o.insertType="cover",o.coverRect=r),o}function Za(e){var t=e.target,n=e.detail,r,o=e.document.simulator;if(!o)return{};if(Object(s.K)(n))return Qa(o,t,n);var i=o.getComponentInstances(t);if(!i)return{};var a=o.computeComponentInstanceRect(i[0],t.componentMeta.rootSelector);return a?{edge:a,insertType:"cover",coverRect:a}:{}}var eu=function(e){Wa(n,e);var t=Xa(n);function n(){return Fa(this,n),t.apply(this,arguments)}return Ha(n,[{key:"render",value:function e(){var t,n,r,o,i=this.props.host,a=null===(t=i.currentDocument)||void 0===t?void 0:t.dropLocation;if(!a)return null;if(null!==(n=a.target)&&void 0!==n&&null!==(r=n.componentMeta)&&void 0!==r&&r.advanced.isAbsoluteLayoutContainer)return null;var u=i.viewport,c=u.scale,s=u.scrollX,l=u.scrollY,f=Za(a),p=f.edge,h=f.insertType,d=f.coverRect,v=f.nearRect,y=f.vertical,m=f.nearNode;if(!p)return null;var b="lc-insertion";!1===(null===(o=a.detail)||void 0===o?void 0:o.valid)&&(b+=" invalid");var g={},w,O;if("cover"===h)b+=" cover",w=(d.left+s)*c,O=(d.top+l)*c,g.width=d.width*c,g.height=d.height*c;else{var j;if(!v)return null;if(y?(b+=" vertical",w=(("before"===h?v.left:v.right)+s)*c,O=(v.top+l)*c,g.height=v.height*c):(w=(v.left+s)*c,O=(("before"===h?v.top:v.bottom)+l)*c,g.width=v.width*c),0===O&&null!=m&&null!==(j=m.componentMeta)&&void 0!==j&&j.isTopFixed)return null}return g.transform="translate3d(".concat(w,"px, ").concat(O,"px, 0)"),React.createElement("div",{className:b,style:g})}}]),n}(r.Component);eu=Object(c.b)([a.observer],eu);var tu=n(90),nu=n(91);function ru(e){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ou(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uu(r.key),r)}}function au(e,t,n){return t&&iu(e.prototype,t),n&&iu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uu(e){var t=cu(e,"string");return"symbol"===ru(t)?t:String(t)}function cu(e,t){if("object"!==ru(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ru(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function su(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lu(e,t)}function lu(e,t){return(lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function fu(e){var t=du();return function n(){var r=vu(e),o;if(t){var i=vu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return pu(this,o)}}function pu(e,t){if(t&&("object"===ru(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hu(e)}function hu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function du(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function vu(e){return(vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var yu=function(e){su(n,e);var t=fu(n);function n(){return ou(this,n),t.apply(this,arguments)}return au(n,[{key:"render",value:function e(){var t=this.props.host,n=t.designMode,r=t.viewport,i=r.scrollX,u=r.scrollY,c=r.scale;return"live"===n?null:o.a.createElement("div",{className:"lc-bem-tools",style:{transform:"translate(".concat(-i*c,"px,").concat(-u*c,"px)")}},!a.engineConfig.get("disableDetecting")&&o.a.createElement(pi,{key:"hovering",host:t}),o.a.createElement(la,{key:"selecting",host:t}),a.engineConfig.get("enableReactiveContainer")&&o.a.createElement(xi,{key:"reactive-container-border",host:t}),o.a.createElement(eu,{key:"insertion",host:t}),o.a.createElement(Ma,{key:"resizing",host:t}),t.designer.bemToolsManager.getAllBemTools().map((function(e){var n=e.item;return o.a.createElement(n,{key:e.name,host:t})})))}}]),n}(r.Component);yu=Object(c.b)([a.observer],yu);var mu=n(92);function bu(e){return(bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ju(r.key),r)}}function Ou(e,t,n){return t&&wu(e.prototype,t),n&&wu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ju(e){var t=Su(e,"string");return"symbol"===bu(t)?t:String(t)}function Su(e,t){if("object"!==bu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ku(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eu(e,t)}function Eu(e,t){return(Eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function _u(e){var t=Nu();return function n(){var r=Cu(e),o;if(t){var i=Cu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Pu(this,o)}}function Pu(e,t){if(t&&("object"===bu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xu(e)}function xu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Cu(e){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Tu=function(e){ku(n,e);var t=_u(n);function n(e){var r;gu(this,n),(r=t.call(this,e)).host=void 0;var o=r.props,i=o.project,a=o.onMount,u=o.designer;return r.host=i.simulator||new Uo(i,u),r.host.setProps(r.props),null==a||a(r.host),r}return Ou(n,[{key:"shouldComponentUpdate",value:function e(t){return this.host.setProps(t),!1}},{key:"render",value:function e(){return o.a.createElement("div",{className:"lc-simulator"},o.a.createElement(Lu,{host:this.host}))}}]),n}(r.Component),Lu=function(e){ku(n,e);var t=_u(n);function n(){return gu(this,n),t.apply(this,arguments)}return Ou(n,[{key:"render",value:function e(){var t=this.props.host,n="lc-simulator-canvas",r=t.deviceStyle||{},i=r.canvas,a=void 0===i?{}:i,u=r.viewport,c=void 0===u?{}:u;return t.deviceClassName?n+=" ".concat(t.deviceClassName):t.device&&(n+=" lc-simulator-device-".concat(t.device)),o.a.createElement("div",{className:n,style:a},o.a.createElement("div",{ref:function e(n){return t.mountViewport(n)},className:"lc-simulator-canvas-viewport",style:c},o.a.createElement(yu,{host:t}),o.a.createElement(Ru,{host:t})))}}]),n}(r.Component);Lu=Object(c.b)([a.observer],Lu);var Ru=function(e){ku(n,e);var t=_u(n);function n(){var e;gu(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={disabledEvents:!1},e.dispose=void 0,e}return Ou(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.host.designer.editor,r=function e(n){t.setState({disabledEvents:n})};n.eventBus.on("designer.builtinSimulator.disabledEvents",r),this.dispose=function(){n.removeListener("designer.builtinSimulator.disabledEvents",r)}}},{key:"componentWillUnmount",value:function e(){var t;null===(t=this.dispose)||void 0===t||t.call(this)}},{key:"render",value:function e(){var t=this.props.host,n=this.state.disabledEvents,r=t.viewport,i=t.designer,a={transform:"scale(".concat(r.scale,")"),height:r.contentHeight,width:r.contentWidth};n&&(a.pointerEvents="none");var u=i.viewName;return o.a.createElement("div",{className:"lc-simulator-content"},o.a.createElement("iframe",{name:"".concat(u,"-SimulatorRenderer"),className:"lc-simulator-content-frame",style:a,ref:function e(n){return t.mountContentFrame(n)}}))}}]),n}(r.Component);Ru=Object(c.b)([a.observer],Ru);var Au=n(93);function Mu(e){return(Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Du(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vu(r.key),r)}}function Bu(e,t,n){return t&&Iu(e.prototype,t),n&&Iu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vu(e){var t=Fu(e,"string");return"symbol"===Mu(t)?t:String(t)}function Fu(e,t){if("object"!==Mu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Gu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hu(e,t)}function Hu(e,t){return(Hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Uu(e){var t=$u();return function n(){var r=Xu(e),o;if(t){var i=Xu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return zu(this,o)}}function zu(e,t){if(t&&("object"===Mu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wu(e)}function Wu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Xu(e){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Yu=function(e){Gu(n,e);var t=Uu(n);function n(){return Du(this,n),t.apply(this,arguments)}return Bu(n,[{key:"render",value:function e(){return React.createElement("div",{id:"engine-loading-wrapper"},React.createElement("img",{width:"154",height:"100",src:"/resources/TB1CmVgayERMeJjy0FcXXc7opXa-308-200.gif"}))}}]),n}(r.Component),Ku=function(e){Gu(n,e);var t=Uu(n);function n(){return Du(this,n),t.apply(this,arguments)}return Bu(n,[{key:"componentDidMount",value:function e(){var t=this,n,r;this.props.designer.project.onRendererReady((function(){t.forceUpdate()}))}},{key:"render",value:function e(){var t,n=this.props.designer,r=n.project,o=n.projectSimulatorProps,i=n.simulatorComponent||Tu,u=a.engineConfig.get("loadingComponent",Yu);return React.createElement("div",{className:"lc-project"},React.createElement("div",{className:"lc-simulator-shell"},!(null!=r&&null!==(t=r.simulator)&&void 0!==t&&t.renderer)&&React.createElement(u,null),React.createElement(i,o)))}}]),n}(r.Component);function qu(e){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ju(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ec(r.key),r)}}function Zu(e,t,n){return t&&Qu(e.prototype,t),n&&Qu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ec(e){var t=tc(e,"string");return"symbol"===qu(t)?t:String(t)}function tc(e,t){if("object"!==qu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Ku=Object(c.b)([a.observer],Ku);var nc=function(){function e(t){Ju(this,e),this.target=void 0,this.doc=void 0,this.target=t,rc(t)&&(this.doc=t.document.documentElement)}return Zu(e,[{key:"left",get:function e(){return"scrollX"in this.target?this.target.scrollX:this.target.scrollLeft}},{key:"top",get:function e(){return"scrollY"in this.target?this.target.scrollY:this.target.scrollTop}},{key:"scrollTo",value:function e(t){this.target.scrollTo(t)}},{key:"scrollToXY",value:function e(t,n){this.target.scrollTo(t,n)}},{key:"scrollHeight",get:function e(){return(this.doc||this.target).scrollHeight}},{key:"scrollWidth",get:function e(){return(this.doc||this.target).scrollWidth}}]),e}();function rc(e){return e&&e.document}function oc(e){return Math.sin(e*Math.PI/2)}var ic=30,ac=function(){function e(t){Ju(this,e),this.pid=void 0,this.scrollable=void 0,this.scrollable=t}return Zu(e,[{key:"scrollTarget",get:function e(){var t=this.scrollable.scrollTarget;return t?(Object(s.E)(t)&&(t=new nc(t),this.scrollable.scrollTarget=t),t):null}},{key:"scrollTo",value:function e(t){var n=this;this.cancel();var r=this.scrollTarget;if(r){var o,i=r.left,a=r.top,u=function e(){n.cancel()};if(i!==t.left&&null!=t.left||a!==t.top){var c=200,s=+new Date,l=function e(){if(o===n.pid){var c=+new Date,l=Math.min(1,(c-s)/200),f=oc(l),p={};null!=t.left&&(p.left=f*(t.left-i)+i),null!=t.top&&(p.top=f*(t.top-a)+a),r.scrollTo(p),l<1?(n.pid=requestAnimationFrame(e),o=n.pid):u()}};this.pid=requestAnimationFrame(l),o=this.pid}else u()}}},{key:"scrolling",value:function e(t){var n=this;this.cancel();var r=this.scrollable,o=r.bounds,i=r.scale,a=void 0===i?1:i,u=this.scrollTarget;if(u&&o){var c=t.globalX,s=t.globalY,l=u.scrollHeight-o.height/a,f=u.scrollWidth-o.width/a,p=u.left,h=u.top,d=0,v=0,y;if(s<o.top+30?v=-Math.min(Math.max(o.top+30-s,10),50)/a:s>o.bottom-30&&(v=Math.min(Math.max(s+30-o.bottom,10),50)/a),c<o.left+30?d=-Math.min(Math.max(o.top+30-s,10),50)/a:c>o.right-30&&(d=Math.min(Math.max(c+30-o.right,10),50)/a),d||v)(function e(){var t=!1;(v>0&&h<l||v<0&&h>0)&&(h+=v,h=Math.min(Math.max(h,0),l),t=!0),(d>0&&p<f||d<0&&p>0)&&(p+=d,p=Math.min(Math.max(p,0),f),t=!0),t&&(u.scrollTo({left:p,top:h}),n.pid=requestAnimationFrame(e))})()}}},{key:"cancel",value:function e(){this.pid&&cancelAnimationFrame(this.pid),this.pid=void 0}}]),e}(),uc;function cc(e){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pc(r.key),r)}}function fc(e,t,n){return t&&lc(e.prototype,t),n&&lc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pc(e){var t=hc(e,"string");return"symbol"===cc(t)?t:String(t)}function hc(e,t){if("object"!==cc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dc(e){return e&&e.type===u.f.Node}function vc(e){return e&&e.type===u.f.NodeData}function yc(e){return e&&e.type!==u.f.NodeData&&e.type!==u.f.Node}function mc(e){return e&&"LocateEvent"===e.type}var bc=4;function gc(e,t){return!!e.shaken||(e.target!==t.target||Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2)>4)}function wc(e,t){return 0===e.clientX&&0===e.clientY&&t&&(Math.abs(t.clientX-e.clientX)>5||Math.abs(t.clientY-e.clientY)>5)}function Oc(e,t){return e.clientY===t.clientY&&e.clientX===t.clientX}function jc(e){e.shaken=!0}function Sc(e){var t,n;return dc(e)&&(null===(t=e.nodes[0])||void 0===t||null===(n=t.document)||void 0===n?void 0:n.simulator)||null}function kc(e){var t;return null==e||null===(t=e.type)||void 0===t?void 0:t.startsWith("drag")}var Ec=function(){function e(t){sc(this,e),this.designer=void 0,this.sensors=[],this.nodeInstPointerEvents=void 0,this.key=Math.random(),this._activeSensor=void 0,this._dragging=!1,this._canDrop=!1,this.viewName=void 0,this.emitter=Object(a.createModuleEventBus)("Dragon"),this.designer=t,Object(a.makeObservable)(this),this.viewName=t.viewName}return fc(e,[{key:"activeSensor",get:function e(){return this._activeSensor}},{key:"dragging",get:function e(){return this._dragging}},{key:"from",value:function e(t,n){var r=this,o=function e(t){if(3!==t.which&&2!==t.button){var o=n(t);o&&r.boost(o,t)}};return t.addEventListener("mousedown",o),function(){t.removeEventListener("mousedown",o)}}},{key:"boost",value:function e(t,n,r){var o=this,i=this.designer,a=this.getMasterSensors(),u=ho(n,a),c=!dc(t),s=dc(t)&&t.nodes.some((function(e){return"function"==typeof e.isSlot?e.isSlot():e.isSlot})),l=kc(n),f;this._dragging=!1;var p=function e(t){var n,r=S(t),o=E(r);if(!o||!o.getNodeInstanceFromElement)return{};var i=o.getNodeInstanceFromElement(t.target);return(null==i||null===(n=i.node)||void 0===n?void 0:n.getRGL())||{}},h=function e(t){27===t.keyCode&&(i.clearLocation(),j())},d=!1,v=function e(t){kc(t)&&t.dataTransfer?(c||s)&&(t.dataTransfer.dropEffect="copy"):c||(t.altKey||t.ctrlKey?(d=!0,o.setCopyState(!0),kc(t)&&t.dataTransfer&&(t.dataTransfer.dropEffect="copy")):(d=!1,s||(o.setCopyState(!1),kc(t)&&t.dataTransfer&&(t.dataTransfer.dropEffect="move"))))},y,m=function e(n){if(v(n),!wc(n,y))if(y&&Oc(n,y))y=n;else{y=n;var a=p(n),u=a.isRGL,c=a.rglNode,s=S(n),l=E(s);if(u){var f=t.nodes[0].getDOMNode(),h;if(f&&f.style&&(o.nodeInstPointerEvents=!0,f.style.pointerEvents="none"),o.emitter.emit("rgl.sleeping",!1),r&&r.id===c.id)return i.clearLocation(),o.clearState(),void o.emitter.emit("drag",s);if(o._canDrop=!(null==l||!l.locate(s)),o._canDrop)return o.emitter.emit("rgl.add.placeholder",{rglNode:c,fromRglNode:r,node:null===(h=s.dragObject)||void 0===h?void 0:h.nodes[0],event:n}),i.clearLocation(),o.clearState(),void o.emitter.emit("drag",s)}else o._canDrop=!1,o.emitter.emit("rgl.remove.placeholder"),o.emitter.emit("rgl.sleeping",!0);l?(l.fixEvent(s),l.locate(s)):i.clearLocation(),o.emitter.emit("drag",s)}},b=function e(){o._dragging=!0,jc(n);var t=S(n);c||s?o.setCopyState(!0):E(t),o.setDraggingState(!0),l||u((function(e){e.addEventListener("keydown",h,!1)})),o.emitter.emit("dragstart",t)},g=function e(t){l&&t.preventDefault(),o._dragging?m(t):gc(n,t)&&(b(),m(t))},w=!0,O=function e(t){t.preventDefault(),t.stopPropagation(),w=!0},j=function e(n){if(o.nodeInstPointerEvents){var r=t.nodes[0].getDOMNode();r&&r.style&&(r.style.pointerEvents=""),o.nodeInstPointerEvents=!1}if(n){var a=p(n),c=a.isRGL,s=a.rglNode;if(c&&o._canDrop&&o._dragging){var y=t.nodes[0];if(s.id!==y.id){var m;o.emitter.emit("rgl.drop",{rglNode:s,node:y});var b=null===(m=i.project.currentDocument)||void 0===m?void 0:m.selection;null==b||b.select(y.id)}}}var j;if(o.emitter.emit("rgl.remove.placeholder"),n&&kc(n)&&n.preventDefault(),f&&f.deactiveSensor(),l?w||i.clearLocation():o.setNativeSelection(!0),o.clearState(),o._dragging){o._dragging=!1;try{o.emitter.emit("dragend",{dragObject:t,copy:d})}catch(e){j=e}}if(i.clearLocation(),u((function(t){l?(t.removeEventListener("dragover",g,!0),t.removeEventListener("dragend",e,!0),t.removeEventListener("drop",O,!0)):(t.removeEventListener("mousemove",g,!0),t.removeEventListener("mouseup",e,!0)),t.removeEventListener("mousedown",e,!0),t.removeEventListener("keydown",h,!1),t.removeEventListener("keydown",v,!1),t.removeEventListener("keyup",v,!1)})),j)throw j},S=function e(n){var r,o={type:"LocateEvent",dragObject:t,target:n.target,originalEvent:n},i=null===(r=n.view)||void 0===r?void 0:r.document;if(i&&i!==document){var u,c=f&&Ln(f)?f:null;if((c&&c.contentDocument===i||!(u=a.find((function(e){return e.contentDocument===i})))&&c)&&(u=c),u){var s=u.viewport.toGlobalPoint(n);o.globalX=s.clientX,o.globalY=s.clientY,o.canvasX=n.clientX,o.canvasY=n.clientY,o.sensor=u}else o.globalX=n.clientX,o.globalY=n.clientY}else o.globalX=n.clientX,o.globalY=n.clientY;return o},k=Sc(t),E=function e(t){var n=o.sensors.concat(a),r=t.sensor&&t.sensor.isEnter(t)?t.sensor:n.find((function(e){return e.sensorAvailable&&e.isEnter(t)}));return r||(f?r=f:t.sensor?r=t.sensor:k&&(r=k)),r!==f&&(f&&f.deactiveSensor(),f=r),r&&(t.sensor=r,r.fixEvent(t)),o._activeSensor=r,r};if(kc(n)){var _=n.dataTransfer;if(_){_.effectAllowed="all";try{_.setData("application/json","{}")}catch(e){}}b()}else this.setNativeSelection(!1);u((function(e){l?(e.addEventListener("dragover",g,!0),w=!1,e.addEventListener("drop",O,!0),e.addEventListener("dragend",j,!0)):(e.addEventListener("mousemove",g,!0),e.addEventListener("mouseup",j,!0)),e.addEventListener("mousedown",j,!0)})),c||l||u((function(e){e.addEventListener("keydown",v,!1),e.addEventListener("keyup",v,!1)}))}},{key:"getMasterSensors",value:function e(){return Array.from(new Set(this.designer.project.documents.map((function(e){var t;return e.active&&null!==(t=e.simulator)&&void 0!==t&&t.sensorAvailable?e.simulator:null})).filter(Boolean)))}},{key:"getSimulators",value:function e(){return new Set(this.designer.project.documents.map((function(e){return e.simulator})))}},{key:"setNativeSelection",value:function e(t){Object(s.Z)(t),this.getSimulators().forEach((function(e){null==e||e.setNativeSelection(t)}))}},{key:"setDraggingState",value:function e(t){s.o.setDragging(t),this.getSimulators().forEach((function(e){null==e||e.setDraggingState(t)}))}},{key:"setCopyState",value:function e(t){s.o.setCopy(t),this.getSimulators().forEach((function(e){null==e||e.setCopyState(t)}))}},{key:"clearState",value:function e(){s.o.release(),this.getSimulators().forEach((function(e){null==e||e.clearState()}))}},{key:"addSensor",value:function e(t){this.sensors.push(t)}},{key:"removeSensor",value:function e(t){var n=this.sensors.indexOf(t);n>-1&&this.sensors.splice(n,1)}},{key:"onDragstart",value:function e(t){var n=this;return this.emitter.on("dragstart",t),function(){n.emitter.removeListener("dragstart",t)}}},{key:"onDrag",value:function e(t){var n=this;return this.emitter.on("drag",t),function(){n.emitter.removeListener("drag",t)}}},{key:"onDragend",value:function e(t){var n=this;return this.emitter.on("dragend",t),function(){n.emitter.removeListener("dragend",t)}}}]),e}();function _c(e){return(_c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cc(r.key),r)}}function Nc(e,t,n){return t&&xc(e.prototype,t),n&&xc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cc(e){var t=Tc(e,"string");return"symbol"===_c(t)?t:String(t)}function Tc(e,t){if("object"!==_c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Ec.prototype,"_activeSensor",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Ec.prototype,"_dragging",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Ec.prototype,"_canDrop",void 0);var Lc=function(){function e(){Pc(this,e),this._target=void 0,this.emitter=Object(a.createModuleEventBus)("ActiveTracker")}return Nc(e,[{key:"track",value:function e(t){var n=t;Object(s.N)(t)&&(n={node:t}),this._target=n,this.emitter.emit("change",n)}},{key:"currentNode",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.node}},{key:"detail",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.detail}},{key:"intance",get:function e(){return this.instance}},{key:"instance",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.instance}},{key:"onChange",value:function e(t){var n=this;return this.emitter.addListener("change",t),function(){n.emitter.removeListener("change",t)}}}]),e}();function Rc(e){return(Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ac(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ic(r.key),r)}}function Dc(e,t,n){return t&&Mc(e.prototype,t),n&&Mc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ic(e){var t=Bc(e,"string");return"symbol"===Rc(t)?t:String(t)}function Bc(e,t){if("object"!==Rc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Lc.prototype,"_target",void 0);var Vc="detectingChange",Fc=function(){function e(){Ac(this,e),this._enable=!0,this.xRayMode=!1,this._current=null,this.emitter=Object(a.createModuleEventBus)("Detecting"),Object(a.makeObservable)(this)}return Dc(e,[{key:"enable",get:function e(){return this._enable},set:function e(t){this._enable=t,t||(this._current=null)}},{key:"current",get:function e(){return this._current}},{key:"capture",value:function e(t){this._current!==t&&(this._current=t,this.emitter.emit("detectingChange",this.current))}},{key:"release",value:function e(t){this._current===t&&(this._current=null,this.emitter.emit("detectingChange",this.current))}},{key:"leave",value:function e(t){this.current&&this.current.document===t&&(this._current=null)}},{key:"onDetectingChange",value:function e(t){var n=this;return this.emitter.on("detectingChange",t),function(){n.emitter.off("detectingChange",t)}}}]),e}();function Gc(e){return(Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wc(r.key),r)}}function zc(e,t,n){return t&&Uc(e.prototype,t),n&&Uc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wc(e){var t=$c(e,"string");return"symbol"===Gc(t)?t:String(t)}function $c(e,t){if("object"!==Gc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Xc(e){return e&&e.target&&e.detail}function Yc(e){return e&&e.type===u.j.Children}function Kc(e,t){if(es(e))return!0;var n=(t||ns(e)).getComputedStyle(e),r=n.getPropertyValue("display");if(/flex$/.test(r)){var o=n.getPropertyValue("flex-direction")||"row";if("row"===o||"row-reverse"===o)return!0}return!!/grid$/.test(r)}function qc(e,t){if(es(e))return!0;var n=(t||ns(e)).getComputedStyle(e);return/^inline/.test(n.getPropertyValue("display"))||/^(left|right)$/.test(n.getPropertyValue("float"))}function Jc(e){if(!e||e.computed)return null;var t=e.elements;return t&&t.length>0?t[0]:null}function Qc(e){var t=Jc(e);return!!t&&Kc(t)}function Zc(e){var t=Jc(e);return!!t&&(qc(t)||!!t.parentElement&&Kc(t.parentElement))}function es(e){return e.nodeType===Node.TEXT_NODE}function ts(e){return e.nodeType===Node.DOCUMENT_NODE}function ns(e){return(ts(e)?e:e.ownerDocument).defaultView}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Fc.prototype,"_enable",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Fc.prototype,"xRayMode",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Fc.prototype,"_current",void 0);var rs=function(){function e(t){var n=t.target,r=t.detail,o=t.source,i=t.event;Hc(this,e),this.target=void 0,this.detail=void 0,this.event=void 0,this.source=void 0,this.target=n,this.detail=r,this.source=o,this.event=i}return zc(e,[{key:"document",get:function e(){return this.target.document}},{key:"clone",value:function t(n){return new e({target:this.target,detail:this.detail,source:this.source,event:n})}},{key:"getContainer",value:function e(){return this.target}},{key:"getInsertion",value:function e(){var t,n,r;return this.detail?"Children"===this.detail.type?this.detail.index<=0?null:null===(r=this.target.children)||void 0===r?void 0:r.get(this.detail.index-1):null===(t=this.detail)||void 0===t||null===(n=t.near)||void 0===n?void 0:n.node:null}}]),e}(),os=n(16),is=n.n(os);function as(e){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function us(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ls(r.key),r)}}function ss(e,t,n){return t&&cs(e.prototype,t),n&&cs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ls(e){var t=fs(e,"string");return"symbol"===as(t)?t:String(t)}function fs(e,t){if("object"!==as(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==as(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ps=function(){function e(t){var n=this;us(this,e),this.nodeInstance=void 0,this.id=Object(s.db)("oobx"),this.lastOffsetLeft=void 0,this.lastOffsetTop=void 0,this.lastOffsetHeight=void 0,this.lastOffsetWidth=void 0,this._height=0,this._width=0,this._left=0,this._top=0,this._right=0,this._bottom=0,this.hasOffset=!1,this.pid=void 0,this.viewport=void 0,this.isRoot=void 0,this.node=void 0,this.compute=void 0,this.nodeInstance=t;var r=t.node,o=t.instance;this.node=r;var i=r.document,u=null==i?void 0:i.simulator,c=null==i?void 0:i.focusNode;if(this.isRoot=r.contains(c),this.viewport=null==u?void 0:u.viewport,Object(a.makeObservable)(this),this.isRoot)this.hasOffset=!0;else if(o){var l,f=function e(){if(l===n.pid){var t=u.computeComponentInstanceRect(o,r.componentMeta.rootSelector);t?n.viewport.scrolling&&n.hasOffset||(n._height=t.height,n._width=t.width,n._left=t.left,n._top=t.top,n._right=t.right,n._bottom=t.bottom,n.hasOffset=!0):n.hasOffset=!1,n.pid=is()(e),l=n.pid}};this.compute=f,f(),this.pid=is()(f),l=this.pid}}return ss(e,[{key:"height",get:function e(){return this.isRoot?this.viewport.height:this._height*this.scale}},{key:"width",get:function e(){return this.isRoot?this.viewport.width:this._width*this.scale}},{key:"top",get:function e(){return this.isRoot?0:this._top*this.scale}},{key:"left",get:function e(){return this.isRoot?0:this._left*this.scale}},{key:"bottom",get:function e(){return this.isRoot?this.viewport.height:this._bottom*this.scale}},{key:"right",get:function e(){return this.isRoot?this.viewport.width:this._right*this.scale}},{key:"offsetLeft",get:function e(){return this.isRoot?this.viewport.scrollX*this.scale:(this.viewport.scrolling&&null!=this.lastOffsetLeft||(this.lastOffsetLeft=this.left+this.viewport.scrollX*this.scale),this.lastOffsetLeft)}},{key:"offsetTop",get:function e(){return this.isRoot?this.viewport.scrollY*this.scale:(this.viewport.scrolling&&null!=this.lastOffsetTop||(this.lastOffsetTop=this.top+this.viewport.scrollY*this.scale),this.lastOffsetTop)}},{key:"offsetHeight",get:function e(){return this.viewport.scrolling&&null!=this.lastOffsetHeight||(this.lastOffsetHeight=this.isRoot?this.viewport.height:this.height),this.lastOffsetHeight}},{key:"offsetWidth",get:function e(){return this.viewport.scrolling&&null!=this.lastOffsetWidth||(this.lastOffsetWidth=this.isRoot?this.viewport.width:this.width),this.lastOffsetWidth}},{key:"scale",get:function e(){return this.viewport.scale}},{key:"purge",value:function e(){this.pid&&Object(os.cancelIdleCallback)(this.pid),this.pid=void 0}},{key:"isPurged",value:function e(){return null==this.pid}}]),e}();function hs(e){return e.instance?new ps(e):null}function ds(e){return(ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ys(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bs(r.key),r)}}function ms(e,t,n){return t&&ys(e.prototype,t),n&&ys(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bs(e){var t=gs(e,"string");return"symbol"===ds(t)?t:String(t)}function gs(e,t){if("object"!==ds(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ds(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ws(e,t){return Es(e)||ks(e,t)||js(e,t)||Os()}function Os(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function js(e,t){if(e){if("string"==typeof e)return Ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ss(e,t):void 0}}function Ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ks(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function Es(e){if(Array.isArray(e))return e}function _s(e){return e&&(e.Hotter||e.type&&e.type.Hotter)||[]}function Ps(e){return e&&(e.transducer||e.Transducer||e.type&&(e.type.transducer||e.type.Transducer))||null}function xs(e,t,n){if(!e&&Array.isArray(t)){var r=ws(t,2),o,i;e={toHot:r[0],toNative:r[1]}}return{toHot:(e&&e.toHot||function(e){return e}).bind(n),toNative:(e&&e.toNative||function(e){return e}).bind(n)}}Object(c.b)([a.obx,Object(c.d)("design:type",Object)],ps.prototype,"_height",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],ps.prototype,"_width",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],ps.prototype,"_left",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],ps.prototype,"_top",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],ps.prototype,"_right",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],ps.prototype,"_bottom",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ps.prototype,"height",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ps.prototype,"width",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ps.prototype,"top",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ps.prototype,"left",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ps.prototype,"bottom",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ps.prototype,"right",null),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],ps.prototype,"hasOffset",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ps.prototype,"offsetLeft",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ps.prototype,"offsetTop",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ps.prototype,"offsetHeight",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ps.prototype,"offsetWidth",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],ps.prototype,"scale",null);var Ns=function(){function e(t,n){vs(this,e),this.setterTransducer=void 0,this.context=void 0;var o=n.setter;if(Array.isArray(o))o=o[0];else if(Object(r.isValidElement)(o)&&"MixedSetter"===o.type.displayName){var i,a;o=null===(i=o.props)||void 0===i||null===(a=i.setters)||void 0===a?void 0:a[0]}else if("object"===ds(o)&&"MixedSetter"===o.componentName){var u,c;o=Array.isArray(null===(u=o)||void 0===u||null===(c=u.props)||void 0===c?void 0:c.setters)&&o.props.setters[0]}var l=!0;if(Object(s.U)(o)){var f=o,p,h;o=f.componentName,l=!1!==f.isDynamic}if("string"==typeof o){var d=t.setters.getSetter(o)||{},v=d.component,y=d.isDynamic;o=v,l=void 0===y?l:!1!==y}if(Object(s.D)(o)&&l)try{o=o.call(t,t)}catch(e){console.error(e)}this.setterTransducer=xs(Ps(o),_s(o),t),this.context=t}return ms(e,[{key:"toHot",value:function e(t){return this.setterTransducer.toHot(t)}},{key:"toNative",value:function e(t){return this.setterTransducer.toNative(t)}}]),e}();function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ts(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,As(r.key),r)}}function Rs(e,t,n){return t&&Ls(e.prototype,t),n&&Ls(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function As(e){var t=Ms(e,"string");return"symbol"===Cs(t)?t:String(t)}function Ms(e,t){if("object"!==Cs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Cs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ds=function(){function e(t,n,r){if(Ts(this,e),this.parent=void 0,this.editor=void 0,this.isSameComponent=void 0,this.isMultiple=void 0,this.isSingle=void 0,this.setters=void 0,this.nodes=void 0,this.componentMeta=void 0,this.designer=void 0,this.top=void 0,this.isGroup=void 0,this.type=void 0,this.id=Object(s.db)("entry"),this.emitter=Object(a.createModuleEventBus)("SettingPropEntry"),this._name=void 0,this.extraProps={},this.parent=t,Object(a.makeObservable)(this),null==r){var o="string"==typeof n?n.slice(0,1):"";this.type="#"===o?"group":"field"}else this.type=r;this._name=n,this.isGroup="group"===this.type,this.editor=t.editor,this.nodes=t.nodes,this.setters=t.setters,this.componentMeta=t.componentMeta,this.isSameComponent=t.isSameComponent,this.isMultiple=t.isMultiple,this.isSingle=t.isSingle,this.designer=t.designer,this.top=t.top}return Rs(e,[{key:"name",get:function e(){return this._name}},{key:"path",get:function e(){var t,n=this.parent.path.slice();return"field"===this.type&&null!==(t=this.name)&&void 0!==t&&t.toString()&&n.push(this.name),n}},{key:"getId",value:function e(){return this.id}},{key:"setKey",value:function e(t){if("field"===this.type){for(var n=this.path.join("."),r=this.nodes.length;r-- >0;)this.nodes[r].getProp(n,!0).key=t;this._name=t}}},{key:"getKey",value:function e(){return this._name}},{key:"remove",value:function e(){if("field"===this.type)for(var t=this.path.join("."),n=this.nodes.length;n-- >0;){var r;null===(r=this.nodes[n].getProp(t))||void 0===r||r.remove()}}},{key:"valueState",get:function e(){var t=this;return Object(a.runInAction)((function(){if("field"!==t.type){var e=t.extraProps.getValue;return e?void 0===e(t.internalToShellField(),void 0)?0:1:0}if(1===t.nodes.length)return 2;for(var n=t.path.join("."),r=t.nodes[0].getProp(n),o=t.nodes.length,i=2;--o>0;){var a=t.nodes[o].getProp(n,!1),u=r.compare(a);if(u>1)return-1;1===u&&(i=1)}return 2===i&&r.isUnset()?0:i}))}},{key:"getValue",value:function e(){var t,n;"field"===this.type&&null!==(t=this.name)&&void 0!==t&&t.toString()&&(n=this.parent.getPropValue(this.name));var e=this.extraProps.getValue;try{return e?e(this.internalToShellField(),n):n}catch(e){return console.warn(e),n}}},{key:"setValue",value:function e(t,n,r,o){var i=this.getValue(),a;"field"===this.type&&((null===(a=this.name)||void 0===a?void 0:a.toString())&&this.parent.setPropValue(this.name,t));var e=this.extraProps.setValue;if(e&&(null==o||!o.disableMutator))try{e(this.internalToShellField(),t)}catch(e){console.warn(e)}this.notifyValueChange(i,t),null!=o&&o.fromSetHotValue||this.valueChange(o)}},{key:"clearValue",value:function e(){var t;"field"===this.type&&((null===(t=this.name)||void 0===t?void 0:t.toString())&&this.parent.clearPropValue(this.name));var n=this.extraProps.setValue;if(n)try{n(this.internalToShellField(),void 0)}catch(e){console.warn(e)}}},{key:"get",value:function e(t){var n=this.path.concat(t).join(".");return this.top.get(n)}},{key:"setPropValue",value:function e(t,n){var r=this.path.concat(t).join(".");this.top.setPropValue(r,n)}},{key:"clearPropValue",value:function e(t){var n=this.path.concat(t).join(".");this.top.clearPropValue(n)}},{key:"getPropValue",value:function e(t){return this.top.getPropValue(this.path.concat(t).join("."))}},{key:"getExtraPropValue",value:function e(t){return this.top.getExtraPropValue(t)}},{key:"setExtraPropValue",value:function e(t,n){this.top.setExtraPropValue(t,n)}},{key:"getNode",value:function e(){return this.nodes[0]}},{key:"getName",value:function e(){return this.path.join(".")}},{key:"getProps",value:function e(){return this.top}},{key:"props",get:function e(){return this.top}},{key:"onValueChange",value:function e(t){var n=this;return this.emitter.on("valuechange",t),function(){n.emitter.removeListener("valuechange",t)}}},{key:"valueChange",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.emitter.emit("valuechange",t),this.parent&&ul(this.parent)&&this.parent.valueChange(t)}},{key:"notifyValueChange",value:function e(t,n){this.editor.eventBus.emit(u.e.Node.Prop.Change,{node:this.getNode(),prop:this,oldValue:t,newValue:n})}},{key:"getDefaultValue",value:function e(){return this.extraProps.defaultValue}},{key:"isIgnore",value:function e(){return!1}},{key:"getVariableValue",value:function e(){var t=this.getValue();return Object(s.H)(t)?t.value:""}},{key:"setVariableValue",value:function e(t){var n=this.getValue();this.setValue({type:"JSExpression",value:t,mock:Object(s.H)(n)?n.mock:n})}},{key:"setUseVariable",value:function e(t){if(this.isUseVariable()!==t){var n=this.getValue();this.isUseVariable()?this.setValue(n.mock):this.setValue({type:"JSExpression",value:"",mock:n})}}},{key:"isUseVariable",value:function e(){return Object(s.H)(this.getValue())}},{key:"useVariable",get:function e(){return this.isUseVariable()}},{key:"getMockOrValue",value:function e(){var t=this.getValue();return Object(s.H)(t)?t.mock:t}},{key:"internalToShellField",value:function e(){return this.designer.shellModelFactory.createSettingField(this)}}]),e}();function Is(e){return(Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Ds.prototype,"_name",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Ds.prototype,"path",null),Object(c.b)([a.computed,Object(c.d)("design:type",Number),Object(c.d)("design:paramtypes",[])],Ds.prototype,"valueState",null);var Bs=["title","items","setter","extraProps"],Vs;function Fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(n),!0).forEach((function(t){Hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(e,t,n){return(t=Ys(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Us(e,t){if(null==e)return{};var n=zs(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zs(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function Ws(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ys(r.key),r)}}function Xs(e,t,n){return t&&$s(e.prototype,t),n&&$s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ys(e){var t=Ks(e,"string");return"symbol"===Is(t)?t:String(t)}function Ks(e,t){if("object"!==Is(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Is(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function qs(){return(qs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function e(t,n,r){var o=Js(t,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function Js(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ol(e)););return e}function Qs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zs(e,t)}function Zs(e,t){return(Zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function el(e){var t=rl();return function n(){var r=ol(e),o;if(t){var i=ol(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return tl(this,o)}}function tl(e,t){if(t&&("object"===Is(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nl(e)}function nl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function il(e,t){for(var n=e,r=[t.name];n!==e.top;)n instanceof al&&"group"!==n.type&&r.unshift(n.name),n=n.parent;return r.join(".")}var al=function(e){Qs(n,e);var t=el(n);function n(e,r,o){var i;Ws(this,n),(i=t.call(this,e,r.name,r.type)).settingFieldCollector=void 0,i.isSettingField=!0,i.isRequired=void 0,i.transducer=void 0,i._config=void 0,i.hotValue=void 0,i.parent=void 0,i.extraProps=void 0,i._title=void 0,i._setter=void 0,i._expanded=!0,i._items=[],i.settingFieldCollector=o,Object(a.makeObservable)(nl(i));var u=r.title,c=r.items,s=r.setter,l=r.extraProps,f=Us(r,Bs);return i.parent=e,i._config=r,i._title=u,i._setter=s,i.extraProps=Gs(Gs({},f),l),i.isRequired=r.isRequired||(null==s?void 0:s.isRequired),i._expanded=!(null!=l&&l.defaultCollapsed),c&&c.length>0&&i.initItems(c,o),"group"!==i.type&&o&&r.name&&o(il(e,r),nl(i)),i.transducer=new Ns(nl(i),{setter:s}),i}return Xs(n,[{key:"title",get:function e(){return this._title||("number"==typeof this.name?"".concat(Object(a.intl)("Item")," ").concat(this.name):this.name)}},{key:"setter",get:function e(){var t=this;return this._setter?Object(s.D)(this._setter)?Object(a.untracked)((function(){var e,n=t.internalToShellField();return null===(e=t._setter)||void 0===e?void 0:e.call(n,n)})):this._setter:null}},{key:"expanded",get:function e(){return this._expanded}},{key:"setExpanded",value:function e(t){this._expanded=t}},{key:"items",get:function e(){return this._items}},{key:"config",get:function e(){return this._config}},{key:"initItems",value:function e(t,r){var o=this;this._items=t.map((function(e){return Object(s.y)(e)?e:new n(o,e,r)}))}},{key:"disposeItems",value:function e(){this._items.forEach((function(e){return ul(e)&&e.purge()})),this._items=[]}},{key:"createField",value:function e(t){var r;return null===(r=this.settingFieldCollector)||void 0===r||r.call(this,il(this.parent,t),this),new n(this,t,this.settingFieldCollector)}},{key:"purge",value:function e(){this.disposeItems()}},{key:"getConfig",value:function e(t){return t?this.config[t]:this._config}},{key:"getItems",value:function e(t){return this._items.filter((function(e){return!t||t(e)}))}},{key:"setValue",value:function e(t,r,o,i){r?this.setHotValue(t,i):qs(ol(n.prototype),"setValue",this).call(this,t,!1,!1,i)}},{key:"getHotValue",value:function e(){if(this.hotValue)return this.hotValue;var t=Object(s.j)(this.getMockOrValue());return null==t&&(t=this.extraProps.defaultValue),this.transducer.toHot(t)}},{key:"setMiniAppDataSourceValue",value:function e(t,n){this.hotValue=t;var r=this.transducer.toNative(t);this.setValue(r,!1,!1,n),Array.isArray(t)&&t[0]&&t[0].__sid__||this.valueChange()}},{key:"setHotValue",value:function e(t,n){this.hotValue=t;var r=this.transducer.toNative(t);if(n?n.fromSetHotValue=!0:n={fromSetHotValue:!0},this.isUseVariable()){var o=this.getValue();Object(s.H)(r)?this.setValue({type:"JSExpression",value:r.value,mock:o.mock},!1,!1,n):this.setValue({type:"JSExpression",value:o.value,mock:r},!1,!1,n)}else this.setValue(r,!1,!1,n);Array.isArray(t)&&t[0]&&t[0].__sid__||this.valueChange(n)}},{key:"onEffect",value:function e(t){return this.designer.autorun(t,!0)}},{key:"internalToShellField",value:function e(){return this.designer.shellModelFactory.createSettingField(this)}}]),n}(Ds);function ul(e){return e&&e.isSettingField}function cl(e){return(cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pl(r.key),r)}}function fl(e,t,n){return t&&ll(e.prototype,t),n&&ll(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pl(e){var t=hl(e,"string");return"symbol"===cl(t)?t:String(t)}function hl(e,t){if("object"!==cl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dl(e){return e.map((function(e){return e.id})).sort().join(",")}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],al.prototype,"_expanded",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],al.prototype,"setter",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Boolean,Boolean,Object]),Object(c.d)("design:returntype",void 0)],al.prototype,"setValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],al.prototype,"setMiniAppDataSourceValue",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Object,Object]),Object(c.d)("design:returntype",void 0)],al.prototype,"setHotValue",null);var vl=function(){function e(t,n){var r;if(sl(this,e),this.editor=void 0,this.nodes=void 0,this.emitter=Object(a.createModuleEventBus)("SettingTopEntry"),this._items=[],this._componentMeta=null,this._isSame=!0,this._settingFieldMap={},this.path=[],this.top=this,this.parent=this,this.id=void 0,this.first=void 0,this.designer=void 0,this.setters=void 0,this.disposeFunctions=[],this.editor=t,this.nodes=n,!Array.isArray(n)||n.length<1)throw new ReferenceError("nodes should not be empty");this.id=dl(n),this.first=n[0],this.designer=null===(r=this.first.document)||void 0===r?void 0:r.designer,this.setters=t.get("setters"),this.setupComponentMeta(),this.setupItems(),this.disposeFunctions.push(this.setupEvents())}return fl(e,[{key:"componentMeta",get:function e(){return this._componentMeta}},{key:"items",get:function e(){return this._items}},{key:"isSameComponent",get:function e(){return this._isSame}},{key:"isSingle",get:function e(){return 1===this.nodes.length}},{key:"isLocked",get:function e(){return this.first.isLocked}},{key:"isMultiple",get:function e(){return this.nodes.length>1}},{key:"setupComponentMeta",value:function e(){for(var t,n=this.first.componentMeta,r=this.nodes.length,o=!0,i=1;i<r;i++){var a;if(this.nodes[i].componentMeta!==n){o=!1;break}}o?(this._isSame=!0,this._componentMeta=n):(this._isSame=!1,this._componentMeta=null)}},{key:"setupItems",value:function e(){var t=this;if(this.componentMeta){var n={},r=function e(t,r){n[t]=r};this._items=this.componentMeta.configure.map((function(e){return Object(s.y)(e)?e:new al(t,e,r)})),this._settingFieldMap=n}}},{key:"setupEvents",value:function e(){var t,n=this;return null===(t=this.componentMeta)||void 0===t?void 0:t.onMetadataChange((function(){n.setupItems()}))}},{key:"getValue",value:function e(){var t;return null===(t=this.first)||void 0===t?void 0:t.propsData}},{key:"setValue",value:function e(t){this.setProps(t)}},{key:"get",value:function e(t){return t?this._settingFieldMap[t]||new al(this,{name:t}):null}},{key:"setPropValue",value:function e(t,n){this.nodes.forEach((function(e){e.setPropValue(t.toString(),n)}))}},{key:"clearPropValue",value:function e(t){this.nodes.forEach((function(e){e.clearPropValue(t.toString())}))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.first.getProp(t.toString(),!0))||void 0===n?void 0:n.getValue()}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.first.getExtraProp(t,!1))||void 0===n?void 0:n.getValue()}},{key:"setExtraPropValue",value:function e(t,n){this.nodes.forEach((function(e){var r;null===(r=e.getExtraProp(t,!0))||void 0===r||r.setValue(n)}))}},{key:"setProps",value:function e(t){this.nodes.forEach((function(e){e.setProps(t)}))}},{key:"mergeProps",value:function e(t){this.nodes.forEach((function(e){e.mergeProps(t)}))}},{key:"disposeItems",value:function e(){this._items.forEach((function(e){return yl(e)&&e.purge()})),this._items=[]}},{key:"purge",value:function e(){this.disposeItems(),this._settingFieldMap={},this.emitter.removeAllListeners(),this.disposeFunctions.forEach((function(e){return e()})),this.disposeFunctions=[]}},{key:"getProp",value:function e(t){return this.get(t)}},{key:"getStatus",value:function e(){}},{key:"setStatus",value:function e(){}},{key:"getChildren",value:function e(){}},{key:"getDOMNode",value:function e(){}},{key:"getId",value:function e(){return this.id}},{key:"getPage",value:function e(){return this.first.document}},{key:"node",get:function e(){return this.getNode()}},{key:"getNode",value:function e(){return this.nodes[0]}}]),e}();function yl(e){return e&&e.purge}function ml(e,t,n){if(!e)throw new Error("[designer] Invariant failed: ".concat(t).concat(n?" in '".concat(n,"'"):""))}function bl(e){return(bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jl(r.key),r)}}function Ol(e,t,n){return t&&wl(e.prototype,t),n&&wl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jl(e){var t=Sl(e,"string");return"symbol"===bl(t)?t:String(t)}function Sl(e,t){if("object"!==bl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.computed,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",Object)],vl.prototype,"getValue",null);var kl=function(){function e(t){gl(this,e),this.designer=void 0,this.toolsContainer=[],this.designer=t}return Ol(e,[{key:"addBemTools",value:function e(t){var n;ml(!this.toolsContainer.find((function(e){return e.name===t.name})),"".concat(t.name," already exists")),this.toolsContainer.push(t)}},{key:"removeBemTools",value:function e(t){var n=this.toolsContainer.findIndex((function(e){return e.name===t}));-1!==n&&this.toolsContainer.splice(n,1)}},{key:"getAllBemTools",value:function e(){return this.toolsContainer}}]),e}();function El(e){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(n),!0).forEach((function(t){xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xl(e,t,n){return(t=Nl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nl(e){var t=Cl(e,"string");return"symbol"===El(t)?t:String(t)}function Cl(e,t){if("object"!==El(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==El(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Tl(e){var t=e.devMode;return Pl(Pl({},e),{},{devMode:null==t?void 0:t.replace(/(low|pro)code/,"$1Code")})}function Ll(e){var t=e.configure,n=e.componentName,r=t.component,o=void 0===r?{}:r,i;o.nestingRule||((i=/^(.+)\.Group$/.exec(n))?o.nestingRule={childWhitelist:["".concat(i[1])]}:(i=/^(.+)\.Node$/.exec(n))?o.nestingRule={parentWhitelist:["".concat(i[1]),n]}:(i=/^(.+)\.(Item|Node|Option)$/.exec(n))&&(o.nestingRule={parentWhitelist:["".concat(i[1])]}));return Pl(Pl({},e),{},{configure:Pl(Pl({},t),{},{component:o})})}function Rl(e){return(Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){Dl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dl(e,t,n){return(t=Fl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Il(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fl(r.key),r)}}function Vl(e,t,n){return t&&Bl(e.prototype,t),n&&Bl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fl(e){var t=Gl(e,"string");return"symbol"===Rl(t)?t:String(t)}function Gl(e,t){if("object"!==Rl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Hl=function(){function e(){Il(this,e),this.metadataTransducers=[],this.actions=[{name:"remove",content:{icon:en,title:ye("remove"),action:function e(t){t.remove()}},important:!0},{name:"hide",content:{icon:Qt,title:ye("hide"),action:function e(t){t.visible=!1}},condition:function e(t){var n;return null===(n=t.componentMeta)||void 0===n?void 0:n.isModal},important:!0},{name:"copy",content:{icon:un,title:ye("copy"),action:function e(t){var n=t.document,r=t.parent,o=t.index;if(r){var i=null==n?void 0:n.insertNode(r,t,(null!=o?o:0)+1,!0);null==i||i.select();var a=null==t?void 0:t.getRGL(),u=a.isRGL,c=a.rglNode;if(u){var s=(null==c?void 0:c.getPropValue("layout"))||[],l=s.filter((function(e){return e.i===t.getPropValue("fieldId")}));l&&l[0]&&(s.push(Ml(Ml({},l[0]),{},{i:null==i?void 0:i.getPropValue("fieldId")})),null==c||c.setPropValue("layout",s),setTimeout((function(){var e,t,n;return null==i||null===(e=i.document)||void 0===e||null===(t=e.project)||void 0===t||null===(n=t.simulatorHost)||void 0===n?void 0:n.scrollToNode(i)}),10))}}}},important:!0},{name:"lock",content:{icon:qt,title:ye("lock"),action:function e(t){t.lock()}},condition:function e(t){return a.engineConfig.get("enableCanvasLock",!1)&&t.isContainerNode&&!t.isLocked},important:!0},{name:"unlock",content:{icon:hn,title:ye("unlock"),action:function e(t){t.lock(!1)}},condition:function e(t){return a.engineConfig.get("enableCanvasLock",!1)&&t.isContainerNode&&t.isLocked},important:!0}],this.registerMetadataTransducer(Tl,2,"legacy-issues"),this.registerMetadataTransducer(Ll,100,"component-defaults")}return Vl(e,[{key:"removeBuiltinComponentAction",value:function e(t){var n=this.actions.findIndex((function(e){return e.name===t}));n>-1&&this.actions.splice(n,1)}},{key:"addBuiltinComponentAction",value:function e(t){this.actions.push(t)}},{key:"modifyBuiltinComponentAction",value:function e(t,n){var r=this.actions.find((function(e){return e.name===t}));r&&n(r)}},{key:"registerMetadataTransducer",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2?arguments[2]:void 0;t.level=n,t.id=r;var o=this.metadataTransducers.findIndex((function(e){return null!=e.level&&e.level>n}));o<0?this.metadataTransducers.push(t):this.metadataTransducers.splice(o,0,t)}},{key:"getRegisteredMetadataTransducers",value:function e(){return this.metadataTransducers}}]),e}(),Ul,zl,Wl,$l;function Xl(e){return(Xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yl(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Yl=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Xl(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Kl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ql(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Kl(i,r,o,a,u,"next",e)}function u(e){Kl(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(n),!0).forEach((function(t){Zl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zl(e,t,n){return(t=lf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ef(e){return of(e)||rf(e)||nf(e)||tf()}function tf(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nf(e,t){if(e){if("string"==typeof e)return af(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?af(e,t):void 0}}function rf(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function of(e){if(Array.isArray(e))return af(e)}function af(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lf(r.key),r)}}function sf(e,t,n){return t&&cf(e.prototype,t),n&&cf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lf(e){var t=ff(e,"string");return"symbol"===Xl(t)?t:String(t)}function ff(e,t){if("object"!==Xl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var pf=new s.e({level:"warn",bizName:"designer"}),hf=function(){function e(t){var n=this;uf(this,e),this.dragon=void 0,this.viewName=void 0,this.componentActions=new Hl,this.activeTracker=new Lc,this.detecting=new Fc,this.project=void 0,this.editor=void 0,this.bemToolsManager=new kl(this),this.shellModelFactory=void 0,this._dropLocation=void 0,this.propsReducers=new Map,this._lostComponentMetasMap=new Map,this.props=void 0,this.oobxList=[],this.selectionDispose=void 0,this._componentMetasMap=new Map,this._simulatorComponent=void 0,this._simulatorProps=void 0,this._suspensed=!1,this.setupSelection=function(){var e;n.selectionDispose&&(n.selectionDispose(),n.selectionDispose=void 0);var t=n.currentSelection;if(t&&0===t.selected.length&&"live"===(null===(e=n.simulatorProps)||void 0===e?void 0:e.designMode)){var r,o,i,a=null===(r=n.currentDocument)||void 0===r||null===(o=r.getRoot())||void 0===o||null===(i=o.getChildren())||void 0===i?void 0:i.children;a&&a.length>0&&t.select(a[0].id)}n.postEvent("selection.change",t),t&&(n.selectionDispose=t.onSelectionChange((function(){n.postEvent("selection.change",t)})))},Object(a.makeObservable)(this);var r=t.editor,o=t.viewName,i=t.shellModelFactory,u;this.editor=r,this.viewName=o,this.shellModelFactory=i,this.setProps(t),this.project=new Hn(this,t.defaultSchema,o),this.dragon=new Ec(this),this.dragon.onDragstart((function(e){var t;n.detecting.enable=!1;var r=e.dragObject,o,i;Object(s.C)(r)?1===r.nodes.length&&(r.nodes[0].parent?r.nodes[0].select():null===(o=n.currentSelection)||void 0===o||o.clear()):null===(i=n.currentSelection)||void 0===i||i.clear();null!==(t=n.props)&&void 0!==t&&t.onDragstart&&n.props.onDragstart(e),n.postEvent("dragstart",e)})),this.dragon.onDrag((function(e){var t;null!==(t=n.props)&&void 0!==t&&t.onDrag&&n.props.onDrag(e),n.postEvent("drag",e)})),this.dragon.onDragend((function(e){var t,r=e.dragObject,o=e.copy;pf.debug("onDragend: dragObject ",r," copy ",o);var i=n._dropLocation;if(i&&Object(s.K)(i.detail)&&!1!==i.detail.valid){var a,u;if(Object(s.C)(r))a=it(i.target,ef(r.nodes),i.detail.index,o);else if(Object(s.B)(r)){var c=Array.isArray(r.data)?r.data:[r.data],l;if(c.find((function(e){return!Object(s.O)(e)})))return;a=it(i.target,c,i.detail.index)}if(a)null===(u=i.document)||void 0===u||u.selection.selectAll(a.map((function(e){return e.id}))),setTimeout((function(){return n.activeTracker.track(a[0])}),10)}null!==(t=n.props)&&void 0!==t&&t.onDragend&&n.props.onDragend(e,i),n.postEvent("dragend",e,i),n.detecting.enable=!0})),this.activeTracker.onChange((function(e){var t,n,r=e.node,o=e.detail;null===(t=r.document)||void 0===t||null===(n=t.simulator)||void 0===n||n.scrollToNode(r,o)}));var c=function e(){if(u&&(u(),u=void 0),n.postEvent("history.change",n.currentHistory),n.currentHistory){var t=n.currentHistory;u=t.onStateChange((function(){n.postEvent("history.change",t)}))}};this.project.onCurrentDocumentChange((function(){n.postEvent("current-document.change",n.currentDocument),n.postEvent("selection.change",n.currentSelection),n.postEvent("history.change",n.currentHistory),n.setupSelection(),c()})),this.postEvent("init",this),this.setupSelection(),c()}return sf(e,[{key:"currentDocument",get:function e(){return this.project.currentDocument}},{key:"currentHistory",get:function e(){var t;return null===(t=this.currentDocument)||void 0===t?void 0:t.history}},{key:"currentSelection",get:function e(){var t;return null===(t=this.currentDocument)||void 0===t?void 0:t.selection}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.editor.eventBus).emit.apply(n,["designer.".concat(t)].concat(o))}},{key:"dropLocation",get:function e(){return this._dropLocation}},{key:"createLocation",value:function e(t){var n=new rs(t);return this._dropLocation&&this._dropLocation.document&&this._dropLocation.document!==n.document&&(this._dropLocation.document.dropLocation=null),this._dropLocation=n,this.postEvent("dropLocation.change",n),n.document&&(n.document.dropLocation=n),this.activeTracker.track({node:n.target,detail:n.detail}),n}},{key:"clearLocation",value:function e(){this._dropLocation&&this._dropLocation.document&&(this._dropLocation.document.dropLocation=null),this.postEvent("dropLocation.change",void 0),this._dropLocation=void 0}},{key:"createScroller",value:function e(t){return new ac(t)}},{key:"createOffsetObserver",value:function e(t){var n=hs(t);return this.clearOobxList(),n&&this.oobxList.push(n),n}},{key:"clearOobxList",value:function e(t){var n=this.oobxList.length;if(n>20||t)for(;n-- >0;)this.oobxList[n].isPurged()&&this.oobxList.splice(n,1)}},{key:"touchOffsetObserver",value:function e(){this.clearOobxList(!0),this.oobxList.forEach((function(e){return e.compute()}))}},{key:"createSettingEntry",value:function e(t){return new vl(this.editor,t)}},{key:"getSuitableInsertion",value:function e(t){var n=this.project.currentDocument;if(!n)return null;if(Array.isArray(t)&&Object(s.O)(t[0])&&this.getComponentMeta(t[0].componentName).isModal)return{target:n.rootNode};var r=n.focusNode,o,i=n.selection.getNodes().find((function(e){return r.contains(e)})),a,u;return i&&i!==r?i.componentMeta.isContainer?a=i:(a=i.parent,u=(i.index||0)+1):a=r,a&&t&&!a.componentMeta.checkNestingDown(a,t)?null:{target:a,index:u}}},{key:"setProps",value:function e(t){var n=this.props?Ql(Ql({},this.props),t):t;if(this.props){var r,o;if(n.simulatorComponent!==this.props.simulatorComponent&&(this._simulatorComponent=n.simulatorComponent),n.simulatorProps!==this.props.simulatorProps)this._simulatorProps=n.simulatorProps,(null===(r=n.simulatorProps)||void 0===r?void 0:r.designMode)!==(null===(o=this.props.simulatorProps)||void 0===o?void 0:o.designMode)&&this.setupSelection();n.suspensed!==this.props.suspensed&&null!=n.suspensed&&(this.suspensed=n.suspensed),n.componentMetadatas!==this.props.componentMetadatas&&null!=n.componentMetadatas&&this.buildComponentMetasMap(n.componentMetadatas)}else n.simulatorComponent&&(this._simulatorComponent=n.simulatorComponent),n.simulatorProps&&(this._simulatorProps=n.simulatorProps),null!=n.suspensed&&(this.suspensed=n.suspensed),null!=n.componentMetadatas&&this.buildComponentMetasMap(n.componentMetadatas);this.props=n}},{key:"loadIncrementalAssets",value:function(){var e=ql(Yl().mark((function e(t){var n,r,o,i,a;return Yl().wrap((function e(u){for(;;)switch(u.prev=u.next){case 0:if(n=t.components,r=t.packages,n&&this.buildComponentMetasMap(n),!r){u.next=5;break}return u.next=5,null===(o=this.project.simulator)||void 0===o?void 0:o.setupComponents(r);case 5:if(!n){u.next=10;break}return i=this.editor.get("assets")||{},a=Object(s.Y)(i,t),u.next=10,this.editor.set("assets",a);case 10:this.refreshComponentMetasMap(),this.editor.eventBus.emit("designer.incrementalAssetsReady");case 12:case"end":return u.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"refreshComponentMetasMap",value:function e(){this._componentMetasMap=new Map(this._componentMetasMap)}},{key:"get",value:function e(t){var n;return null===(n=this.props)||void 0===n?void 0:n[t]}},{key:"simulatorComponent",get:function e(){return this._simulatorComponent}},{key:"simulatorProps",get:function e(){return"function"==typeof this._simulatorProps?this._simulatorProps(this.project):this._simulatorProps||{}}},{key:"projectSimulatorProps",get:function e(){var t=this;return Ql(Ql({},this.simulatorProps),{},{project:this.project,designer:this,onMount:function e(n){t.project.mountSimulator(n),t.editor.set("simulator",n)}})}},{key:"suspensed",get:function e(){return this._suspensed},set:function e(t){this._suspensed=t}},{key:"schema",get:function e(){return this.project.getSchema()}},{key:"setSchema",value:function e(t){this.project.load(t)}},{key:"buildComponentMetasMap",value:function e(t){var n=this;t.forEach((function(e){return n.createComponentMeta(e)}))}},{key:"createComponentMeta",value:function e(t){var n=t.componentName;if(!n)return null;var r=this._componentMetasMap.get(n);return r?(r.setMetadata(t),this._componentMetasMap.set(n,r)):((r=this._lostComponentMetasMap.get(n))?(r.setMetadata(t),this._lostComponentMetasMap.delete(n)):r=new xn(this,t),this._componentMetasMap.set(n,r)),r}},{key:"getGlobalComponentActions",value:function e(){var t;return(null===(t=this.props)||void 0===t?void 0:t.globalComponentActions)||null}},{key:"getComponentMeta",value:function e(t,n){if(this._componentMetasMap.has(t))return this._componentMetasMap.get(t);if(this._lostComponentMetasMap.has(t))return this._lostComponentMetasMap.get(t);var r=new xn(this,Ql({componentName:t},n?n():null));return this._lostComponentMetasMap.set(t,r),r}},{key:"getComponentMetasMap",value:function e(){return this._componentMetasMap}},{key:"componentsMap",get:function e(){var t={},n=this;return this._componentMetasMap.forEach((function(e,n){var r=e.getMetadata();if("lowCode"===r.devMode)t[n]=r.schema;else{var o=e.advanced.view;t[n]=o||e.npm}})),t}},{key:"transformProps",value:function e(t,n,r){if(Array.isArray(t))return t;var o=this.propsReducers.get(r);return o?o.reduce((function(e,t){try{return t(e,n.internalToShellNode(),{stage:r})}catch(t){return console.warn(t),e}}),t):t}},{key:"addPropsReducer",value:function e(t,n){if(t){var r=this.propsReducers.get(n);r?r.push(t):this.propsReducers.set(n,[t])}else pf.error("reducer is not available")}},{key:"autorun",value:function e(t,n){return Object(a.autorun)(t,n)}},{key:"purge",value:function e(){}}]),e}();Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],hf.prototype,"_componentMetasMap",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(Ul=void 0!==r.ComponentType&&r.ComponentType)?Ul:Object)],hf.prototype,"_simulatorComponent",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],hf.prototype,"_simulatorProps",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],hf.prototype,"_suspensed",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],hf.prototype,"simulatorComponent",null),Object(c.b)([a.computed,Object(c.d)("design:type","function"==typeof($l="undefined"!=typeof Record&&Record)?$l:Object),Object(c.d)("design:paramtypes",[])],hf.prototype,"simulatorProps",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],hf.prototype,"projectSimulatorProps",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],hf.prototype,"componentsMap",null);var df=n(94);function vf(e){return(vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gf(r.key),r)}}function bf(e,t,n){return t&&mf(e.prototype,t),n&&mf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gf(e){var t=wf(e,"string");return"symbol"===vf(t)?t:String(t)}function wf(e,t){if("object"!==vf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Of(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jf(e,t)}function jf(e,t){return(jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Sf(e){var t=_f();return function n(){var r=Pf(e),o;if(t){var i=Pf(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return kf(this,o)}}function kf(e,t){if(t&&("object"===vf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ef(e)}function Ef(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Pf(e){return(Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var xf=function(e){Of(n,e);var t=Sf(n);function n(e){var r;return yf(this,n),(r=t.call(this,e)).dispose=[],r.titles=null,r.x=0,r.y=0,r.isAbsoluteLayoutContainer=!1,r.dragon=r.props.designer.dragon,Object(a.makeObservable)(Ef(r)),r.dispose=[r.dragon.onDragstart((function(e){"drag"!==e.originalEvent.type.slice(0,4)&&(r.titles=r.getTitles(e.dragObject),r.x=e.globalX,r.y=e.globalY)})),r.dragon.onDrag((function(e){if(r.x=e.globalX,r.y=e.globalY,Ln(e.sensor)){var t=e.sensor.getDropContainer(e);if(null!=t&&t.container.componentMeta.advanced.isAbsoluteLayoutContainer)return void(r.isAbsoluteLayoutContainer=!0)}r.isAbsoluteLayoutContainer=!1})),r.dragon.onDragend((function(){r.titles=null,r.x=0,r.y=0}))],r}return bf(n,[{key:"getTitles",value:function e(t){var n=this,r;return dc(t)?t.nodes.map((function(e){return e.title})):(Array.isArray(t.data)?t.data:[t.data]).map((function(e,t){return n.props.designer.getComponentMeta(e.componentName).title}))}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose.forEach((function(e){return e()}))}},{key:"renderGhostGroup",value:function e(){var t;return null===(t=this.titles)||void 0===t?void 0:t.map((function(e,t){var n;return React.createElement("div",{className:"lc-ghost",key:t},React.createElement(a.Title,{title:e}))}))}},{key:"render",value:function e(){return this.titles&&this.titles.length?this.isAbsoluteLayoutContainer?null:React.createElement("div",{className:"lc-ghost-group",style:{left:this.x,top:this.y}},this.renderGhostGroup()):null}}]),n}(r.Component);Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],xf.prototype,"titles",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],xf.prototype,"x",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],xf.prototype,"y",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],xf.prototype,"isAbsoluteLayoutContainer",void 0);var Nf=xf=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],xf),Cf=n(95);function Tf(e){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Lf=["designer"];function Rf(e,t){if(null==e)return{};var n=Af(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Af(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function Mf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Df(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bf(r.key),r)}}function If(e,t,n){return t&&Df(e.prototype,t),n&&Df(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bf(e){var t=Vf(e,"string");return"symbol"===Tf(t)?t:String(t)}function Vf(e,t){if("object"!==Tf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ff(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gf(e,t)}function Gf(e,t){return(Gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Hf(e){var t=Wf();return function n(){var r=$f(e),o;if(t){var i=$f(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Uf(this,o)}}function Uf(e,t){if(t&&("object"===Tf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zf(e)}function zf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $f(e){return($f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Xf=function(e){Ff(n,e);var t=Hf(n);function n(e){var r;Mf(this,n),(r=t.call(this,e)).designer=void 0,r.viewName=void 0;var o=e.designer,i=Rf(e,Lf);return r.viewName=null==o?void 0:o.viewName,o?(r.designer=o,o.setProps(i)):r.designer=new hf(i),r}return If(n,[{key:"shouldComponentUpdate",value:function e(t){this.designer.setProps(t);var n=this.props;return t.className!==n.className||t.style!==n.style||t.dragGhostComponent!==n.dragGhostComponent}},{key:"componentDidMount",value:function e(){var t=this.props.onMount;t&&t(this.designer),Ur.injectCopyPaster(document),this.designer.postEvent("mount",this.designer)}},{key:"UNSAFE_componentWillMount",value:function e(){this.designer.purge()}},{key:"render",value:function e(){var t=this.props,n=t.className,r=t.style,o,i=t.dragGhostComponent||Nf;return React.createElement("div",{className:Jo()("lc-designer",n),style:r},React.createElement(i,{designer:this.designer}),React.createElement(Ku,{designer:this.designer}))}}]),n}(r.Component);function Yf(e,t){return!(!t||!Array.isArray(t.properties))&&t.properties.some((function(t){return t.key===e}))}function Kf(e){return e&&("autoInit"in e||"override"in e)}function qf(e,t){if(!e||!Object(vo.isPlainObject)(e))return e;var n={};return Object.keys(e).forEach((function(r){if(Yf(r,t)){var o=e[r];null!=o&&(n[r]=o)}})),n}function Jf(e){return(Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tp(r.key),r)}}function ep(e,t,n){return t&&Zf(e.prototype,t),n&&Zf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tp(e){var t=np(e,"string");return"symbol"===Jf(t)?t:String(t)}function np(e,t){if("object"!==Jf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Jf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var rp=function(){function e(t,n){Qf(this,e),this.hotkey=void 0,this.project=void 0,this.skeleton=void 0,this.setters=void 0,this.material=void 0,this.event=void 0,this.config=void 0,this.common=void 0,this.logger=void 0,this.plugins=void 0,this.preference=void 0,this.pluginEvent=void 0,this.canvas=void 0,this.workspace=void 0,this.registerLevel=void 0,this.editorWindow=void 0;var r=t.pluginName,o=void 0===r?"anonymous":r,i=t.meta,u=void 0===i?{}:i;n.assembleApis(this,o,u),this.pluginEvent=Object(a.createModuleEventBus)(o,200);var c=a.engineConfig.get("enhancePluginContextHook");c&&c(this)}return ep(e,[{key:"setPreference",value:function e(t,n){var r=this,o=function e(o,i){if(Yf(o,n)){var a=r.plugins.getPluginPreference(t)||{};return void 0===a[o]||null===a[o]?i:a[o]}};this.preference={getPreferenceValue:o}}}]),e}();function op(e){return(op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ip(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ip=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==op(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function ap(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function up(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ap(i,r,o,a,u,"next",e)}function u(e){ap(i,r,o,a,u,"throw",e)}a(void 0)}))}}function cp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fp(r.key),r)}}function lp(e,t,n){return t&&sp(e.prototype,t),n&&sp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fp(e){var t=pp(e,"string");return"symbol"===op(t)?t:String(t)}function pp(e,t){if("object"!==op(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==op(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var hp=function(){function e(t,n,r,o){cp(this,e),this.config=void 0,this.logger=void 0,this.manager=void 0,this._inited=void 0,this.pluginName=void 0,this.meta=void 0,this._disabled=void 0,this.manager=n,this.config=r,this.pluginName=t,this.meta=o,this.logger=Object(s.r)({level:"warn",bizName:"plugin:".concat(t)})}return lp(e,[{key:"name",get:function e(){return this.pluginName}},{key:"dep",get:function e(){if("string"==typeof this.meta.dependencies)return[this.meta.dependencies];var t=this.config.dep;return"string"==typeof t?[t]:this.meta.dependencies||t||[]}},{key:"disabled",get:function e(){return this._disabled}},{key:"isInited",value:function e(){return this._inited}},{key:"init",value:function(){var e=up(ip().mark((function e(t){var n;return ip().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(!this._inited||t){r.next=2;break}return r.abrupt("return");case 2:return this.logger.log("method init called"),r.next=5,null===(n=this.config.init)||void 0===n?void 0:n.call(void 0);case 5:this._inited=!0;case 6:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=up(ip().mark((function e(){var t,n;return ip().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(this._inited){r.next=2;break}return r.abrupt("return");case 2:return this.logger.log("method destroy called"),r.next=5,null===(t=this.config)||void 0===t||null===(n=t.destroy)||void 0===n?void 0:n.call(void 0);case 5:this._inited=!1;case 6:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDisabled",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._disabled=t}},{key:"toProxy",value:function e(){var t,n;ml(this._inited,"Could not call toProxy before init");var r=null===(t=(n=this.config).exports)||void 0===t?void 0:t.call(n);return new Proxy(this,{get:function e(t,n,o){return{}.hasOwnProperty.call(r,n)?null==r?void 0:r[n]:Reflect.get(t,n,o)}})}},{key:"dispose",value:function(){var e=up(ip().mark((function e(){return ip().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.manager.delete(this.name);case 2:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function dp(e,t,n,r,o,i){t.forEach((function(t){if(-1===n.indexOf(t)){var a=e[t];a?i.indexOf(t)>-1?(i.push(t),o.push(i.slice(0)),i.pop(t)):a.dep.length&&(i.push(t),dp(e,a.dep,n,r,o,i),i.pop(t)):r.push(t),n.push(t)}}))}var vp=function(e,t){var n=[],r=[],o=[];return dp(e,t,n,r,o,[]),(r.length||o.length)&&(n=[]),{sequence:n,missingTasks:r,recursiveDependencies:o}},yp=n(56),mp=n.n(yp);function bp(e){return(bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gp(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wp(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function wp(e,t){if(e){if("string"==typeof e)return Op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Op(e,t):void 0}}function Op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jp(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jp=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==bp(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Sp(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function kp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Sp(i,r,o,a,u,"next",e)}function u(e){Sp(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xp(r.key),r)}}function Pp(e,t,n){return t&&_p(e.prototype,t),n&&_p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xp(e){var t=Np(e,"string");return"symbol"===bp(t)?t:String(t)}function Np(e,t){if("object"!==bp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Cp=Object(s.r)({level:"warn",bizName:"designer:pluginManager"}),Tp=["designer","editor","skeleton","renderer","render","utils","plugin","engine","editor-core","engine-core","plugins","event","events","log","logger","ctx","context"],Lp=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";Ep(this,e),this.viewName=void 0,this.plugins=[],this.pluginsMap=new Map,this.pluginContextMap=new Map,this.pluginPreference=new Map,this.contextApiAssembler=void 0,this._getLowCodePluginContext=function(e){var t=e.pluginName,r=n.pluginContextMap.get(t);return r||(r=new rp(e,n.contextApiAssembler),n.pluginContextMap.set(t,r)),r},this.viewName=r,this.contextApiAssembler=t}return Pp(e,[{key:"isEngineVersionMatched",value:function e(t){var n=a.engineConfig.get("ENGINE_VERSION");return mp()(n,t,{includePrerelease:!0})}},{key:"register",value:function(){var e=kp(jp().mark((function e(t,n,r){var o,i,u,c,s,l,f,p,h,d,v,y,m,b,g,w,O,j,S,k;return jp().wrap((function e(E){for(;;)switch(E.prev=E.next){case 0:if(Kf(n)&&(r=n,n={}),c=t.pluginName,s=t.meta,f=(l=void 0===s?{}:s).preferenceDeclaration,p=l.engines,h=l.eventPrefix,(d=Tp.find((function(e){return e===h})))&&(l.eventPrefix=void 0,Cp.warn("plugin ".concat(c," is trying to use ").concat(h," as event prefix, which is a reserved event prefix, please use another one"))),v=this._getLowCodePluginContext({pluginName:c,meta:l}),y=a.engineConfig.get("customPluginFilterOptions",qf),!(m=a.engineConfig.get("customPluginTransducer",null))){E.next=15;break}return E.next=12,m(t,v,n);case 12:E.t0=E.sent,E.next=16;break;case 15:E.t0=t;case 16:if(b=E.t0,g=y(n,null===(o=b.meta)||void 0===o?void 0:o.preferenceDeclaration),w=b(v,g),ml(c=c||w.name,"pluginConfigCreator.pluginName required",w),v.setPreference(c,f),O=!0===(null===(i=r)||void 0===i?void 0:i.override),!this.pluginsMap.has(c)){E.next=32;break}if(O){E.next=28;break}throw new Error("Plugin with name ".concat(c," exists"));case 28:j=this.pluginsMap.get(c),Cp.log("plugin override, originalPlugin with name ",c," will be destroyed, config:",null==j?void 0:j.config),null==j||j.destroy(),this.pluginsMap.delete(c);case 32:if(!(S=p&&p.lowcodeEngine)||this.isEngineVersionMatched(S)){E.next=35;break}throw new Error("plugin ".concat(c," skipped, engine check failed, current engine version is ").concat(a.engineConfig.get("ENGINE_VERSION"),", meta.engines.lowcodeEngine is ").concat(S));case 35:if(k=new hp(c,this,w,l),null===(u=r)||void 0===u||!u.autoInit){E.next=39;break}return E.next=39,k.init();case 39:this.plugins.push(k),this.pluginsMap.set(c,k),Cp.log("plugin registered with pluginName: ".concat(c,", config: "),w,"meta:",l);case 42:case"end":return E.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"get",value:function e(t){return this.pluginsMap.get(t)}},{key:"getAll",value:function e(){return this.plugins}},{key:"has",value:function e(t){return this.pluginsMap.has(t)}},{key:"delete",value:function(){var e=kp(jp().mark((function e(t){var n,r;return jp().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:if(n=this.plugins.find((function(e){var n;return e.name===t}))){o.next=3;break}return o.abrupt("return",!1);case 3:return o.next=5,n.destroy();case 5:return r=this.plugins.indexOf(n),this.plugins.splice(r,1),o.abrupt("return",this.pluginsMap.delete(t));case 8:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=kp(jp().mark((function e(t){var n,r,o,i,a,u,c,s;return jp().wrap((function e(l){for(;;)switch(l.prev=l.next){case 0:n=[],r={},this.pluginPreference=t,this.plugins.forEach((function(e){n.push(e.name),r[e.name]=e})),o=vp(r,n),i=o.missingTasks,a=o.sequence,ml(!i.length,"plugin dependency missing",i),Cp.log("load plugin sequence:",a),u=gp(a),l.prev=8,u.s();case 10:if((c=u.n()).done){l.next=23;break}return s=c.value,l.prev=12,l.next=15,this.pluginsMap.get(s).init();case 15:l.next=21;break;case 17:l.prev=17,l.t0=l.catch(12),Cp.error("Failed to init plugin:".concat(s,", it maybe affect those plugins which depend on this.")),Cp.error(l.t0);case 21:l.next=10;break;case 23:l.next=28;break;case 25:l.prev=25,l.t1=l.catch(8),u.e(l.t1);case 28:return l.prev=28,u.f(),l.finish(28);case 31:case"end":return l.stop()}}),e,this,[[8,25,28,31],[12,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=kp(jp().mark((function e(){var t,n,r;return jp().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:t=gp(this.plugins),o.prev=1,t.s();case 3:if((n=t.n()).done){o.next=9;break}return r=n.value,o.next=7,r.destroy();case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),t.e(o.t0);case 14:return o.prev=14,t.f(),o.finish(14);case 17:case"end":return o.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"size",get:function e(){return this.pluginsMap.size}},{key:"getPluginPreference",value:function e(t){return this.pluginPreference?this.pluginPreference.get(t):null}},{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){if(t.pluginsMap.has(n)){var o;if(t.pluginsMap.get(n).disabled)return;return null===(o=t.pluginsMap.get(n))||void 0===o?void 0:o.toProxy()}return Reflect.get(t,n,r)}})}},{key:"setDisabled",value:function e(t){var n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Cp.warn("plugin:".concat(t," has been set disable:").concat(r)),null===(n=this.pluginsMap.get(t))||void 0===n||n.setDisabled(r)}},{key:"dispose",value:function(){var e=kp(jp().mark((function e(){return jp().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.destroy();case 2:this.plugins=[],this.pluginsMap.clear();case 4:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function Rp(e){return(Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ap(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ip(r.key),r)}}function Dp(e,t,n){return t&&Mp(e.prototype,t),n&&Mp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ip(e){var t=Bp(e,"string");return"symbol"===Rp(t)?t:String(t)}function Bp(e,t){if("object"!==Rp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Vp=new s.e({level:"warn",bizName:"skeleton:area"}),Fp=function(){function e(t,n,r,o){var i=this,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ap(this,e),this.skeleton=void 0,this.name=void 0,this.exclusive=void 0,this._visible=!0,this.container=void 0,this.lastCurrent=null,this.skeleton=t,this.name=n,this.exclusive=o,Object(a.makeObservable)(this),this.container=t.createContainer(n,r,o,(function(){return i.visible}),u)}return Dp(e,[{key:"visible",get:function e(){return this.exclusive?null!=this.container.current:this._visible}},{key:"current",get:function e(){return this.exclusive?this.container.current:null}},{key:"isEmpty",value:function e(){return this.container.items.length<1}},{key:"add",value:function e(t){var n=this.container.get(t.name);return n?(Vp.warn("The ".concat(t.name," has already been added to skeleton.")),n):this.container.add(t)}},{key:"remove",value:function e(t){return this.container.remove(t)}},{key:"setVisible",value:function e(t){if(this.exclusive){var n=this.container.current;t&&!n?this.container.active(this.lastCurrent||this.container.getAt(0)):n&&(this.lastCurrent=n,this.container.unactive(n))}else this._visible=t}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"removeAction",value:function e(t){return this.remove(t)}}]),e}();function Gp(e){return(Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Up(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wp(r.key),r)}}function zp(e,t,n){return t&&Up(e.prototype,t),n&&Up(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wp(e){var t=$p(e,"string");return"symbol"===Gp(t)?t:String(t)}function $p(e,t){if("object"!==Gp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Xp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yp(e,t)}function Yp(e,t){return(Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Kp(e){var t=Qp();return function n(){var r=Zp(e),o;if(t){var i=Zp(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return qp(this,o)}}function qp(e,t){if(t&&("object"===Gp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jp(e)}function Jp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Zp(e){return(Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(c.b)([a.obx,Object(c.d)("design:type",Object)],Fp.prototype,"_visible",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Fp.prototype,"visible",null);var eh=function(e){Xp(n,e);var t=Kp(n);function n(){return Hp(this,n),t.apply(this,arguments)}return zp(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName;return n.isEmpty()?null:React.createElement("div",{className:Jo()("lc-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(nh,{area:n,itemClassName:r}))}}]),n}(r.Component),th=eh=Object(c.b)([a.observer],eh),nh=function(e){Xp(n,e);var t=Kp(n);function n(){return Hp(this,n),t.apply(this,arguments)}return zp(n,[{key:"render",value:function e(){var t=this.props,n=t.area,o=t.itemClassName,i=[],a=[],u=[];return n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:o||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):u.push(t)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-top-area-left"},i),React.createElement("div",{className:"lc-top-area-center"},a),React.createElement("div",{className:"lc-top-area-right"},u))}}]),n}(r.Component);function rh(e){return(rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ih(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uh(r.key),r)}}function ah(e,t,n){return t&&ih(e.prototype,t),n&&ih(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uh(e){var t=ch(e,"string");return"symbol"===rh(t)?t:String(t)}function ch(e,t){if("object"!==rh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function sh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lh(e,t)}function lh(e,t){return(lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function fh(e){var t=dh();return function n(){var r=vh(e),o;if(t){var i=vh(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ph(this,o)}}function ph(e,t){if(t&&("object"===rh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hh(e)}function hh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function vh(e){return(vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}nh=Object(c.b)([a.observer],nh);var yh=function(e){sh(n,e);var t=fh(n);function n(){return oh(this,n),t.apply(this,arguments)}return ah(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.className,o=void 0===r?"lc-left-area":r;return n.isEmpty()?null:React.createElement("div",{className:Jo()(o,{"lc-area-visible":n.visible})},React.createElement(bh,{area:n}))}}]),n}(r.Component),mh=yh=Object(c.b)([a.observer],yh),bh=function(e){sh(n,e);var t=fh(n);function n(){return oh(this,n),t.apply(this,arguments)}return ah(n,[{key:"render",value:function e(){var t=this.props.area,n=[],o=[];return t.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{key:"left-area-".concat(e.name)},e.content);"bottom"===e.align?o.push(t):n.push(t)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-left-area-top"},n),React.createElement("div",{className:"lc-left-area-bottom"},o))}}]),n}(r.Component);function gh(e){return(gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sh(r.key),r)}}function jh(e,t,n){return t&&Oh(e.prototype,t),n&&Oh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sh(e){var t=kh(e,"string");return"symbol"===gh(t)?t:String(t)}function kh(e,t){if("object"!==gh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Eh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_h(e,t)}function _h(e,t){return(_h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Ph(e){var t=Ch();return function n(){var r=Th(e),o;if(t){var i=Th(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return xh(this,o)}}function xh(e,t){if(t&&("object"===gh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nh(e)}function Nh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ch(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Th(e){return(Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}bh=Object(c.b)([a.observer],bh);var Lh=function(e){Eh(n,e);var t=Ph(n);function n(){return wh(this,n),t.apply(this,arguments)}return jh(n,[{key:"componentDidUpdate",value:function e(){var t;null===(t=this.props.area.skeleton.editor.get("designer"))||void 0===t||t.touchOffsetObserver()}},{key:"render",value:function e(){var t,n,r=this.props.area,o=null===(t=r.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,i=o?{width:o}:void 0;return React.createElement("div",{className:Jo()("lc-left-fixed-pane",{"lc-area-visible":r.visible}),style:i},React.createElement(Ah,{area:r}))}}]),n}(r.Component),Rh=Lh=Object(c.b)([a.observer],Lh),Ah=function(e){Eh(n,e);var t=Ph(n);function n(){return wh(this,n),t.apply(this,arguments)}return jh(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function Mh(e){return(Mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ih(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vh(r.key),r)}}function Bh(e,t,n){return t&&Ih(e.prototype,t),n&&Ih(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vh(e){var t=Fh(e,"string");return"symbol"===Mh(t)?t:String(t)}function Fh(e,t){if("object"!==Mh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Gh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hh(e,t)}function Hh(e,t){return(Hh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Uh(e){var t=$h();return function n(){var r=Xh(e),o;if(t){var i=Xh(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return zh(this,o)}}function zh(e,t){if(t&&("object"===Mh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wh(e)}function Wh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Xh(e){return(Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Ah=Object(c.b)([a.observer],Ah);var Yh=function(e){Gh(n,e);var t=Uh(n);function n(){var e;Dh(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).dispose=void 0,e.focusing=void 0,e.shell=null,e}return Bh(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.area,r=function e(t){var r,o,i,a;n.visible&&(null!==(r=t.originalEvent)&&void 0!==r&&null!==(o=r.target)&&void 0!==o&&o.classList.contains("insertion")||(null===(i=t.originalEvent)||void 0===i?void 0:i.target.closest('div[data-keep-visible-while-dragging="true"]'))||n.setVisible(!1))};n.skeleton.editor.eventBus.on("designer.drag",r),this.dispose=function(){n.skeleton.editor.removeListener("designer.drag",r)};var o=n.skeleton.editor.get("project");this.focusing=n.skeleton.focusTracker.create({range:function e(r){var i,a,u,c,s,l,f,p,h,d=r.target;if(!d)return!1;if(null!==(i=t.shell)&&void 0!==i&&i.contains(d))return!0;if(null!==(a=document.querySelector(".lc-simulator-content-frame"))&&void 0!==a&&null!==(u=a.contentWindow)&&void 0!==u&&u.document.documentElement.contains(d))return!1;if(null!=o&&null!==(c=o.simulatorHost)&&void 0!==c&&null!==(s=c.contentWindow)&&void 0!==s&&s.document.documentElement.contains(d))return!1;if(null!==(l=document.querySelector(".lc-right-area"))&&void 0!==l&&l.contains(d))return!1;if(null===(f=document.querySelector(".lc-workbench"))||void 0===f||!f.contains(d))return!0;if(null!==(p=document.querySelector(".lc-workbench-body"))&&void 0!==p&&p.contains(d))return!0;var v=null===(h=n.current)||void 0===h?void 0:h.getAssocDocks();return!(!v||null==v||!v.length)&&v.some((function(e){var t;return null===(t=e.getDOMNode())||void 0===t?void 0:t.contains(d)}))},onEsc:function e(){t.props.area.setVisible(!1)},onBlur:function e(){t.props.area.setVisible(!1)}}),this.onEffect()}},{key:"onEffect",value:function e(){var t=this.props.area;if(t.visible){var n,r,o;null===(n=this.focusing)||void 0===n||n.active();var i=null==t||null===(r=t.skeleton)||void 0===r||null===(o=r.leftFixedArea)||void 0===o?void 0:o.container,a=null==i?void 0:i.current;a&&i.unactive(a)}else{var u;null===(u=this.focusing)||void 0===u||u.suspense()}}},{key:"componentDidUpdate",value:function e(){this.onEffect()}},{key:"componentWillUnmount",value:function e(){var t,n;null===(t=this.focusing)||void 0===t||t.purge(),null===(n=this.dispose)||void 0===n||n.call(this)}},{key:"render",value:function e(){var t,n,r=this,o=this.props.area,i=null===(t=o.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,a=i?{width:i}:void 0;return React.createElement("div",{ref:function e(t){r.shell=t},className:Jo()("lc-left-float-pane",{"lc-area-visible":o.visible}),style:a},React.createElement(qh,{area:o}))}}]),n}(r.Component),Kh=Yh=Object(c.b)([a.observer],Yh),qh=function(e){Gh(n,e);var t=Uh(n);function n(){return Dh(this,n),t.apply(this,arguments)}return Bh(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function Jh(e){return(Jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,td(r.key),r)}}function ed(e,t,n){return t&&Zh(e.prototype,t),n&&Zh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function td(e){var t=nd(e,"string");return"symbol"===Jh(t)?t:String(t)}function nd(e,t){if("object"!==Jh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Jh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function rd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&od(e,t)}function od(e,t){return(od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function id(e){var t=cd();return function n(){var r=sd(e),o;if(t){var i=sd(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ad(this,o)}}function ad(e,t){if(t&&("object"===Jh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ud(e)}function ud(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function sd(e){return(sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}qh=Object(c.b)([a.observer],qh);var ld=function(e){rd(n,e);var t=id(n);function n(){return Qh(this,n),t.apply(this,arguments)}return ed(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Jo()("lc-toolbar",{"lc-area-visible":t.visible})},React.createElement(pd,{area:t}))}}]),n}(r.Component),fd=ld=Object(c.b)([a.observer],ld),pd=function(e){rd(n,e);var t=id(n);function n(){return Qh(this,n),t.apply(this,arguments)}return ed(n,[{key:"render",value:function e(){var t=this.props.area,n=[],o=[],i=[];return t.container.items.forEach((function(e){"center"===e.align?o.push(e.content):"right"===e.align?i.push(e.content):n.push(e.content)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-toolbar-left"},n),React.createElement("div",{className:"lc-toolbar-center"},o),React.createElement("div",{className:"lc-toolbar-right"},i))}}]),n}(r.Component);function hd(e){return(hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,md(r.key),r)}}function yd(e,t,n){return t&&vd(e.prototype,t),n&&vd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function md(e){var t=bd(e,"string");return"symbol"===hd(t)?t:String(t)}function bd(e,t){if("object"!==hd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==hd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function gd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wd(e,t)}function wd(e,t){return(wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Od(e){var t=kd();return function n(){var r=Ed(e),o;if(t){var i=Ed(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return jd(this,o)}}function jd(e,t){if(t&&("object"===hd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sd(e)}function Sd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ed(e){return(Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}pd=Object(c.b)([a.observer],pd);var _d=function(e){gd(n,e);var t=Od(n);function n(){return dd(this,n),t.apply(this,arguments)}return yd(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement("div",{className:Jo()("lc-main-area engine-workspacepane")},t.container.items.map((function(e){return e.content})))}}]),n}(r.Component),Pd=_d=Object(c.b)([a.observer],_d);function xd(e){return(xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ld(r.key),r)}}function Td(e,t,n){return t&&Cd(e.prototype,t),n&&Cd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ld(e){var t=Rd(e,"string");return"symbol"===xd(t)?t:String(t)}function Rd(e,t){if("object"!==xd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ad(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Md(e,t)}function Md(e,t){return(Md=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Dd(e){var t=Vd();return function n(){var r=Fd(e),o;if(t){var i=Fd(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Id(this,o)}}function Id(e,t){if(t&&("object"===xd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bd(e)}function Bd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Fd(e){return(Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Gd=function(e){Ad(n,e);var t=Dd(n);function n(){return Nd(this,n),t.apply(this,arguments)}return Td(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Jo()("lc-bottom-area",{"lc-area-visible":t.visible})},React.createElement(Ud,{area:t}))}}]),n}(r.Component),Hd=Gd=Object(c.b)([a.observer],Gd),Ud=function(e){Ad(n,e);var t=Dd(n);function n(){return Nd(this,n),t.apply(this,arguments)}return Td(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function zd(e){return(zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yd(r.key),r)}}function Xd(e,t,n){return t&&$d(e.prototype,t),n&&$d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yd(e){var t=Kd(e,"string");return"symbol"===zd(t)?t:String(t)}function Kd(e,t){if("object"!==zd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function qd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jd(e,t)}function Jd(e,t){return(Jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Qd(e){var t=tv();return function n(){var r=nv(e),o;if(t){var i=nv(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Zd(this,o)}}function Zd(e,t){if(t&&("object"===zd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ev(e)}function ev(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function nv(e){return(nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Ud=Object(c.b)([a.observer],Ud);var rv=function(e){qd(n,e);var t=Qd(n);function n(){return Wd(this,n),t.apply(this,arguments)}return Xd(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Jo()("lc-right-area engine-tabpane",{"lc-area-visible":t.visible})},React.createElement(iv,{area:t}))}}]),n}(r.Component),ov=rv=Object(c.b)([a.observer],rv),iv=function(e){qd(n,e);var t=Qd(n);function n(){return Wd(this,n),t.apply(this,arguments)}return Xd(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).map((function(e){return e.content})))}}]),n}(r.Component);iv=Object(c.b)([a.observer],iv);var av=n(108),uv=Object(r.createContext)({});function cv(e){return(cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pv(r.key),r)}}function fv(e,t,n){return t&&lv(e.prototype,t),n&&lv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pv(e){var t=hv(e,"string");return"symbol"===cv(t)?t:String(t)}function hv(e,t){if("object"!==cv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vv(e,t)}function vv(e,t){return(vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function yv(e){var t=gv();return function n(){var r=wv(e),o;if(t){var i=wv(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return mv(this,o)}}function mv(e,t){if(t&&("object"===cv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bv(e)}function bv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wv(e){return(wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Ov=function(e){dv(n,e);var t=yv(n);function n(e){var r;sv(this,n);var o=(r=t.call(this,e)).props,i=o.config,a=o.components,u;return o.skeleton.buildFromConfig(i,a),r}return fv(n,[{key:"render",value:function e(){var t=this.props,n=t.skeleton,r=t.className,o=t.topAreaItemClassName;return React.createElement("div",{className:Jo()("lc-workbench",r)},React.createElement(uv.Provider,{value:this.props.skeleton},React.createElement(th,{area:n.topArea,itemClassName:o}),React.createElement("div",{className:"lc-workbench-body"},React.createElement(mh,{area:n.leftArea}),React.createElement(Kh,{area:n.leftFloatArea}),React.createElement(Rh,{area:n.leftFixedArea}),React.createElement("div",{className:"lc-workbench-center"},React.createElement(fd,{area:n.toolbar}),React.createElement(Pd,{area:n.mainArea}),React.createElement(Hd,{area:n.bottomArea})),React.createElement(ov,{area:n.rightArea})),React.createElement(a.TipContainer,null)))}}]),n}(r.Component);function jv(e){return e&&"Widget"===e.type}function Sv(e){return e&&"Divider"===e.type}function kv(e){return e&&/Dock$/.test(e.type)}function Ev(e){return e&&"DialogDock"===e.type}function _v(e){return e&&"Panel"===e.type}function Pv(e){return e&&"PanelDock"===e.type}function xv(e){return(xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lv(r.key),r)}}function Tv(e,t,n){return t&&Cv(e.prototype,t),n&&Cv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lv(e){var t=Rv(e,"string");return"symbol"===xv(t)?t:String(t)}function Rv(e,t){if("object"!==xv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Av(e){return e&&e.setActive}Ov=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],Ov);var Mv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Nv(this,e),this.name=void 0,this.handle=void 0,this.exclusive=void 0,this.checkVisible=void 0,this.defaultSetCurrent=void 0,this.items=[],this.maps={},this._current=null,this.name=t,this.handle=n,this.exclusive=r,this.checkVisible=o,this.defaultSetCurrent=i,Object(a.makeObservable)(this)}return Tv(e,[{key:"current",get:function e(){return this._current}},{key:"visible",get:function e(){return this.checkVisible()}},{key:"active",value:function e(t){var n=t;if(t&&"string"==typeof t&&(n=this.get(t)),Av(n)||(n=null),this.exclusive){if(this._current===n)return;this._current&&this._current.setActive(!1),this._current=n}n&&n.setActive(!0)}},{key:"unactive",value:function e(t){var n=t;t&&"string"==typeof t&&(n=this.get(t)),Av(n)||(n=null),this._current===n&&(this._current=null),n&&n.setActive(!1)}},{key:"unactiveAll",value:function e(){var t=this;Object.keys(this.maps).forEach((function(e){return t.unactive(e)}))}},{key:"add",value:function e(t){t=this.handle(t);var n=this.get(t.name);if(n===t)return n;var r=n?this.items.indexOf(n):-1;if(r>-1?this.items[r]=t:this.items.push(t),this.maps[t.name]=t,lk(t)&&t.setParent(this),this.defaultSetCurrent){var o,i,a=null===(o=t.config)||void 0===o||null===(i=o.props)||void 0===i?void 0:i.hiddenWhenInit;this._current||a||this.active(t)}return t}},{key:"get",value:function e(t){return this.maps[t]||null}},{key:"getAt",value:function e(t){return this.items[t]||null}},{key:"has",value:function e(t){return Object(s.t)(this.maps,t)}},{key:"indexOf",value:function e(t){return this.items.indexOf(t)}},{key:"remove",value:function e(t){var n="string"==typeof t?this.get(t):t;if(!n)return-1;var r=this.items.indexOf(n);return r>-1&&this.items.splice(r,1),delete this.maps[n.name],n===this.current&&(this._current=null),r}}]),e}();Object(c.b)([a.obx.shallow,Object(c.d)("design:type",Array)],Mv.prototype,"items",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Mv.prototype,"_current",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],Mv.prototype,"visible",null);var Dv=Symbol("project"),Iv=Symbol("designer"),Bv=Symbol("skeleton"),Vv=Symbol("document"),Fv=Symbol("editor"),Gv=Symbol("node"),Hv=Symbol("modalNodesManager"),Uv=Symbol("nodeChildren"),zv=Symbol("prop"),Wv=Symbol("settingField"),$v=Symbol("settingTopEntry"),Xv=Symbol("props"),Yv=Symbol("detecting"),Kv=Symbol("selection"),qv=Symbol("history"),Jv=Symbol("canvas"),Qv=Symbol("dragon"),Zv=Symbol("componentMeta"),ey=Symbol("dropLocation"),ty=Symbol("simulatorHost"),ny=Symbol("simulatorRender"),ry=Symbol("dragObject"),oy=Symbol("locateEvent"),iy=Symbol("designerCabin"),ay=Symbol("editorCabin"),uy=Symbol("skeletonCabin"),cy=Symbol("hotkey"),sy=Symbol("plugins"),ly=Symbol("workspace"),fy=Symbol("window"),py=Symbol("plugin-instance"),hy=Symbol("resourceType"),dy=Symbol("resource"),vy=Symbol("clipboard"),yy=Symbol("configSymbol"),my=Symbol("conditionGroup"),by=Symbol("editorView"),gy=Symbol("pluginContext"),wy=Symbol("skeletonItem");function Oy(e){return(Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ey(r.key),r)}}function ky(e,t,n){return t&&Sy(e.prototype,t),n&&Sy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ey(e){var t=_y(e,"string");return"symbol"===Oy(t)?t:String(t)}function _y(e,t){if("object"!==Oy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Oy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Py=function(){function e(t){jy(this,e),this[Zv]=void 0,this.isComponentMeta=!0,this[Zv]=t}return ky(e,[{key:"componentName",get:function e(){return this[Zv].componentName}},{key:"isContainer",get:function e(){return this[Zv].isContainer}},{key:"isMinimalRenderUnit",get:function e(){return this[Zv].isMinimalRenderUnit}},{key:"isModal",get:function e(){return this[Zv].isModal}},{key:"configure",get:function e(){return this[Zv].configure}},{key:"title",get:function e(){return this[Zv].title}},{key:"icon",get:function e(){return this[Zv].icon}},{key:"npm",get:function e(){return this[Zv].npm}},{key:"prototype",get:function e(){return this[Zv].prototype}},{key:"availableActions",get:function e(){return this[Zv].availableActions}},{key:"advanced",get:function e(){return this[Zv].advanced}},{key:"setNpm",value:function e(t){this[Zv].setNpm(t)}},{key:"getMetadata",value:function e(){return this[Zv].getMetadata()}},{key:"checkNestingUp",value:function e(t,n){var r=t.isNode?t[Gv]:t;return this[Zv].checkNestingUp(r,n)}},{key:"checkNestingDown",value:function e(t,n){var r=null!=t&&t.isNode?t[Gv]:t;return this[Zv].checkNestingDown(r,n[Gv]||n)}},{key:"refreshMetadata",value:function e(){this[Zv].refreshMetadata()}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function xy(e){return(xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ny(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ly(r.key),r)}}function Ty(e,t,n){return t&&Cy(e.prototype,t),n&&Cy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ly(e){var t=Ry(e,"string");return"symbol"===xy(t)?t:String(t)}function Ry(e,t){if("object"!==xy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ay=function(){function e(t){Ny(this,e),this[zv]=void 0,this[zv]=t}return Ty(e,[{key:"id",get:function e(){return this[zv].id}},{key:"key",get:function e(){return this[zv].key}},{key:"path",get:function e(){return this[zv].path}},{key:"node",get:function e(){return eO.create(this[zv].getNode())}},{key:"slotNode",get:function e(){return eO.create(this[zv].slotNode)}},{key:"isProp",get:function e(){return!0}},{key:"setValue",value:function e(t){this[zv].setValue(t)}},{key:"getValue",value:function e(){return this[zv].getValue()}},{key:"remove",value:function e(){this[zv].remove()}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Render;return this[zv].export(t)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function My(e){return(My="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vy(r.key),r)}}function By(e,t,n){return t&&Iy(e.prototype,t),n&&Iy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vy(e){var t=Fy(e,"string");return"symbol"===My(t)?t:String(t)}function Fy(e,t){if("object"!==My(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==My(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Gy=function(){function e(t){Dy(this,e),this[Xv]=void 0,this[Xv]=t}return By(e,[{key:"id",get:function e(){return this[Xv].id}},{key:"path",get:function e(){return this[Xv].path}},{key:"node",get:function e(){return eO.create(this[Xv].getNode())}},{key:"getProp",value:function e(t){return Ay.create(this[Xv].getProp(t))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t))||void 0===n?void 0:n.getValue()}},{key:"getExtraProp",value:function e(t){return Ay.create(this[Xv].getProp(q(t)))}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"setPropValue",value:function e(t,n){var r;return null===(r=this.getProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"setExtraPropValue",value:function e(t,n){var r;return null===(r=this.getExtraProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"has",value:function e(t){return this[Xv].has(t)}},{key:"add",value:function e(t,n){return this[Xv].add(t,n)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Hy(e){return(Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$y(r.key),r)}}function Wy(e,t,n){return t&&zy(e.prototype,t),n&&zy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $y(e){var t=Xy(e,"string");return"symbol"===Hy(t)?t:String(t)}function Xy(e,t){if("object"!==Hy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Hy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Yy=function(){function e(t){Uy(this,e),this[Kv]=void 0,this[Kv]=t.selection}return Wy(e,[{key:"selected",get:function e(){return this[Kv].selected}},{key:"node",get:function e(){var t=this.getNodes();return t&&t.length>0?t[0]:null}},{key:"select",value:function e(t){this[Kv].select(t)}},{key:"selectAll",value:function e(t){this[Kv].selectAll(t)}},{key:"remove",value:function e(t){this[Kv].remove(t)}},{key:"clear",value:function e(){this[Kv].clear()}},{key:"has",value:function e(t){return this[Kv].has(t)}},{key:"add",value:function e(t){this[Kv].add(t)}},{key:"getNodes",value:function e(){var t=this[Kv].getNodes(),n=[];return t.forEach((function(e){var t=eO.create(e);t&&n.push(t)})),n}},{key:"getTopNodes",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this[Kv].getTopNodes(t),r=[];return n.forEach((function(e){var t=eO.create(e);t&&r.push(t)})),r}},{key:"onSelectionChange",value:function e(t){return this[Kv].onSelectionChange(t)}}]),e}();function Ky(e){return(Ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zy(r.key),r)}}function Qy(e,t,n){return t&&Jy(e.prototype,t),n&&Jy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zy(e){var t=em(e,"string");return"symbol"===Ky(t)?t:String(t)}function em(e,t){if("object"!==Ky(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ky(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var tm=function(){function e(t){qy(this,e),this[Vv]=void 0,this[Vv]=t}return Qy(e,[{key:qv,get:function e(){return this[Vv].getHistory()}},{key:"go",value:function e(t){this[qv].go(t)}},{key:"back",value:function e(){this[qv].back()}},{key:"forward",value:function e(){this[qv].forward()}},{key:"savePoint",value:function e(){this[qv].savePoint()}},{key:"isSavePoint",value:function e(){return this[qv].isSavePoint()}},{key:"getState",value:function e(){return this[qv].getState()}},{key:"onChangeState",value:function e(t){return this[qv].onChangeState(t)}},{key:"onChangeCursor",value:function e(t){return this[qv].onChangeCursor(t)}}]),e}();function nm(e){return(nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,am(r.key),r)}}function im(e,t,n){return t&&om(e.prototype,t),n&&om(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function am(e){var t=um(e,"string");return"symbol"===nm(t)?t:String(t)}function um(e,t){if("object"!==nm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var cm=function(){function e(t){rm(this,e),this[ey]=void 0,this[ey]=t}return im(e,[{key:"target",get:function e(){return eO.create(this[ey].target)}},{key:"detail",get:function e(){return this[ey].detail}},{key:"event",get:function e(){return this[ey].event}},{key:"clone",value:function t(n){return new e(this[ey].clone(n))}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function sm(){return(sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lm(e){return(lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dm(r.key),r)}}function hm(e,t,n){return t&&pm(e.prototype,t),n&&pm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dm(e){var t=vm(e,"string");return"symbol"===lm(t)?t:String(t)}function vm(e,t){if("object"!==lm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==lm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ym=function(){function e(t){fm(this,e),this[Fv]=void 0,this[iy]=void 0,this[Fv]=t,this[iy]={isDragNodeObject:s.C,isDragAnyObject:s.A,isShaken:gc,contains:nt,LocationDetailType:u.j,isLocationChildrenDetail:s.K,ScrollTarget:nc,isSettingField:s.V,TransformStage:u.h,SettingField:al,LiveEditing:ao,DragObjectType:u.f,isDragNodeDataObject:s.B,isNode:s.N,DropLocation:rs,Designer:hf,Node:qe,LowCodePluginManager:Lp,DesignerView:Xf}}return hm(e,[{key:Iv,get:function e(){return this[Fv].get("designer")}},{key:"isSettingField",value:function e(t){return Object(s.V)(t)}},{key:"TransformStage",get:function e(){return u.h}},{key:"SettingField",get:function e(){return al}},{key:"LiveEditing",get:function e(){return ao}},{key:"DragObjectType",get:function e(){return u.f}},{key:"isDragNodeDataObject",value:function e(t){return Object(s.B)(t)}},{key:"isNode",value:function e(t){return Object(s.N)(t)}},{key:"dragon",get:function e(){return LO.create(this[Iv].dragon,!1)}}]),e}(),mm=function(){function e(t){fm(this,e),this[Bv]=void 0,this[uy]=void 0,this[Bv]=t,this[uy]={Workbench:Ov,createSettingFieldView:this.createSettingFieldView,PopupContext:XE,PopupPipe:YE,SettingsPrimaryPane:Sx,registerDefaults:sN,Skeleton:sE}}return hm(e,[{key:"Workbench",get:function e(){var t=this[Bv];return function(e){return React.createElement(Ov,sm({},e,{skeleton:t}))}}},{key:"createSettingFieldView",value:function e(t,n){return dP(t[Wv]||t,n)}},{key:"PopupContext",get:function e(){return XE}},{key:"PopupPipe",get:function e(){return YE}}]),e}(),bm=function(){function e(){fm(this,e)}return hm(e,[{key:"isNodeSchema",value:function e(t){return Object(s.O)(t)}},{key:"isFormEvent",value:function e(t){return Object(s.F)(t)}},{key:"compatibleLegaoSchema",value:function e(t){return Object(s.l)(t)}},{key:"getNodeSchemaById",value:function e(t,n){return Object(s.s)(t,n)}},{key:"getConvertedExtraKey",value:function e(t){return q(t)}},{key:"getOriginalExtraKey",value:function e(t){return J(t)}},{key:"executeTransaction",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.i.REPAINT;s.cb.executeTransaction(t,n)}},{key:"createIntl",value:function e(t){return Object(a.createIntl)(t)}}]),e}(),gm=function(){function e(t){var n=this;fm(this,e),this[Fv]=void 0,this[ay]=void 0,this.createSetterContent=function(e,t){var r;return n[Fv].get("setters").createSetterContent(e,t)},this[Fv]=t,this[ay]={Editor:a.Editor,globalContext:a.globalContext,runInAction:a.runInAction,Title:a.Title,Tip:a.Tip,shallowIntl:a.shallowIntl,createIntl:a.createIntl,intl:a.intl,createSetterContent:this.createSetterContent.bind(this),globalLocale:a.globalLocale,obx:a.obx,action:a.action,engineConfig:a.engineConfig,observable:a.observable,makeObservable:a.makeObservable,untracked:a.untracked,computed:a.computed,observer:a.observer}}return hm(e,[{key:"Title",get:function e(){return a.Title}},{key:"Tip",get:function e(){return a.Tip}},{key:"shallowIntl",value:function e(t){return Object(a.shallowIntl)(t)}},{key:"createIntl",value:function e(t){return Object(a.createIntl)(t)}},{key:"intl",value:function e(t,n){return Object(a.intl)(t,n)}},{key:"globalLocale",get:function e(){return a.globalLocale}},{key:"obx",get:function e(){return a.obx}},{key:"action",get:function e(){return a.action}},{key:"engineConfig",get:function e(){return a.engineConfig}},{key:"runInAction",get:function e(){return a.runInAction}},{key:"observable",get:function e(){return a.observable}},{key:"makeObservable",value:function e(t,n,r){return Object(a.makeObservable)(t,n,r)}},{key:"untracked",value:function e(t){return Object(a.untracked)(t)}},{key:"computed",get:function e(){return a.computed}},{key:"observer",value:function e(t){return Object(a.observer)(t)}}]),e}(),wm=function(){function e(t,n){fm(this,e),this.__designerCabin=void 0,this.__skeletonCabin=void 0,this.__editorCabin=void 0,this.__utils=void 0,this.__designerCabin=new ym(t),this.__skeletonCabin=new mm(n),this.__editorCabin=new gm(t),this.__utils=new bm}return hm(e,[{key:"utils",get:function e(){return this.__utils}},{key:"editorCabin",get:function e(){return this.__editorCabin}},{key:"designerCabin",get:function e(){return this.__designerCabin}},{key:"skeletonCabin",get:function e(){return this.__skeletonCabin}},{key:"objects",get:function e(){return{TransformStage:u.h}}}]),e}();function Om(e){return(Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Em(r.key),r)}}function km(e,t,n){return t&&Sm(e.prototype,t),n&&Sm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Em(e){var t=_m(e,"string");return"symbol"===Om(t)?t:String(t)}function _m(e,t){if("object"!==Om(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Om(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Pm=Object(s.r)({level:"warn",bizName:"shell-event"}),xm=Symbol("eventBus"),Nm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];jm(this,e),this.workspaceMode=void 0,this[xm]=void 0,this.options=void 0,this.workspaceMode=r,this[xm]=t,this.options=n,this.options.prefix||Pm.warn("prefix is required while initializing Event")}return km(e,[{key:"on",value:function e(t,n){return Object(s.Q)(t)?this[xm].on(t,n):(Pm.warn("fail to monitor on event ".concat(t,", event should have a prefix like 'somePrefix:eventName'")),function(){})}},{key:"prependListener",value:function e(t,n){return Object(s.Q)(t)?this[xm].prependListener(t,n):(Pm.warn("fail to prependListener event ".concat(t,", event should have a prefix like 'somePrefix:eventName'")),function(){})}},{key:"off",value:function e(t,n){this[xm].off(t,n)}},{key:"emit",value:function e(t){var n;if(this.options.prefix){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this[xm]).emit.apply(n,["".concat(this.options.prefix,":").concat(t)].concat(o))}else Pm.warn("Event#emit has been forbidden while prefix is not specified")}},{key:"__internalEmit__",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this[xm]).emit.apply(n,[t].concat(o))}}]),e}();function Cm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{prefix:"common"};return new Nm(e.eventBus,t)}function Tm(e){return(Tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mm(r.key),r)}}function Am(e,t,n){return t&&Rm(e.prototype,t),n&&Rm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mm(e){var t=Dm(e,"string");return"symbol"===Tm(t)?t:String(t)}function Dm(e,t){if("object"!==Tm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Im=Symbol("innerHotkey"),Bm=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Lm(this,e),this.workspaceMode=void 0,this[Im]=void 0,this.workspaceMode=n,this[Im]=t}return Am(e,[{key:cy,get:function e(){if(this.workspaceMode)return this[Im];var t=a.globalContext.get("workspace");return t.isActive?t.window.innerHotkey:this[Im]}},{key:"callbacks",get:function e(){return this[cy].callBacks}},{key:"callBacks",get:function e(){return this.callbacks}},{key:"bind",value:function e(t,n,r){var o=this;return this[cy].bind(t,n,r),function(){o[cy].unbind(t,n,r)}}}]),e}();function Vm(e){return(Vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Um(r.key),r)}}function Hm(e,t,n){return t&&Gm(e.prototype,t),n&&Gm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Um(e){var t=zm(e,"string");return"symbol"===Vm(t)?t:String(t)}function zm(e,t){if("object"!==Vm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Wm=Symbol("logger"),$m=function(){function e(t){Fm(this,e),this[Wm]=void 0,this[Wm]=Object(s.r)(t)}return Hm(e,[{key:"debug",value:function e(){var t;(t=this[Wm]).debug.apply(t,arguments)}},{key:"info",value:function e(){var t;(t=this[Wm]).info.apply(t,arguments)}},{key:"warn",value:function e(){var t;(t=this[Wm]).warn.apply(t,arguments)}},{key:"error",value:function e(){var t;(t=this[Wm]).error.apply(t,arguments)}},{key:"log",value:function e(){var t;(t=this[Wm]).log.apply(t,arguments)}}]),e}();function Xm(e){return(Xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ym(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Km(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Km(e,t){if(e){if("string"==typeof e)return qm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qm(e,t):void 0}}function qm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jm(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Jm=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Xm(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Qm(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Zm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qm(i,r,o,a,u,"next",e)}function u(e){Qm(i,r,o,a,u,"throw",e)}a(void 0)}))}}function eb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rb(r.key),r)}}function nb(e,t,n){return t&&tb(e.prototype,t),n&&tb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rb(e){var t=ob(e,"string");return"symbol"===Xm(t)?t:String(t)}function ob(e,t){if("object"!==Xm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ib=Symbol("editor"),ab=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];eb(this,e),this.workspaceMode=void 0,this[ib]=void 0,this.registerMetadataTransducer=function(e,t,r){n[Iv].componentActions.registerMetadataTransducer(e,t,r)},this.addBuiltinComponentAction=function(e){n[Iv].componentActions.addBuiltinComponentAction(e)},this.refreshComponentMetasMap=function(){n[Iv].refreshComponentMetasMap()},this.workspaceMode=r,this[ib]=t}return nb(e,[{key:Fv,get:function e(){if(this.workspaceMode)return this[ib];var t=a.globalContext.get("workspace");return t.isActive?t.window.editor:this[ib]}},{key:Iv,get:function e(){return this[Fv].get("designer")}},{key:"componentsMap",get:function e(){return this[Iv].componentsMap}},{key:"setAssets",value:function(){var e=Zm(Jm().mark((function e(t){return Jm().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[Fv].setAssets(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAssets",value:function e(){return this[Fv].get("assets")}},{key:"loadIncrementalAssets",value:function e(t){return this[Iv].loadIncrementalAssets(t)}},{key:"getRegisteredMetadataTransducers",value:function e(){return this[Iv].componentActions.getRegisteredMetadataTransducers()}},{key:"getComponentMeta",value:function e(t){var n=this[Iv].getComponentMeta(t);return Py.create(n)}},{key:"createComponentMeta",value:function e(t){return Py.create(this[Iv].createComponentMeta(t))}},{key:"isComponentMeta",value:function e(t){return Nn(t)}},{key:"getComponentMetasMap",value:function e(){var t=new Map,n,r=Ym(this[Iv].getComponentMetasMap().keys()),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;t.set(i,this.getComponentMeta(i))}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"removeBuiltinComponentAction",value:function e(t){this[Iv].componentActions.removeBuiltinComponentAction(t)}},{key:"modifyBuiltinComponentAction",value:function e(t,n){this[Iv].componentActions.modifyBuiltinComponentAction(t,n)}},{key:"onChangeAssets",value:function e(t){var n=[this[Fv].onChange("assets",t),this[Fv].eventBus.on("designer.incrementalAssetsReady",t)];return function(){n.forEach((function(e){return e&&e()}))}}}]),e}();function ub(e){return(ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */cb=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==ub(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function sb(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function lb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){sb(i,r,o,a,u,"next",e)}function u(e){sb(i,r,o,a,u,"throw",e)}a(void 0)}))}}function fb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,db(r.key),r)}}function hb(e,t,n){return t&&pb(e.prototype,t),n&&pb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function db(e){var t=vb(e,"string");return"symbol"===ub(t)?t:String(t)}function vb(e,t){if("object"!==ub(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ub(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var yb=Symbol("plugin"),mb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];fb(this,e),this.workspaceMode=void 0,this[yb]=void 0,this.workspaceMode=n,this[yb]=t}return hb(e,[{key:sy,get:function e(){if(this.workspaceMode)return this[yb];var t=a.globalContext.get("workspace");return t.isActive?t.window.innerPlugins:this[yb]}},{key:"register",value:function(){var e=lb(cb().mark((function e(t,n,r){return cb().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this[sy].register(t,n,r);case 2:case"end":return o.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=lb(cb().mark((function e(t){return cb().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[sy].init(t);case 2:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getPluginPreference",value:function e(t){return this[sy].getPluginPreference(t)}},{key:"get",value:function e(t){var n=this[sy].get(t);return n?new ej(n):null}},{key:"getAll",value:function e(){var t;return null===(t=this[sy].getAll())||void 0===t?void 0:t.map((function(e){return new ej(e)}))}},{key:"has",value:function e(t){return this[sy].has(t)}},{key:"delete",value:function(){var e=lb(cb().mark((function e(t){return cb().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[sy].delete(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){var o=t[sy];if(o.pluginsMap.has(n)){var i;if(o.pluginsMap.get(n).disabled)return;return null===(i=o.pluginsMap.get(n))||void 0===i?void 0:i.toProxy()}return Reflect.get(t,n,r)}})}}]),e}();function bb(e){return(bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jb(r.key),r)}}function Ob(e,t,n){return t&&wb(e.prototype,t),n&&wb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jb(e){var t=Sb(e,"string");return"symbol"===bb(t)?t:String(t)}function Sb(e,t){if("object"!==bb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var kb=function(){function e(t){gb(this,e),this[ny]=void 0,this[ny]=t}return Ob(e,[{key:"components",get:function e(){return this[ny].components}},{key:"rerender",value:function e(){return this[ny].rerender()}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function Eb(e){return(Eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nb(r.key),r)}}function xb(e,t,n){return t&&Pb(e.prototype,t),n&&Pb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nb(e){var t=Cb(e,"string");return"symbol"===Eb(t)?t:String(t)}function Cb(e,t){if("object"!==Eb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Eb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Tb=function(){function e(t){_b(this,e),this[ty]=void 0,this[ty]=t}return xb(e,[{key:"contentWindow",get:function e(){return this[ty].contentWindow}},{key:"contentDocument",get:function e(){return this[ty].contentDocument}},{key:"renderer",get:function e(){if(this[ty].renderer)return kb.create(this[ty].renderer)}},{key:"set",value:function e(t,n){this[ty].set(t,n)}},{key:"get",value:function e(t){return this[ty].get(t)}},{key:"scrollToNode",value:function e(t){this[ty].scrollToNode(t[Gv])}},{key:"rerender",value:function e(){this[ty].rerender()}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Lb(e){return(Lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ab(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rb(Object(n),!0).forEach((function(t){Mb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mb(e,t,n){return(t=Vb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Db(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vb(r.key),r)}}function Bb(e,t,n){return t&&Ib(e.prototype,t),n&&Ib(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vb(e){var t=Fb(e,"string");return"symbol"===Lb(t)?t:String(t)}function Fb(e,t){if("object"!==Lb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Gb=Object(s.r)({level:"warn",bizName:"shell-project"}),Hb=Symbol("innerProject"),Ub=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Db(this,e),this.workspaceMode=void 0,this[Hb]=void 0,this[ty]=void 0,this.workspaceMode=n,this[Hb]=t}return Bb(e,[{key:Dv,get:function e(){if(this.workspaceMode)return this[Hb];var t=a.globalContext.get("workspace"),n;return t.isActive?null!==(n=t.window)&&void 0!==n&&n.innerProject?t.window.innerProject:(Gb.error("project api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),this[Hb]):this[Hb]}},{key:Fv,get:function e(){var t;return null===(t=this[Dv])||void 0===t?void 0:t.designer.editor}},{key:"currentDocument",get:function e(){return this.getCurrentDocument()}},{key:"documents",get:function e(){return this[Dv].documents.map((function(e){return mw.create(e)}))}},{key:"simulatorHost",get:function e(){return Tb.create(this[Dv].simulator||this[ty])}},{key:"simulator",get:function e(){return this.simulatorHost}},{key:"openDocument",value:function e(t){var n=this[Dv].open(t);return n?mw.create(n):null}},{key:"createDocument",value:function e(t){var n=this[Dv].createDocument(t);return mw.create(n)}},{key:"removeDocument",value:function e(t){this[Dv].removeDocument(t[Vv])}},{key:"getDocumentByFileName",value:function e(t){var n=this[Dv].getDocumentByFileName(t);return mw.create(n)}},{key:"getDocumentById",value:function e(t){return mw.create(this[Dv].getDocument(t))}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Render;return this[Dv].getSchema(t)}},{key:"importSchema",value:function e(t){this[Dv].load(t,!0)}},{key:"getCurrentDocument",value:function e(){return mw.create(this[Dv].currentDocument)}},{key:"addPropsTransducer",value:function e(t,n){this[Dv].designer.addPropsReducer(t,n)}},{key:"onRemoveDocument",value:function e(t){return this[Fv].eventBus.on("designer.document.remove",(function(e){return t(e)}))}},{key:"onChangeDocument",value:function e(t){var n=this[Dv].onCurrentDocumentChange((function(e){t(mw.create(e))}));return this[Dv].currentDocument&&t(mw.create(this[Dv].currentDocument)),n}},{key:"onSimulatorHostReady",value:function e(t){var n;return this[Dv].onSimulatorReady((function(e){t(Tb.create(e))}))}},{key:"onSimulatorRendererReady",value:function e(t){var n;return this[Dv].onRendererReady((function(){t()}))}},{key:"setI18n",value:function e(t){this[Dv].set("i18n",t)}},{key:"setConfig",value:function e(){if(2===arguments.length){var t=this[Dv].get("config");this[Dv].set("config",Ab(Ab({},t),{},Mb({},arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])))}else this[Dv].set("config",arguments.length<=0?void 0:arguments[0])}}],[{key:"create",value:function t(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new e(n,r)}}]),e}();function zb(e){return(zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yb(r.key),r)}}function Xb(e,t,n){return t&&$b(e.prototype,t),n&&$b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yb(e){var t=Kb(e,"string");return"symbol"===zb(t)?t:String(t)}function Kb(e,t){if("object"!==zb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var qb=Symbol("setters"),Jb=Symbol("setters"),Qb=Object(s.r)({level:"warn",bizName:"shell-setters"}),Zb=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Wb(this,e),this.workspaceMode=void 0,this[qb]=void 0,this.getSetter=function(e){return n[Jb].getSetter(e)},this.getSettersMap=function(){return n[Jb].getSettersMap()},this.registerSetter=function(e,t){return n[Jb].registerSetter(e,t)},this.createSetterContent=function(e,t){return n[Jb].createSetterContent(e,t)},this.workspaceMode=r,this[qb]=t}return Xb(e,[{key:Jb,get:function e(){var t=this;if(this.workspaceMode)return this[qb];var n=a.globalContext.get("workspace");return n.isActive?Object(a.untracked)((function(){var e;return null!==(e=n.window)&&void 0!==e&&e.innerSetters?n.window.innerSetters:(Qb.error("setter api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),t[qb])})):this[qb]}}]),e}();function eg(e){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,og(r.key),r)}}function rg(e,t,n){return t&&ng(e.prototype,t),n&&ng(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function og(e){var t=ig(e,"string");return"symbol"===eg(t)?t:String(t)}function ig(e,t){if("object"!==eg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ag=function(){function e(t){tg(this,e),this[wy]=void 0,this[wy]=t}return rg(e,[{key:"name",get:function e(){return this[wy].name}},{key:"visible",get:function e(){return this[wy].visible}},{key:"disable",value:function e(){var t,n;null===(t=(n=this[wy]).disable)||void 0===t||t.call(n)}},{key:"enable",value:function e(){var t,n;null===(t=(n=this[wy]).enable)||void 0===t||t.call(n)}},{key:"hide",value:function e(){this[wy].hide()}},{key:"show",value:function e(){this[wy].show()}},{key:"toggle",value:function e(){this[wy].toggle()}}]),e}(),ug=["skeleton"],cg=["skeleton"],sg=["skeleton"],lg=["skeleton"];function fg(e){return(fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pg(e,t){if(null==e)return{};var n=hg(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hg(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dg(Object(n),!0).forEach((function(t){yg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yg(e,t,n){return(t=wg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wg(r.key),r)}}function gg(e,t,n){return t&&bg(e.prototype,t),n&&bg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wg(e){var t=Og(e,"string");return"symbol"===fg(t)?t:String(t)}function Og(e,t){if("object"!==fg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var jg=Symbol("skeleton"),Sg=Object(s.r)({level:"warn",bizName:"shell-skeleton"}),kg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];mg(this,e),this.workspaceMode=void 0,this[jg]=void 0,this.pluginName=void 0,this.workspaceMode=r,this[jg]=t,this.pluginName=n}return gg(e,[{key:Bv,get:function e(){if(this.workspaceMode)return this[jg];var t=a.globalContext.get("workspace"),n;return t.isActive?null!==(n=t.window)&&void 0!==n&&n.innerSkeleton?t.window.innerSkeleton:(Sg.error("skeleton api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),this[jg]):this[jg]}},{key:"add",value:function e(t,n){var r=vg(vg({},t),{},{pluginName:this.pluginName}),o=this[Bv].add(r,n);if(o)return new ag(o)}},{key:"remove",value:function e(t){var n,r=t.area,o=t.name,i=this[Bv];Eg(r)&&(null===(n=i[Eg(r)].container)||void 0===n||n.remove(o))}},{key:"getAreaItems",value:function e(t){var n;return null===(n=this[Bv][Eg(t)].container.items)||void 0===n?void 0:n.map((function(e){return new ag(e)}))}},{key:"getPanel",value:function e(t){var n=this[Bv].getPanel(t);if(n)return new ag(n)}},{key:"showPanel",value:function e(t){var n;null===(n=this[Bv].getPanel(t))||void 0===n||n.show()}},{key:"hidePanel",value:function e(t){var n;null===(n=this[Bv].getPanel(t))||void 0===n||n.hide()}},{key:"showWidget",value:function e(t){var n;null===(n=this[Bv].getWidget(t))||void 0===n||n.show()}},{key:"enableWidget",value:function e(t){var n,r;null===(n=this[Bv].getWidget(t))||void 0===n||null===(r=n.enable)||void 0===r||r.call(n)}},{key:"hideWidget",value:function e(t){var n;null===(n=this[Bv].getWidget(t))||void 0===n||n.hide()}},{key:"disableWidget",value:function e(t){var n,r;null===(n=this[Bv].getWidget(t))||void 0===n||null===(r=n.disable)||void 0===r||r.call(n)}},{key:"showArea",value:function e(t){var n;null===(n=this[Bv][t])||void 0===n||n.show()}},{key:"hideArea",value:function e(t){var n;null===(n=this[Bv][t])||void 0===n||n.hide()}},{key:"onShowPanel",value:function e(t){var n=this[Bv].editor;return n.eventBus.on(cE.PANEL_SHOW,(function(e,n){var r=n.skeleton,o=pg(n,ug);t(e,o)})),function(){return n.eventBus.off(cE.PANEL_SHOW,t)}}},{key:"onHidePanel",value:function e(t){var n=this[Bv].editor;return n.eventBus.on(cE.PANEL_HIDE,(function(e,n){var r=n.skeleton,o=pg(n,cg);t(e,o)})),function(){return n.eventBus.off(cE.PANEL_HIDE,t)}}},{key:"onShowWidget",value:function e(t){var n=this[Bv].editor;return n.eventBus.on(cE.WIDGET_SHOW,(function(e,n){var r=n.skeleton,o=pg(n,sg);t(e,o)})),function(){return n.eventBus.off(cE.WIDGET_SHOW,t)}}},{key:"onHideWidget",value:function e(t){var n=this[Bv].editor;return n.eventBus.on(cE.WIDGET_HIDE,(function(e,n){var r=n.skeleton,o=pg(n,lg);t(e,o)})),function(){return n.eventBus.off(cE.WIDGET_HIDE,t)}}}]),e}();function Eg(e){switch(e){case"leftArea":case"left":return"leftArea";case"rightArea":case"right":return"rightArea";case"topArea":case"top":return"topArea";case"toolbar":return"toolbar";case"mainArea":case"main":case"center":case"centerArea":return"mainArea";case"bottomArea":case"bottom":return"bottomArea";case"leftFixedArea":return"leftFixedArea";case"leftFloatArea":return"leftFloatArea";case"stages":return"stages";case"subTopArea":return"subTopArea";default:throw new Error("".concat(e," not supported"))}}function _g(e){return(_g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pg(Object(n),!0).forEach((function(t){Ng(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ng(e,t,n){return(t=Rg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rg(r.key),r)}}function Lg(e,t,n){return t&&Tg(e.prototype,t),n&&Tg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rg(e){var t=Ag(e,"string");return"symbol"===_g(t)?t:String(t)}function Ag(e,t){if("object"!==_g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Mg=Symbol("clipboardInstace"),Dg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Cg(this,e),this.workspaceMode=void 0,this[Fv]=void 0,this[Mg]=void 0,this.workspaceMode=n,this[Fv]=t,this[Mg]=new kj}return Lg(e,[{key:Iv,get:function e(){return this[Fv].get("designer")}},{key:"dragon",get:function e(){return LO.create(this[Iv].dragon,this.workspaceMode)}},{key:"activeTracker",get:function e(){var t;return new XO(this[Iv].activeTracker)}},{key:"isInLiveEditing",get:function e(){var t,n,r,o;return Boolean(null===(t=this[Fv].get("designer"))||void 0===t||null===(n=t.project)||void 0===n||null===(r=n.simulator)||void 0===r||null===(o=r.liveEditing)||void 0===o?void 0:o.editing)}},{key:"clipboard",get:function e(){return this[Mg]}},{key:"createScrollTarget",value:function e(t){return new nc(t)}},{key:"createScroller",value:function e(t){return this[Iv].createScroller(t)}},{key:"createLocation",value:function e(t){return new cm(this[Iv].createLocation(xg(xg({},t),{},{target:t.target[Gv]})))}},{key:"dropLocation",get:function e(){return cm.create(this[Iv].dropLocation||null)}}]),e}();function Ig(e){return(Ig="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bg(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Bg=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Ig(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Vg(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Fg(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Vg(i,r,o,a,u,"next",e)}function u(e){Vg(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Gg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zg(r.key),r)}}function Ug(e,t,n){return t&&Hg(e.prototype,t),n&&Hg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zg(e){var t=Wg(e,"string");return"symbol"===Ig(t)?t:String(t)}function Wg(e,t){if("object"!==Ig(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ig(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var $g=function(){function e(t){Gg(this,e),this[ly]=void 0,this[ly]=t}return Ug(e,[{key:"resourceList",get:function e(){return this[ly].getResourceList().map((function(e){return new VO(e)}))}},{key:"setResourceList",value:function e(t){this[ly].setResourceList(t)}},{key:"onResourceListChange",value:function e(t){return this[ly].onResourceListChange(t)}},{key:"isActive",get:function e(){return this[ly].isActive}},{key:"window",get:function e(){return this[ly].window?new mj(this[ly].window):null}},{key:"resourceTypeList",get:function e(){return Array.from(this[ly].resourceTypeMap.values()).map((function(e){var t=e.name,n=e.type,r=e.resourceTypeModel({},{}),o,i;return{resourceName:t,resourceType:n,description:r.description,editorViews:r.editorViews.map((function(e){return{viewName:e.viewName,viewType:e.viewType||"editor"}}))}}))}},{key:"onWindowRendererReady",value:function e(t){return this[ly].onWindowRendererReady(t)}},{key:"registerResourceType",value:function e(t){this[ly].registerResourceType(t)}},{key:"openEditorWindow",value:function(){var e=Fg(Bg().mark((function e(){var t,n=arguments;return Bg().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if("string"!=typeof n[0]){r.next=5;break}return r.next=3,this[ly].openEditorWindow(n[0],n[1],n[2],n[3],n[4]);case 3:r.next=7;break;case 5:return r.next=7,this[ly].openEditorWindowByResource(null===(t=n[0])||void 0===t?void 0:t[dy],n[1]);case 7:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openEditorWindowById",value:function e(t){this[ly].openEditorWindowById(t)}},{key:"removeEditorWindow",value:function e(){var t;"string"==typeof arguments[0]?this[ly].removeEditorWindow(arguments[0],arguments[1]):this[ly].removeEditorWindowByResource(null===(t=arguments[0])||void 0===t?void 0:t[dy])}},{key:"removeEditorWindowById",value:function e(t){this[ly].removeEditorWindowById(t)}},{key:"plugins",get:function e(){return new mb(this[ly].plugins,!0)}},{key:"skeleton",get:function e(){return new kg(this[ly].skeleton,"workspace",!0)}},{key:"windows",get:function e(){return this[ly].windows.map((function(e){return new mj(e)}))}},{key:"onChangeWindows",value:function e(t){return this[ly].onChangeWindows(t)}},{key:"onChangeActiveWindow",value:function e(t){return this[ly].onChangeActiveWindow(t)}},{key:"onChangeActiveEditorView",value:function e(t){return this[ly].onChangeActiveEditorView(t)}}]),e}();function Xg(e){return(Xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jg(r.key),r)}}function qg(e,t,n){return t&&Kg(e.prototype,t),n&&Kg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jg(e){var t=Qg(e,"string");return"symbol"===Xg(t)?t:String(t)}function Qg(e,t){if("object"!==Xg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Zg=function(){function e(t){Yg(this,e),this[yy]=void 0,this[yy]=t}return qg(e,[{key:"has",value:function e(t){return this[yy].has(t)}},{key:"get",value:function e(t,n){return this[yy].get(t,n)}},{key:"set",value:function e(t,n){this[yy].set(t,n)}},{key:"setConfig",value:function e(t){this[yy].setConfig(t)}},{key:"onceGot",value:function e(t){return this[yy].onceGot(t)}},{key:"onGot",value:function e(t,n){return this[yy].onGot(t,n)}},{key:"getPreference",value:function e(){return this[yy].getPreference()}}]),e}();function ew(e){return(ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ow(r.key),r)}}function rw(e,t,n){return t&&nw(e.prototype,t),n&&nw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ow(e){var t=iw(e,"string");return"symbol"===ew(t)?t:String(t)}function iw(e,t){if("object"!==ew(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ew(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var aw=function(){function e(t){tw(this,e),this[Hv]=void 0,this[Hv]=t}return rw(e,[{key:"setNodes",value:function e(){this[Hv].setNodes()}},{key:"getModalNodes",value:function e(){var t=this[Hv].getModalNodes(),n=[];return null==t||t.forEach((function(e){var t=eO.create(e);t&&n.push(t)})),n}},{key:"getVisibleModalNode",value:function e(){return eO.create(this[Hv].getVisibleModalNode())}},{key:"hideModalNodes",value:function e(){this[Hv].hideModalNodes()}},{key:"setVisible",value:function e(t){this[Hv].setVisible(t[Gv])}},{key:"setInvisible",value:function e(t){this[Hv].setInvisible(t[Gv])}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function uw(e){return(uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=sw(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function sw(e,t){if(e){if("string"==typeof e)return lw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lw(e,t):void 0}}function lw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dw(r.key),r)}}function hw(e,t,n){return t&&pw(e.prototype,t),n&&pw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dw(e){var t=vw(e,"string");return"symbol"===uw(t)?t:String(t)}function vw(e,t){if("object"!==uw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==uw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var yw=Symbol("shellDocSymbol"),mw=function(){function e(t){var n;fw(this,e),this[Vv]=void 0,this[Fv]=void 0,this._focusNode=void 0,this.selection=void 0,this.detecting=void 0,this.history=void 0,this.canvas=void 0,this[Vv]=t,this[Fv]=null===(n=t.designer)||void 0===n?void 0:n.editor,this.selection=new Yy(t),this.detecting=new uO(t),this.history=new tm(t),this.canvas=new Dg(this[Fv]),this._focusNode=eO.create(this[Vv].focusNode)}return hw(e,[{key:"id",get:function e(){return this[Vv].id},set:function e(t){this[Vv].id=t}},{key:"project",get:function e(){return Ub.create(this[Vv].project,!0)}},{key:"root",get:function e(){return eO.create(this[Vv].rootNode)}},{key:"focusNode",get:function e(){return this._focusNode||this.root},set:function e(t){this._focusNode=t,this[Fv].eventBus.emit("shell.document.focusNodeChanged",{document:this,focusNode:t})}},{key:"nodesMap",get:function e(){var t=new Map,n=cw(this[Vv].nodesMap.keys()),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;t.set(o,this.getNodeById(o))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"modalNodesManager",get:function e(){return aw.create(this[Vv].modalNodesManager)}},{key:"dropLocation",get:function e(){return cm.create(this[Vv].dropLocation)},set:function e(t){this[Vv].dropLocation=t}},{key:"getNodeById",value:function e(t){return eO.create(this[Vv].getNode(t))}},{key:"importSchema",value:function e(t){this[Vv].import(t),this[Fv].eventBus.emit("shell.document.importSchema",t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Render;return this[Vv].export(t)}},{key:"insertNode",value:function e(t,n,r,o){var i=this[Vv].insertNode(t[Gv]?t[Gv]:t,null!=n&&n[Gv]?n[Gv]:n,r,o);return eO.create(i)}},{key:"createNode",value:function e(t){return eO.create(this[Vv].createNode(t))}},{key:"removeNode",value:function e(t){this[Vv].removeNode(t)}},{key:"getComponentsMap",value:function e(t){return this[Vv].getComponentsMap(t)}},{key:"checkNesting",value:function e(t,n){var r=n,o;Object(s.C)(n)&&(r.nodes=null===(o=r.nodes)||void 0===o?void 0:o.map((function(e){return e[Gv]||e})));return this[Vv].checkNesting(t[Gv]||t,r)}},{key:"onAddNode",value:function e(t){return this[Vv].onNodeCreate((function(e){t(eO.create(e))}))}},{key:"onMountNode",value:function e(t){var n=this;return this[Fv].eventBus.on("node.add",t),function(){n[Fv].eventBus.off("node.add",t)}}},{key:"onRemoveNode",value:function e(t){return this[Vv].onNodeDestroy((function(e){t(eO.create(e))}))}},{key:"onChangeDetecting",value:function e(t){return this[Vv].designer.detecting.onDetectingChange((function(e){t(eO.create(e))}))}},{key:"onChangeSelection",value:function e(t){return this[Vv].selection.onSelectionChange((function(e){t(e)}))}},{key:"onChangeNodeVisible",value:function e(t){return this[Vv].onChangeNodeVisible((function(e,n){t(eO.create(e),n)}))}},{key:"onChangeNodeChildren",value:function e(t){return this[Vv].onChangeNodeChildren((function(e){e&&t({type:e.type,node:eO.create(e.node)})}))}},{key:"onChangeNodeProp",value:function e(t){var n=this,r=function e(n){t({key:n.key,oldValue:n.oldValue,newValue:n.newValue,prop:Ay.create(n.prop),node:eO.create(n.node)})};return this[Fv].on(u.e.Node.Prop.InnerChange,r),function(){n[Fv].off(u.e.Node.Prop.InnerChange,r)}}},{key:"onImportSchema",value:function e(t){return this[Fv].eventBus.on("shell.document.importSchema",t)}},{key:"isDetectingNode",value:function e(t){return this.detecting.current===t}},{key:"onFocusNodeChanged",value:function e(t){return t?this[Fv].eventBus.on("shell.document.focusNodeChanged",(function(e){var n=e.document,r=e.focusNode;t(n,r)})):function(){}}},{key:"onDropLocationChanged",value:function e(t){return t?this[Fv].eventBus.on("document.dropLocation.changed",(function(e){var n=e.document;t(n)})):function(){}}}],[{key:"create",value:function t(n){if(!n)return null;if(n[yw])return n[yw];var r=new e(n);return n[yw]=r,r}}]),e}();function bw(e){return(bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ww(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jw(r.key),r)}}function Ow(e,t,n){return t&&ww(e.prototype,t),n&&ww(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jw(e){var t=Sw(e,"string");return"symbol"===bw(t)?t:String(t)}function Sw(e,t){if("object"!==bw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var kw=function(){function e(t){gw(this,e),this[Uv]=void 0,this[Uv]=t}return Ow(e,[{key:"owner",get:function e(){return eO.create(this[Uv].owner)}},{key:"size",get:function e(){return this[Uv].size}},{key:"isEmpty",get:function e(){return this[Uv].isEmptyNode}},{key:"isEmptyNode",get:function e(){return this[Uv].isEmptyNode}},{key:"notEmpty",get:function e(){return this[Uv].notEmptyNode}},{key:"notEmptyNode",get:function e(){return this[Uv].notEmptyNode}},{key:"delete",value:function e(t){return this[Uv].delete(null==t?void 0:t[Gv])}},{key:"insert",value:function e(t,n){return this[Uv].insert(null==t?void 0:t[Gv],n)}},{key:"indexOf",value:function e(t){return this[Uv].indexOf(null==t?void 0:t[Gv])}},{key:"splice",value:function e(t,n,r){this[Uv].splice(t,n,null==r?void 0:r[Gv])}},{key:"get",value:function e(t){return eO.create(this[Uv].get(t))}},{key:"has",value:function e(t){return this[Uv].has(null==t?void 0:t[Gv])}},{key:"forEach",value:function e(t){this[Uv].forEach((function(e,n){t(eO.create(e),n)}))}},{key:"reverse",value:function e(){return this[Uv].reverse().map((function(e){return eO.create(e)}))}},{key:"map",value:function e(t){return this[Uv].map((function(e,n){return t(eO.create(e),n)}))}},{key:"every",value:function e(t){return this[Uv].every((function(e,n){return t(eO.create(e),n)}))}},{key:"some",value:function e(t){return this[Uv].some((function(e,n){return t(eO.create(e),n)}))}},{key:"filter",value:function e(t){return this[Uv].filter((function(e,n){return t(eO.create(e),n)})).map((function(e){return eO.create(e)}))}},{key:"find",value:function e(t){return eO.create(this[Uv].find((function(e,n){return t(eO.create(e),n)})))}},{key:"reduce",value:function e(t,n){return this[Uv].reduce((function(e,n){return t(e,eO.create(n))}),n)}},{key:"importSchema",value:function e(t){this[Uv].import(t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Render;return this[Uv].export(t)}},{key:"mergeChildren",value:function e(t,n,r){var o=r;o||(o=function e(){return 0}),this[Uv].mergeChildren((function(e,n){return t(eO.create(e),n)}),(function(e){return n(e.map((function(e){return eO.create(e)})))}),(function(e,t){return o(eO.create(e),eO.create(t))}))}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Ew(e){return(Ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nw(r.key),r)}}function xw(e,t,n){return t&&Pw(e.prototype,t),n&&Pw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nw(e){var t=Cw(e,"string");return"symbol"===Ew(t)?t:String(t)}function Cw(e,t){if("object"!==Ew(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ew(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Tw=function(){function e(t){_w(this,e),this[Wv]=void 0,this[Wv]=t}return xw(e,[{key:"isGroup",get:function e(){return this[Wv].isGroup}},{key:"id",get:function e(){return this[Wv].id}},{key:"name",get:function e(){return this[Wv].name}},{key:"key",get:function e(){return this[Wv].getKey()}},{key:"path",get:function e(){return this[Wv].path}},{key:"title",get:function e(){return this[Wv].title}},{key:"setter",get:function e(){return this[Wv].setter}},{key:"expanded",get:function e(){return this[Wv].expanded}},{key:"extraProps",get:function e(){return this[Wv].extraProps}},{key:"props",get:function e(){return Bw.create(this[Wv].props)}},{key:"node",get:function e(){return eO.create(this[Wv].getNode())}},{key:"parent",get:function t(){return ul(this[Wv].parent)?e.create(this[Wv].parent):Bw.create(this[Wv].parent)}},{key:"top",get:function e(){return Bw.create(this[Wv].top)}},{key:"isSettingField",get:function e(){return this[Wv].isSettingField}},{key:"componentMeta",get:function e(){return Py.create(this[Wv].componentMeta)}},{key:"items",get:function e(){var t;return null===(t=this[Wv].items)||void 0===t?void 0:t.map((function(e){return Object(s.y)(e)?e:e.internalToShellField()}))}},{key:"setKey",value:function e(t){this[Wv].setKey(t)}},{key:"getNode",value:function e(){return this.node}},{key:"getParent",value:function e(){return this.parent}},{key:"setValue",value:function e(t,n){this[Wv].setValue(t,!1,!1,n)}},{key:"setPropValue",value:function e(t,n){this[Wv].setPropValue(t,n)}},{key:"clearPropValue",value:function e(t){this[Wv].clearPropValue(t)}},{key:"getDefaultValue",value:function e(){return this[Wv].getDefaultValue()}},{key:"getValue",value:function e(){return this[Wv].getValue()}},{key:"getPropValue",value:function e(t){return this[Wv].getPropValue(t)}},{key:"getExtraPropValue",value:function e(t){return this[Wv].getExtraPropValue(t)}},{key:"setExtraPropValue",value:function e(t,n){this[Wv].setExtraPropValue(t,n)}},{key:"getProps",value:function e(){return Bw.create(this[Wv].getProps())}},{key:"isUseVariable",value:function e(){return this[Wv].isUseVariable()}},{key:"setUseVariable",value:function e(t){this[Wv].setUseVariable(t)}},{key:"createField",value:function t(n){return e.create(this[Wv].createField(n))}},{key:"getMockOrValue",value:function e(){return this[Wv].getMockOrValue()}},{key:"purge",value:function e(){this[Wv].purge()}},{key:"remove",value:function e(){this[Wv].remove()}},{key:"onEffect",value:function e(t){return this[Wv].onEffect(t)}},{key:"internalToShellField",value:function e(){return this}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function Lw(e){return(Lw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dw(r.key),r)}}function Mw(e,t,n){return t&&Aw(e.prototype,t),n&&Aw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dw(e){var t=Iw(e,"string");return"symbol"===Lw(t)?t:String(t)}function Iw(e,t){if("object"!==Lw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Bw=function(){function e(t){Rw(this,e),this[$v]=void 0,this[$v]=t}return Mw(e,[{key:"node",get:function e(){return eO.create(this[$v].getNode())}},{key:"get",value:function e(t){return Tw.create(this[$v].get(t))}},{key:"getNode",value:function e(){return this.node}},{key:"getPropValue",value:function e(t){return this[$v].getPropValue(t)}},{key:"setPropValue",value:function e(t,n){this[$v].setPropValue(t,n)}},{key:"clearPropValue",value:function e(t){this[$v].clearPropValue(t)}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function Vw(e){return(Vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uw(r.key),r)}}function Hw(e,t,n){return t&&Gw(e.prototype,t),n&&Gw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uw(e){var t=zw(e,"string");return"symbol"===Vw(t)?t:String(t)}function zw(e,t){if("object"!==Vw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ww=function(){function e(t){Fw(this,e),this[my]=void 0,this[my]=t}return Hw(e,[{key:"id",get:function e(){var t;return null===(t=this[my])||void 0===t?void 0:t.id}},{key:"title",get:function e(){var t;return null===(t=this[my])||void 0===t?void 0:t.title}},{key:"firstNode",get:function e(){var t;return eO.create(null===(t=this[my])||void 0===t?void 0:t.firstNode)}},{key:"setVisible",value:function e(t){var n;null===(n=this[my])||void 0===n||n.setVisible(t[Gv]?t[Gv]:t)}}],[{key:"create",value:function t(n){if(!n)return null;if(n[my])return n[my];var r=new e(n);return r[my]=r,r}}]),e}();function $w(e){return($w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qw(r.key),r)}}function Kw(e,t,n){return t&&Yw(e.prototype,t),n&&Yw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qw(e){var t=Jw(e,"string");return"symbol"===$w(t)?t:String(t)}function Jw(e,t){if("object"!==$w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Qw=Symbol("shellNodeSymbol");function Zw(e){return e[Qw]}var eO=function(){function e(t){Xw(this,e),this[Vv]=void 0,this[Gv]=void 0,this._id=void 0,this.isNode=!0,this[Gv]=t,this[Vv]=t.document,this._id=this[Gv].id}return Kw(e,[{key:"id",get:function e(){return this._id},set:function e(t){this._id=t}},{key:"title",get:function e(){return this[Gv].title}},{key:"isContainer",get:function e(){return this[Gv].isContainerNode}},{key:"isContainerNode",get:function e(){return this[Gv].isContainerNode}},{key:"isRoot",get:function e(){return this[Gv].isRootNode}},{key:"isRootNode",get:function e(){return this[Gv].isRootNode}},{key:"isEmpty",get:function e(){return this[Gv].isEmptyNode}},{key:"isEmptyNode",get:function e(){return this[Gv].isEmptyNode}},{key:"isPage",get:function e(){return this[Gv].isPageNode}},{key:"isPageNode",get:function e(){return this[Gv].isPageNode}},{key:"isComponent",get:function e(){return this[Gv].isComponentNode}},{key:"isComponentNode",get:function e(){return this[Gv].isComponentNode}},{key:"isModal",get:function e(){return this[Gv].isModalNode}},{key:"isModalNode",get:function e(){return this[Gv].isModalNode}},{key:"isSlot",get:function e(){return this[Gv].isSlotNode}},{key:"isSlotNode",get:function e(){return this[Gv].isSlotNode}},{key:"isParental",get:function e(){return this[Gv].isParentalNode}},{key:"isParentalNode",get:function e(){return this[Gv].isParentalNode}},{key:"isLeaf",get:function e(){return this[Gv].isLeafNode}},{key:"isLeafNode",get:function e(){return this[Gv].isLeafNode}},{key:"isLocked",get:function e(){return this[Gv].isLocked}},{key:"index",get:function e(){return this[Gv].index}},{key:"icon",get:function e(){return this[Gv].icon}},{key:"zLevel",get:function e(){return this[Gv].zLevel}},{key:"componentName",get:function e(){return this[Gv].componentName}},{key:"componentMeta",get:function e(){return Py.create(this[Gv].componentMeta)}},{key:"document",get:function e(){return mw.create(this[Vv])}},{key:"prevSibling",get:function t(){return e.create(this[Gv].prevSibling)}},{key:"nextSibling",get:function t(){return e.create(this[Gv].nextSibling)}},{key:"parent",get:function t(){return e.create(this[Gv].parent)}},{key:"children",get:function e(){return kw.create(this[Gv].children)}},{key:"slots",get:function t(){return this[Gv].slots.map((function(t){return e.create(t)}))}},{key:"slotFor",get:function e(){return Ay.create(this[Gv].slotFor)}},{key:"props",get:function e(){return Gy.create(this[Gv].props)}},{key:"propsData",get:function e(){return this[Gv].propsData}},{key:"schema",get:function e(){return this[Gv].schema}},{key:"settingEntry",get:function e(){return Bw.create(this[Gv].settingEntry)}},{key:"getChildren",value:function e(){return this.children}},{key:"getDOMNode",value:function e(){return this[Gv].getDOMNode()}},{key:"mergeChildren",value:function e(t,n,r){var o;return null===(o=this.children)||void 0===o?void 0:o.mergeChildren(t,n,r)}},{key:"getRect",value:function e(){return this[Gv].getRect()}},{key:"hasSlots",value:function e(){return this[Gv].hasSlots()}},{key:"hasCondition",value:function e(){return this[Gv].hasCondition()}},{key:"hasLoop",value:function e(){return this[Gv].hasLoop()}},{key:"visible",get:function e(){return this[Gv].getVisible()},set:function e(t){this[Gv].setVisible(t)}},{key:"getVisible",value:function e(){return this[Gv].getVisible()}},{key:"setVisible",value:function e(t){this[Gv].setVisible(t)}},{key:"isConditionalVisible",value:function e(){return this[Gv].isConditionalVisible()}},{key:"lock",value:function e(t){this[Gv].lock(t)}},{key:"getProps",value:function e(){return this.props}},{key:"contains",value:function e(t){return this[Gv].contains(t[Gv])}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ay.create(this[Gv].getProp(t,n))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.getValue()}},{key:"getExtraProp",value:function e(t,n){return Ay.create(this[Gv].getExtraProp(t,n))}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"setPropValue",value:function e(t,n){var r;return null===(r=this.getProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"setExtraPropValue",value:function e(t,n){var r;return null===(r=this.getExtraProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"importSchema",value:function e(t){this[Gv].import(t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.h.Render,n=arguments.length>1?arguments[1]:void 0;return this[Gv].export(t,n)}},{key:"insertBefore",value:function e(t,n,r){this[Gv].insertBefore(t[Gv]||t,null==n?void 0:n[Gv],r)}},{key:"insertAfter",value:function e(t,n,r){this[Gv].insertAfter(t[Gv]||t,null==n?void 0:n[Gv],r)}},{key:"replaceChild",value:function t(n,r){return e.create(this[Gv].replaceChild(n[Gv],r))}},{key:"replaceWith",value:function e(t){this[Gv].replaceWith(t)}},{key:"select",value:function e(){this[Gv].select()}},{key:"hover",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this[Gv].hover(t)}},{key:"remove",value:function e(){this[Gv].remove()}},{key:"isRGLContainer",get:function e(){return this[Gv].isRGLContainerNode},set:function e(t){this[Gv].isRGLContainerNode=t}},{key:"isRGLContainerNode",get:function e(){return this[Gv].isRGLContainerNode},set:function e(t){this[Gv].isRGLContainerNode=t}},{key:"internalToShellNode",value:function e(){return this}},{key:"canPerformAction",value:function e(t){return this[Gv].canPerformAction(t)}},{key:"conditionGroup",get:function e(){return Ww.create(this[Gv].conditionGroup)}},{key:"setConditionalVisible",value:function e(){this[Gv].setConditionalVisible()}},{key:"getRGL",value:function t(){var n=this[Gv].getRGL(),r=n.isContainerNode,o=n.isEmptyNode,i=n.isRGLContainerNode,a=n.isRGLNode,u=n.isRGL,c=n.rglNode;return{isContainerNode:r,isEmptyNode:o,isRGLContainerNode:i,isRGLNode:a,isRGL:u,rglNode:e.create(c)}}}],[{key:"create",value:function t(n){if(!n)return null;if(Zw(n))return n[Qw];var r=new e(n);return n[Qw]=r,r}}]),e}();function tO(e){return(tO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iO(r.key),r)}}function oO(e,t,n){return t&&rO(e.prototype,t),n&&rO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iO(e){var t=aO(e,"string");return"symbol"===tO(t)?t:String(t)}function aO(e,t){if("object"!==tO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var uO=function(){function e(t){var n;nO(this,e),this[Vv]=void 0,this[Yv]=void 0,this[Vv]=t,this[Yv]=null===(n=t.designer)||void 0===n?void 0:n.detecting}return oO(e,[{key:"enable",get:function e(){return this[Yv].enable}},{key:"current",get:function e(){return eO.create(this[Yv].current)}},{key:"capture",value:function e(t){this[Yv].capture(this[Vv].getNode(t))}},{key:"release",value:function e(t){this[Yv].release(this[Vv].getNode(t))}},{key:"leave",value:function e(){this[Yv].leave(this[Vv])}},{key:"onDetectingChange",value:function e(t){var n=function e(n){var r=eO.create(n);t(r)};return this[Yv].onDetectingChange(n)}}]),e}();function cO(e){return(cO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pO(r.key),r)}}function fO(e,t,n){return t&&lO(e.prototype,t),n&&lO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pO(e){var t=hO(e,"string");return"symbol"===cO(t)?t:String(t)}function hO(e,t){if("object"!==cO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var dO=function(){function e(t){sO(this,e),this[ry]=void 0,this[ry]=t}return fO(e,[{key:"type",get:function e(){return this[ry].type}},{key:"nodes",get:function e(){var t=this[ry].nodes;return t?t.map(eO.create):null}},{key:"data",get:function e(){return this[ry].data}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function vO(e){return(vO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gO(r.key),r)}}function bO(e,t,n){return t&&mO(e.prototype,t),n&&mO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gO(e){var t=wO(e,"string");return"symbol"===vO(t)?t:String(t)}function wO(e,t){if("object"!==vO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var OO=function(){function e(t){yO(this,e),this[oy]=void 0,this[oy]=t}return bO(e,[{key:"type",get:function e(){return this[oy].type}},{key:"globalX",get:function e(){return this[oy].globalX}},{key:"globalY",get:function e(){return this[oy].globalY}},{key:"originalEvent",get:function e(){return this[oy].originalEvent}},{key:"target",get:function e(){return this[oy].target}},{key:"canvasX",get:function e(){return this[oy].canvasX}},{key:"canvasY",get:function e(){return this[oy].canvasY}},{key:"dragObject",get:function e(){return dO.create(this[oy].dragObject)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function jO(e){return(jO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SO(Object(n),!0).forEach((function(t){EO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EO(e,t,n){return(t=NO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NO(r.key),r)}}function xO(e,t,n){return t&&PO(e.prototype,t),n&&PO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function NO(e){var t=CO(e,"string");return"symbol"===jO(t)?t:String(t)}function CO(e,t){if("object"!==jO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==jO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var TO=Symbol("innerDragonSymbol"),LO=function(){function e(t,n){_O(this,e),this.workspaceMode=void 0,this[TO]=void 0,this.workspaceMode=n,this[TO]=t}return xO(e,[{key:Qv,get:function e(){if(this.workspaceMode)return this[TO];var t=a.globalContext.get("workspace"),n=a.globalContext.get("editor"),r;return t.isActive&&(n=t.window.editor),n.get("designer").dragon}},{key:"dragging",get:function e(){return this[Qv].dragging}},{key:"onDragstart",value:function e(t){return this[Qv].onDragstart((function(e){return t(OO.create(e))}))}},{key:"onDrag",value:function e(t){return this[Qv].onDrag((function(e){return t(OO.create(e))}))}},{key:"onDragend",value:function e(t){return this[Qv].onDragend((function(e){var n=dO.create(e.dragObject),r=e.copy;return t({dragObject:n,copy:r})}))}},{key:"from",value:function e(t,n){return this[Qv].from(t,n)}},{key:"boost",value:function e(t,n,r){return this[Qv].boost(kO(kO({},t),{},{nodes:t.nodes.map((function(e){return e[Gv]}))}),n,null==r?void 0:r[Gv])}},{key:"addSensor",value:function e(t){return this[Qv].addSensor(t)}},{key:"removeSensor",value:function e(t){return this[Qv].removeSensor(t)}}],[{key:"create",value:function t(n,r){return n?new e(n,r):null}}]),e}();function RO(e){return(RO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IO(r.key),r)}}function DO(e,t,n){return t&&MO(e.prototype,t),n&&MO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IO(e){var t=BO(e,"string");return"symbol"===RO(t)?t:String(t)}function BO(e,t){if("object"!==RO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==RO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var VO=function(){function e(t){AO(this,e),this[dy]=void 0,this[dy]=t}return DO(e,[{key:"title",get:function e(){return this[dy].title}},{key:"id",get:function e(){return this[dy].id}},{key:"icon",get:function e(){return this[dy].icon}},{key:"options",get:function e(){return this[dy].options}},{key:"name",get:function e(){return this[dy].resourceType.name}},{key:"config",get:function e(){return this[dy].config}},{key:"type",get:function e(){return this[dy].resourceType.type}},{key:"category",get:function e(){return this[dy].category}},{key:"description",get:function e(){return this[dy].description}},{key:"children",get:function t(){return this[dy].children.map((function(t){return new e(t)}))}},{key:"viewName",get:function e(){return this[dy].viewName}}]),e}();function FO(e){return(FO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zO(r.key),r)}}function UO(e,t,n){return t&&HO(e.prototype,t),n&&HO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zO(e){var t=WO(e,"string");return"symbol"===FO(t)?t:String(t)}function WO(e,t){if("object"!==FO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==FO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var $O=Symbol("activeTracker"),XO=function(){function e(t){GO(this,e),this[$O]=void 0,this[$O]=t}return UO(e,[{key:"target",get:function e(){var t=this[$O]._target;if(!t)return null;var n=t.node,r=t.detail,o=t.instance,i;return{node:eO.create(n),detail:r,instance:o}}},{key:"onChange",value:function e(t){return t?this[$O].onChange((function(e){var n=e.node,r=e.detail,o=e.instance,i=eO.create(n),a;t({node:i,detail:r,instance:o})})):function(){}}},{key:"track",value:function e(t){this[$O].track(t[Gv])}}]),e}();function YO(e){return(YO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QO(r.key),r)}}function JO(e,t,n){return t&&qO(e.prototype,t),n&&qO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function QO(e){var t=ZO(e,"string");return"symbol"===YO(t)?t:String(t)}function ZO(e,t){if("object"!==YO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==YO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ej=function(){function e(t){KO(this,e),this[py]=void 0,this[py]=t}return JO(e,[{key:"pluginName",get:function e(){return this[py].name}},{key:"dep",get:function e(){return this[py].dep}},{key:"disabled",get:function e(){return this[py].disabled},set:function e(t){this[py].setDisabled(t)}},{key:"meta",get:function e(){return this[py].meta}}]),e}();function tj(e){return(tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ij(r.key),r)}}function oj(e,t,n){return t&&rj(e.prototype,t),n&&rj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ij(e){var t=aj(e,"string");return"symbol"===tj(t)?t:String(t)}function aj(e,t){if("object"!==tj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var uj=function(){function e(t){nj(this,e),this[by]=void 0,this[gy]=void 0,this[by]=t,this[gy]=this[by].innerPlugins._getLowCodePluginContext({pluginName:t.editorWindow+t.viewName})}return oj(e,[{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){return t[gy][n]?Reflect.get(t[gy],n,r):Reflect.get(t,n,r)}})}},{key:"viewName",get:function e(){return this[by].viewName}},{key:"viewType",get:function e(){return this[by].viewType}}]),e}();function cj(e){return(cj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sj(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sj=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==cj(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function lj(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function fj(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lj(i,r,o,a,u,"next",e)}function u(e){lj(i,r,o,a,u,"throw",e)}a(void 0)}))}}function pj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vj(r.key),r)}}function dj(e,t,n){return t&&hj(e.prototype,t),n&&hj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vj(e){var t=yj(e,"string");return"symbol"===cj(t)?t:String(t)}function yj(e,t){if("object"!==cj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var mj=function(){function e(t){pj(this,e),this[fy]=void 0,this[fy]=t}return dj(e,[{key:"id",get:function e(){var t;return null===(t=this[fy])||void 0===t?void 0:t.id}},{key:"title",get:function e(){return this[fy].title}},{key:"icon",get:function e(){return this[fy].icon}},{key:"resource",get:function e(){return new VO(this[fy].resource)}},{key:"importSchema",value:function e(t){this[fy].importSchema(t)}},{key:"changeViewType",value:function e(t){this[fy].changeViewName(t,!1)}},{key:"onChangeViewType",value:function e(t){return this[fy].onChangeViewType(t)}},{key:"save",value:function(){var e=fj(sj().mark((function e(){return sj().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this[fy].save();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSave",value:function e(t){return this[fy].onSave(t)}},{key:"currentEditorView",get:function e(){return this[fy].editorView?new uj(this[fy].editorView).toProxy():null}},{key:"editorViews",get:function e(){return Array.from(this[fy].editorViews.values()).map((function(e){return new uj(e).toProxy()}))}}]),e}();function bj(e){return(bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jj(r.key),r)}}function Oj(e,t,n){return t&&wj(e.prototype,t),n&&wj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jj(e){var t=Sj(e,"string");return"symbol"===bj(t)?t:String(t)}function Sj(e,t){if("object"!==bj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var kj=function(){function e(){gj(this,e),this[vy]=void 0,this[vy]=Ur}return Oj(e,[{key:"setData",value:function e(t){this[vy].setData(t)}},{key:"waitPasteData",value:function e(t,n){this[vy].waitPasteData(t,n)}}]),e}();function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ej(Object(n),!0).forEach((function(t){Pj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pj(e,t,n){return(t=xj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xj(e){var t=Nj(e,"string");return"symbol"===Cj(t)?t:String(t)}function Nj(e,t){if("object"!==Cj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Cj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Cj(e){return(Cj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tj(e,t,n,o,i){var a;return e?a=e:(a={},t&&!o||(a={label:n},n=void 0)),(t||n)&&("object"!==Cj(a)||Object(r.isValidElement)(a)||Object(s.G)(a)?(Object(r.isValidElement)(a)&&("svg"===a.type||a.type.getIcon)&&(t||(t=a),o?(a=n,n=null):a=void 0),a={label:a,icon:t,tip:n}):a=_j(_j({},a),{},{icon:t,tip:n})),Object(s.X)(a)&&i&&(Object(r.isValidElement)(a)||(a.icon=void 0)),a}var Lj=n(109);function Rj(e){return(Rj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aj(e,t,n){return(t=Bj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bj(r.key),r)}}function Ij(e,t,n){return t&&Dj(e.prototype,t),n&&Dj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bj(e){var t=Vj(e,"string");return"symbol"===Rj(t)?t:String(t)}function Vj(e,t){if("object"!==Rj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Fj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gj(e,t)}function Gj(e,t){return(Gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Hj(e){var t=Wj();return function n(){var r=$j(e),o;if(t){var i=$j(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Uj(this,o)}}function Uj(e,t){if(t&&("object"===Rj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zj(e)}function zj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wj(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $j(e){return($j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Xj=function(e){Fj(n,e);var t=Hj(n);function n(e){var r;return Mj(this,n),(r=t.call(this,e)).startDrag=void 0,r.canDrag=void 0,r.offset=void 0,r.currentOffset=void 0,r.offEvent=void 0,r.offDragEvent=void 0,r.startOffset=void 0,r.shell=null,r.startDrag=!1,r.canDrag=!1,r.offset=0,r.currentOffset=0,r}return Ij(n,[{key:"componentDidMount",value:function e(){this.offEvent=this.initEvent()}},{key:"componentWillUnmount",value:function e(){this.offEvent&&this.offEvent()}},{key:"onSelectStart",value:function e(t){this.startDrag&&t.preventDefault()}},{key:"onStartMove",value:function e(t){var n=this.props.onDragStart;this.startDrag||n&&n(),this.startDrag=!0,this.canDrag=!0,this.currentOffset=0,this.offDragEvent=this.initDragEvent(),this.startOffset=this.getClientPosition(t)}},{key:"onEndMove",value:function e(){var t=this.props.onDragEnd;this.startDrag&&(this.offDragEvent&&this.offDragEvent(),this.startDrag=!1,this.offset=this.currentOffset),t&&t()}},{key:"onDrag",value:function e(t){var n=this.props,r=n.position,e=n.onDrag,o=n.maxIncrement,i=void 0===o?100:o,a=n.maxDecrement,u=void 0===a?0:a;this.startDrag&&(this.currentOffset="left"===r||"top"===r?this.offset+this.startOffset-this.getClientPosition(t):this.offset+this.getClientPosition(t)-this.startOffset,this.currentOffset<-u?this.currentOffset=-u:this.currentOffset>i&&(this.currentOffset=i),e(this.currentOffset,t))}},{key:"getClientPosition",value:function e(t){var n=this.props.position;return"left"===n||"right"===n?t.clientX:t.clientY}},{key:"initEvent",value:function e(){var t=this.onSelectStart.bind(this);return document.addEventListener("selectstart",t),function(){return document.removeEventListener("selectstart",t)}}},{key:"initDragEvent",value:function e(){var t=this.onDrag.bind(this),n=this.onEndMove.bind(this);return document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}}},{key:"getParent",value:function e(){var t;return null===(t=this.shell)||void 0===t?void 0:t.parentElement}},{key:"render",value:function e(){var t=this,n=this.props,r=n.className,o=void 0===r?"":r,i=n.position;return React.createElement("div",{ref:function e(n){t.shell=n},className:Jo()("left"===i||"right"===i?"lc-draggable-line-vertical":"lc-draggable-line-horizontal",Aj({},o,!!o)),onMouseDown:function e(n){return t.onStartMove(n)}})}}]),n}(r.Component);function Yj(){return(Yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kj(e){var t={width:13,height:13};return React.createElement(s.f,Yj({viewBox:"0 0 1024 1024"},e,t),React.createElement("path",{d:"M750.848 28.928l245.248 242.944a66.048 66.048 0 1 1-93.184 93.184l-25.6-19.456-249.6 353.792 78.336 78.336a66.048 66.048 0 0 1-93.184 92.672l-460.8-464.64a66.048 66.048 0 0 1 93.184-93.184l76.8 78.336 354.048-249.856-18.176-18.944a66.048 66.048 0 1 1 93.184-93.184zM380.672 732.416l-91.904-90.88c-74.24 89.6-191.488 219.904-212.736 247.04a419.84 419.84 0 0 0-70.656 128 419.84 419.84 0 0 0 128-70.144c27.136-21.248 157.44-138.496 246.528-214.016z"}))}function qj(){return(qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jj(e){return React.createElement(s.f,qj({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M160.256 816.64C116.224 872.448 102.4 921.6 102.4 921.6s49.152-13.824 104.96-57.856c22.016-17.408 128-112.64 200.704-174.08l-73.728-73.728c-61.44 72.704-157.184 178.688-174.08 200.704zM648.704 209.408L442.368 355.328l226.304 226.304 145.92-206.336 15.872 15.872c20.992 20.992 54.784 20.992 75.776 0s20.992-54.784 0-75.776l-197.12-197.12c-20.992-20.992-54.784-20.992-75.776 0-20.992 20.992-20.992 54.784 0 75.776l15.36 15.36zM247.808 334.848c-9.728 2.048-18.944 6.656-26.624 14.336-20.992 20.992-20.992 54.784 0 75.776l377.856 377.856c20.992 20.992 54.784 20.992 75.776 0 7.68-7.68 12.288-16.896 14.336-26.624L247.808 334.848z"}),React.createElement("path",{d:"M840.704 879.104c-9.728 0-19.456-3.584-27.136-11.264L155.648 210.432c-14.848-14.848-14.848-39.424 0-54.272 14.848-14.848 39.424-14.848 54.272 0L867.84 814.08c14.848 14.848 14.848 39.424 0 54.272-7.168 7.168-16.896 10.752-27.136 10.752z"}))}function Qj(e){return(Qj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nS(r.key),r)}}function tS(e,t,n){return t&&eS(e.prototype,t),n&&eS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nS(e){var t=rS(e,"string");return"symbol"===Qj(t)?t:String(t)}function rS(e,t){if("object"!==Qj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function oS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}function iS(e,t){return(iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function aS(e){var t=sS();return function n(){var r=lS(e),o;if(t){var i=lS(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return uS(this,o)}}function uS(e,t){if(t&&("object"===Qj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cS(e)}function cS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function lS(e){return(lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Xj.displayName="DraggableLine",Xj.defaultProps={onDrag:function e(){},position:"right",className:"",maxIncrement:100,maxDecrement:0},Kj.displayName="Fix",Jj.displayName="Float";var fS=function(e){oS(n,e);var t=aS(n);function n(e){var r;return Zj(this,n),r=t.call(this,e),Object(a.makeObservable)(cS(r)),r}return tS(n,[{key:"setDisplay",value:function e(){var t=this.props.panel,n;t&&t.skeleton.toggleFloatStatus(t)}},{key:"render",value:function e(){var t,n,o,i,a=this.props.panel,u;if("rightArea"===(null===(t=this.props.panel.config)||void 0===t?void 0:t.area))return null;var c=!0;!1===(null==a||null===(n=a.config.props)||void 0===n?void 0:n.canSetFixed)&&(c=!1);var s=null==a||null===(o=a.config.props)||void 0===o?void 0:o.hideTitleBar,l=null==a||null===(i=a.parent)||void 0===i?void 0:i.name,f=a.skeleton[l];return React.createElement(r.Fragment,null,!s&&React.createElement(r.Fragment,null,c&&React.createElement(Ni.Button,{text:!0,className:"lc-pane-icon-fix",onClick:this.setDisplay.bind(this)},"leftFloatArea"===l?React.createElement(Kj,null):React.createElement(Jj,null)),React.createElement(Ni.Button,{text:!0,className:"lc-pane-icon-close",onClick:function e(){f&&f.setVisible(!1)}},React.createElement(Ni.Icon,{type:"close"}))))}}]),n}(r.Component);Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[]),Object(c.d)("design:returntype",void 0)],fS.prototype,"setDisplay",null);var pS=n(110),hS=["dock","className","onClick"];function dS(e){return(dS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vS(Object(n),!0).forEach((function(t){NS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mS(e,t){if(null==e)return{};var n=bS(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bS(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function gS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CS(r.key),r)}}function OS(e,t,n){return t&&wS(e.prototype,t),n&&wS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SS(e,t)}function SS(e,t){return(SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function kS(e){var t=PS();return function n(){var r=xS(e),o;if(t){var i=xS(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ES(this,o)}}function ES(e,t){if(t&&("object"===dS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _S(e)}function _S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function xS(e){return(xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function NS(e,t,n){return(t=CS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CS(e){var t=TS(e,"string");return"symbol"===dS(t)?t:String(t)}function TS(e,t){if("object"!==dS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==dS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function LS(e){var t=e.title,n=e.icon,r=e.description,o=e.size,i=e.className,u=e.onClick;return React.createElement(a.Title,{title:Tj(t,n,r),className:Jo()("lc-dock",i,NS({},"lc-dock-".concat(o),o)),onClick:u})}function RS(e){var t=e.tip;return t&&t.url?React.createElement("div",null,React.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},React.createElement(Ni.Icon,{type:"help",size:"small",className:"lc-help-tip"})),React.createElement(a.Tip,null,t.content)):React.createElement("div",null,React.createElement(Ni.Icon,{type:"help",size:"small",className:"lc-help-tip"}),React.createElement(a.Tip,null,t.content))}var AS=function(e){jS(n,e);var t=kS(n);function n(){var e;gS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastActived=!1,e}return OS(n,[{key:"componentDidMount",value:function e(){this.checkActived()}},{key:"componentDidUpdate",value:function e(){this.checkActived()}},{key:"checkActived",value:function e(){var t=this.props.dock;t.actived!==this.lastActived&&(this.lastActived=t.actived,this.lastActived?t.skeleton.postEvent(cE.PANEL_DOCK_ACTIVE,t.name,t):t.skeleton.postEvent(cE.PANEL_DOCK_UNACTIVE,t.name,t))}},{key:"render",value:function e(){var t=this.props,n=t.dock,r=t.className,o=t.onClick,i;return LS(yS(yS({},mS(t,hS)),{},{className:Jo()(r,{actived:n.actived}),onClick:function e(){o&&o(),n.togglePanel()}}))}}]),n}(r.Component);AS=Object(c.b)([a.observer],AS);var MS=function(e){jS(n,e);var t=kS(n);function n(){return gS(this,n),t.apply(this,arguments)}return OS(n)}(r.Component),DS=function(e){jS(n,e);var t=kS(n);function n(){var e;gS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shell=void 0,e.defaultWidth=void 0,e}return OS(n,[{key:"getDefaultWidth",value:function e(){var t,n,r,o=null===(t=this.props.panel)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width;if(o)return o;if(this.defaultWidth)return this.defaultWidth;var i=null===(r=this.shell)||void 0===r?void 0:r.getParent();return i?(this.defaultWidth=i.offsetWidth,this.defaultWidth):300}},{key:"onDrag",value:function e(t){var n,r,o=this.getDefaultWidth()+t,i=null===(n=this.shell)||void 0===n?void 0:n.getParent();i&&(i.style.width="".concat(o,"px"));var a=this.props.panel.skeleton.editor;null==a||a.eventBus.emit("dockpane.drag",o)}},{key:"onDragChange",value:function e(t){var n=this.props.panel.skeleton.editor;null==n||n.eventBus.emit("dockpane.dragchange",t),null==n||n.eventBus.emit("designer.builtinSimulator.disabledEvents","start"===t)}},{key:"render",value:function e(){var t,n,r,o,i=this,a=null===(t=this.props.panel.config.props)||void 0===t?void 0:t.enableDrag,u;return"rightArea"===(null===(n=this.props.panel.config)||void 0===n?void 0:n.area)||!a||"leftFixedArea"===(null===(r=this.props.panel)||void 0===r||null===(o=r.parent)||void 0===o?void 0:o.name)?null:React.createElement(Xj,{ref:function e(t){i.shell=t},position:"right",className:"lc-engine-slate-draggable-line-right",onDrag:function e(t){return i.onDrag(t)},onDragStart:function e(){return i.onDragChange("start")},onDragEnd:function e(){return i.onDragChange("end")},maxIncrement:500,maxDecrement:0})}}]),n}(r.Component),IS=function(e){jS(n,e);var t=kS(n);function n(){var e;gS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e}return OS(n,[{key:"componentDidMount",value:function e(){this.checkVisible()}},{key:"componentDidUpdate",value:function e(){this.checkVisible()}},{key:"checkVisible",value:function e(){var t=this.props.panel,n=t.inited&&t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible?t.skeleton.postEvent(cE.PANEL_SHOW,t.name,t):t.skeleton.postEvent(cE.PANEL_HIDE,t.name,t))}},{key:"render",value:function e(){var t,n=this.props,r=n.panel,o=n.area;if(!r.inited)return null;var i=r.skeleton.editor,a=o?"".concat(o,"-").concat(r.name):r.name;return null==i||i.eventBus.emit("skeleton.panel.toggle",{name:a||"",status:r.visible?"show":"hide"}),React.createElement("div",{className:Jo()("lc-titled-panel",{hidden:!r.visible}),id:a,"data-keep-visible-while-dragging":null===(t=r.config.props)||void 0===t?void 0:t.keepVisibleWhileDragging},React.createElement(fS,{panel:r}),React.createElement(FS,{panel:r}),React.createElement("div",{className:"lc-panel-body"},r.body),React.createElement(DS,{panel:r}))}}]),n}(r.Component);IS=Object(c.b)([a.observer],IS);var BS=function(e){jS(n,e);var t=kS(n);function n(){var e;gS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e}return OS(n,[{key:"componentDidMount",value:function e(){this.checkVisible()}},{key:"componentDidUpdate",value:function e(){this.checkVisible()}},{key:"checkVisible",value:function e(){var t=this.props.panel,n=t.inited&&t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible?(t.skeleton.postEvent(cE.PANEL_SHOW,t.name,t),t.skeleton.postEvent("leftPanel.show",t.name,t)):(t.skeleton.postEvent(cE.PANEL_HIDE,t.name,t),t.skeleton.postEvent("leftPanel.hide",t.name,t)))}},{key:"render",value:function e(){var t,n=this.props,r=n.panel,o=n.area,i=n.hideOperationRow,a=n.hideDragLine;if(!r.inited)return null;var u=r.skeleton.editor,c=o?"".concat(o,"-").concat(r.name):r.name;return null==u||u.eventBus.emit("skeleton.panel.toggle",{name:c||"",status:r.visible?"show":"hide"}),React.createElement("div",{className:Jo()("lc-panel",{hidden:!r.visible}),id:c,"data-keep-visible-while-dragging":null===(t=r.config.props)||void 0===t?void 0:t.keepVisibleWhileDragging},!i&&React.createElement(fS,{panel:r}),r.body,!a&&React.createElement(DS,{panel:r}))}}]),n}(r.Component);BS=Object(c.b)([a.observer],BS);var VS=function(e){jS(n,e);var t=kS(n);function n(){return gS(this,n),t.apply(this,arguments)}return OS(n,[{key:"render",value:function e(){var t=this.props.container,n=[],r=[];return t.items.forEach((function(e){n.push(React.createElement(FS,{key:e.id,panel:e,className:"lc-tab-title"})),r.push(React.createElement(BS,{key:e.id,panel:e,hideOperationRow:!0,hideDragLine:!0}))})),React.createElement("div",{className:"lc-tabs"},React.createElement("div",{className:"lc-tabs-title",onClick:function e(n){for(var r=n.currentTarget,o=n.target,i=r.firstElementChild;i&&!i.contains(o);)i=i.nextElementSibling;i&&t.active(i.dataset.name)}},n),React.createElement("div",{className:"lc-tabs-content"},r))}}]),n}(r.Component);VS=Object(c.b)([a.observer],VS);var FS=function(e){jS(n,e);var t=kS(n);function n(){return gS(this,n),t.apply(this,arguments)}return OS(n,[{key:"render",value:function e(){var t=this.props,n=t.panel,r=t.className;return React.createElement("div",{className:Jo()("lc-panel-title",r,{actived:n.actived}),"data-name":n.name},React.createElement(a.Title,{title:n.title||n.name}),n.help?React.createElement(RS,{tip:n.help}):null)}}]),n}(r.Component);FS=Object(c.b)([a.observer],FS);var GS=function(e){jS(n,e);var t=kS(n);function n(){var e;gS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e.lastDisabled=!1,e}return OS(n,[{key:"componentDidMount",value:function e(){this.checkVisible(),this.checkDisabled()}},{key:"componentDidUpdate",value:function e(){this.checkVisible(),this.checkDisabled()}},{key:"checkVisible",value:function e(){var t=this.props.widget,n=t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible,t.skeleton.postEvent(cE.WIDGET_SHOW,t.name,t))}},{key:"checkDisabled",value:function e(){var t=this.props.widget,n=t.disabled;n!==this.lastDisabled&&(this.lastDisabled=n,this.lastDisabled?t.skeleton.postEvent(cE.WIDGET_DISABLE,t.name,t):t.skeleton.postEvent(cE.WIDGET_ENABLE,t.name,t))}},{key:"render",value:function e(){var t=this.props.widget;return t.visible?t.disabled?React.createElement("div",{className:"lc-widget-disabled"},t.body):t.body:null}}]),n}(r.Component);function HS(e){return(HS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function US(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?US(Object(n),!0).forEach((function(t){WS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WS(e,t,n){return(t=KS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KS(r.key),r)}}function YS(e,t,n){return t&&XS(e.prototype,t),n&&XS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KS(e){var t=qS(e,"string");return"symbol"===HS(t)?t:String(t)}function qS(e,t){if("object"!==HS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==HS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}GS=Object(c.b)([a.observer],GS);var JS=function(){function e(t,n){$S(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.isPanelDock=!0,this.id=void 0,this.name=void 0,this.align=void 0,this.inited=!1,this._body=void 0,this._shell=null,this._visible=!0,this.panelName=void 0,this._panel=void 0,this._disabled=!1,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var r=n.content,o=n.contentProps,i=n.panelProps,u=n.name,c=n.props;if(this.name=u,this.id=Object(s.db)("dock:".concat(u,"$")),this.panelName=n.panelName||u,this.align=null==c?void 0:c.align,r){var l=zS({},i);null==l.title&&c&&(l.title=Tj(c.title,void 0,c.description,!0,!0)),this._panel=this.skeleton.add({type:"Panel",name:this.panelName,props:l,contentProps:o,content:r,area:null==i?void 0:i.area})}null!=c&&c.onInit&&c.onInit.call(this,this)}return YS(e,[{key:"body",get:function e(){if(this.inited)return this._body;this.inited=!0;var t=this.config.props;return this._body=Object(r.createElement)(AS,zS(zS({},t),{},{dock:this})),this._body}},{key:"content",get:function e(){var t=this;return Object(r.createElement)(GS,{widget:this,ref:function e(n){t._shell=n},key:this.id})}},{key:"visible",get:function e(){return this._visible}},{key:"actived",get:function e(){var t;return(null===(t=this.panel)||void 0===t?void 0:t.visible)||!1}},{key:"panel",get:function e(){return this._panel||this.skeleton.getPanel(this.panelName)}},{key:"getDOMNode",value:function e(){return this._shell?Object(i.findDOMNode)(this._shell):null}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}},{key:"togglePanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.toggle()}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"hidePanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.setActive(!1)}},{key:"showPanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.setActive(!0)}},{key:"onActiveChange",value:function e(t){var n;return null===(n=this.panel)||void 0===n?void 0:n.onActiveChange(t)}}]),e}(),QS;function ZS(e){return e&&e.isPanelDock}function ek(e){return(ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tk(Object(n),!0).forEach((function(t){rk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rk(e,t,n){return(t=uk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ok(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ik(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uk(r.key),r)}}function ak(e,t,n){return t&&ik(e.prototype,t),n&&ik(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uk(e){var t=ck(e,"string");return"symbol"===ek(t)?t:String(t)}function ck(e,t){if("object"!==ek(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ek(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],JS.prototype,"_visible",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Boolean),Object(c.d)("design:paramtypes",[])],JS.prototype,"actived",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],JS.prototype,"_disabled",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],JS.prototype,"panel",null);var sk=function(){function e(t,n){var r=this;ok(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.name=void 0,this.id=void 0,this.inited=!1,this._actived=!1,this.emitter=Object(a.createModuleEventBus)("Panel"),this.isPanel=!0,this.title=void 0,this.help=void 0,this.plain=!1,this.container=void 0,this.parent=void 0,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var o=n.name,i=n.content,u=n.props,c=void 0===u?{}:u,l=c.hideTitleBar,f=c.title,p=c.icon,h=c.description,d=c.help;this.name=o,this.id=Object(s.db)("pane:".concat(o,"$")),this.title=Tj(f||o,p,h),this.plain=l||!f,this.help=d,Array.isArray(i)&&(i.length,this.container=this.skeleton.createContainer(o,(function(e){return lk(e)?e:r.skeleton.createPanel(e)}),!0,(function(){return r.visible}),!0),i.forEach((function(e){return r.add(e)}))),c.onInit&&c.onInit.call(this,this),"string"!=typeof i&&i&&i.onInit&&i.onInit.call(this,this)}return ak(e,[{key:"actived",get:function e(){return this._actived}},{key:"visible",get:function e(){if(!this.parent||this.parent.visible){var t=this.config.props;return null!=t&&t.condition?t.condition(this):this._actived}return!1}},{key:"body",get:function e(){if(this.container)return Object(r.createElement)(VS,{container:this.container});var t=this.config,n=t.content,o=t.contentProps;return Object(s.m)(n,nk(nk({},o),{},{editor:Cm(this.skeleton.editor),config:this.config,panel:this,pane:this}))}},{key:"content",get:function e(){var t,n,o=(null===(t=this.config)||void 0===t?void 0:t.area)||(null===(n=this.parent)||void 0===n?void 0:n.name);return this.plain?Object(r.createElement)(BS,{panel:this,key:this.id,area:o}):Object(r.createElement)(IS,{panel:this,key:this.id,area:o})}},{key:"setParent",value:function e(t){t!==this.parent&&(this.parent&&this.parent.remove(this),this.parent=t)}},{key:"add",value:function e(t){var n;return null===(n=this.container)||void 0===n?void 0:n.add(t)}},{key:"getPane",value:function e(t){var n;return(null===(n=this.container)||void 0===n?void 0:n.get(t))||null}},{key:"remove",value:function e(t){var n;return null===(n=this.container)||void 0===n?void 0:n.remove(t)}},{key:"active",value:function e(t){var n;t?null===(n=this.container)||void 0===n||n.active(t):this.setActive(!0)}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"isChildOfFloatArea",value:function e(){var t;return"leftFloatArea"===(null===(t=this.parent)||void 0===t?void 0:t.name)}},{key:"isChildOfFixedArea",value:function e(){var t;return"leftFixedArea"===(null===(t=this.parent)||void 0===t?void 0:t.name)}},{key:"setActive",value:function e(t){var n;if(t!==this._actived)if(t)this.isChildOfFloatArea()?this.skeleton.leftFixedArea.container.unactiveAll():this.isChildOfFixedArea()&&this.skeleton.leftFloatArea.container.unactiveAll(),this._actived=!0,null===(n=this.parent)||void 0===n||n.active(this),this.inited||(this.inited=!0),this.emitter.emit("activechange",!0);else if(this.inited){var r,o;null!==(r=this.parent)&&void 0!==r&&r.name&&this.name.startsWith(this.parent.name)&&(this.inited=!1),this._actived=!1,null===(o=this.parent)||void 0===o||o.unactive(this),this.emitter.emit("activechange",!1)}}},{key:"toggle",value:function e(){this.setActive(!this._actived)}},{key:"hide",value:function e(){this.setActive(!1)}},{key:"disable",value:function e(){}},{key:"enable",value:function e(){}},{key:"show",value:function e(){this.setActive(!0)}},{key:"getAssocDocks",value:function e(){var t=this;return this.skeleton.widgets.filter((function(e){return ZS(e)&&e.panelName===t.name}))}},{key:"getSupportedPositions",value:function e(){return["default"]}},{key:"getCurrentPosition",value:function e(){return"default"}},{key:"setPosition",value:function e(){}},{key:"onActiveChange",value:function e(t){var n=this;return this.emitter.on("activechange",t),function(){n.emitter.removeListener("activechange",t)}}}]),e}();function lk(e){return e&&e.isPanel}function fk(e){return(fk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pk(Object(n),!0).forEach((function(t){dk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dk(e,t,n){return(t=bk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bk(r.key),r)}}function mk(e,t,n){return t&&yk(e.prototype,t),n&&yk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bk(e){var t=gk(e,"string");return"symbol"===fk(t)?t:String(t)}function gk(e,t){if("object"!==fk(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],sk.prototype,"inited",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],sk.prototype,"_actived",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Boolean),Object(c.d)("design:paramtypes",[])],sk.prototype,"actived",null),Object(c.b)([a.computed,Object(c.d)("design:type",Boolean),Object(c.d)("design:paramtypes",[])],sk.prototype,"visible",null),Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(QS=void 0!==Mv&&Mv)?QS:Object)],sk.prototype,"parent",void 0);var wk=function(){function e(t,n){vk(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.id=Object(s.db)("widget"),this.name=void 0,this.align=void 0,this._visible=!0,this.inited=!1,this._disabled=!1,this._body=void 0,this.title=void 0,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var r=n.props,o=void 0===r?{}:r,i=n.name;this.name=i,this.align=o.align,this.title=o.title||i,o.onInit&&o.onInit.call(this,this)}return mk(e,[{key:"visible",get:function e(){return this._visible}},{key:"body",get:function e(){if(this.inited)return this._body;this.inited=!0;var t=this.config,n=t.content,r=t.contentProps;return this._body=Object(s.m)(n,hk(hk({},r),{},{config:this.config,editor:Cm(this.skeleton.editor)})),this._body}},{key:"content",get:function e(){return Object(r.createElement)(GS,{widget:this,key:this.id})}},{key:"getId",value:function e(){return this.id}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}}]),e}();function Ok(e){return e&&e.isWidget}function jk(e){return(jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sk(Object(n),!0).forEach((function(t){Ek(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ek(e,t,n){return(t=Nk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nk(r.key),r)}}function xk(e,t,n){return t&&Pk(e.prototype,t),n&&Pk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nk(e){var t=Ck(e,"string");return"symbol"===jk(t)?t:String(t)}function Ck(e,t){if("object"!==jk(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==jk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],wk.prototype,"_visible",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],wk.prototype,"inited",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],wk.prototype,"_disabled",void 0);var Tk=function(){function e(t,n){_k(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.id=Object(s.db)("dock"),this.name=void 0,this.align=void 0,this._visible=!0,this._disabled=!1,this.inited=!1,this._body=void 0,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var r=n.props,o=void 0===r?{}:r,i=n.name;this.name=i,this.align=o.align,o.onInit&&o.onInit.call(this,this)}return xk(e,[{key:"visible",get:function e(){return this._visible}},{key:"content",get:function e(){return Object(r.createElement)(GS,{widget:this,key:this.id})}},{key:"body",get:function e(){if(this.inited)return this._body;var t=this.config,n=t.props,o=t.content,i=t.contentProps;return this._body=o?Object(s.m)(o,kk(kk({},i),{},{config:this.config,editor:Cm(this.skeleton.editor)})):Object(r.createElement)(LS,n),this.inited=!0,this._body}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}},{key:"getContent",value:function e(){return this.content}},{key:"getName",value:function e(){return this.name}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}}]),e}();function Lk(e){return(Lk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ak(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dk(r.key),r)}}function Mk(e,t,n){return t&&Ak(e.prototype,t),n&&Ak(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dk(e){var t=Ik(e,"string");return"symbol"===Lk(t)?t:String(t)}function Ik(e,t){if("object"!==Lk(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Bk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vk(e,t)}function Vk(e,t){return(Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Fk(e){var t=Uk();return function n(){var r=zk(e),o;if(t){var i=zk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Gk(this,o)}}function Gk(e,t){if(t&&("object"===Lk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hk(e)}function Hk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uk(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function zk(e){return(zk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Tk.prototype,"_visible",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Tk.prototype,"_disabled",void 0);var Wk=function(e){Bk(n,e);var t=Fk(n);function n(e,r){var o;return Rk(this,n),(o=t.call(this,e,r)).isRoot=void 0,o.previous=void 0,o.refer=void 0,o.isRoot=r.isRoot||!1,o}return Mk(n,[{key:"setPrevious",value:function e(t){this.previous=t}},{key:"getPrevious",value:function e(){return this.previous}},{key:"hasBack",value:function e(){return!(!this.previous||this.isRoot)}},{key:"setRefer",value:function e(t,n){this.refer={stage:t,direction:n}}},{key:"setReferRight",value:function e(t){this.setRefer(t,"right")}},{key:"setReferLeft",value:function e(t){this.setRefer(t,"left")}},{key:"getRefer",value:function e(){var t=this.refer;return this.refer=void 0,t}}]),n}(wk),$k=["dialogProps","balloonProps","panelProps","linkProps"],Xk=["content"],Yk,Kk;function qk(e){return(qk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jk(Object(n),!0).forEach((function(t){Zk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zk(e,t,n){return(t=iE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eE(e,t){if(null==e)return{};var n=tE(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tE(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function nE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iE(r.key),r)}}function oE(e,t,n){return t&&rE(e.prototype,t),n&&rE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iE(e){var t=aE(e,"string");return"symbol"===qk(t)?t:String(t)}function aE(e,t){if("object"!==qk(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var uE=new s.e({level:"warn",bizName:"skeleton"}),cE;!function(e){e.PANEL_DOCK_ACTIVE="skeleton.panel-dock.active",e.PANEL_DOCK_UNACTIVE="skeleton.panel-dock.unactive",e.PANEL_SHOW="skeleton.panel.show",e.PANEL_HIDE="skeleton.panel.hide",e.WIDGET_SHOW="skeleton.widget.show",e.WIDGET_HIDE="skeleton.widget.hide",e.WIDGET_DISABLE="skeleton.widget.disable",e.WIDGET_ENABLE="skeleton.widget.enable"}(cE||(cE={}));var sE=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";nE(this,e),this.editor=void 0,this.viewName=void 0,this.panels=new Map,this.containers=new Map,this.leftArea=void 0,this.topArea=void 0,this.subTopArea=void 0,this.toolbar=void 0,this.leftFixedArea=void 0,this.leftFloatArea=void 0,this.rightArea=void 0,this.mainArea=void 0,this.bottomArea=void 0,this.stages=void 0,this.widgets=[],this.focusTracker=new a.FocusTracker,this.editor=t,this.viewName=r,Object(a.makeObservable)(this),this.leftArea=new Fp(this,"leftArea",(function(e){return Ok(e)?e:n.createWidget(e)}),!1),this.topArea=new Fp(this,"topArea",(function(e){return Ok(e)?e:n.createWidget(e)}),!1),this.subTopArea=new Fp(this,"subTopArea",(function(e){return Ok(e)?e:n.createWidget(e)}),!1),this.toolbar=new Fp(this,"toolbar",(function(e){return Ok(e)?e:n.createWidget(e)}),!1),this.leftFixedArea=new Fp(this,"leftFixedArea",(function(e){return lk(e)?e:n.createPanel(e)}),!0),this.leftFloatArea=new Fp(this,"leftFloatArea",(function(e){return lk(e)?e:n.createPanel(e)}),!0),this.rightArea=new Fp(this,"rightArea",(function(e){return lk(e)?e:n.createPanel(e)}),!1,!0),this.mainArea=new Fp(this,"mainArea",(function(e){return Ok(e)?e:n.createWidget(e)}),!0,!0),this.bottomArea=new Fp(this,"bottomArea",(function(e){return lk(e)?e:n.createPanel(e)}),!0),this.stages=new Fp(this,"stages",(function(e){return Ok(e)?e:new Wk(n,e)})),this.setupPlugins(),this.setupEvents(),this.focusTracker.mount(window)}return oE(e,[{key:"setupEvents",value:function e(){var t=this;this.editor.eventBus.on(cE.PANEL_SHOW,(function(e,n){var r,o="".concat(e,"-pinned-status-isFloat"),i,u,c,s;(null===(r=a.engineConfig.getPreference())||void 0===r?void 0:r.contains(o,"skeleton"))&&((null===(u=a.engineConfig.getPreference())||void 0===u?void 0:u.get(o,"skeleton"))!==(null==n?void 0:n.isChildOfFloatArea())&&t.toggleFloatStatus(n))}))}},{key:"toggleFloatStatus",value:function e(t){var n,r="leftFloatArea"===(null==t||null===(n=t.parent)||void 0===n?void 0:n.name);r?(this.leftFloatArea.remove(t),this.leftFixedArea.add(t),this.leftFixedArea.container.active(t)):(this.leftFixedArea.remove(t),this.leftFloatArea.add(t),this.leftFloatArea.container.active(t)),a.engineConfig.getPreference().set("".concat(t.name,"-pinned-status-isFloat"),!r,"skeleton")}},{key:"buildFromConfig",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&this.editor.init(t,n),this.setupPlugins()}},{key:"setupPlugins",value:function e(){var t=this,n=this.editor,r=n.config,o=n.components,i=void 0===o?{}:o;if(r){var a=r.plugins;a&&Object.keys(a).forEach((function(e){a[e].forEach((function(n){var r=n.pluginKey,o=n.type,a=n.props,u=void 0===a?{}:a,c=n.pluginProps,s={area:e,type:"Widget",name:r,contentProps:c},l=u.dialogProps,f=u.balloonProps,p=u.panelProps,h=u.linkProps,d=eE(u,$k);s.props=d,l&&(s.dialogProps=l),f&&(s.balloonProps=f),p&&(s.panelProps=p),h&&(s.linkProps=h),"TabPanel"===o?s.type="Panel":/Icon$/.test(o)&&(s.type=o.replace("Icon","Dock")),r in i&&(s.content=i[r]),t.add(s)}))}))}}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.editor.eventBus).emit.apply(n,[t].concat(o))}},{key:"createWidget",value:function e(t){return Ok(t)?t:(n=kv(t=this.parseConfig(t))?Pv(t)?new JS(this,t):new Tk(this,t):Sv(t)?new wk(this,Qk(Qk({},t),{},{type:"Widget",content:Ni.Divider})):_v(t)?this.createPanel(t):new wk(this,t),this.widgets.push(n),n);var n}},{key:"getWidget",value:function e(t){return this.widgets.find((function(e){return e.name===t}))}},{key:"createPanel",value:function e(t){var n=this.parseConfig(t),r=new sk(this,n);return this.panels.set(r.name,r),uE.debug("Panel created with name: ".concat(r.name," \nconfig:"),t,"\n current panels: ",this.panels),r}},{key:"getPanel",value:function e(t){return this.panels.get(t)}},{key:"getStage",value:function e(t){return this.stages.container.get(t)}},{key:"createStage",value:function e(t){var n,r=this.add(Qk({name:Object(s.db)("stage"),area:"stages"},t));return null==r||null===(n=r.getName)||void 0===n?void 0:n.call(r)}},{key:"createContainer",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new Mv(t,n,r,o,i);return this.containers.set(t,a),a}},{key:"parseConfig",value:function e(t){if(t.parsed)return t;var n=t.content,o=eE(t,Xk);return n&&(Object(s.P)(n)&&!Object(r.isValidElement)(n)?Object.keys(n).forEach((function(e){/props$/i.test(e)&&o[e]?o[e]=Qk(Qk({},o[e]),n[e]):o[e]=n[e]})):o.content=n),o.pluginKey=o.name,o.parsed=!0,o}},{key:"add",value:function e(t,n){var r=Qk(Qk({},this.parseConfig(t)),n),o=r.area;switch(o||(o="Panel"===r.type?"leftFloatArea":"Widget"===r.type?"mainArea":"leftArea"),o){case"leftArea":case"left":return this.leftArea.add(r);case"rightArea":case"right":return this.rightArea.add(r);case"topArea":case"top":return this.topArea.add(r);case"subTopArea":return this.subTopArea.add(r);case"toolbar":return this.toolbar.add(r);case"mainArea":case"main":case"center":case"centerArea":return this.mainArea.add(r);case"bottomArea":case"bottom":return this.bottomArea.add(r);case"leftFixedArea":return this.leftFixedArea.add(r);case"leftFloatArea":return this.leftFloatArea.add(r);case"stages":return this.stages.add(r)}}}]),e}();Object(c.b)([a.obx,Object(c.d)("design:type","function"==typeof(Yk=void 0!==Fp&&Fp)?Yk:Object)],sE.prototype,"mainArea",void 0),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",["function"==typeof(Kk=void 0!==sk&&sk)?Kk:Object]),Object(c.d)("design:returntype",void 0)],sE.prototype,"toggleFloatStatus",null);var lE=n(111),fE;function pE(e){return(pE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hE(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */hE=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==pE(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function dE(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function vE(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dE(i,r,o,a,u,"next",e)}function u(e){dE(i,r,o,a,u,"throw",e)}a(void 0)}))}}function yE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gE(r.key),r)}}function bE(e,t,n){return t&&mE(e.prototype,t),n&&mE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gE(e){var t=wE(e,"string");return"symbol"===pE(t)?t:String(t)}function wE(e,t){if("object"!==pE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function OE(e){return e.map((function(e){return e.id})).sort().join(",")}var jE=function(){function e(t){yE(this,e),this.editor=void 0,this.emitter=Object(a.createModuleEventBus)("SettingsMain"),this._sessionId="",this._settings=void 0,this.disposeListener=void 0,this.designer=void 0,this.editor=t,Object(a.makeObservable)(this),this.init()}return bE(e,[{key:"length",get:function e(){var t;return null===(t=this._settings)||void 0===t?void 0:t.nodes.length}},{key:"componentMeta",get:function e(){var t;return null===(t=this._settings)||void 0===t?void 0:t.componentMeta}},{key:"settings",get:function e(){return this._settings}},{key:"init",value:function(){var e=vE(hE().mark((function e(){var t=this,n,r;return hE().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return n=function e(n){n?t.setup(n.getNodes()):t.setup([])},this.editor.eventBus.on("designer.selection.change",n),this.disposeListener=function(){t.editor.removeListener("designer.selection.change",n)},o.next=5,this.editor.onceGot("designer");case 5:r=o.sent,this.designer=r,n(r.currentSelection);case 8:case"end":return o.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setup",value:function e(t){var n=OE(t);n!==this._sessionId&&(this._sessionId=n,t.length<1?this._settings=void 0:(this.designer||(this.designer=t[0].document.designer),1===t.length?this._settings=t[0].settingEntry:this._settings=this.designer.createSettingEntry(t)))}},{key:"purge",value:function e(){this.disposeListener(),this.emitter.removeAllListeners()}}]),e}();Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(fE=void 0!==vl&&vl)?fE:Object)],jE.prototype,"_settings",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],jE.prototype,"length",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],jE.prototype,"componentMeta",null),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],jE.prototype,"settings",null),Object(c.b)([a.action,Object(c.d)("design:type",Function),Object(c.d)("design:paramtypes",[Array]),Object(c.d)("design:returntype",void 0)],jE.prototype,"setup",null);var SE=n(47),kE=n(112);function EE(e){return(EE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _E(e){return CE(e)||NE(e)||xE(e)||PE()}function PE(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xE(e,t){if(e){if("string"==typeof e)return TE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TE(e,t):void 0}}function NE(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function CE(e){if(Array.isArray(e))return TE(e)}function TE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RE(e,t)}function RE(e,t){return(RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function AE(e){var t=IE();return function n(){var r=BE(e),o;if(t){var i=BE(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ME(this,o)}}function ME(e,t){if(t&&("object"===EE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return DE(e)}function DE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IE(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function BE(e){return(BE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VE(Object(n),!0).forEach((function(t){GE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GE(e,t,n){return(t=WE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WE(r.key),r)}}function zE(e,t,n){return t&&UE(e.prototype,t),n&&UE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WE(e){var t=$E(e,"string");return"symbol"===EE(t)?t:String(t)}function $E(e,t){if("object"!==EE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==EE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var XE=Object(r.createContext)({}),YE=function(){function e(){HE(this,e),this.emitter=Object(a.createModuleEventBus)("PopupPipe"),this.currentId=void 0}return zE(e,[{key:"create",value:function e(t){var n=this,r=null,o=null,i=Object(s.db)("popup");return{send:function e(a,u){r=a,o=u,n.currentId===i&&n.popup(FE(FE({},t),{},{content:a,title:u}))},show:function e(a,u){n.currentId=i,n.popup(FE(FE({},t),{},{actionKey:u,content:r,title:o}),a)}}}},{key:"popup",value:function e(t,n){var r=this;Promise.resolve().then((function(){r.emitter.emit("popupchange",t,n)}))}},{key:"onPopupChange",value:function e(t){var n=this;return this.emitter.on("popupchange",t),function(){n.emitter.removeListener("popupchange",t)}}},{key:"purge",value:function e(){this.emitter.removeAllListeners()}}]),e}(),KE=function(e){LE(n,e);var t=AE(n);function n(){var e;HE(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).popupPipe=e.props.popupPipe||new YE,e}return zE(n,[{key:"componentWillUnmount",value:function e(){this.popupPipe.purge()}},{key:"render",value:function e(){var t=this.props,n=t.children,r=t.actionKey,o=t.safeId,i=t.popupContainer;return React.createElement(XE.Provider,{value:this.popupPipe},n,React.createElement(qE,{key:"pop".concat(r),safeId:o,popupContainer:i}))}}]),n}(r.Component),qE=function(e){LE(n,e);var t=AE(n);function n(){var e;HE(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).popupContainerId=Object(s.db)("popupContainer"),e.state={visible:!1,offsetX:-300},e.dispose=e.context.onPopupChange((function(t,n){var r=FE(FE({},t),{},{visible:!0});if(n){var o=n.getBoundingClientRect();r.pos={top:o.top,height:o.height}}e.setState(r)})),e.onClose=function(){e.setState({visible:!1})},e}return zE(n,[{key:"componentDidMount",value:function e(){var t;(document.documentElement.clientWidth||document.body.clientWidth)>=1860&&this.setState({offsetX:-400})}},{key:"componentWillUnmount",value:function e(){this.dispose()}},{key:"render",value:function e(){var t=this,n=this.state,r=n.content,o=n.visible,i=n.title,a=n.actionKey,u=n.pos,c=n.offsetX,l=n.width,f=void 0===l?360:l,p=n.hasMask,h=void 0!==p&&p,d=n.canCloseByOutSideClick,v=void 0===d||d,y=n.safeNode,m=void 0===y?[]:y;if(!o)return null;var b=!0;setTimeout((function(){b=!1}),10);var g=Object(s.db)("ball");return React.createElement(Ni.Drawer,{width:f,visible:o,offset:[c,0],hasMask:h,onVisibleChange:function e(n,r){b||n||"closeClick"!==r||t.setState({visible:!1})},trigger:React.createElement("div",{className:"lc-popup-placeholder",style:u}),triggerType:"click",canCloseByOutSideClick:v,animation:!1,onClose:this.onClose,id:this.props.safeId,safeNode:[g].concat(_E(m)),closeable:!0,container:this.props.popupContainer},React.createElement("div",{className:"lc-ballon-title"},i),React.createElement("div",{className:"lc-ballon-content"},React.createElement(KE,{actionKey:a,safeId:g,popupContainer:this.popupContainerId},React.createElement(Ni.ConfigProvider,{popupContainer:this.popupContainerId},r))),React.createElement("div",{id:this.popupContainerId}),React.createElement("div",{id:"engine-variable-setter-dialog"}),React.createElement("div",{id:"engine-popup-container"}))}}]),n}(r.PureComponent);function JE(e){return(JE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t_(r.key),r)}}function e_(e,t,n){return t&&ZE(e.prototype,t),n&&ZE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function t_(e){var t=n_(e,"string");return"symbol"===JE(t)?t:String(t)}function n_(e,t){if("object"!==JE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==JE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function r_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o_(e,t)}function o_(e,t){return(o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function i_(e){var t=c_();return function n(){var r=s_(e),o;if(t){var i=s_(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return a_(this,o)}}function a_(e,t){if(t&&("object"===JE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u_(e)}function u_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s_(e){return(s_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}qE.contextType=XE;var l_=function(e){r_(n,e);var t=i_(n);function n(){return QE(this,n),t.apply(this,arguments)}return e_(n,[{key:"render",value:function e(){var t=this.props,n=t.position,o=t.theme,i=t.children;return r.createElement("div",{style:{display:"none"},"data-role":"tip","data-position":n,"data-theme":o},i)}}]),n}(r.Component);l_.displayName="InlineTip",l_.defaultProps={position:"auto",theme:"black"};var f_=n(57),p_=n(58),h_=Object(a.createIntl)({"en-US":f_,"zh-CN":p_}),d_=h_.intl,v_=h_.intlNode,y_=h_.getLocale,m_=h_.setLocale;function b_(e){return(b_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j_(r.key),r)}}function O_(e,t,n){return t&&w_(e.prototype,t),n&&w_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function j_(e){var t=S_(e,"string");return"symbol"===b_(t)?t:String(t)}function S_(e,t){if("object"!==b_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function k_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return(E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function __(e){var t=N_();return function n(){var r=C_(e),o;if(t){var i=C_(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return P_(this,o)}}function P_(e,t){if(t&&("object"===b_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x_(e)}function x_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function C_(e){return(C_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var T_=new s.e({level:"warn",bizName:"skeleton:field"}),L_=function(e){k_(n,e);var t=__(n);function n(e){var r;return g_(this,n),(r=t.call(this,e)).state={collapsed:r.props.collapsed,display:r.props.defaultDisplay||"inline",hasError:!1},r.body=null,r.dispose=void 0,r.toggleExpand=function(){var e=r.props.onExpandChange,t=!r.state.collapsed;r.setState({collapsed:t}),e&&e(!t)},r.handleClear=r.handleClear.bind(x_(r)),r.clickHandler=r.clickHandler.bind(x_(r)),r}return O_(n,[{key:"deployBlockTesting",value:function e(){var t=this;this.dispose&&this.dispose();var n=this.body;if(n){var r=function e(){var r=n.firstElementChild;r&&r.classList.contains("lc-block-setter")?t.setState({display:"block"}):t.setState({display:"inline"})},o=new MutationObserver(r);r(),o.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),this.dispose=function(){return o.disconnect()}}}},{key:"handleClear",value:function e(t){t.stopPropagation(),this.props.onClear&&this.props.onClear()}},{key:"componentDidMount",value:function e(){var t=this.props.defaultDisplay;t&&"inline"!==t||this.deployBlockTesting()}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose()}},{key:"componentDidCatch",value:function e(t,n){T_.error("".concat(this.props.title," has error"),t,n)}},{key:"getTipContent",value:function e(t,n){var r=React.createElement("div",null,React.createElement("div",null,d_("Attribute: "),t));return Object(vo.isObject)(n)?r=React.createElement("div",null,React.createElement("div",null,d_("Attribute: "),t),React.createElement("div",null,d_("Description: "),n.content)):n&&(r=React.createElement("div",null,React.createElement("div",null,d_("Attribute: "),t),React.createElement("div",null,d_("Description: "),n))),r}},{key:"clickHandler",value:function e(t){var n=this.props,r=n.editor,o=n.name,i=n.title,a=n.meta;null==r||r.eventBus.emit("setting.setter.field.click",{name:o,title:i,meta:a,event:t})}},{key:"render",value:function e(){var t=this,n;if(this.state.hasError)return null;var r=this.props,o=r.className,i=r.children,u=r.meta,c=r.title,s=r.valueState,l=r.name,f=r.tip,p=this.state,h=p.display,d=p.collapsed,v="accordion"===h,y="";"object"===b_(u)?y="".concat((null==u?void 0:u.package)||"","-").concat(u.componentName||""):"string"==typeof u&&(y=u);var m="".concat(y,"-").concat(l||c["en-US"]||c["zh-CN"]),b=this.getTipContent(l,f);return React.createElement("div",{className:Jo()("lc-field lc-".concat(h,"-field"),o,{"lc-field-is-collapsed":v&&d}),id:m},"plain"!==h&&React.createElement("div",{className:"lc-field-head",onClick:v?this.toggleExpand:void 0},React.createElement("div",{className:"lc-field-title"},(this.handleClear,null),React.createElement(a.Title,{title:c||"",onClick:this.clickHandler}),React.createElement(l_,{position:"top"},b)),v&&React.createElement(Ni.Icon,{className:"lc-field-icon",type:"arrow-up",size:"xs"})),React.createElement("div",{key:"body",ref:function e(n){t.body=n},className:"lc-field-body"},i))}}],[{key:"getDerivedStateFromError",value:function e(){return{hasError:!0}}}]),n}(r.Component);function R_(){return null}var A_=function(e){k_(n,e);var t=__(n);function n(){var e;g_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).pipe=void 0,e}return O_(n,[{key:"render",value:function e(){var t=this,n=this.props,r=n.className,o=n.children,i=n.title,u=n.width;this.pipe||(this.pipe=this.context.create({width:u}));var c=i&&React.createElement("div",{className:"lc-field-title"},React.createElement(a.Title,{title:i}));return this.pipe.send(React.createElement("div",{className:"lc-field-body"},o),c),React.createElement("div",{className:Jo()("lc-field lc-popup-field",r)},i&&React.createElement("div",{className:"lc-field-head",onClick:function e(n){t.pipe.show(n.target)}},React.createElement("div",{className:"lc-field-title"},React.createElement(a.Title,{title:i})),React.createElement(Ni.Icon,{className:"lc-field-icon",type:"arrow-left",size:"xs"})))}}]),n}(r.Component);A_.contextType=XE,A_.defaultProps={width:300};var M_=function(e){k_(n,e);var t=__(n);function n(){return g_(this,n),t.apply(this,arguments)}return O_(n,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.className,o=t.stageName,i=Jo()("lc-field","lc-entry-field",r);return React.createElement("div",{className:i},React.createElement("div",{className:"lc-field-head","data-stage-target":o},React.createElement("div",{className:"lc-field-title"},React.createElement(a.Title,{title:n||""})),React.createElement(Ni.Icon,{className:"lc-field-icon",type:"arrow-right",size:"xs"})))}}]),n}(r.Component),D_=function(e){k_(n,e);var t=__(n);function n(){return g_(this,n),t.apply(this,arguments)}return O_(n,[{key:"render",value:function e(){var t=this.props,n=t.className,r=t.children;return React.createElement("div",{className:Jo()("lc-field lc-plain-field",n)},React.createElement("div",{className:"lc-field-body"},r))}}]),n}(r.Component),I_,B_,V_,F_;function G_(e){return(G_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H_(Object(n),!0).forEach((function(t){z_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z_(e,t,n){return(t=W_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_(e){var t=$_(e,"string");return"symbol"===G_(t)?t:String(t)}function $_(e,t){if("object"!==G_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==G_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function X_(e,t,n){return"popup"===n?Object(r.createElement)(A_,e,t):"entry"===n?Object(r.createElement)(M_,e,t):"plain"!==n&&e.title?Object(r.createElement)(L_,U_(U_({},e),{},{defaultDisplay:n}),t):Object(r.createElement)(D_,e,t)}function Y_(e){return(Y_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K_(Object(n),!0).forEach((function(t){J_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J_(e,t,n){return(t=tP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tP(r.key),r)}}function eP(e,t,n){return t&&Z_(e.prototype,t),n&&Z_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tP(e){var t=nP(e,"string");return"symbol"===Y_(t)?t:String(t)}function nP(e,t){if("object"!==Y_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Y_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function rP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oP(e,t)}function oP(e,t){return(oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function iP(e){var t=cP();return function n(){var r=sP(e),o;if(t){var i=sP(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aP(this,o)}}function aP(e,t){if(t&&("object"===Y_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uP(e)}function uP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function sP(e){return(sP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function lP(e){return!!e&&null==e.prototype;var t}function fP(e){return Object(s.J)(e)?!1!==e.visible&&Array.isArray(e.value)&&e.value.length>0:null!=e}var pP=((I_=function(e){rP(n,e);var t=iP(n);function n(e){var o,i;Q_(this,n),(i=t.call(this,e)).stageName=void 0,i.setters=void 0;var u=i.props.field,c,s=u.extraProps.display,l=null===(o=u.designer)||void 0===o?void 0:o.editor,f,p,h=((null==l?void 0:l.get("skeleton"))||{}).stages,d;return i.setters=null==l?void 0:l.get("setters"),"entry"===s&&Object(a.runInAction)((function(){var e;d="".concat(u.getNode().id,"_").concat(null===(e=u.name)||void 0===e?void 0:e.toString()),h.container.remove(d),h.add({type:"Widget",name:d,content:React.createElement(r.Fragment,null,u.items.map((function(e,t){return dP(e,u,t)}))),props:{title:u.title}})})),i.stageName=d,i}return eP(n,[{key:"field",get:function e(){return this.props.field}},{key:"visible",get:function e(){var t,n=this.field.extraProps.condition;try{return"function"!=typeof n||!1!==n(this.field.internalToShellField())}catch(e){console.error("exception when condition (hidden) is excuted",e)}return!0}},{key:"ignoreDefaultValue",get:function e(){var t,n=this.field.extraProps.ignoreDefaultValue;try{return"function"==typeof n&&n(this.field.internalToShellField())}catch(e){console.error("exception when ignoreDefaultValue is excuted",e)}return!1}},{key:"setterInfo",get:function e(){var t,n=this.field,r=n.extraProps,o=n.componentMeta,i=r.defaultValue,u=this.field.setter,c={},l,f=null;Array.isArray(u)?(l="MixedSetter",c={setters:u}):Object(s.U)(u)?(l=u.componentName,u.props&&"function"==typeof(c=u.props)&&(c=c(this.field.internalToShellField())),null!=u.initialValue&&(f=u.initialValue)):u&&(l=u),null==i||"defaultValue"in c||(c.defaultValue=i,null==f&&(f=i)),-1===this.field.valueState&&(c.multiValue=!0,"placeholder"in c||(c.placeholder=d_("Multiple Value")));var p=null===(t=this.field.extraProps)||void 0===t?void 0:t.supportVariable,h=a.engineConfig.get("supportVariableGlobally",!1)&&lP(o),d;return!1===Object(s.bb)(p,h)||("MixedSetter"===l?Array.isArray(c.setters)&&!c.setters.includes("VariableSetter")&&c.setters.push("VariableSetter"):(l="MixedSetter",c={setters:[u,"VariableSetter"]})),{setterProps:c,initialValue:f,setterType:l}}},{key:"value",get:function e(){return-1===this.field.valueState?null:this.field.getValue()}},{key:"initDefaultValue",value:function e(){var t,n=this.setterInfo.initialValue;if(!(null!==(t=this.state)&&void 0!==t&&t.fromOnChange||!fP(n)||this.ignoreDefaultValue||void 0!==this.value)){var r="function"==typeof n?n(this.field.internalToShellField()):n;this.field.setValue(r)}}},{key:"componentDidMount",value:function e(){this.initDefaultValue()}},{key:"render",value:function e(){var t,n,r,o,i,u=this,c=this.field,s=c.extraProps,l;if(!this.visible)return null;var f=this.setterInfo,p=f.setterProps,h=void 0===p?{}:p,d=f.setterType,v=f.initialValue,y=void 0===v?null:v,m=this.value,b=null==s?void 0:s.onChange,g=this.stageName;return X_(q_({meta:(null==c||null===(t=c.componentMeta)||void 0===t?void 0:t.npm)||(null==c||null===(n=c.componentMeta)||void 0===n?void 0:n.componentName)||"",title:c.title,collapsed:!c.expanded,valueState:c.isRequired?10:c.valueState,onExpandChange:function e(t){return c.setExpanded(t)},onClear:function e(){return c.clearValue()},stageName:g},s),!g&&(null===(r=this.setters)||void 0===r?void 0:r.createSetterContent(d,q_(q_({},Object(a.shallowIntl)(h)),{},{forceInline:s.forceInline,key:c.id,prop:c.internalToShellField(),selected:null===(o=c.top)||void 0===o||null===(i=o.getNode())||void 0===i?void 0:i.internalToShellNode(),field:c.internalToShellField(),value:m,initialValue:y,onChange:function e(t){u.setState({fromOnChange:!0,value:t}),c.setValue(t,!0),b&&b(t,c)},onInitial:function e(){if(null!=y){var t="function"==typeof y?y(c.internalToShellField()):y;u.setState({value:t}),c.setValue(t,!0)}},removeProp:function e(){c.name&&c.parent.clearPropValue(c.name)}}))),s.forceInline?"plain":s.display)}}]),n}(r.Component)).contextType=uv,I_);pP=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],pP);var hP=((B_=function(e){rP(n,e);var t=iP(n);function n(e){var o,i;Q_(this,n),(i=t.call(this,e)).stageName=void 0;var u=i.props.field,c,s=u.extraProps.display,l=null===(o=i.props.field.designer)||void 0===o?void 0:o.editor,f,p=(null==l?void 0:l.get("skeleton")).stages,h;return"entry"===s&&Object(a.runInAction)((function(){var e;h="".concat(u.getNode().id,"_").concat(null===(e=u.name)||void 0===e?void 0:e.toString()),p.container.remove(h),p.add({type:"Widget",name:h,content:React.createElement(r.Fragment,null,u.items.map((function(e,t){return dP(e,u,t)}))),props:{title:u.title}})})),i.stageName=h,i}return eP(n,[{key:"render",value:function e(){var t,n,r=this.props.field,o=r.extraProps,i=o.condition,a=o.display,u;return!r.isSingle||"function"!=typeof i||!1!==i(r.internalToShellField())?X_({meta:(null===(t=r.componentMeta)||void 0===t?void 0:t.npm)||(null===(n=r.componentMeta)||void 0===n?void 0:n.componentName)||"",title:r.title,collapsed:!r.expanded,onExpandChange:function e(t){return r.setExpanded(t)},stageName:this.stageName},r.items.map((function(e,t){return dP(e,r,t)})),a):null}}]),n}(r.Component)).contextType=uv,B_);function dP(e,t,n){return ul(e)?e.isGroup?React.createElement(hP,{field:e,key:e.id}):React.createElement(pP,{field:e,key:e.id}):Object(s.m)(e,{key:n,field:t})}hP=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],hP);var vP=((V_=function(e){rP(n,e);var t=iP(n);function n(){var e;Q_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).currentStage=void 0,e.popupPipe=new YE,e.pipe=e.popupPipe.create(),e.handleClick=function(t){var n=e.props.usePopup,r;if(void 0===n||n){var o=t.currentTarget,i=c(t.target);if(i){var a=e.context;if(a&&a.stages){var u=a.stages.container.get(i);u&&(e.currentStage&&u.setPrevious(e.currentStage),e.currentStage=u)}}}function c(e){if(!o.contains(e)||"A"===e.nodeName&&e.getAttribute("href"))return null;var t=e.dataset?e.dataset.stageTarget:null;return t||c(e.parentNode)}},e}return eP(n,[{key:"popStage",value:function e(){var t;this.currentStage=null===(t=this.currentStage)||void 0===t?void 0:t.getPrevious()}},{key:"render",value:function e(){var t=this.props.target,n=t.items;return React.createElement("div",{className:"lc-settings-pane",onClick:this.handleClick},React.createElement(KE,{popupPipe:this.popupPipe},React.createElement("div",{className:"lc-settings-content"},n.map((function(e,n){return dP(e,t,n)})))))}}]),n}(r.Component)).contextType=uv,V_);function yP(e){return(yP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wP(r.key),r)}}function gP(e,t,n){return t&&bP(e.prototype,t),n&&bP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wP(e){var t=OP(e,"string");return"symbol"===yP(t)?t:String(t)}function OP(e,t){if("object"!==yP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx,Object(c.d)("design:type","function"==typeof(F_=void 0!==Wk&&Wk)?F_:Object)],vP.prototype,"currentStage",void 0),vP=Object(c.b)([a.observer],vP);var jP=function(){function e(t){mP(this,e),this.emitter=void 0,this.stage=void 0,this.emitter=Object(a.createModuleEventBus)("StageChain"),this.stage=t}return gP(e,[{key:"stagePush",value:function e(t){t&&(t.setPrevious(this.stage),t.setReferLeft(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"stageBack",value:function e(){var t=this.stage.getPrevious();t&&(t.setReferRight(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"stageBackToRoot",value:function e(){for(var t=this.stage.getPrevious();t&&!t.isRoot;)t=t.getPrevious();t&&(t.setReferRight(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"getCurrentStage",value:function e(){return this.stage}},{key:"onStageChange",value:function e(t){var n=this;return this.emitter.on("stagechange",t),function(){n.emitter.removeListener("stagechange",t)}}}]),e}();function SP(){return(SP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kP(e){return React.createElement(s.f,SP({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z"}))}function EP(){return(EP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _P(e){return React.createElement(s.f,EP({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M723.872 478.4l-81.12-81.152L688 352l135.776 135.776L846.4 510.4 688 668.8l-45.248-45.28 81.12-81.12H384v-64h339.872zM576 896H256.192A64.16 64.16 0 0 1 192 831.84V192.16c0-35.424 28.704-64.16 64.192-64.16H576v64H288.224A31.968 31.968 0 0 0 256 223.744v576.512C256 817.44 270.4 832 288.224 832H576v64z"}))}function PP(e){return(PP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TP(r.key),r)}}function CP(e,t,n){return t&&NP(e.prototype,t),n&&NP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function TP(e){var t=LP(e,"string");return"symbol"===PP(t)?t:String(t)}function LP(e,t){if("object"!==PP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==PP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function RP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AP(e,t)}function AP(e,t){return(AP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function MP(e){var t=BP();return function n(){var r=VP(e),o;if(t){var i=VP(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return DP(this,o)}}function DP(e,t){if(t&&("object"===PP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return IP(e)}function IP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function VP(e){return(VP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}kP.displayName="Arrow",_P.displayName="Exit";var FP={current:!1},GP=function(e){RP(n,e);var t=MP(n);function n(){var e;xP(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).timer=void 0,e.additionClassName=void 0,e.shell=void 0,e}return CP(n,[{key:"componentDidMount",value:function e(){this.doSkate()}},{key:"componentDidUpdate",value:function e(){this.doSkate()}},{key:"componentWillUnmount",value:function e(){window.clearTimeout(this.timer)}},{key:"doSkate",value:function e(){var t=this;window.clearTimeout(this.timer),this.additionClassName&&(this.timer=window.setTimeout((function(){var e=t.shell;e&&(t.props.current?e.classList.remove(t.additionClassName):e.classList.add(t.additionClassName),t.additionClassName=null)}),15))}},{key:"render",value:function e(){var t=this,n=this.props,r=n.stage,i=n.current,a=n.direction,u=null==r?void 0:r.getContent(),c=r.title,l=Object(s.X)(c)?c.label:c;i?a&&(this.additionClassName="skeleton-stagebox-stagein-".concat(a)):a&&(this.additionClassName="skeleton-stagebox-stageout-".concat(a));var f=Jo()("skeleton-stagebox-stage",{"skeleton-stagebox-refer":!i},this.additionClassName),p=null!=r&&r.hasBack()?o.a.createElement("div",{className:"skeleton-stagebox-stagebacker"},o.a.createElement(kP,{className:"skeleton-stagebox-stage-arrow",size:"medium","data-stage-target":"stageback"}),o.a.createElement("span",{className:"skeleton-stagebox-stage-title"},l),o.a.createElement(_P,{className:"skeleton-stagebox-stage-exit",size:"medium","data-stage-target":"stageexit"})):null;return o.a.createElement("div",{ref:function e(n){t.shell=n},className:f},p,o.a.createElement("div",{className:"skeleton-stagebox-stage-content"},u))}}]),n}(r.Component),HP;function UP(e){return(UP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XP(r.key),r)}}function $P(e,t,n){return t&&WP(e.prototype,t),n&&WP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XP(e){var t=YP(e,"string");return"symbol"===UP(t)?t:String(t)}function YP(e,t){if("object"!==UP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==UP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function KP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qP(e,t)}function qP(e,t){return(qP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function JP(e){var t=ex();return function n(){var r=tx(e),o;if(t){var i=tx(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return QP(this,o)}}function QP(e,t){if(t&&("object"===UP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ZP(e)}function ZP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ex(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tx(e){return(tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}GP.defaultProps=FP;var nx={},rx=((HP=function(e){KP(n,e);var t=JP(n);function n(e){var r;zP(this,n),(r=t.call(this,e)).stageChain=void 0,r.willDetach=[],r.shell=void 0,r.popupPipe=new YE,r.pipe=r.popupPipe.create();var o=r.props,i=o.stageChain,a=o.children,u=o.skeleton;if(i)r.stageChain=i;else{var c=u.createStage({content:a,isRoot:!0});r.stageChain=new jP(u.getStage(c))}return r.willDetach.push(r.stageChain.onStageChange((function(){return r.forceUpdate()}))),r}return $P(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.shell,r=function e(t){if(!t||null==n||!n.contains(t)||"A"===t.nodeName&&t.getAttribute("href"))return null;var r=t.dataset?t.dataset.stageTarget:null;return r||e(t.parentNode)},o=function e(n){var o=r(n.target);if(o)if("stageback"===o)t.stageChain.stageBack();else if("stageexit"===o)t.stageChain.stageBackToRoot();else{var i=t.props.skeleton;t.stageChain.stagePush(i.getStage(o))}};null==n||n.addEventListener("click",o,!1),this.willDetach.push((function(){return null==n?void 0:n.removeEventListener("click",o,!1)}))}},{key:"componentWillUnmount",value:function e(){this.willDetach&&this.willDetach.forEach((function(e){return e()}))}},{key:"render",value:function e(){var t=this,n=Jo()("skeleton-stagebox",this.props.className),r=this.stageChain.getCurrentStage(),i=null==r?void 0:r.getRefer(),a=null,u=null,c;i?(a=o.a.createElement(GP,{key:r.getId(),stage:r,direction:i.direction,current:!0}),u=o.a.createElement(GP,{key:null==i||null===(c=i.stage)||void 0===c?void 0:c.getId(),stage:null==i?void 0:i.stage,direction:i.direction})):a=o.a.createElement(GP,{key:r.getId(),stage:r,current:!0});return o.a.createElement("div",{ref:function e(n){t.shell=n},className:n},o.a.createElement(KE,{popupPipe:this.popupPipe},u,a))}}]),n}(r.Component)).defaultProps=nx,HP.displayName="StageBox",HP),ox=rx=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],rx),ix=n(113);function ax(e){return(ax="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ux(){return(ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cx(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */cx=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==ax(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function sx(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function lx(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){sx(i,r,o,a,u,"next",e)}function u(e){sx(i,r,o,a,u,"throw",e)}a(void 0)}))}}function fx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function px(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dx(r.key),r)}}function hx(e,t,n){return t&&px(e.prototype,t),n&&px(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dx(e){var t=vx(e,"string");return"symbol"===ax(t)?t:String(t)}function vx(e,t){if("object"!==ax(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ax(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function yx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mx(e,t)}function mx(e,t){return(mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function bx(e){var t=Ox();return function n(){var r=jx(e),o;if(t){var i=jx(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return gx(this,o)}}function gx(e,t){if(t&&("object"===ax(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wx(e)}function wx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ox(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function jx(e){return(jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Sx=function(e){yx(n,e);var t=bx(n);function n(e){var r;return fx(this,n),(r=t.call(this,e)).state={shouldIgnoreRoot:!1},r.main=new jE(r.props.engineEditor),r._activeKey=void 0,Object(a.makeObservable)(wx(r)),r}return hx(n,[{key:"componentDidMount",value:function e(){var t=this,n;this.setShouldIgnoreRoot(),this.props.engineEditor.eventBus.on("designer.selection.change",(function(){a.engineConfig.get("stayOnTheSameSettingTab",!1)||(t._activeKey=null)}))}},{key:"setShouldIgnoreRoot",value:function(){var e=lx(cx().mark((function e(){var t;return cx().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.globalContext.get("editor").get("designMode");case 2:t=n.sent,this.setState({shouldIgnoreRoot:"live"===t});case 4:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this.main.purge()}},{key:"renderBreadcrumb",value:function e(){var t,n,r,i,u=this.main,c=u.settings,l=u.editor,f=this.state.shouldIgnoreRoot,p;if(!c)return null;if(c.isMultiple)return o.a.createElement("div",{className:"lc-settings-navigator"},Object(s.n)(null===(p=c.componentMeta)||void 0===p?void 0:p.icon,{className:"lc-settings-navigator-icon",class:"lc-settings-navigator-icon"}),o.a.createElement(a.Title,{title:c.componentMeta.title}),o.a.createElement("span",null," x ",c.nodes.length));for(var h=l.get("designer"),d=null==h||null===(t=h.currentSelection)||void 0===t||null===(n=t.getNodes())||void 0===n?void 0:n[0],v=c.first,y=null===(r=v.document)||void 0===r?void 0:r.focusNode,m=[],b=3,g=function e(){var t=v;if(f&&v.isRoot())return"break";y&&v.contains(y)&&(b=0);var n=2===b?{}:{onMouseOver:kx.bind(null,t,!0),onMouseOut:kx.bind(null,t,!1),onClick:function e(){if(t){Ex.call(null,t);var n=function e(t){var n,r,o=null==t||null===(n=t.componentMeta)||void 0===n?void 0:n.npm;return[null==o?void 0:o.package,null==o?void 0:o.componentName].filter((function(e){return!!e})).join("-")||(null==t||null===(r=t.componentMeta)||void 0===r?void 0:r.componentName)||""},r=n(d),o=n(t);null==l||l.eventBus.emit("skeleton.settingsPane.Breadcrumb",{selected:r,target:o})}}};m.unshift(o.a.createElement(Ni.Breadcrumb.Item,ux({},n,{key:v.id}),o.a.createElement(a.Title,{title:v.title}))),v=v.parent};b-- >0&&v;){var w;if("break"===g())break}return o.a.createElement("div",{className:"lc-settings-navigator"},Object(s.n)(null===(i=this.main.componentMeta)||void 0===i?void 0:i.icon,{className:"lc-settings-navigator-icon",class:"lc-settings-navigator-icon"}),o.a.createElement(Ni.Breadcrumb,{className:"lc-settings-node-breadcrumb"},m))}},{key:"render",value:function e(){var t=this,n=this.main.settings,r=this.props.engineEditor;if(!n)return o.a.createElement("div",{className:"lc-settings-main"},o.a.createElement("div",{className:"lc-settings-notice"},o.a.createElement("p",null,d_("Please select a node in canvas"))));if(n.isLocked&&!a.engineConfig.get("enableLockedNodeSetting",!1))return o.a.createElement("div",{className:"lc-settings-main"},o.a.createElement("div",{className:"lc-settings-notice"},o.a.createElement("p",null,d_("Current node is locked"))));if(Array.isArray(n.items)&&0===n.items.length)return o.a.createElement("div",{className:"lc-settings-main"},o.a.createElement("div",{className:"lc-settings-notice"},o.a.createElement("p",null,d_("No config found for this type of component"))));if(!n.isSameComponent)return o.a.createElement("div",{className:"lc-settings-main"},o.a.createElement("div",{className:"lc-settings-notice"},o.a.createElement("p",null,d_("Please select same kind of components"))));var i=n.items;if(i.length>5||i.some((function(e){return!ul(e)||!e.isGroup})))return o.a.createElement("div",{className:"lc-settings-main"},this.renderBreadcrumb(),o.a.createElement("div",{className:"lc-settings-body"},o.a.createElement(uv.Consumer,null,(function(e){return e?o.a.createElement(ox,{skeleton:e,target:n,key:n.id},o.a.createElement(vP,{target:n,usePopup:!1})):null}))));var u=!1,c=i.map((function(e){return t._activeKey===e.name&&(u=!0),o.a.createElement(Ni.Tab.Item,{className:"lc-settings-tab-item",title:o.a.createElement(a.Title,{title:e.title}),key:e.name,onClick:function t(){null==r||r.eventBus.emit("skeleton.settingsPane.change",{name:e.name,title:e.title})}},o.a.createElement(uv.Consumer,null,(function(t){return t?o.a.createElement(ox,{skeleton:t,target:e,key:e.id},o.a.createElement(vP,{target:e,key:e.id,usePopup:!1})):null})))})),s=u?this._activeKey:i[0].name,l=Jo()("lc-settings-main",{"lc-settings-hide-tabs":1===i.length&&a.engineConfig.get("hideSettingsTabsWhenOnlyOneItem",!1)});return o.a.createElement("div",{className:l},this.renderBreadcrumb(),o.a.createElement(Ni.Tab,{activeKey:s,onChange:function e(n){t._activeKey=n},navClassName:"lc-settings-tabs",animation:!1,excessMode:"dropdown",contentClassName:"lc-settings-tabs-content"},c))}}]),n}(r.Component);function kx(e,t){e.hover(t)}function Ex(e){null==e||e.select()}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],Sx.prototype,"_activeKey",void 0),Sx=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],Sx);var _x=/^function/,Px=/^\w+\s*\(/,xx=Object(s.r)({level:"warn",bizName:"skeleton:transducers"});function Nx(e){if("string"!=typeof e)return e;var t;Px.test(e)&&!_x.test(e)&&(e="function ".concat(e));var n="\n    return function() {\n      const self = this;\n      try {\n        return (".concat(e,").apply(self, arguments);\n      } catch(e) {\n        console.warn('call function which parsed by lowcode failed: ', e);\n        return e.message;\n      }\n    };\n  ");try{t=new Function(n)()}catch(t){xx.error(e),xx.error(t.message)}return t}function Cx(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&Object.keys(e).forEach((function(n){var r=e[n];Object(s.I)(r)?e[n]=Nx(r.value):Array.isArray(r)?r.forEach((function(e){return Cx(e,t)})):Object(s.P)(r)&&Cx(r,t)}))}var Tx=function(e){return Cx(e,!1),e};function Lx(e){return Dx(e)||Mx(e)||Ax(e)||Rx()}function Rx(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ax(e,t){if(e){if("string"==typeof e)return Ix(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ix(e,t):void 0}}function Mx(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Dx(e){if(Array.isArray(e))return Ix(e)}function Ix(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bx(e){return(Bx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vx(Object(n),!0).forEach((function(t){Gx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gx(e,t,n){return(t=Hx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hx(e){var t=Ux(e,"string");return"symbol"===Bx(t)?t:String(t)}function Ux(e,t){if("object"!==Bx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function zx(e){var t=e.name,n=e.description,r;return Fx(Fx({title:{label:{type:"i18n","en-US":t,"zh-CN":(null==n?void 0:n.slice(0,10))||t},tip:n?"".concat(t," | ").concat(n):void 0}},e),{},{setter:e.setter?e.setter:Wx(e.propType)})}function Wx(e){var t,n=!1;switch("string"==typeof e?t=e:"object"===Bx(e)?(t=e.type,n=e.isRequired):t="string",t){case"string":return{componentName:"StringSetter",isRequired:n,initialValue:""};case"number":return{componentName:"NumberSetter",isRequired:n,initialValue:0};case"bool":return{componentName:"BoolSetter",isRequired:n,initialValue:!1};case"oneOf":var r=(e.value||[]).map((function(e,t){var n=Bx(e);return{label:"string"===n||"number"===n||"boolean"===n?String(e):"value ".concat(t),value:e}})),o;return{componentName:r.length>=4?"SelectSetter":"RadioGroupSetter",props:{dataSource:r,options:r},isRequired:n,initialValue:r[0]?r[0].value:null};case"element":case"node":return{componentName:"SlotSetter",props:{mode:t},isRequired:n,initialValue:{type:"JSSlot",value:[]}};case"shape":case"exact":var i=(e.value||[]).map((function(e){return zx(e)}));return{componentName:"ObjectSetter",props:{config:{items:i,extraSetter:"shape"===t?Wx("any"):null}},isRequired:n,initialValue:function e(t){var n={};return i.forEach((function(e){var r=e.defaultValue;null==r&&e.setter&&"object"===Bx(e.setter)&&(r=e.setter.initialValue),n[e.name]=r?"function"==typeof r?r(t):r:null})),n}};case"object":case"objectOf":return{componentName:"ObjectSetter",props:{config:{extraSetter:Wx("objectOf"===t?e.value:"any")}},isRequired:n,initialValue:{}};case"array":case"arrayOf":return{componentName:"ArraySetter",props:{itemSetter:Wx("arrayOf"===t?e.value:"any")},isRequired:n,initialValue:[]};case"func":return{componentName:"FunctionSetter",isRequired:n};case"color":return{componentName:"ColorSetter",isRequired:n};case"oneOfType":return{componentName:"MixedSetter",props:{setters:e.value.map((function(e){return Wx(e)}))},isRequired:n}}return{componentName:"MixedSetter",isRequired:n,props:{}}}var $x=/^on|after|before[A-Z][\w]*$/,Xx=function(e){var t=e.configure,n=void 0===t?{}:t,r=null;if(n.props){if(Array.isArray(n.props))return e;var o=n.props,i=o.isExtends,a=o.override,u=void 0===a?[]:a;if(!i)return Fx(Fx({},e),{},{configure:Fx(Fx({},n),{},{props:Lx(u)})});r={},u.forEach((function(e){r[e.name]=e}))}if(!e.props)return Fx(Fx({},e),{},{configure:Fx(Fx({},n),{},{props:[]})});var c=n.component,s=void 0===c?{}:c,l=n.supports,f=void 0===l?{}:l,p=f.events?null:[],h=[];return e.props.forEach((function(e){var t=e,n=t.name,o=t.propType,i=t.description;if("children"===n&&(s.isContainer||"node"===o||"element"===o||"any"===o)&&!1!==s.isContainer)return s.isContainer=!0,void h.push(zx(e));!$x.test(n)||"func"!==o&&"any"!==o?"className"!==n||"string"!==o&&"any"!==o?"style"!==n||"object"!==o&&"any"!==o?(r&&n in r&&(e=r[n]),h.push(zx(e))):null==f.style&&(f.style=!0):null==f.className&&(f.className=!0):p&&(p.push({name:n,description:i}),f.events=p)})),Fx(Fx({},e),{},{configure:Fx(Fx({},n),{},{props:h,supports:f,component:s})})};function Yx(){return(Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kx(e){return React.createElement(s.f,Yx({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M682.325333 135.509333V204.8H819.2v613.376h-614.741333V204.8h136.874666v-69.290667h-206.165333v752.298667h754.346667V135.509333z",c:"Q29weXJpZ2h0IChjKSAyMDIwLXByZXNlbnQgQWxpYmFiYSBJbmMu"}),React.createElement("path",{d:"M512 512m-170.325333 0a170.325333 170.325333 0 1 0 340.650666 0 170.325333 170.325333 0 1 0-340.650666 0Z"}))}function qx(e){return(qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jx(e){return tN(e)||eN(e)||Zx(e)||Qx()}function Qx(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zx(e,t){if(e){if("string"==typeof e)return nN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nN(e,t):void 0}}function eN(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function tN(e){if(Array.isArray(e))return nN(e)}function nN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rN(Object(n),!0).forEach((function(t){iN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iN(e,t,n){return(t=aN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aN(e){var t=uN(e,"string");return"symbol"===qx(t)?t:String(t)}function uN(e,t){if("object"!==qx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Kx.displayName="IconSlot";var cN=function(e){var t=e.componentName,n=e.configure,r=void 0===n?{}:n;if(r.combined)return e;if("Leaf"===t)return oN(oN({},e),{},{configure:oN(oN({},r),{},{combined:[{name:"children",title:{type:"i18n","zh-CN":"\u5185\u5bb9\u8bbe\u7f6e","en-US":"Content"},setter:{componentName:"MixedSetter",props:{setters:[{componentName:"StringSetter",props:{multiline:!0},initialValue:""},{componentName:"ExpressionSetter",initialValue:{type:"JSExpression",value:""}}]}}}]})});var o=r.props,i=r.supports,a=void 0===i?{}:i,u="Page"===t||"Component"===t,c=[],s=a.lifecycles||null;s&&c.push({type:"lifeCycleEvent",title:"\u751f\u547d\u5468\u671f",list:s.map((function(e){return"string"==typeof e?{name:e}:e}))}),a.events&&c.push({type:"events",title:"\u4e8b\u4ef6",list:(a.events||[]).map((function(e){return"string"==typeof e?{name:e}:e}))});var l=o?Jx(o):[],f={};"Slot"===t&&(r.component?"object"===qx(r.component)&&(r.component.isContainer=!0):r.component={isContainer:!0},f.icon=Kx,l=[{name:q("title"),title:{type:"i18n","en-US":"Slot Title","zh-CN":"\u63d2\u69fd\u6807\u9898"},setter:"StringSetter",defaultValue:"\u63d2\u69fd\u5bb9\u5668"}]);var p=[],h=[];if(l)for(var d=l.length;d-- >0;){var v=l[d],y;if("__style__"===v.name||"style"===v.name||"containerStyle"===v.name||"pageStyle"===v.name)l.splice(d,1),p.push(v),null!==(y=v.extraProps)&&void 0!==y&&y.defaultCollapsed&&"containerStyle"!==v.name&&(v.extraProps.defaultCollapsed=!1)}var m=[{title:{type:"i18n","zh-CN":"\u5c5e\u6027","en-US":"Props"},name:"#props",items:l}];return a.className&&p.push({name:"className",title:{type:"i18n","zh-CN":"\u7c7b\u540d\u7ed1\u5b9a","en-US":"ClassName"},setter:"ClassNameSetter"}),a.style&&p.push({name:"style",title:{type:"i18n","zh-CN":"\u884c\u5185\u6837\u5f0f","en-US":"Style"},setter:"StyleSetter",extraProps:{display:"block"}}),p.length>0&&m.push({name:"#styles",title:{type:"i18n","zh-CN":"\u6837\u5f0f","en-US":"Styles"},items:p}),c.length>0&&m.push({name:"#events",title:{type:"i18n","zh-CN":"\u4e8b\u4ef6","en-US":"Events"},items:[{name:"__events",title:{type:"i18n","zh-CN":"\u4e8b\u4ef6\u8bbe\u7f6e","en-US":"Events"},setter:{componentName:"EventsSetter",props:{definition:c}},getValue:function e(t,n){return n},setValue:function e(t,n){var r=n.eventDataList,o=n.eventList;Array.isArray(o)&&o.map((function(e){return t.parent.clearPropValue(e.name),e})),Array.isArray(r)&&r.map((function(e){return t.parent.setPropValue(e.name,{type:"JSFunction",value:"function(){return this.".concat(e.relatedEventName,".apply(this,Array.prototype.slice.call(arguments).concat([").concat(e.paramStr?e.paramStr:"","])) }")}),e}))}}]}),u||(!1!==a.condition&&h.push({name:q("condition"),title:{type:"i18n","zh-CN":"\u662f\u5426\u6e32\u67d3","en-US":"Condition"},defaultValue:!0,setter:[{componentName:"BoolSetter"},{componentName:"VariableSetter"}],extraProps:{display:"block"}}),!1!==a.loop&&h.push({name:"#loop",title:{type:"i18n","zh-CN":"\u5faa\u73af","en-US":"Loop"},items:[{name:q("loop"),title:{type:"i18n","zh-CN":"\u5faa\u73af\u6570\u636e","en-US":"Loop Data"},setter:[{componentName:"JsonSetter",props:{label:{type:"i18n","zh-CN":"\u7f16\u8f91\u6570\u636e","en-US":"Edit Data"},defaultValue:"[]"}},{componentName:"VariableSetter"}]},{name:q("loopArgs.0"),title:{type:"i18n","zh-CN":"\u8fed\u4ee3\u53d8\u91cf\u540d","en-US":"Loop Item"},setter:{componentName:"StringSetter",props:{placeholder:{type:"i18n","zh-CN":"\u9ed8\u8ba4\u4e3a: item","en-US":"Defaults: item"}}}},{name:q("loopArgs.1"),title:{type:"i18n","zh-CN":"\u7d22\u5f15\u53d8\u91cf\u540d","en-US":"Loop Index"},setter:{componentName:"StringSetter",props:{placeholder:{type:"i18n","zh-CN":"\u9ed8\u8ba4\u4e3a: index","en-US":"Defaults: index"}}}},{name:"key",title:{type:"i18n","zh-CN":"\u5faa\u73af Key","en-US":"Loop Key"},setter:[{componentName:"StringSetter"},{componentName:"VariableSetter"}]}],extraProps:{display:"accordion"}}),!1===a.condition&&!1===a.loop||h.push({name:"key",title:{label:{type:"i18n","zh-CN":"\u6e32\u67d3\u552f\u4e00\u6807\u8bc6 (key)","en-US":"Render unique identifier (key)"},tip:{type:"i18n","zh-CN":"\u642d\u914d\u300c\u6761\u4ef6\u6e32\u67d3\u300d\u6216\u300c\u5faa\u73af\u6e32\u67d3\u300d\u65f6\u4f7f\u7528\uff0c\u548c react \u7ec4\u4ef6\u4e2d\u7684 key \u539f\u7406\u76f8\u540c\uff0c\u70b9\u51fb\u67e5\u770b\u5e2e\u52a9","en-US":"Used with \u300cConditional Rendering\u300dor\u300cCycle Rendering\u300d, the same principle as the key in the react component, click to view the help"},docUrl:"https://www.yuque.com/lce/doc/qm75w3"},setter:[{componentName:"StringSetter"},{componentName:"VariableSetter"}],extraProps:{display:"block"}})),h.length>0&&m.push({name:"#advanced",title:{type:"i18n","zh-CN":"\u9ad8\u7ea7","en-US":"Advanced"},items:h}),oN(oN(oN({},e),f),{},{configure:oN(oN({},r),{},{combined:m})})},sN=function e(t){var n=t.material;return{init:function e(){n.registerMetadataTransducer(Tx,1,"parse-func"),n.registerMetadataTransducer(Xx,5,"parse-props"),n.registerMetadataTransducer(cN,10,"combine-props")}}};function lN(e){return(lN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dN(r.key),r)}}function hN(e,t,n){return t&&pN(e.prototype,t),n&&pN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dN(e){var t=vN(e,"string");return"symbol"===lN(t)?t:String(t)}function vN(e,t){if("object"!==lN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==lN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function yN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mN(e,t)}function mN(e,t){return(mN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function bN(e){var t=ON();return function n(){var r=jN(e),o;if(t){var i=jN(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return gN(this,o)}}function gN(e,t){if(t&&("object"===lN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wN(e)}function wN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ON(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function jN(e){return(jN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}sN.pluginName="___register_defaults___";var SN=function(e){yN(n,e);var t=bN(n);function n(){return fN(this,n),t.apply(this,arguments)}return hN(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName;return n.isEmpty()?null:React.createElement("div",{className:Jo()("lc-sub-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(EN,{area:n,itemClassName:r}))}}]),n}(r.Component),kN=SN=Object(c.b)([a.observer],SN),EN=function(e){yN(n,e);var t=bN(n);function n(){return fN(this,n),t.apply(this,arguments)}return hN(n,[{key:"render",value:function e(){var t=this.props,n=t.area,o=t.itemClassName,i=[],a=[],u=[];n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:o||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):u.push(t)}));var c=[];return i&&i.length&&c.push(React.createElement("div",{className:"lc-sub-top-area-left"},i)),a&&a.length&&c.push(React.createElement("div",{className:"lc-sub-top-area-center"},a)),u&&u.length&&c.push(React.createElement("div",{className:"lc-sub-top-area-right"},u)),React.createElement(r.Fragment,null,c)}}]),n}(r.Component);function _N(e){return(_N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */PN=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==_N(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function xN(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function NN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){xN(i,r,o,a,u,"next",e)}function u(e){xN(i,r,o,a,u,"throw",e)}a(void 0)}))}}function CN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LN(r.key),r)}}function TN(e,t,n){return t&&CN(e.prototype,t),n&&CN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LN(e){var t=RN(e,"string");return"symbol"===_N(t)?t:String(t)}function RN(e,t){if("object"!==_N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function AN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}EN=Object(c.b)([a.observer],EN);var MN=TN((function e(t,n,r,o){AN(this,e),this.registerLevel=void 0,this.editorWindow=void 0,this.skeleton=void 0,this.plugins=void 0,this.project=void 0,this.setters=void 0,this.material=void 0,this.common=void 0,this.config=void 0,this.event=void 0,this.logger=void 0,this.hotkey=void 0,this.innerProject=void 0,this.editor=void 0,this.designer=void 0,this.registerInnerPlugins=void 0,this.innerSetters=void 0,this.innerSkeleton=void 0,this.innerHotkey=void 0,this.innerPlugins=void 0,this.canvas=void 0,this.pluginEvent=void 0,this.preference=void 0,this.workspace=void 0,this.registerLevel=r,this.editorWindow=o;var i=new a.Editor(n,!0),u=new sE(i,n);i.set("skeleton",u);var c=new hf({editor:i,viewName:n,shellModelFactory:null==t?void 0:t.shellModelFactory});i.set("designer",c);var l=c.project,f=new $g(t),p=new a.Hotkey(n),h=new Bm(p,!0),d=new a.Setters(n),v=new Zb(d,!0),y=new ab(i,!0),m=new Ub(l,!0),b=a.engineConfig,g=new Nm(a.commonEvent,{prefix:"common"}),w=Object(s.r)({level:"warn",bizName:"common"}),O=new kg(u,"any",!0),j=new Dg(i,!0);i.set("setters",v),i.set("project",m),i.set("material",y),i.set("hotkey",h),i.set("innerHotkey",p),this.innerSetters=d,this.innerSkeleton=u,this.skeleton=O,this.innerProject=l,this.project=m,this.setters=v,this.material=y,this.config=b,this.event=g,this.logger=w,this.hotkey=h,this.innerHotkey=p,this.editor=i,this.designer=c,this.canvas=j;var S=new wm(i,u),k;this.common=S;var E,_=new Lp({assembleApis:function e(t,n,i){t.workspace=f,t.hotkey=h,t.project=m,t.skeleton=new kg(u,n,!0),t.setters=v,t.material=y;var c=(null==i?void 0:i.eventPrefix)||"common";t.event=new Nm(a.commonEvent,{prefix:c}),t.config=b,t.common=S,t.plugins=k,t.logger=new $m({level:"warn",bizName:"plugin:".concat(n)}),t.canvas=j,o&&(t.editorWindow=new mj(o)),t.registerLevel=r}},n);this.innerPlugins=_,k=new mb(_,!0).toProxy(),i.set("plugins",k),i.set("innerPlugins",_),this.plugins=k,this.registerInnerPlugins=function(){var e=NN(PN().mark((function e(){return PN().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==t?void 0:t.registryInnerPlugin(c,i,k);case 2:case"end":return n.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})),DN=n(6);function IN(e){return React.createElement("div",{className:"lc-designer lowcode-plugin-designer"},React.createElement("div",{className:"lc-project"},React.createElement("div",{className:"lc-simulator-shell"},React.createElement("iframe",{name:"webview-view-".concat(e.viewName),className:"lc-simulator-content-frame",style:{height:"100%",width:"100%"},src:e.url}))))}function BN(e,t){function n(n){var r=n.skeleton;return{init:function o(){r.add({area:"mainArea",name:"designer",type:"Widget",content:IN,contentProps:{ctx:n,url:e,viewName:t}})}}}return n.pluginName="___webview_plugin___",n}function VN(e){return(VN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FN(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function GN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){FN(i,r,o,a,u,"next",e)}function u(e){FN(i,r,o,a,u,"throw",e)}a(void 0)}))}}function HN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */HN=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==VN(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function UN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$N(r.key),r)}}function WN(e,t,n){return t&&zN(e.prototype,t),n&&zN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $N(e){var t=XN(e,"string");return"symbol"===VN(t)?t:String(t)}function XN(e,t){if("object"!==VN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==VN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function YN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KN(e,t)}function KN(e,t){return(KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function qN(e){var t=ZN();return function n(){var r=eC(e),o;if(t){var i=eC(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return JN(this,o)}}function JN(e,t){if(t&&("object"===VN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return QN(e)}function QN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZN(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function eC(e){return(eC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var tC=function(e){YN(n,e);var t=qN(n);function n(e,r,o,i){var c;return UN(this,n),(c=t.call(this,e,o.viewName,u.g.EditorView,r)).workspace=void 0,c.editorWindow=void 0,c.editorView=void 0,c.viewName="editor-view",c.instance=void 0,c.viewType=void 0,c._activate=!1,c.isInit=!1,c.init=Object(DN.flow)(HN().mark((function e(){var t,n,r,o,i;return HN().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if("webview"!==this.viewType){a.next=8;break}return a.next=3,null===(r=this.instance)||void 0===r||null===(o=r.url)||void 0===o?void 0:o.call(r);case 3:return i=a.sent,a.next=6,this.plugins.register(BN(i,this.viewName));case 6:a.next=10;break;case 8:return a.next=10,this.registerInnerPlugins();case 10:return a.next=12,null===(t=this.instance)||void 0===t||null===(n=t.init)||void 0===n?void 0:n.call(t);case 12:return a.next=14,this.innerPlugins.init();case 14:this.isInit=!0;case 15:case"end":return a.stop()}}),e,this)}))),c.onSimulatorRendererReady=function(){return new Promise((function(e){c.project.onSimulatorRendererReady((function(){e()}))}))},c.setActivate=function(e){c._activate=e,c.innerHotkey.activate(c._activate)},c.workspace=e,c.editorWindow=r,c.editorView=o,c.viewType=o.viewType||"editor",c.viewName=o.viewName,c.instance=o(c.innerPlugins._getLowCodePluginContext({pluginName:"any"}),i),Object(a.makeObservable)(QN(c)),c}return WN(n,[{key:"active",get:function e(){return this._activate}},{key:"save",value:function(){var e=GN(HN().mark((function e(){var t,n;return HN().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=this.instance)||void 0===t||null===(n=t.save)||void 0===n?void 0:n.call(t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(MN),nC,rC,oC;function iC(e){return(iC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */aC=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==iC(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function uC(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function cC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){uC(i,r,o,a,u,"next",e)}function u(e){uC(i,r,o,a,u,"throw",e)}a(void 0)}))}}function sC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pC(r.key),r)}}function fC(e,t,n){return t&&lC(e.prototype,t),n&&lC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pC(e){var t=hC(e,"string");return"symbol"===iC(t)?t:String(t)}function hC(e,t){if("object"!==iC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==iC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx,Object(c.d)("design:type",Object)],tC.prototype,"_activate",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Boolean)],tC.prototype,"isInit",void 0),Object(c.b)([a.computed,Object(c.d)("design:type",Object),Object(c.d)("design:paramtypes",[])],tC.prototype,"active",null),function(e){e.sleep="sleep",e.active="active",e.inactive="inactive",e.destroyed="destroyed"}(oC||(oC={}));var dC=function(){function e(t,n,r){var o=this;sC(this,e),this.resource=void 0,this.workspace=void 0,this.config=void 0,this.id=Object(s.db)("window"),this.icon=void 0,this.emitter=Object(a.createModuleEventBus)("Project"),this.title=void 0,this.url=void 0,this.editorView=void 0,this.editorViews=new Map,this.initReady=!1,this.sleep=void 0,this.initViewTypes=cC(aC().mark((function e(){var t,n,r;return aC().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(t=o.resource.editorViews){i.next=3;break}return i.abrupt("return");case 3:n=0;case 4:if(!(n<t.length)){i.next=12;break}return r=t[n].viewName,i.next=8,o.initViewType(r);case 8:o.editorView||o.changeViewName(r);case 9:n++,i.next=4;break;case 12:case"end":return i.stop()}}),e)}))),this.execViewTypesInit=cC(aC().mark((function e(){var t,n,r,i;return aC().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(t=o.resource.editorViews){a.next=3;break}return a.abrupt("return");case 3:n=0;case 4:if(!(n<t.length)){a.next=12;break}return i=t[n].viewName,o.changeViewName(i),a.next=9,null===(r=o.editorViews.get(i))||void 0===r?void 0:r.init();case 9:n++,a.next=4;break;case 12:case"end":return a.stop()}}),e)}))),this.setDefaultViewName=function(){var e;o.changeViewName(null!==(e=o.config.viewName)&&void 0!==e?e:o.resource.defaultViewName)},this.initViewType=function(){var e=cC(aC().mark((function e(t){var n,r;return aC().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(n=o.resource.getEditorView(t),!o.editorViews.get(t)){i.next=3;break}return i.abrupt("return");case 3:r=new tC(o.workspace,o,n,o.config.options),o.editorViews.set(t,r);case 5:case"end":return i.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.changeViewName=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null===(t=o.editorView)||void 0===t||t.setActivate(!1),o.editorView=o.editorViews.get(e),o.editorView&&(o.editorView.setActivate(!0),n||(o.emitter.emit("window.change.view.type",e),o.id===o.workspace.window.id&&o.workspace.emitChangeActiveEditorView()))},this.resource=t,this.workspace=n,this.config=r,Object(a.makeObservable)(this),this.title=r.title,this.icon=t.icon,this.sleep=r.sleep,r.sleep&&this.updateState(oC.sleep)}return fC(e,[{key:"updateState",value:function e(t){var n,r;switch(t){case oC.active:null===(n=this.editorView)||void 0===n||n.setActivate(!0);break;case oC.inactive:null===(r=this.editorView)||void 0===r||r.setActivate(!1);break;case oC.destroyed:}}},{key:"importSchema",value:function(){var e=cC(aC().mark((function e(t){var n=this,r;return aC().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.resource.import(t);case 2:if(r=o.sent){o.next=5;break}return o.abrupt("return");case 5:Object.keys(r).forEach((function(e){var t=n.editorViews.get(e);null==t||t.project.importSchema(r[e])}));case 6:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=cC(aC().mark((function e(){var t,n,r,o,i,a,u;return aC().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:if(t={},n=this.resource.editorViews){c.next=4;break}return c.abrupt("return");case 4:r=0;case 5:if(!(r<n.length)){c.next=14;break}return i=n[r].viewName,c.next=9,null===(o=this.editorViews.get(i))||void 0===o?void 0:o.save();case 9:a=c.sent,t[i]=a;case 11:r++,c.next=5;break;case 14:return c.next=16,this.resource.save(t);case 16:return u=c.sent,this.emitter.emit("handle.save"),c.abrupt("return",u);case 19:case"end":return c.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSave",value:function e(t){var n=this;return this.emitter.on("handle.save",t),function(){n.emitter.off("handle.save",t)}}},{key:"init",value:function(){var e=cC(aC().mark((function e(){var t=this;return aC().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.initViewTypes();case 2:return n.next=4,this.execViewTypesInit();case 4:return Promise.all(Array.from(this.editorViews.values()).map((function(e){return e.onSimulatorRendererReady()}))).then((function(){t.workspace.emitWindowRendererReady()})),n.next=7,this.resource.url();case 7:this.url=n.sent,this.setDefaultViewName(),this.initReady=!0,this.workspace.checkWindowQueue(),this.sleep=!1,this.updateState(oC.active);case 13:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onChangeViewType",value:function e(t){var n=this;return this.emitter.on("window.change.view.type",t),function(){n.emitter.off("window.change.view.type",t)}}},{key:"resourceType",get:function e(){return this.resource.resourceType.type}},{key:"project",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.project}},{key:"innerProject",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerProject}},{key:"innerSkeleton",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerSkeleton}},{key:"innerSetters",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerSetters}},{key:"innerHotkey",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerHotkey}},{key:"editor",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.editor}},{key:"designer",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.designer}},{key:"plugins",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.plugins}},{key:"innerPlugins",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerPlugins}}]),e}();function vC(e){return(vC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */yC=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==vC(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function mC(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function bC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){mC(i,r,o,a,u,"next",e)}function u(e){mC(i,r,o,a,u,"throw",e)}a(void 0)}))}}function gC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jC(r.key),r)}}function OC(e,t,n){return t&&wC(e.prototype,t),n&&wC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jC(e){var t=SC(e,"string");return"symbol"===vC(t)?t:String(t)}function SC(e,t){if("object"!==vC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type","function"==typeof(nC=void 0!==tC&&tC)?nC:Object)],dC.prototype,"editorView",void 0),Object(c.b)([a.obx,Object(c.d)("design:type","function"==typeof(rC="undefined"!=typeof Map&&Map)?rC:Object)],dC.prototype,"editorViews",void 0),Object(c.b)([a.obx,Object(c.d)("design:type",Object)],dC.prototype,"initReady",void 0);var kC=new s.e({level:"warn",bizName:"workspace:resource"}),EC=function(){function e(t,n,r){var o=this,i,a;gC(this,e),this.resourceData=void 0,this.resourceType=void 0,this.workspace=void 0,this.context=void 0,this.resourceTypeInstance=void 0,this.editorViewMap=new Map,this.children=void 0,this.resourceData=t,this.resourceType=n,this.workspace=r,this.context=new MN(r,"resource-".concat(t.resourceName||n.name),u.g.Resource),this.resourceTypeInstance=n.resourceTypeModel(this.context.innerPlugins._getLowCodePluginContext({pluginName:""}),this.options),this.init(),this.resourceTypeInstance.editorViews&&this.resourceTypeInstance.editorViews.forEach((function(e){o.editorViewMap.set(e.viewName,e)})),n||kC.error("resourceType[".concat(n,"] is unValid.")),this.children=(null===(i=this.resourceData)||void 0===i||null===(a=i.children)||void 0===a?void 0:a.map((function(t){return new e(t,o.workspace.getResourceType(t.resourceName||o.resourceType.name),o.workspace)})))||[]}return OC(e,[{key:"name",get:function e(){return this.resourceType.name}},{key:"viewName",get:function e(){return this.resourceData.viewName||this.resourceData.viewType||this.defaultViewName}},{key:"description",get:function e(){var t;return null===(t=this.resourceTypeInstance)||void 0===t?void 0:t.description}},{key:"icon",get:function e(){var t;return this.resourceData.icon||(null===(t=this.resourceTypeInstance)||void 0===t?void 0:t.icon)}},{key:"type",get:function e(){return this.resourceType.type}},{key:"title",get:function e(){return this.resourceData.title||this.resourceTypeInstance.defaultTitle}},{key:"id",get:function e(){return this.resourceData.id}},{key:"options",get:function e(){return this.resourceData.options}},{key:"category",get:function e(){var t;return null===(t=this.resourceData)||void 0===t?void 0:t.category}},{key:"skeleton",get:function e(){return this.context.innerSkeleton}},{key:"config",get:function e(){return this.resourceData.config}},{key:"init",value:function(){var e=bC(yC().mark((function e(){var t,n;return yC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=(n=this.resourceTypeInstance).init)||void 0===t?void 0:t.call(n);case 2:return r.next=4,this.context.innerPlugins.init();case 4:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"import",value:function(){var e=bC(yC().mark((function e(t){var n,r;return yC().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,null===(n=(r=this.resourceTypeInstance).import)||void 0===n?void 0:n.call(r,t);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"url",value:function(){var e=bC(yC().mark((function e(){var t,n;return yC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=(n=this.resourceTypeInstance).url)||void 0===t?void 0:t.call(n);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=bC(yC().mark((function e(t){var n,r;return yC().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,null===(n=(r=this.resourceTypeInstance).save)||void 0===n?void 0:n.call(r,t);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"editorViews",get:function e(){return this.resourceTypeInstance.editorViews}},{key:"defaultViewName",get:function e(){return this.resourceTypeInstance.defaultViewName||this.resourceTypeInstance.defaultViewType}},{key:"getEditorView",value:function e(t){return this.editorViewMap.get(t)}}]),e}();function _C(e){return(_C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CC(r.key),r)}}function NC(e,t,n){return t&&xC(e.prototype,t),n&&xC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CC(e){var t=TC(e,"string");return"symbol"===_C(t)?t:String(t)}function TC(e,t){if("object"!==_C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var LC=function(){function e(t){PC(this,e),this.resourceTypeModel=void 0,this.resourceTypeModel=t}return NC(e,[{key:"name",get:function e(){return this.resourceTypeModel.resourceName}},{key:"type",get:function e(){return this.resourceTypeModel.resourceType}}]),e}(),RC;function AC(e){return(AC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */MC=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==AC(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function DC(e){return FC(e)||VC(e)||BC(e)||IC()}function IC(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function BC(e,t){if(e){if("string"==typeof e)return GC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GC(e,t):void 0}}function VC(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function FC(e){if(Array.isArray(e))return GC(e)}function GC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HC(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function UC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){HC(i,r,o,a,u,"next",e)}function u(e){HC(i,r,o,a,u,"throw",e)}a(void 0)}))}}function zC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XC(r.key),r)}}function $C(e,t,n){return t&&WC(e.prototype,t),n&&WC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XC(e){var t=YC(e,"string");return"symbol"===AC(t)?t:String(t)}function YC(e,t){if("object"!==AC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==AC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){e.CHANGE_WINDOW="change_window",e.CHANGE_ACTIVE_WINDOW="change_active_window",e.WINDOW_RENDER_READY="window_render_ready",e.CHANGE_ACTIVE_EDITOR_VIEW="change_active_editor_view"}(RC||(RC={}));var KC="resource.list.change",qC=function(){function e(t,n){zC(this,e),this.registryInnerPlugin=void 0,this.shellModelFactory=void 0,this.context=void 0,this.enableAutoOpenFirstWindow=void 0,this.resourceTypeMap=new Map,this.emitter=Object(a.createModuleEventBus)("workspace"),this._isActive=!1,this.resourceList=[],this.windows=[],this.editorWindowMap=new Map,this.window=void 0,this.windowQueue=[],this.registryInnerPlugin=t,this.shellModelFactory=n,this.context=new MN(this,"",u.g.Workspace),this.context.innerHotkey.activate(!0),Object(a.makeObservable)(this)}return $C(e,[{key:"skeleton",get:function e(){return this.context.innerSkeleton}},{key:"plugins",get:function e(){return this.context.innerPlugins}},{key:"isActive",get:function e(){return this._isActive}},{key:"defaultResourceType",get:function e(){return this.resourceTypeMap.size>=1?Array.from(this.resourceTypeMap.values())[0]:null}},{key:"checkWindowQueue",value:function e(){if(this.windowQueue&&this.windowQueue.length){var t=this.windowQueue.shift();t&&this.openEditorWindow(t.name,t.title,t.options,t.viewName)}}},{key:"initWindow",value:function(){var e=UC(MC().mark((function e(){var t,n;return MC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(this.defaultResourceType&&!1!==this.enableAutoOpenFirstWindow){r.next=2;break}return r.abrupt("return");case 2:return t=this.defaultResourceType.name,n=new EC({resourceName:t,options:{}},this.defaultResourceType,this),this.window=new dC(n,this,{title:n.title}),r.next=7,this.window.init();case 7:this.editorWindowMap.set(this.window.id,this.window),this.windows=[].concat(DC(this.windows),[this.window]),this.emitChangeWindow(),this.emitChangeActiveWindow();case 11:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setActive",value:function e(t){this._isActive=t}},{key:"registerResourceType",value:function(){var e=UC(MC().mark((function e(t){var n;return MC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:n=new LC(t),this.resourceTypeMap.set(t.resourceName,n),!this.window&&this.defaultResourceType&&this._isActive&&this.initWindow();case 3:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getResourceList",value:function e(){return this.resourceList}},{key:"setResourceList",value:function e(t){var n=this;this.resourceList=t.map((function(e){return new EC(e,n.getResourceType(e.resourceName),n)})),this.emitter.emit(KC,t)}},{key:"onResourceListChange",value:function e(t){var n=this;return this.emitter.on(KC,t),function(){n.emitter.off(KC,t)}}},{key:"onWindowRendererReady",value:function e(t){var n=this;return this.emitter.on(RC.WINDOW_RENDER_READY,t),function(){n.emitter.off(RC.WINDOW_RENDER_READY,t)}}},{key:"emitWindowRendererReady",value:function e(){this.emitter.emit(RC.WINDOW_RENDER_READY)}},{key:"getResourceType",value:function e(t){return this.resourceTypeMap.get(t)}},{key:"removeResourceType",value:function e(t){this.resourceTypeMap.has(t)&&this.resourceTypeMap.delete(t)}},{key:"removeEditorWindowById",value:function e(t){var n=this.windows.findIndex((function(e){return e.id===t}));this.remove(n)}},{key:"remove",value:function(){var e=UC(MC().mark((function e(t){var n,r,o,i;return MC().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(!(t<0)){a.next=2;break}return a.abrupt("return");case 2:if(o=this.windows[t],this.windows.splice(t,1),null===(n=this.window)||void 0===n||n.updateState(oC.destroyed),this.window!==o){a.next=11;break}if(this.window=this.windows[t]||this.windows[t+1]||this.windows[t-1],null===(i=this.window)||void 0===i||!i.sleep){a.next=10;break}return a.next=10,this.window.init();case 10:this.emitChangeActiveWindow();case 11:this.emitChangeWindow(),null===(r=this.window)||void 0===r||r.updateState(oC.active);case 13:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeEditorWindow",value:function e(t,n){var r=this.windows.findIndex((function(e){var r;return(null===(r=e.resource)||void 0===r?void 0:r.name)===t&&(e.title===n||e.resource.id===n)}));this.remove(r)}},{key:"removeEditorWindowByResource",value:function e(t){var n=this.windows.findIndex((function(e){var n;return(null===(n=e.resource)||void 0===n?void 0:n.id)===t.id}));this.remove(n)}},{key:"openEditorWindowById",value:function(){var e=UC(MC().mark((function e(t){var n,r,o;return MC().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.editorWindowMap.get(t),null===(n=this.window)||void 0===n||n.updateState(oC.inactive),!o){i.next=8;break}if(this.window=o,!o.sleep){i.next=7;break}return i.next=7,o.init();case 7:this.emitChangeActiveWindow();case 8:null===(r=this.window)||void 0===r||r.updateState(oC.active);case 9:case"end":return i.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openEditorWindowByResource",value:function(){var e=UC(MC().mark((function e(t){var n,r,o,i,a,u,c,s=arguments;return MC().wrap((function e(l){for(;;)switch(l.prev=l.next){case 0:if(i=s.length>1&&void 0!==s[1]&&s[1],!this.window||null!==(n=this.window)&&void 0!==n&&n.initReady||i){l.next=4;break}return this.windowQueue.push(t),l.abrupt("return");case 4:if(null===(r=this.window)||void 0===r||r.updateState(oC.inactive),!(a=this.windows.filter((function(e){var n;return(null===(n=e.resource)||void 0===n?void 0:n.id)===t.id})))||!a.length){l.next=17;break}if(this.window=a[0],i||!this.window.sleep){l.next=13;break}return l.next=11,this.window.init();case 11:l.next=14;break;case 13:this.checkWindowQueue();case 14:return this.emitChangeActiveWindow(),null===(u=this.window)||void 0===u||u.updateState(oC.active),l.abrupt("return");case 17:if(c=new dC(t,this,{title:t.title,options:t.options,viewName:t.viewName,sleep:i}),this.windows=[].concat(DC(this.windows),[c]),this.editorWindowMap.set(c.id,c),!i){l.next=23;break}return this.emitChangeWindow(),l.abrupt("return");case 23:return this.window=c,l.next=26,this.window.init();case 26:this.emitChangeWindow(),this.emitChangeActiveWindow(),null===(o=this.window)||void 0===o||o.updateState(oC.active);case 29:case"end":return l.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openEditorWindow",value:function(){var e=UC(MC().mark((function e(t,n,r,o,i){var a,u,c,s,l,f,p,h;return MC().wrap((function e(d){for(;;)switch(d.prev=d.next){case 0:if(!this.window||null!==(a=this.window)&&void 0!==a&&a.initReady||i){d.next=3;break}return this.windowQueue.push({name:t,title:n,options:r,viewName:o}),d.abrupt("return");case 3:if(s=this.resourceTypeMap.get(t)){d.next=7;break}return console.error("".concat(t," resourceType is not available")),d.abrupt("return");case 7:if(null===(u=this.window)||void 0===u||u.updateState(oC.inactive),!(l=this.windows.filter((function(e){var r;return(null===(r=e.resource)||void 0===r?void 0:r.name)===t&&e.resource.title==n})))||!l.length){d.next=20;break}if(this.window=l[0],i||!this.window.sleep){d.next=16;break}return d.next=14,this.window.init();case 14:d.next=17;break;case 16:this.checkWindowQueue();case 17:return this.emitChangeActiveWindow(),null===(f=this.window)||void 0===f||f.updateState(oC.active),d.abrupt("return");case 20:if(p=new EC({resourceName:t,title:n,options:r},s,this),h=new dC(p,this,{title:n,options:r,viewName:o,sleep:i}),this.windows=[].concat(DC(this.windows),[h]),this.editorWindowMap.set(h.id,h),!i){d.next=27;break}return this.emitChangeWindow(),d.abrupt("return");case 27:return this.window=h,d.next=30,this.window.init();case 30:this.emitChangeWindow(),this.emitChangeActiveWindow(),null===(c=this.window)||void 0===c||c.updateState(oC.active);case 33:case"end":return d.stop()}}),e,this)})));function t(t,n,r,o,i){return e.apply(this,arguments)}return t}()},{key:"onChangeWindows",value:function e(t){var n=this;return this.emitter.on(RC.CHANGE_WINDOW,t),function(){n.emitter.removeListener(RC.CHANGE_WINDOW,t)}}},{key:"onChangeActiveEditorView",value:function e(t){var n=this;return this.emitter.on(RC.CHANGE_ACTIVE_EDITOR_VIEW,t),function(){n.emitter.removeListener(RC.CHANGE_ACTIVE_EDITOR_VIEW,t)}}},{key:"emitChangeActiveEditorView",value:function e(){this.emitter.emit(RC.CHANGE_ACTIVE_EDITOR_VIEW)}},{key:"emitChangeWindow",value:function e(){this.emitter.emit(RC.CHANGE_WINDOW)}},{key:"emitChangeActiveWindow",value:function e(){this.emitter.emit(RC.CHANGE_ACTIVE_WINDOW),this.emitChangeActiveEditorView()}},{key:"onChangeActiveWindow",value:function e(t){var n=this;return this.emitter.on(RC.CHANGE_ACTIVE_WINDOW,t),function(){n.emitter.removeListener(RC.CHANGE_ACTIVE_WINDOW,t)}}}]),e}();function JC(e){return(JC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tT(r.key),r)}}function eT(e,t,n){return t&&ZC(e.prototype,t),n&&ZC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tT(e){var t=nT(e,"string");return"symbol"===JC(t)?t:String(t)}function nT(e,t){if("object"!==JC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==JC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function rT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oT(e,t)}function oT(e,t){return(oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function iT(e){var t=cT();return function n(){var r=sT(e),o;if(t){var i=sT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aT(this,o)}}function aT(e,t){if(t&&("object"===JC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uT(e)}function uT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function sT(e){return(sT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(c.b)([a.obx.ref,Object(c.d)("design:type",Array)],qC.prototype,"windows",void 0),Object(c.b)([a.obx.ref,Object(c.d)("design:type",Object)],qC.prototype,"window",void 0);var lT=function(e){rT(n,e);var t=iT(n);function n(){return QC(this,n),t.apply(this,arguments)}return eT(n,[{key:"render",value:function e(){var t=this.props.active,n=this.props.editorView,r=n.innerSkeleton;if(!n.isInit){var o=a.engineConfig.get("loadingComponent",Yu);return React.createElement(o,null)}return React.createElement(Ov,{skeleton:r,className:t?"active engine-editor-view":"engine-editor-view",topAreaItemClassName:"engine-actionitem"})}}]),n}(r.PureComponent);lT=Object(c.b)([a.observer],lT);var fT=n(114);function pT(e){return(pT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yT(r.key),r)}}function vT(e,t,n){return t&&dT(e.prototype,t),n&&dT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yT(e){var t=mT(e,"string");return"symbol"===pT(t)?t:String(t)}function mT(e,t){if("object"!==pT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function bT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gT(e,t)}function gT(e,t){return(gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function wT(e){var t=ST();return function n(){var r=kT(e),o;if(t){var i=kT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return OT(this,o)}}function OT(e,t){if(t&&("object"===pT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jT(e)}function jT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ST(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function kT(e){return(kT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ET=function(e){bT(n,e);var t=wT(n);function n(){return hT(this,n),t.apply(this,arguments)}return vT(n,[{key:"render",value:function e(){var t=this.props.resource.skeleton,n=this.props.window.editorViews;return React.createElement("div",{className:"workspace-resource-view"},React.createElement(th,{area:t.topArea,itemClassName:"engine-actionitem"}),React.createElement("div",{className:"workspace-editor-body"},Array.from(n.values()).map((function(e){return React.createElement(lT,{key:e.name,active:e.active,editorView:e})}))))}}]),n}(r.PureComponent);function _T(e){return(_T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CT(r.key),r)}}function NT(e,t,n){return t&&xT(e.prototype,t),n&&xT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CT(e){var t=TT(e,"string");return"symbol"===_T(t)?t:String(t)}function TT(e,t){if("object"!==_T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function LT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RT(e,t)}function RT(e,t){return(RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function AT(e){var t=IT();return function n(){var r=BT(e),o;if(t){var i=BT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return MT(this,o)}}function MT(e,t){if(t&&("object"===_T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return DT(e)}function DT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function BT(e){return(BT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}ET=Object(c.b)([a.observer],ET);var VT=function(e){LT(n,e);var t=AT(n);function n(){return PT(this,n),t.apply(this,arguments)}return NT(n,[{key:"render",value:function e(){var t=this.props.active,n=this.props.window,r=n.resource,o=n.initReady,i=n.url;if(!o){var u=a.engineConfig.get("loadingComponent",Yu);return React.createElement("div",{className:"workspace-engine-main ".concat(t?"active":"")},React.createElement(u,null))}return"webview"===r.type&&i?React.createElement(IN,{url:i,viewName:r.name}):React.createElement("div",{className:"workspace-engine-main ".concat(t?"active":"")},React.createElement(ET,{resource:r,window:this.props.window}))}}]),n}(r.PureComponent);VT=Object(c.b)([a.observer],VT);var FT=Object(r.createContext)({});function GT(e){return(GT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WT(r.key),r)}}function zT(e,t,n){return t&&UT(e.prototype,t),n&&UT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WT(e){var t=$T(e,"string");return"symbol"===GT(t)?t:String(t)}function $T(e,t){if("object"!==GT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==GT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function XT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YT(e,t)}function YT(e,t){return(YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function KT(e){var t=QT();return function n(){var r=ZT(e),o;if(t){var i=ZT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return qT(this,o)}}function qT(e,t){if(t&&("object"===GT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return JT(e)}function JT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ZT(e){return(ZT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var eL=function(e){XT(n,e);var t=KT(n);function n(e){var r;HT(this,n);var o=(r=t.call(this,e)).props,i=o.config,u=o.components,c,s;return o.workspace.skeleton.buildFromConfig(i,u),a.engineConfig.onGot("theme",(function(e){r.setState({theme:e})})),a.engineConfig.onGot("workspaceEmptyComponent",(function(e){r.setState({workspaceEmptyComponent:e})})),r.state={workspaceEmptyComponent:a.engineConfig.get("workspaceEmptyComponent"),theme:a.engineConfig.get("theme")},r}return zT(n,[{key:"render",value:function e(){var t=this.props,n=t.workspace,r=t.className,o=t.topAreaItemClassName,i=n.skeleton,u=this.state,c=u.workspaceEmptyComponent,s=u.theme;return React.createElement("div",{className:Jo()("lc-workspace-workbench",r,s)},React.createElement(FT.Provider,{value:i},React.createElement(th,{area:i.topArea,itemClassName:o}),React.createElement("div",{className:"lc-workspace-workbench-body"},React.createElement(mh,{className:"lc-workspace-left-area lc-left-area",area:i.leftArea}),React.createElement(Kh,{area:i.leftFloatArea}),React.createElement(Rh,{area:i.leftFixedArea}),React.createElement("div",{className:"lc-workspace-workbench-center"},React.createElement("div",{className:"lc-workspace-workbench-center-content"},React.createElement(kN,{area:i.subTopArea,itemClassName:o}),React.createElement("div",{className:"lc-workspace-workbench-window"},n.windows.map((function(e){var t;return React.createElement(VT,{active:e.id===(null===(t=n.window)||void 0===t?void 0:t.id),window:e,key:e.id})})),!n.windows.length&&c?React.createElement(c,null):null)),React.createElement(Pd,{area:i.mainArea}),React.createElement(Hd,{area:i.bottomArea}))),React.createElement(a.TipContainer,null)))}}]),n}(r.Component);function tL(e,t){var n=e.getProp(t,!1);if(!n||n.isUnset())return null;var r=n.getValue();return Object(s.H)(r)&&(r=r.mock),null==r?null:"literal"===n.type?r:Symbol.for("not-literal")}function nL(e){var t=e.node,n,r=e.event.target;if(!Array.from(r.childNodes).every((function(e){return e.nodeType===Node.TEXT_NODE})))return null;var o=r.innerText,i=["title","label","text","content","children"].find((function(e){return rL(tL(t,e),o)}));return i?{propElement:r,propTarget:i}:null}function rL(e,t){return"string"==typeof e&&e.trim()===t}eL=Object(c.b)([a.observer,Object(c.d)("design:paramtypes",[Object])],eL);var oL={condition:function e(t){return"expression"===t.type},onSaveContent:function e(t,n){var r=n.getValue(),o=r;Object(s.H)(r)&&(o=r.mock),o=t,Object(s.H)(r)?n.setValue({type:"JSExpression",value:r.value,mock:o}):n.setValue(o)}};ao.addLiveEditingSpecificRule(nL),ao.addLiveEditingSaveHandler(oL);var iL={Project:Ub,Skeleton:kg,DocumentModel:mw,Node:eO,NodeChildren:kw,History:tm,SettingPropEntry:Tw,SettingTopEntry:Bw,InnerNode:qe,Selection:Yy,Prop:Ay,SimulatorHost:Tb,SkeletonItem:ag},aL={projectSymbol:Dv,documentSymbol:Vv,nodeSymbol:Gv,nodeChildrenSymbol:Uv,skeletonSymbol:Bv,editorSymbol:Fv,designerSymbol:Iv,settingPropEntrySymbol:Wv,settingTopEntrySymbol:$v,designerCabinSymbol:iy,editorCabinSymbol:ay,skeletonCabinSymbol:uy,propSymbol:zv,simulatorHostSymbol:ty,skeletonItemSymbol:wy,simulatorRenderSymbol:ny},uL=function e(t){var n=function e(n){return{init:function e(){var r=n.material;r.onChangeAssets((function(){var e,n=r.getAssets().components,o=void 0===n?[]:n;t.buildComponentMetasMap(o)}))}}};return n.pluginName="___component_meta_parser___",n},cL=function e(t){return{init:function e(){var r,o;if(!t.config.get("disableDefaultSetters")){var i=null===(r=n(115))||void 0===r?void 0:r.setters;i&&t.setters.registerSetter(i)}}}};cL.pluginName="___setter_registry___";var sL=n(116);function lL(e){return(lL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fL=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==lL(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function pL(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function hL(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pL(i,r,o,a,u,"next",e)}function u(e){pL(i,r,o,a,u,"throw",e)}a(void 0)}))}}function dL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mL(r.key),r)}}function yL(e,t,n){return t&&vL(e.prototype,t),n&&vL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mL(e){var t=bL(e,"string");return"symbol"===lL(t)?t:String(t)}function bL(e,t){if("object"!==lL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==lL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function gL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wL(e,t)}function wL(e,t){return(wL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function OL(e){var t=kL();return function n(){var r=EL(e),o;if(t){var i=EL(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return jL(this,o)}}function jL(e,t){if(t&&("object"===lL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return SL(e)}function SL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function EL(e){return(EL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var _L=Object(s.r)({level:"warn",bizName:"plugin:plugin-designer"}),PL=function(e){gL(n,e);var t=OL(n);function n(e){var r;return dL(this,n),(r=t.call(this,e)).state={componentMetadatas:null,library:null,extraEnvironment:null,renderEnv:"default",device:"default",locale:"",designMode:"live",deviceClassName:"",simulatorUrl:null,requestHandlersMap:null},r._mounted=!0,r.handleDesignerMount=function(e){var t=r.props.engineEditor;t.set("designer",e),t.eventBus.emit("designer.ready",e),t.onGot("schema",(function(t){e.project.open(t)}))},r.setupAssets(),r}return yL(n,[{key:"setupAssets",value:function(){var e=hL(fL().mark((function e(){var t=this,n,r,o,i,u,c,s,l,f,p,h,d,v,y;return fL().wrap((function e(m){for(;;)switch(m.prev=m.next){case 0:return n=this.props.engineEditor,m.prev=1,m.next=4,n.onceGot("assets");case 4:if(r=m.sent,o=a.engineConfig.get("renderEnv")||n.get("renderEnv"),i=a.engineConfig.get("device")||n.get("device"),u=a.engineConfig.get("locale")||n.get("locale"),c=a.engineConfig.get("designMode")||n.get("designMode"),s=a.engineConfig.get("deviceClassName")||n.get("deviceClassName"),l=a.engineConfig.get("simulatorUrl")||n.get("simulatorUrl"),f=a.engineConfig.get("requestHandlersMap")||n.get("requestHandlersMap"),this._mounted){m.next=14;break}return m.abrupt("return");case 14:a.engineConfig.onGot("locale",(function(e){t.setState({locale:e})})),a.engineConfig.onGot("requestHandlersMap",(function(e){t.setState({requestHandlersMap:e})})),a.engineConfig.onGot("device",(function(e){t.setState({device:e})})),p=r.components,h=r.packages,d=r.extraEnvironment,v=r.utils,y={componentMetadatas:p||[],library:h||[],utilsMetadata:v||[],extraEnvironment:d,renderEnv:o,device:i,designMode:c,deviceClassName:s,simulatorUrl:l,requestHandlersMap:f,locale:u},this.setState(y),m.next=25;break;case 22:m.prev=22,m.t0=m.catch(1),_L.error(m.t0);case 25:case"end":return m.stop()}}),e,this,[[1,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this._mounted=!1}},{key:"render",value:function e(){var t=this.props.engineEditor,n=this.state,r=n.componentMetadatas,i=n.utilsMetadata,a=n.library,u=n.extraEnvironment,c=n.renderEnv,s=n.device,l=n.designMode,f=n.deviceClassName,p=n.simulatorUrl,h=n.requestHandlersMap,d=n.locale;return a&&r?o.a.createElement(Xf,{onMount:this.handleDesignerMount,className:"lowcode-plugin-designer",editor:t,name:t.viewName,designer:t.get("designer"),componentMetadatas:r,simulatorProps:{library:a,utilsMetadata:i,extraEnvironment:u,renderEnv:c,device:s,locale:d,designMode:l,deviceClassName:f,simulatorUrl:p,requestHandlersMap:h}}):null}}]),n}(r.PureComponent);function xL(e){return(xL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NL(Object(n),!0).forEach((function(t){TL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TL(e,t,n){return(t=LL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LL(e){var t=RL(e,"string");return"symbol"===xL(t)?t:String(t)}function RL(e,t){if("object"!==xL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}PL.displayName=void 0;var AL=function e(t){var n=function e(n){return{init:function e(){var r=n.skeleton,o=n.config;r.add({area:"mainArea",name:"designer",type:"Widget",content:React.createElement(PL,{engineConfig:o,engineEditor:t})}),o.get("disableDefaultSettingPanel")||r.add({area:"rightArea",name:"settingsPane",type:"Panel",content:React.createElement(Sx,{engineEditor:t}),props:{ignoreRoot:!0},panelProps:CL({},o.get("defaultSettingPanelProps")||{})})}}};return n.pluginName="___default_panel___",n},ML=AL;function DL(e){return(DL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FL(r.key),r)}}function VL(e,t,n){return t&&BL(e.prototype,t),n&&BL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function FL(e){var t=GL(e,"string");return"symbol"===DL(t)?t:String(t)}function GL(e,t){if("object"!==DL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==DL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var HL,UL=new(function(){function e(){IL(this,e)}return VL(e,[{key:"createNode",value:function e(t){return eO.create(t)}},{key:"createSettingField",value:function e(t){return Tw.create(t)}}]),e}());function zL(e,t,n){var r=t;Object(s.N)(r)&&r.isSlotNode&&(r=r.exportSchema(u.h.Clone));var o=null,i,a,c;Object(s.N)(r)?(o=r,null===(i=e.children)||void 0===i||i.insert(o,n)):(o=(null===(a=e.document)||void 0===a?void 0:a.createNode(r))||null)&&(null===(c=e.children)||void 0===c||c.insert(o,n));return o||null}function WL(e,t,n){for(var r=n,o,i=[];o=t.pop();)o=zL(e,o,r),i.push(o),r=o.index;return i}function $L(e,t){var n,r,o,i=e.project,a=e.material,u=i.currentDocument;if(!u)return null;if(Array.isArray(t)&&Object(s.O)(t[0])&&null!==(n=a.getComponentMeta(t[0].componentName))&&void 0!==n&&n.isModal)return u.root?{target:u.root}:null;var c=u.focusNode,l,f=u.selection.getNodes().find((function(e){return c.contains(e)})),p,h;return f&&f!==c?null!==(r=f.componentMeta)&&void 0!==r&&r.isContainer?p=f:(p=f.parent,h=f.index+1):p=c,!p||!t||null!==(o=p.componentMeta)&&void 0!==o&&o.checkNestingDown(p,t)?{target:p,index:h}:null}function XL(e,t,n){if(e){if(!t)return e;var r;if(e.isContainerNode){var o=e.children;if(o&&!o.isEmptyNode&&(r=XL(o.get(0))))return r}if(r=XL(e.nextSibling))return r}return n?XL(n.nextSibling,!1,null==n?void 0:n.parent):null}function YL(e,t,n){if(e){var r;if(!t&&e.isContainerNode){var o=e.children,i;if(r=YL(o&&!o.isEmptyNode?o.get(o.size-1):null))return r}if(!t)return e;if(r=YL(e.prevSibling))return r}return n||null}function KL(e,t,n){var r,o=e.document;if(!o)return null;var i={type:u.f.Node,nodes:[t]},a=null==o?void 0:o.focusNode;if(null!=t&&null!==(r=t.componentMeta)&&void 0!==r&&r.isModal)return{container:a,ref:n};if(!n&&a&&e.contains(a))return o.checkNesting(a,i)?{container:a}:null;if(e.isRootNode&&e.children){var c=e.children.filter((function(e){return!!e.isContainerNode&&!!o.checkNesting(e,i)}))[0];return c?{container:c,ref:n}:o.checkNesting(e,i)?{container:e,ref:n}:null}return e.isContainerNode&&o.checkNesting(e,i)?{container:e,ref:n}:e.parent?KL(e.parent,t,{index:e.index}):null}var qL=function e(t){return{init:function e(){var n=t.hotkey,r=t.project,o=t.logger,i=t.canvas,a=i.clipboard;n.bind(["backspace","del"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(s.F)(e)&&n){e.preventDefault();var a=n.selection,u;a.getTopNodes().forEach((function(e){null!=e&&e.canPerformAction("remove")&&e&&n.removeNode(e)})),a.clear()}}})),n.bind("escape",(function(e,t){var n;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var a=null===(n=r.currentDocument)||void 0===n?void 0:n.selection;!Object(s.F)(e)&&a&&(e.preventDefault(),a.clear())}})),n.bind(["command+c","ctrl+c","command+x","ctrl+x"],(function(e,t){var n,c;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var l=r.currentDocument;if(!Object(s.F)(e)&&l){var f=null===(n=document.getSelection())||void 0===n||null===(c=n.anchorNode)||void 0===c?void 0:c.nodeValue;if(!f||"string"!=typeof f){e.preventDefault();var p=l.selection.getTopNodes(!0);if((p=p.filter((function(e){return null==e?void 0:e.canPerformAction("copy")})))&&!(p.length<1)){var h,d,v={type:"nodeSchema",componentsMap:{},componentsTree:p.map((function(e){return null==e?void 0:e.exportSchema(u.h.Clone)}))},y;a.setData(v),t&&t.indexOf("x")>0&&p.forEach((function(e){var t=null==e?void 0:e.parent;null==t||t.select(),null==e||e.remove()}))}}}}})),n.bind(["command+v","ctrl+v"],(function(e,n){if(o.info("action ".concat(n," is triggered")),!i.isInLiveEditing){var c=null==r?void 0:r.currentDocument;!Object(s.F)(e)&&c&&a.waitPasteData(e,(function(e){var n=e.componentsTree;if(n){var r=$L(t,n)||{},o=r.target,a=r.index;if(!o)return;var s=n.filter((function(e){var t={type:u.f.Node,nodes:[e]};return c.checkNesting(o,t)}));if(0===s.length)return;var l=WL(o,s,a);l&&(c.selection.selectAll(l.map((function(e){return e.id}))),setTimeout((function(){var e;return null===(e=i.activeTracker)||void 0===e?void 0:e.track(l[0])}),10))}}))}})),n.bind(["command+z","ctrl+z"],(function(e,t){var n,a;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var u=null===(n=r.currentDocument)||void 0===n?void 0:n.history;if(!Object(s.F)(e)&&u){e.preventDefault();var c=null===(a=r.currentDocument)||void 0===a?void 0:a.selection,l=(null==c?void 0:c.selected)&&Array.from(null==c?void 0:c.selected);u.back(),null==c||c.selectAll(l)}}})),n.bind(["command+y","ctrl+y","command+shift+z"],(function(e,t){var n,a;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var u=null===(n=r.currentDocument)||void 0===n?void 0:n.history;if(!Object(s.F)(e)&&u){e.preventDefault();var c=null===(a=r.currentDocument)||void 0===a?void 0:a.selection,l=(null==c?void 0:c.selected)&&Array.from(null==c?void 0:c.selected);u.forward(),null==c||c.selectAll(l)}}})),n.bind(["left","right"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(s.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c="left"===t?null==u?void 0:u.prevSibling:null==u?void 0:u.nextSibling;null==c||c.select()}}}})),n.bind(["up","down"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(s.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0];if("down"===t){var c=XL(u,!0,null==u?void 0:u.parent);null==c||c.select()}else if("up"===t){var l=YL(u,!0,null==u?void 0:u.parent);null==l||l.select()}}}}})),n.bind(["option+left","option+right"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(s.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var l=t&&/(left)$/.test(t),f=l?u.prevSibling:u.nextSibling;f&&(l?c.insertBefore(u,f,!0):c.insertAfter(u,f,!0),null==u||u.select())}}}}})),n.bind(["option+up"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(s.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var l=u.prevSibling;if(l){if(l.isContainerNode){var f=KL(l,u,null);l.insertAfter(u,f.ref,!0)}else c.insertBefore(u,l,!0);null==u||u.select()}else{var p=KL(c,u,null),h;if(p)p.container.internalToShellNode().insertBefore(u,p.ref),null==u||u.select()}}}}}})),n.bind(["option+down"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.getCurrentDocument();if(!Object(s.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var l=u.nextSibling;if(l)l.isContainerNode?l.insertBefore(u,void 0):c.insertAfter(u,l,!0),null==u||u.select();else{var f=KL(c,u,null),p;if(f)f.container.internalToShellNode().insertAfter(u,f.ref,!0),null==u||u.select()}}}}}}))}}};function JL(){return(JL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function QL(e){return React.createElement(s.f,JL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53c-12.1-8.7-20-22.9-20-39 0-26.5 21.5-48 48-48s48 21.5 48 48c0 16.1-7.9 30.3-20 39z m152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z"}))}function ZL(){return(ZL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eR(e){return React.createElement(s.f,ZL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32z m-40 376H232V536h560v304z"}),React.createElement("path",{d:"M484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53c12.1-8.7 20-22.9 20-39 0-26.5-21.5-48-48-48s-48 21.5-48 48c0 16.1 7.9 30.3 20 39z"}))}function tR(){return(tR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nR(e){return React.createElement(s.f,tR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z"}))}function rR(){return(rR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oR(e){return React.createElement(s.f,rR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M479.552 276.544l296.896 2.752v75.712L960 249.024l-183.552-106.048v92.48h-271.36l-46.656-2.752-190.784 203.648 30.976 30.976 180.928-190.784z m296.896 484.928l-253.056-2.816-262.976-263.04H64v43.904h175.296l262.912 262.976 274.176 2.816v75.712L960 774.976l-183.616-105.984 0.064 92.48z"}))}function iR(){return(iR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function aR(e){return React.createElement(s.f,iR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.7 700.9c-102.1 0-184.9-82.8-184.9-184.9 0-28.6 6.5-55.6 18-79.7l-93.7-93.7C138.9 418.1 65.2 514 65.2 514s200.4 260.7 447.6 260.7c50.2 0 98.6-10.8 143.6-27.9l-63.9-63.9c-24.2 11.5-51.2 18-79.8 18z"}),React.createElement("path",{d:"M960.3 514S759.9 253.3 512.7 253.3c-49.5 0-97.2 10.5-141.7 27.2L243.5 153.1l-45.3 45.3 262.3 262.2c-13.1 13.3-21.2 31.5-21.2 51.6 0 40.6 32.9 73.4 73.4 73.4 20.1 0 38.4-8.1 51.6-21.2l260.9 260.8 45.3-45.3-95.6-95.6C887.2 609.1 960.3 514 960.3 514z m-376.7-20.9c-6.8-25.2-26.6-45.1-51.9-51.9L437.5 347c23-10.3 48.5-16 75.3-16 102.1 0 184.9 82.8 184.9 184.9 0 26.8-5.7 52.2-15.9 75.2l-98.2-98z"}))}function uR(){return(uR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cR(e){return React.createElement(s.f,uR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 256c-163.8 0-291.4 97.6-448 256 134.8 135.4 248 256 448 256 199.8 0 346.8-152.8 448-253.2C856.4 397.2 709.6 256 512 256z m0 438.6c-98.8 0-179.2-82-179.2-182.6 0-100.8 80.4-182.6 179.2-182.6s179.2 82 179.2 182.6c0 100.8-80.4 182.6-179.2 182.6z"}),React.createElement("path",{d:"M512 448c0-15.8 5.8-30.2 15.2-41.4-5-0.8-10-1.2-15.2-1.2-57.6 0-104.6 47.8-104.6 106.6s47 106.6 104.6 106.6 104.6-47.8 104.6-106.6c0-4.6-0.4-9.2-0.8-13.8-11 8.6-24.6 13.8-39.6 13.8-35.6 0-64.2-28.6-64.2-64z"}))}function sR(){return(sR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lR(e){return React.createElement(s.f,sR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M911.457097 168.557714a35.986286 35.986286 0 0 1-8.009143 40.009143L621.73824 490.276571V914.285714c0 14.848-9.142857 28.013714-22.272 33.718857A42.349714 42.349714 0 0 1 585.166811 950.857143a34.084571 34.084571 0 0 1-25.709714-10.861714l-146.285714-146.285715A36.425143 36.425143 0 0 1 402.309669 768v-277.723429L120.599954 208.566857a35.986286 35.986286 0 0 1-8.009143-40.009143C118.295954 155.428571 131.461669 146.285714 146.309669 146.285714h731.428571c14.848 0 28.013714 9.142857 33.718857 22.272z",fill:"#666","p-id":"2025"}))}function fR(){return(fR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pR(e){return React.createElement(s.f,fR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M60.235294 542.117647c0 132.879059 103.062588 240.941176 229.677176 240.941176l0 60.235294c-159.864471 0-289.912471-135.107765-289.912471-301.176471s130.048-301.176471 289.912471-301.176471l254.735059 0-99.147294-99.147294 42.586353-42.586353 171.911529 171.851294-171.851294 171.911529-42.646588-42.646588 99.207529-99.147294-254.795294 0c-126.614588 0-229.677176 108.062118-229.677176 240.941176zM734.087529 240.941176l0 60.235294c126.614588 0 229.677176 108.062118 229.677176 240.941176s-103.062588 240.941176-229.677176 240.941176l-254.795294 0 99.147294-99.147294-42.586353-42.586353-171.851294 171.851294 171.911529 171.911529 42.586353-42.586353-99.207529-99.207529 254.735059 0c159.924706 0 289.972706-135.107765 289.972706-301.176471s-130.048-301.176471-289.912471-301.176471z"}))}function hR(){return(hR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dR(e){return React.createElement(s.f,hR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m0-256a256 256 0 1 0 0-512 256 256 0 0 0 0 512z"}))}function vR(){return(vR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yR(e){return React.createElement(s.f,vR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m0-64A448 448 0 1 0 512 64a448 448 0 0 0 0 896z"}))}function mR(){return(mR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bR(e){return React.createElement(s.f,mR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M965.824 405.952a180.48 180.48 0 0 1-117.12-85.376 174.464 174.464 0 0 1-16-142.08 22.208 22.208 0 0 0-7.04-23.552 480.576 480.576 0 0 0-153.6-89.216 23.104 23.104 0 0 0-24.32 5.76 182.208 182.208 0 0 1-135.68 57.92 182.208 182.208 0 0 1-133.12-56.64 23.104 23.104 0 0 0-26.88-7.04 478.656 478.656 0 0 0-153.6 89.856 22.208 22.208 0 0 0-7.04 23.552 174.464 174.464 0 0 1-16 141.44A180.48 180.48 0 0 1 58.24 405.952a22.4 22.4 0 0 0-17.28 17.792 455.08 455.08 0 0 0 0 176.512 22.4 22.4 0 0 0 17.28 17.792 180.48 180.48 0 0 1 117.12 84.736c25.408 42.944 31.232 94.592 16 142.08a22.208 22.208 0 0 0 7.04 23.552A480.576 480.576 0 0 0 352 957.632h7.68a23.04 23.04 0 0 0 16.64-7.04 184.128 184.128 0 0 1 266.944 0c6.592 8.96 18.752 11.968 28.8 7.04a479.36 479.36 0 0 0 156.16-88.576 22.208 22.208 0 0 0 7.04-23.552 174.464 174.464 0 0 1 13.44-142.72 180.48 180.48 0 0 1 117.12-84.736 22.4 22.4 0 0 0 17.28-17.792 452.613 452.613 0 0 0 0-176.512 23.04 23.04 0 0 0-17.28-17.792z m-42.88 169.408a218.752 218.752 0 0 0-128 98.112 211.904 211.904 0 0 0-21.76 156.736 415.936 415.936 0 0 1-112 63.68 217.472 217.472 0 0 0-149.12-63.68 221.312 221.312 0 0 0-149.12 63.68 414.592 414.592 0 0 1-112-63.68c12.8-53.12 4.288-109.12-23.68-156.096A218.752 218.752 0 0 0 101.12 575.36a386.176 386.176 0 0 1 0-127.36 218.752 218.752 0 0 0 128-98.112c27.2-47.552 34.944-103.68 21.76-156.8a415.296 415.296 0 0 1 112-63.68A221.44 221.44 0 0 0 512 187.392a218.24 218.24 0 0 0 149.12-57.984 413.952 413.952 0 0 1 112 63.744 211.904 211.904 0 0 0 23.04 156.096 218.752 218.752 0 0 0 128 98.112 386.65 386.65 0 0 1 0 127.36l-1.28 0.64z"}),React.createElement("path",{d:"M512 320.576c-105.984 0-192 85.568-192 191.104a191.552 191.552 0 0 0 192 191.104c106.112 0 192.064-85.568 192.064-191.104a190.72 190.72 0 0 0-56.256-135.168 192.448 192.448 0 0 0-135.744-55.936z m0 318.528c-70.656 0-128-57.088-128-127.424 0-70.4 57.344-127.36 128-127.36 70.72 0 128 56.96 128 127.36 0 33.792-13.44 66.176-37.44 90.112a128.32 128.32 0 0 1-90.496 37.312z"}))}function gR(){return(gR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wR(e){return React.createElement(s.f,gR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M224 256v639.84A64 64 0 0 0 287.84 960h448.32A64 64 0 0 0 800 895.84V256h64a32 32 0 1 0 0-64H160a32 32 0 1 0 0 64h64zM384 96c0-17.664 14.496-32 31.904-32h192.192C625.696 64 640 78.208 640 96c0 17.664-14.496 32-31.904 32H415.904A31.872 31.872 0 0 1 384 96z m-96 191.744C288 270.208 302.4 256 320.224 256h383.552C721.6 256 736 270.56 736 287.744v576.512C736 881.792 721.6 896 703.776 896H320.224A32.224 32.224 0 0 1 288 864.256V287.744zM352 352c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z"}))}function OR(e){return(OR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MR(r.key),r)}}function kR(e,t,n){return t&&SR(e.prototype,t),n&&SR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ER(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_R(e,t)}function _R(e,t){return(_R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function PR(e){var t=CR();return function n(){var r=TR(e),o;if(t){var i=TR(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return xR(this,o)}}function xR(e,t){if(t&&("object"===OR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return NR(e)}function NR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function TR(e){return(TR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LR(Object(n),!0).forEach((function(t){AR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AR(e,t,n){return(t=MR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MR(e){var t=DR(e,"string");return"symbol"===OR(t)?t:String(t)}function DR(e,t){if("object"!==OR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==OR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function IR(e,t,n,r){var o,i,a=null==n?void 0:n.node,u=null==a||null===(o=a.componentMeta)||void 0===o?void 0:o.npm,c=[null==u?void 0:u.package,null==u?void 0:u.componentName].filter((function(e){return!!e})).join("-")||(null==a||null===(i=a.componentMeta)||void 0===i?void 0:i.componentName)||"";e.emit("outlinePane.".concat(t),RR({selected:c},r))}qL.pluginName="___builtin_hotkey___",QL.displayName="IconLock",eR.displayName="IconUnlock",nR.displayName="IconArrowRight",oR.displayName="IconCond",aR.displayName="IconEyeClose",cR.displayName="IconEye",lR.displayName="IconFilter",pR.displayName="IconLoop",dR.displayName="IconRadioActive",yR.displayName="IconRadio",bR.displayName="IconSetting",wR.displayName="IconDelete";var BR=function(e){ER(n,e);var t=PR(n);function n(){var e;jR(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1,title:""},e.lastInput=void 0,e.enableEdit=function(t){t.preventDefault(),e.setState({editing:!0})},e.saveEdit=function(t){var n=e.props.treeNode,r=t.target.value||"";n.setTitleLabel(r),IR(e.props.treeNode.pluginContext.event,"rename",n,{value:r}),e.cancelEdit()},e.handleKeyUp=function(t){13===t.keyCode&&e.saveEdit(t),27===t.keyCode&&e.cancelEdit()},e.setCaret=function(t){t&&e.lastInput!==t&&(t.focus(),t.select())},e.deleteClick=function(){var t=e.props.treeNode,n=t.node;t.deleteNode(n)},e}return kR(n,[{key:"cancelEdit",value:function e(){this.setState({editing:!1}),this.lastInput=void 0}},{key:"componentDidMount",value:function e(){var t=this,n=this.props.treeNode;this.setState({editing:!1,title:n.titleLabel,condition:n.condition,visible:!n.hidden}),n.onTitleLabelChanged((function(){t.setState({title:n.titleLabel})})),n.onConditionChanged((function(){t.setState({condition:n.condition})})),n.onHiddenChanged((function(e){t.setState({visible:!e})}))}},{key:"render",value:function e(){var t=this,n=this.props,o=n.treeNode,i=n.isModal,a=o.pluginContext,u=this.state.editing,c=!o.isRoot(),l=o.node,f=l.componentMeta,p=f?f.availableActions.map((function(e){return e.name})):[],h=l.isParentalNode,d=l.isContainerNode,v;if(c){var y,m=12*o.depth;v={paddingLeft:m+(i?12:0),marginLeft:-m}}var b=o.filterReult,g=b.filterWorking,w=b.matchSelf,O=b.keywords,j=a.extraTitle,S=a.intlNode,k=a.common,E=a.config,_=k.editorCabin.Tip,P=k.editorCabin.Title,x=p.includes("hide"),N=p.includes("lock"),C=p.includes("unlock"),T=c&&h&&!i&&x,L=E.get("enableCanvasLock",!1)&&d&&c&&h&&(N&&!l.isLocked||C&&l.isLocked),R=c&&h,A=c&&h&&(null==l?void 0:l.canPerformAction("remove"));return React.createElement("div",{className:Jo()("tree-node-title",{editing:u}),style:v,"data-id":o.nodeId,onClick:function e(){var n,r,o,a;i?t.state.visible?null===(n=l.document)||void 0===n||null===(r=n.modalNodesManager)||void 0===r||r.setInvisible(l):null===(o=l.document)||void 0===o||null===(a=o.modalNodesManager)||void 0===a||a.setVisible(l):l.conditionGroup&&l.setConditionalVisible()}},i&&this.state.visible&&React.createElement("div",{onClick:function e(){var t,n;null===(t=l.document)||void 0===t||null===(n=t.modalNodesManager)||void 0===n||n.setInvisible(l)}},React.createElement(dR,{className:"tree-node-modal-radio-active"})),i&&!this.state.visible&&React.createElement("div",{onClick:function e(){var t,n;null===(t=l.document)||void 0===t||null===(n=t.modalNodesManager)||void 0===n||n.setVisible(l)}},React.createElement(yR,{className:"tree-node-modal-radio"})),c&&React.createElement(UR,{expandable:this.props.expandable,expanded:this.props.expanded,treeNode:o}),React.createElement("div",{className:"tree-node-icon"},Object(s.n)(o.icon)),React.createElement("div",{className:"tree-node-title-label"},u?React.createElement("input",{className:"tree-node-title-input",defaultValue:this.state.title,onBlur:this.saveEdit,ref:this.setCaret,onKeyUp:this.handleKeyUp}):React.createElement(r.Fragment,null,React.createElement(P,{title:this.state.title,match:g&&w,keywords:O}),j&&React.createElement(j,{node:null==o?void 0:o.node}),l.slotFor&&React.createElement("a",{className:"tree-node-tag slot"},React.createElement(_,null,S("Slot for {prop}",{prop:l.slotFor.key}))),l.hasLoop()&&React.createElement("a",{className:"tree-node-tag loop"},React.createElement(pR,null),React.createElement(_,null,S("Loop"))),this.state.condition&&React.createElement("a",{className:"tree-node-tag cond"},React.createElement(oR,null),React.createElement(_,null,S("Conditional"))))),T&&React.createElement(HR,{hidden:this.props.hidden,treeNode:o}),L&&React.createElement(GR,{locked:this.props.locked,treeNode:o}),R&&React.createElement(FR,{treeNode:o,onClick:this.enableEdit}),A&&React.createElement(VR,{treeNode:o,onClick:this.deleteClick}))}}]),n}(r.PureComponent),VR=function(e){ER(n,e);var t=PR(n);function n(){return jR(this,n),t.apply(this,arguments)}return kR(n,[{key:"render",value:function e(){var t=this.props.treeNode.pluginContext,n=t.intl,r,o=t.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-delete-btn",onClick:this.props.onClick},React.createElement(wR,null),React.createElement(o,null,n("Delete")))}}]),n}(r.PureComponent),FR=function(e){ER(n,e);var t=PR(n);function n(){return jR(this,n),t.apply(this,arguments)}return kR(n,[{key:"render",value:function e(){var t=this.props.treeNode.pluginContext,n=t.intl,r,o=t.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-rename-btn",onClick:this.props.onClick},React.createElement(bR,null),React.createElement(o,null,n("Rename")))}}]),n}(r.PureComponent),GR=function(e){ER(n,e);var t=PR(n);function n(){return jR(this,n),t.apply(this,arguments)}return kR(n,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.locked,o=this.props.treeNode.pluginContext,i=o.intl,a,u=o.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-lock-btn",onClick:function e(t){t.stopPropagation(),n.setLocked(!r)}},r?React.createElement(eR,null):React.createElement(QL,null),React.createElement(u,null,i(r?"Unlock":"Lock")))}}]),n}(r.PureComponent),HR=function(e){ER(n,e);var t=PR(n);function n(){return jR(this,n),t.apply(this,arguments)}return kR(n,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.hidden,o=n.pluginContext,i=o.intl,a,u=o.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-hide-btn",onClick:function e(t){t.stopPropagation(),IR(n.pluginContext.event,r?"show":"hide",n),n.setHidden(!r)}},r?React.createElement(cR,null):React.createElement(aR,null),React.createElement(u,null,i(r?"Show":"Hide")))}}]),n}(r.PureComponent),UR=function(e){ER(n,e);var t=PR(n);function n(){return jR(this,n),t.apply(this,arguments)}return kR(n,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.expanded,o;return t.expandable?React.createElement("div",{className:"tree-node-expand-btn",onClick:function e(t){r&&t.stopPropagation(),IR(n.pluginContext.event,r?"collapse":"expand",n),n.setExpanded(!r)}},React.createElement(nR,{size:"small"})):React.createElement("i",{className:"tree-node-expand-placeholder"})}}]),n}(r.PureComponent);function zR(e){return(zR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YR(r.key),r)}}function XR(e,t,n){return t&&$R(e.prototype,t),n&&$R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YR(e){var t=KR(e,"string");return"symbol"===zR(t)?t:String(t)}function KR(e,t){if("object"!==zR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function qR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JR(e,t)}function JR(e,t){return(JR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function QR(e){var t=tA();return function n(){var r=nA(e),o;if(t){var i=nA(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ZR(this,o)}}function ZR(e,t){if(t&&("object"===zR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eA(e)}function eA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function nA(e){return(nA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var rA=function(e){qR(n,e);var t=QR(n);function n(e){var r;WR(this,n),(r=t.call(this,e)).state={filterWorking:!1,matchChild:!1},r.offExpandedChanged=void 0;var o,i=r.props.treeNode.filterReult,a=i.filterWorking,u=i.matchChild;return r.setState({filterWorking:a,matchChild:u}),r}return XR(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.treeNode;n.onFilterResultChanged((function(){var e=n.filterReult,r=e.filterWorking,o=e.matchChild;t.setState({filterWorking:r,matchChild:o})}))}},{key:"componentWillUnmount",value:function e(){this.offExpandedChanged&&this.offExpandedChanged()}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.isModal,o=t.expanded,i=this.state,a=i.filterWorking,u=i.matchChild,c;return a&&u||o?React.createElement("div",{className:"tree-node-branches"},!r&&React.createElement(iA,{treeNode:n}),React.createElement(oA,{treeNode:n,isModal:r||!1,treeChildren:this.props.treeChildren})):null}}]),n}(r.PureComponent),oA=function(e){qR(n,e);var t=QR(n);function n(){var e;WR(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={filterWorking:!1,matchSelf:!1,keywords:null,dropDetail:null},e.offLocationChanged=void 0,e}return XR(n,[{key:"componentDidMount",value:function e(){var t=this,n,r=this.props.treeNode,o=r.pluginContext.project,i=r.filterReult,a=i.filterWorking,u=i.matchSelf,c=i.keywords,s=r.dropDetail;this.setState({filterWorking:a,matchSelf:u,keywords:c,dropDetail:s}),r.onFilterResultChanged((function(){var e=r.filterReult,n=e.filterWorking,o=e.matchSelf,i=e.keywords;t.setState({filterWorking:n,matchSelf:o,keywords:i})})),this.offLocationChanged=null===(n=o.currentDocument)||void 0===n?void 0:n.onDropLocationChanged((function(){t.setState({dropDetail:r.dropDetail})}))}},{key:"componentWillUnmount",value:function e(){this.offLocationChanged&&this.offLocationChanged()}},{key:"render",value:function e(){var t,n,r=this.props.isModal,o=[],i=[],a,u=this.state,c=u.filterWorking,s=u.matchSelf,l=u.keywords,f=this.props.treeNode.pluginContext.common.editorCabin.Title,p=function e(){var t;i.length>0&&(o.push(React.createElement("div",{key:a.id,className:"condition-group-container","data-id":null===(t=a.firstNode)||void 0===t?void 0:t.id},React.createElement("div",{className:"condition-group-title"},React.createElement(f,{title:a.title,match:c&&s,keywords:l})),i)),i=[])},h=this.state.dropDetail,d=null==h?void 0:h.index,v=React.createElement("div",{key:"insertion",className:Jo()("insertion",{invalid:!1===(null==h?void 0:h.valid)})});null===(t=this.props.treeChildren)||void 0===t||t.forEach((function(e,t){var n,u=(null===(n=e.node.componentMeta)||void 0===n?void 0:n.isModal)||!1;if(r==u){var c=e.node.conditionGroup;c!==a&&p(),c?(a=c,t===d&&(i.length>0?i.push(v):o.push(v)),i.push(React.createElement(wA,{key:e.nodeId,treeNode:e,isModal:r}))):(t===d&&o.push(v),o.push(React.createElement(wA,{key:e.nodeId,treeNode:e,isModal:r})))}})),p();var y=(null===(n=this.props.treeChildren)||void 0===n?void 0:n.length)||0;return null!=d&&d>=y&&o.push(v),React.createElement("div",{className:"tree-node-children"},o)}}]),n}(r.PureComponent),iA=function(e){qR(n,e);var t=QR(n);function n(){return WR(this,n),t.apply(this,arguments)}return XR(n,[{key:"render",value:function e(){var t,n,r=this.props.treeNode;if(!r.hasSlots())return null;var o=this.props.treeNode.pluginContext.common.editorCabin.Title;return React.createElement("div",{className:Jo()("tree-node-slots",{"insertion-at-slots":"slots"===(null===(t=r.dropDetail)||void 0===t||null===(n=t.focus)||void 0===n?void 0:n.type)}),"data-id":r.nodeId},React.createElement("div",{className:"tree-node-slots-title"},React.createElement(o,{title:{type:"i18n",intl:this.props.treeNode.pluginContext.intlNode("Slots")}})),r.slots.map((function(e){return React.createElement(wA,{key:e.nodeId,treeNode:e})})))}}]),n}(r.PureComponent);function aA(e){return(aA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lA(r.key),r)}}function sA(e,t,n){return t&&cA(e.prototype,t),n&&cA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lA(e){var t=fA(e,"string");return"symbol"===aA(t)?t:String(t)}function fA(e,t){if("object"!==aA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==aA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function pA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hA(e,t)}function hA(e,t){return(hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function dA(e){var t=mA();return function n(){var r=bA(e),o;if(t){var i=bA(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return vA(this,o)}}function vA(e,t){if(t&&("object"===aA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yA(e)}function yA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bA(e){return(bA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var gA=function(e){pA(n,e);var t=dA(n);function n(e){var r,o;uA(this,n),(o=t.call(this,e)).modalNodesManager=void 0,o.pluginContext=void 0,o.pluginContext=e.treeNode.pluginContext;var i=o.pluginContext.project;return o.modalNodesManager=null===(r=i.currentDocument)||void 0===r?void 0:r.modalNodesManager,o.state={treeChildren:o.rootTreeNode.children},o}return sA(n,[{key:"hideAllNodes",value:function e(){var t;null===(t=this.modalNodesManager)||void 0===t||t.hideModalNodes()}},{key:"componentDidMount",value:function e(){var t=this,n=this.rootTreeNode;n.onExpandableChanged((function(){t.setState({treeChildren:n.children})}))}},{key:"rootTreeNode",get:function e(){var t,n=this.props.treeNode,r,o=null===(t=this.pluginContext.project.currentDocument)||void 0===t?void 0:t.root,i;return n.tree.getTreeNode(o)}},{key:"render",value:function e(){var t,n=this.rootTreeNode,r=n.expanded,o=!(null===(t=this.modalNodesManager)||void 0===t||!t.getVisibleModalNode());return React.createElement("div",{className:"tree-node-modal"},React.createElement("div",{className:"tree-node-modal-title"},React.createElement("span",null,this.pluginContext.intlNode("Modal View")),React.createElement("div",{className:"tree-node-modal-title-visible-icon",onClick:this.hideAllNodes.bind(this)},o?React.createElement(aR,null):null)),React.createElement("div",{className:"tree-pane-modal-content"},React.createElement(rA,{treeNode:n,treeChildren:this.state.treeChildren,expanded:r,isModal:!0})))}}]),n}(r.PureComponent),wA=function(e){pA(n,e);var t=dA(n);function n(e){var r,o;uA(this,n),(o=t.call(this,e)).state={expanded:!1,selected:!1,hidden:!1,locked:!1,detecting:!1,isRoot:!1,highlight:!1,dropping:!1,conditionFlow:!1,expandable:!1,treeChildren:[]},o.eventOffCallbacks=[];var i=o.props,a=i.treeNode,u=i.isRootNode;return o.state={expanded:!!u||a.expanded,selected:a.selected,hidden:a.hidden,locked:a.locked,detecting:a.detecting,isRoot:a.isRoot(),dropping:null!=(null===(r=a.dropDetail)||void 0===r?void 0:r.index),conditionFlow:null!=a.node.conditionGroup,highlight:a.isFocusingNode(),expandable:a.expandable,treeChildren:a.children},o}return sA(n,[{key:"componentDidMount",value:function e(){var t=this,n,r,o=this.props.treeNode,i,a=o.pluginContext.project.currentDocument;o.onExpandedChanged((function(e){t.setState({expanded:e})})),o.onHiddenChanged((function(e){t.setState({hidden:e})})),o.onLockedChanged((function(e){t.setState({locked:e})})),o.onExpandableChanged((function(e){t.setState({expandable:e,treeChildren:o.children})})),this.eventOffCallbacks.push(null==a?void 0:a.onDropLocationChanged((function(){var e;t.setState({dropping:null!=(null===(e=o.dropDetail)||void 0===e?void 0:e.index)})})));var u=null==a||null===(n=a.selection)||void 0===n?void 0:n.onSelectionChange((function(){t.setState({selected:o.selected})}));this.eventOffCallbacks.push(u);var c=null==a||null===(r=a.detecting)||void 0===r?void 0:r.onDetectingChange((function(){t.setState({detecting:o.detecting})}));this.eventOffCallbacks.push(c)}},{key:"componentWillUnmount",value:function e(){var t;null===(t=this.eventOffCallbacks)||void 0===t||t.forEach((function(e){e&&e()}))}},{key:"shouldShowModalTreeNode",value:function e(){var t,n,r=this.props,o=r.treeNode,i;if(!r.isRootNode)return!1;var a,u=null===(t=o.pluginContext.project.currentDocument)||void 0===t?void 0:t.root,c,s=null===(n=o.tree.getTreeNode(u).children)||void 0===n?void 0:n.filter((function(e){var t;return null===(t=e.node.componentMeta)||void 0===t?void 0:t.isModal}));return!!(s&&s.length>0)}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.isModal,o=t.isRootNode,i=Jo()("tree-node",{expanded:this.state.expanded,selected:this.state.selected,hidden:this.state.hidden,locked:this.state.locked,detecting:this.state.detecting,dropping:this.state.dropping,"is-root":this.state.isRoot,"condition-flow":this.state.conditionFlow,highlight:this.state.highlight}),a=this.shouldShowModalTreeNode(),u=n.filterReult,c=u.filterWorking,s=u.matchChild,l=u.matchSelf;return o||!c||s||l?React.createElement("div",{className:i,"data-id":n.nodeId},React.createElement(BR,{treeNode:n,isModal:r,expanded:this.state.expanded,hidden:this.state.hidden,locked:this.state.locked,expandable:this.state.expandable}),a&&React.createElement(gA,{treeNode:n}),React.createElement(rA,{treeNode:n,isModal:!1,expanded:this.state.expanded,treeChildren:this.state.treeChildren})):null}}]),n}(r.PureComponent);function OA(e){return(OA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EA(r.key),r)}}function kA(e,t,n){return t&&SA(e.prototype,t),n&&SA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EA(e){var t=_A(e,"string");return"symbol"===OA(t)?t:String(t)}function _A(e,t){if("object"!==OA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==OA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function PA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xA(e,t)}function xA(e,t){return(xA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function NA(e){var t=LA();return function n(){var r=RA(e),o;if(t){var i=RA(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return CA(this,o)}}function CA(e,t){if(t&&("object"===OA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return TA(e)}function TA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function RA(e){return(RA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function AA(e,t){var n=e.target;return n&&t.contains(n)&&(n=n.closest("[data-id]"))&&t.contains(n)&&n.dataset.id||null}var MA=function(e){PA(n,e);var t=NA(n);function n(){var e;jA(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shell=null,e.ignoreUpSelected=!1,e.boostEvent=void 0,e.state={root:null},e.onClick=function(t){var n;if(e.ignoreUpSelected)e.boostEvent=void 0;else if(e.boostEvent&&Object(s.W)(e.boostEvent,t.nativeEvent))e.boostEvent=void 0;else{e.boostEvent=void 0;var r=e.getTreeNodeFromEvent(t);if(r){var o=r.node;if(Object(s.i)(o,t)){var i=e.props.tree.pluginContext,a=i.project,u=i.event,c=i.canvas,l=a.currentDocument,f=null==l?void 0:l.selection,p=null==l?void 0:l.focusNode,h=o.id,d=t.metaKey||t.ctrlKey||t.shiftKey;if(null===(n=c.activeTracker)||void 0===n||n.track(o),d&&p&&!o.contains(p)&&null!=f&&f.has(h))Object(s.F)(t.nativeEvent)||f.remove(h);else{var v,y,m;null==f||f.select(h);var b=null==f||null===(v=f.getNodes())||void 0===v?void 0:v[0],g=null==b||null===(y=b.componentMeta)||void 0===y?void 0:y.npm,w=[null==g?void 0:g.package,null==g?void 0:g.componentName].filter((function(e){return!!e})).join("-")||(null==b||null===(m=b.componentMeta)||void 0===m?void 0:m.componentName)||"";u.emit("outlinePane.select",{selected:w})}}}}},e.onDoubleClick=function(t){var n;t.preventDefault();var r=e.getTreeNodeFromEvent(t);(null==r?void 0:r.nodeId)!==(null===(n=e.state.root)||void 0===n?void 0:n.nodeId)&&(null!=r&&r.expanded?e.props.tree.collapseAllDecendants(r):e.props.tree.expandAllDecendants(r))},e.onMouseOver=function(t){e.hover(t)},e.onMouseDown=function(t){var n,r;if(!Object(s.F)(t.nativeEvent)){var o=e.getTreeNodeFromEvent(t);if(o){var i=o.node;if(Object(s.i)(i,t)){var a=e.props.tree.pluginContext,c=a.project,l=a.canvas,f=null===(n=c.currentDocument)||void 0===n?void 0:n.selection,p=null===(r=c.currentDocument)||void 0===r?void 0:r.focusNode,h=t.metaKey||t.ctrlKey||t.shiftKey,d;if(0===t.button&&p&&!i.contains(p)){var v,y=[i];if(e.ignoreUpSelected=!1,h){var m;if(null==f||!f.has(i.id))null===(m=l.activeTracker)||void 0===m||m.track(i),null==f||f.add(i.id),e.ignoreUpSelected=!0;null==f||f.remove(p.id),f&&(y=f.getTopNodes())}else null!=f&&f.has(i.id)&&(y=f.getTopNodes());e.boostEvent=t.nativeEvent,null===(v=l.dragon)||void 0===v||v.boost({type:u.f.Node,nodes:y},e.boostEvent)}}}}},e.onMouseLeave=function(){var t,n,r=e.props.tree.pluginContext.project.currentDocument;null==r||r.detecting.leave()},e}return kA(n,[{key:"hover",value:function e(t){var n,r,o,i=null===(n=this.props.tree.pluginContext.project.currentDocument)||void 0===n?void 0:n.detecting;if(null==i||!i.enable){var a=null===(r=this.getTreeNodeFromEvent(t))||void 0===r?void 0:r.node;null==i||i.capture(a)}}},{key:"getTreeNodeFromEvent",value:function e(t){if(this.shell){var n=AA(t,this.shell),r;if(n)return this.props.tree.getTreeNodeById(n)}}},{key:"componentDidMount",value:function e(){var t=this,n=this.props.tree,r=n.root,o=n.pluginContext.project;this.setState({root:r});var i=o.currentDocument;null==i||i.onFocusNodeChanged((function(){t.setState({root:n.root})})),null==i||i.onImportSchema((function(){t.setState({root:n.root})}))}},{key:"render",value:function e(){var t=this,n;return this.state.root?React.createElement("div",{className:"lc-outline-tree",ref:function e(n){t.shell=n},onMouseDownCapture:this.onMouseDown,onMouseOver:this.onMouseOver,onClick:this.onClick,onDoubleClick:this.onDoubleClick,onMouseLeave:this.onMouseLeave},React.createElement(wA,{key:null===(n=this.state.root)||void 0===n?void 0:n.id,treeNode:this.state.root,isRootNode:!0})):null}}]),n}(r.PureComponent),DA=n(48),IA="CONDITION",BA="LOOP",VA="LOCKED",FA="HIDDEN",GA=[{value:IA,label:"Conditional rendering"},{value:BA,label:"Loop rendering"},{value:VA,label:"Locked"},{value:FA,label:"Hidden"}],HA=function e(t,n,r){if(!t||!t.node)return!1;if(!n&&0===r.length)return t.setFilterReult({filterWorking:!1,matchChild:!1,matchSelf:!1,keywords:""}),(t.children||[]).concat(t.slots||[]).forEach((function(t){e(t,n,r)})),!1;var o=t.node,i=0===r.length||!!r.find((function(e){switch(e){case IA:return o.hasCondition();case BA:return o.hasLoop();case VA:return t.locked;case FA:return t.hidden;default:return!1}})),a="string"==typeof t.titleLabel&&t.titleLabel.indexOf(n)>-1,u=t.isRoot()||i&&a,c=!!(t.children||[]).concat(t.slots||[]).map((function(t){return e(t,n,r)})).find(Boolean);return t.setFilterReult({filterWorking:!0,matchChild:c,matchSelf:u,keywords:n}),u||c};function UA(e){return(UA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XA(r.key),r)}}function $A(e,t,n){return t&&WA(e.prototype,t),n&&WA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XA(e){var t=YA(e,"string");return"symbol"===UA(t)?t:String(t)}function YA(e,t){if("object"!==UA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==UA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function KA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qA(e,t)}function qA(e,t){return(qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function JA(e){var t=eM();return function n(){var r=tM(e),o;if(t){var i=tM(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return QA(this,o)}}function QA(e,t){if(t&&("object"===UA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ZA(e)}function ZA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eM(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tM(e){return(tM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var nM=function(e){KA(n,e);var t=JA(n);function n(){var e;zA(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={keywords:"",filterOps:[]},e.handleSearchChange=function(t){e.setState({keywords:t.trim()},e.filterTree)},e.handleOptionChange=function(t){e.setState({filterOps:t},e.filterTree)},e.handleCheckAll=function(){var t,n=e.state.filterOps.length===GA.length?[]:GA.map((function(e){return e.value}));e.handleOptionChange(n)},e}return $A(n,[{key:"filterTree",value:function e(){var t=this.props.tree,n=this.state,r=n.keywords,o=n.filterOps;HA(t.root,r,o)}},{key:"render",value:function e(){var t=this,n=this.state,r=n.keywords,i=n.filterOps,a=i.length>0&&i.length<GA.length,u=i.length===GA.length;return o.a.createElement("div",{className:"lc-outline-filter"},o.a.createElement(Ni.Search,{hasClear:!0,shape:"simple",placeholder:this.props.tree.pluginContext.intl("Filter Node"),className:"lc-outline-filter-search-input",value:r,onChange:this.handleSearchChange}),o.a.createElement(Ni.Balloon,{v2:!0,align:"br",closable:!1,triggerType:"hover",trigger:o.a.createElement("div",{className:"lc-outline-filter-icon"},o.a.createElement(lR,null))},o.a.createElement(Ni.Checkbox,{checked:u,indeterminate:a,onChange:this.handleCheckAll},this.props.tree.pluginContext.intlNode("Check All")),o.a.createElement(Ni.Divider,null),o.a.createElement(Ni.Checkbox.Group,{value:i,direction:"ver",onChange:this.handleOptionChange},GA.map((function(e){return o.a.createElement(Ni.Checkbox,{id:e.value,value:e.value,key:e.value},t.props.tree.pluginContext.intlNode(e.label))})))))}}]),n}(r.PureComponent);function rM(e){return(rM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uM(r.key),r)}}function aM(e,t,n){return t&&iM(e.prototype,t),n&&iM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uM(e){var t=cM(e,"string");return"symbol"===rM(t)?t:String(t)}function cM(e,t){if("object"!==rM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function sM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lM(e,t)}function lM(e,t){return(lM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function fM(e){var t=dM();return function n(){var r=vM(e),o;if(t){var i=vM(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return pM(this,o)}}function pM(e,t){if(t&&("object"===rM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hM(e)}function hM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dM(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function vM(e){return(vM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var yM=function(e){sM(n,e);var t=fM(n);function n(e){var r,o,i,a,u,c,s;oM(this,n),(s=t.call(this,e)).controller=void 0,s.simulatorRendererReadyDispose=void 0,s.changeDocumentDispose=void 0,s.removeDocumentDispose=void 0,s.changeTree=function(){s.setState({tree:s.props.treeMaster.currentTree})};var l=e.controller,f=e.treeMaster;return s.controller=l,s.state={tree:f.currentTree},s.simulatorRendererReadyDispose=null===(r=s.props.treeMaster.pluginContext)||void 0===r||null===(o=r.project)||void 0===o?void 0:o.onSimulatorRendererReady(s.changeTree),s.changeDocumentDispose=null===(i=s.props.treeMaster.pluginContext)||void 0===i||null===(a=i.project)||void 0===a?void 0:a.onChangeDocument(s.changeTree),s.removeDocumentDispose=null===(u=s.props.treeMaster.pluginContext)||void 0===u||null===(c=u.project)||void 0===c?void 0:c.onRemoveDocument(s.changeTree),s}return aM(n,[{key:"componentWillUnmount",value:function e(){var t,n,r;this.controller.purge(),null===(t=this.simulatorRendererReadyDispose)||void 0===t||t.call(this),null===(n=this.changeDocumentDispose)||void 0===n||n.call(this),null===(r=this.removeDocumentDispose)||void 0===r||r.call(this)}},{key:"render",value:function e(){var t=this,n=this.state.tree;return n?o.a.createElement("div",{className:"lc-outline-pane"},!this.props.hideFilter&&o.a.createElement(nM,{tree:n}),o.a.createElement("div",{ref:function e(n){return t.controller.mount(n)},className:"lc-outline-tree-container ".concat(this.props.hideFilter?"lc-hidden-outline-filter":"")},o.a.createElement(MA,{key:n.id,tree:n}))):o.a.createElement("div",{className:"lc-outline-pane"},o.a.createElement("p",{className:"lc-outline-notice"},o.a.createElement(Ni.Loading,{style:{display:"block",marginTop:"40px"},tip:this.props.treeMaster.pluginContext.intl("Initializing")})))}}]),n}(r.PureComponent);function mM(){return(mM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bM(e){return React.createElement(s.f,mM({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M128 96h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V160a64 64 0 0 1 64-64z m32 64a32 32 0 1 0 0 64h448a32 32 0 0 0 0-64H160z m224 576h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z m32 64a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H416z m-32-384h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z m32 64a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H416z"}))}bM.displayName="IconOutline";var gM="outline-backup-pane",wM="outline-master-pane",OM=n(9),jM=n.n(OM),SM;function kM(e){return(kM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xM(r.key),r)}}function PM(e,t,n){return t&&_M(e.prototype,t),n&&_M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xM(e){var t=NM(e,"string");return"symbol"===kM(t)?t:String(t)}function NM(e,t){if("object"!==kM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==kM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){e.filterResultChanged="filterResultChanged",e.expandedChanged="expandedChanged",e.hiddenChanged="hiddenChanged",e.lockedChanged="lockedChanged",e.titleLabelChanged="titleLabelChanged",e.expandableChanged="expandableChanged",e.conditionChanged="conditionChanged"}(SM||(SM={}));var CM=function(){function e(t,n){EM(this,e),this.pluginContext=void 0,this.event=new jM.a,this._node=void 0,this.tree=void 0,this._filterResult={filterWorking:!1,matchChild:!1,matchSelf:!1,keywords:""},this._expanded=!1,this.id=Object(s.db)("treeNode"),this.tree=t,this.pluginContext=t.pluginContext,this._node=n}return PM(e,[{key:"nodeId",get:function e(){return this.node.id}},{key:"expandable",get:function e(){var t;return!this.locked&&(this.hasChildren()||this.hasSlots()||null!=(null===(t=this.dropDetail)||void 0===t?void 0:t.index))}},{key:"expanded",get:function e(){return this.isRoot(!0)||this.expandable&&this._expanded}},{key:"dropDetail",get:function e(){var t,n=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return n&&this.isResponseDropping()&&Object(s.K)(n.detail)?n.detail:null}},{key:"depth",get:function e(){return this.node.zLevel}},{key:"detecting",get:function e(){var t=this.pluginContext.project.currentDocument;return!(null==t||!t.isDetectingNode(this.node))}},{key:"hidden",get:function e(){var t=this.node.isConditionalVisible();return null==t?!this.node.visible:!t}},{key:"locked",get:function e(){return this.node.isLocked}},{key:"selected",get:function e(){var t,n=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.selection;return!!n&&(null==n?void 0:n.has(this.node.id))}},{key:"title",get:function e(){return this.node.title}},{key:"titleLabel",get:function e(){var t=this.title,n,r;return t?(t.label&&(t=t.label),"string"==typeof t?t:Object(s.G)(t)?t[this.pluginContext.getLocale()]:this.node.componentName):""}},{key:"icon",get:function e(){var t;return null===(t=this.node.componentMeta)||void 0===t?void 0:t.icon}},{key:"parent",get:function e(){var t=this.node.parent;return t?this.tree.getTreeNode(t):null}},{key:"slots",get:function e(){var t=this;return this.node.slots.map((function(e){return t.tree.getTreeNode(e)}))}},{key:"condition",get:function e(){return this.node.hasCondition()&&!this.node.conditionGroup}},{key:"children",get:function e(){var t,n=this;return(null===(t=this.node.children)||void 0===t?void 0:t.map((function(e){return n.tree.getTreeNode(e)})))||null}},{key:"node",get:function e(){return this._node}},{key:"setLocked",value:function e(t){this.node.lock(t),this.event.emit(SM.lockedChanged,t)}},{key:"deleteNode",value:function e(t){t&&t.remove()}},{key:"onFilterResultChanged",value:function e(t){var n=this;return this.event.on(SM.filterResultChanged,t),function(){n.event.off(SM.filterResultChanged,t)}}},{key:"onExpandedChanged",value:function e(t){var n=this;return this.event.on(SM.expandedChanged,t),function(){n.event.off(SM.expandedChanged,t)}}},{key:"onHiddenChanged",value:function e(t){var n=this;return this.event.on(SM.hiddenChanged,t),function(){n.event.off(SM.hiddenChanged,t)}}},{key:"onLockedChanged",value:function e(t){var n=this;return this.event.on(SM.lockedChanged,t),function(){n.event.off(SM.lockedChanged,t)}}},{key:"onTitleLabelChanged",value:function e(t){var n=this;return this.event.on(SM.titleLabelChanged,t),function(){n.event.off(SM.titleLabelChanged,t)}}},{key:"onConditionChanged",value:function e(t){var n=this;return this.event.on(SM.conditionChanged,t),function(){n.event.off(SM.conditionChanged,t)}}},{key:"onExpandableChanged",value:function e(t){var n=this;return this.event.on(SM.expandableChanged,t),function(){n.event.off(SM.expandableChanged,t)}}},{key:"notifyExpandableChanged",value:function e(){this.event.emit(SM.expandableChanged,this.expandable)}},{key:"notifyTitleLabelChanged",value:function e(){this.event.emit(SM.titleLabelChanged,this.title)}},{key:"notifyConditionChanged",value:function e(){this.event.emit(SM.conditionChanged,this.condition)}},{key:"setHidden",value:function e(t){this.node.conditionGroup||(this.node.visible!==!t&&(this.node.visible=!t),this.event.emit(SM.hiddenChanged,t))}},{key:"isFocusingNode",value:function e(){var t,n,r,o,i=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return!!i&&(Object(s.K)(i.detail)&&"node"===(null===(n=i.detail.focus)||void 0===n?void 0:n.type)&&(null===(r=i.detail)||void 0===r||null===(o=r.focus)||void 0===o?void 0:o.node.id)===this.nodeId)}},{key:"setExpanded",value:function e(t){this._expanded=t,this.event.emit(SM.expandedChanged,t)}},{key:"isRoot",value:function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.root;return this.tree.root===this||n&&r===this.node}},{key:"isResponseDropping",value:function e(){var t,n,r=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return!!r&&(null===(n=r.target)||void 0===n?void 0:n.id)===this.nodeId}},{key:"setTitleLabel",value:function e(t){var n;if(t!==this.titleLabel){var r,o;if(""===t)null===(r=this.node.getExtraProp("title",!1))||void 0===r||r.remove();else null===(o=this.node.getExtraProp("title",!0))||void 0===o||o.setValue(t);this.event.emit(SM.titleLabelChanged,this)}}},{key:"isContainer",value:function e(){return this.node.isContainerNode}},{key:"hasSlots",value:function e(){return this.node.hasSlots()}},{key:"hasChildren",value:function e(){var t;return!(!this.isContainer()||null===(t=this.node.children)||void 0===t||!t.notEmptyNode)}},{key:"select",value:function e(t){var n,r=this.node,o=null===(n=this.pluginContext.project.getCurrentDocument())||void 0===n?void 0:n.selection;t?null==o||o.add(r.id):null==o||o.select(r.id)}},{key:"expand",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.expandable&&!this._expanded&&this.setExpanded(!0),t&&this.expandParents()}},{key:"expandParents",value:function e(){for(var t=this.node.parent;t;)this.tree.getTreeNode(t).setExpanded(!0),t=t.parent}},{key:"setNode",value:function e(t){this._node!==t&&(this._node=t)}},{key:"filterReult",get:function e(){return this._filterResult}},{key:"setFilterReult",value:function e(t){this._filterResult=t,this.event.emit(SM.filterResultChanged)}}]),e}();function TM(e){return(TM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MM(r.key),r)}}function AM(e,t,n){return t&&RM(e.prototype,t),n&&RM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function MM(e){var t=DM(e,"string");return"symbol"===TM(t)?t:String(t)}function DM(e,t){if("object"!==TM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==TM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var IM=function(){function e(t){var n=this;LM(this,e),this.treeNodesMap=new Map,this.id=void 0,this.pluginContext=void 0,this.treeMaster=void 0,this.treeMaster=t,this.pluginContext=t.pluginContext;var r=this.pluginContext.project.currentDocument;this.id=null==r?void 0:r.id,null==r||r.onChangeNodeChildren((function(e){var t=e.node,r=n.getTreeNodeById(t.id);null==r||r.notifyExpandableChanged()})),null==r||r.history.onChangeCursor((function(){var e;null===(e=n.root)||void 0===e||e.notifyExpandableChanged()})),null==r||r.onChangeNodeProp((function(e){var t=e.node,r=e.key;if("___title___"===r){var o=n.getTreeNodeById(t.id);null==o||o.notifyTitleLabelChanged()}else if("___condition___"===r){var i=n.getTreeNodeById(t.id);null==i||i.notifyConditionChanged()}})),null==r||r.onChangeNodeVisible((function(e,t){var r=n.getTreeNodeById(e.id);null==r||r.setHidden(!t)})),null==r||r.onImportSchema((function(){n.treeNodesMap=new Map}))}return AM(e,[{key:"root",get:function e(){var t;return null!==(t=this.pluginContext.project.currentDocument)&&void 0!==t&&t.focusNode?this.getTreeNode(this.pluginContext.project.currentDocument.focusNode):null}},{key:"setNodeSelected",value:function e(t){var n=this.treeNodesMap.get(t);n&&this.expandAllAncestors(n)}},{key:"getTreeNode",value:function e(t){if(this.treeNodesMap.has(t.id)){var n=this.treeNodesMap.get(t.id);return n.setNode(t),n}var r=new CM(this,t);return this.treeNodesMap.set(t.id,r),r}},{key:"getTreeNodeById",value:function e(t){return this.treeNodesMap.get(t)}},{key:"expandAllAncestors",value:function e(t){if(t&&!t.isRoot()){for(var n=[],r=t;!t.isRoot();){var o;if(!(r=null===(o=r)||void 0===o?void 0:o.parent))break;n.unshift(r)}n.forEach((function(e){e.setExpanded(!0)}))}}},{key:"expandAllDecendants",value:function e(t){var n=this;if(t){t.setExpanded(!0);var r=t&&t.children;r&&r.forEach((function(e){n.expandAllDecendants(e)}))}}},{key:"collapseAllDecendants",value:function e(t){var n=this;if(t){t.setExpanded(!1);var r=t&&t.children;r&&r.forEach((function(e){n.collapseAllDecendants(e)}))}}}]),e}(),BM=n(49),VM=n(50),FM;function GM(e){return(GM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WM(r.key),r)}}function zM(e,t,n){return t&&UM(e.prototype,t),n&&UM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WM(e){var t=$M(e,"string");return"symbol"===GM(t)?t:String(t)}function $M(e,t){if("object"!==GM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==GM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){e.pluginContextChanged="pluginContextChanged"}(FM||(FM={}));var XM=function(){function e(t,n){var r=this;HM(this,e),this.options=void 0,this.pluginContext=void 0,this.boards=new Set,this.treeMap=new Map,this.disposeEvents=[],this.event=new jM.a,this.options=n,this.setPluginContext(t);var o=this.pluginContext.workspace,i;(this.initEvent(),t.registerLevel===u.g.Workspace)&&(this.setPluginContext(null===(i=o.window)||void 0===i?void 0:i.currentEditorView),o.onWindowRendererReady((function(){var e,t;r.setPluginContext(null===(e=o.window)||void 0===e?void 0:e.currentEditorView);var n=function e(){var n;t=null===(n=o.window)||void 0===n?void 0:n.onChangeViewType((function(){var e;r.setPluginContext(null===(e=o.window)||void 0===e?void 0:e.currentEditorView)}))};n(),o.onChangeActiveWindow((function(){var e;n(),r.setPluginContext(null===(e=o.window)||void 0===e?void 0:e.currentEditorView),t&&t()}))})))}return zM(e,[{key:"setPluginContext",value:function e(t){if(t){var n=t.common.utils.createIntl({"en-US":BM,"zh-CN":VM}),r=n.intl,o=n.intlNode,i=n.getLocale,a=Object.assign(t,{intl:r,intlNode:o,getLocale:i});a.extraTitle=this.options&&this.options.extraTitle,this.pluginContext=a,this.disposeEvent(),this.initEvent(),this.emitPluginContextChange()}}},{key:"disposeEvent",value:function e(){this.disposeEvents.forEach((function(e){e&&e()}))}},{key:"initEvent",value:function e(){var t=this,n,r,o,i,a,u=this.pluginContext,c=u.event,l=u.project,f=u.canvas,p=function e(n){var r=n.node,o=n.detail,i=t.currentTree;if(i){var a=i.getTreeNode(r);o&&Object(s.K)(o)?a.expand(!0):a.expandParents(),t.boards.forEach((function(e){e.scrollToNode(a,o)}))}},h;(this.disposeEvents=[null===(n=f.dragon)||void 0===n?void 0:n.onDragstart((function(){a=Date.now()/1e3,t.toVision()})),null===(r=f.activeTracker)||void 0===r?void 0:r.onChange(p),null===(o=f.dragon)||void 0===o?void 0:o.onDragend((function(){var e,t,n=Date.now()/1e3,r=null===(e=l.currentDocument)||void 0===e||null===(t=e.selection)||void 0===t?void 0:t.getNodes();c.emit("outlinePane.dragend",{selected:null==r?void 0:r.map((function(e){var t,n;if(e){var r=null==e||null===(t=e.componentMeta)||void 0===t?void 0:t.npm;return[null==r?void 0:r.package,null==r?void 0:r.componentName].filter((function(e){return!!e})).join("-")||(null==e||null===(n=e.componentMeta)||void 0===n?void 0:n.componentName)}})).join("&"),time:(n-a).toFixed(2)})})),l.onRemoveDocument((function(e){var n=e.id;t.treeMap.delete(n)}))],null!==(i=f.activeTracker)&&void 0!==i&&i.target)&&p(null===(h=f.activeTracker)||void 0===h?void 0:h.target)}},{key:"toVision",value:function e(){var t=this.currentTree;if(t){var n,r=null===(n=this.pluginContext.project.getCurrentDocument())||void 0===n?void 0:n.selection;null==r||r.getTopNodes().forEach((function(e){t.getTreeNode(e).setExpanded(!1)}))}}},{key:"addBoard",value:function e(t){this.boards.add(t)}},{key:"removeBoard",value:function e(t){this.boards.delete(t)}},{key:"purge",value:function e(){}},{key:"onPluginContextChange",value:function e(t){this.event.on(FM.pluginContextChanged,t)}},{key:"emitPluginContextChange",value:function e(){this.event.emit(FM.pluginContextChanged)}},{key:"currentTree",get:function e(){var t=this.pluginContext.project.getCurrentDocument();if(t){var n=t.id;if(this.treeMap.has(n))return this.treeMap.get(n);var r=new IM(this);return this.treeMap.set(n,r),r}return null}}]),e}();function YM(e){return(YM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QM(r.key),r)}}function JM(e,t,n){return t&&qM(e.prototype,t),n&&qM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function QM(e){var t=ZM(e,"string");return"symbol"===YM(t)?t:String(t)}function ZM(e,t){if("object"!==YM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==YM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var eD=15,tD=function(){function e(){KM(this,e),this.indentStart=null}return JM(e,[{key:"reset",value:function e(){this.indentStart=null}},{key:"getIndentParent",value:function e(t,n){if(t.target!==n.target||!Object(s.K)(t.detail)||!Object(s.K)(n.detail)||t.source!==n.source||t.detail.index!==n.detail.index||null==n.detail.index)return this.indentStart=null,null;null==this.indentStart&&(this.indentStart=t.event.globalX);var r=n.event.globalX-this.indentStart,o;if(Math.floor(Math.abs(r)/15)<1)return null;this.indentStart=n.event.globalX;var i=r<0?"left":"right",a=n.target,u=n.detail.index,c,l,f;return"left"===i?!a.parent||u<((null===(c=a.children)||void 0===c?void 0:c.size)||0)||a.isSlotNode?null:[a.parent,a.index+1]:0===u?null:(a=null===(l=a.children)||void 0===l?void 0:l.get(u-1))&&a.isContainerNode?[a,null===(f=a.children)||void 0===f?void 0:f.size]:null}}]),e}();function nD(e){return(nD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aD(r.key),r)}}function iD(e,t,n){return t&&oD(e.prototype,t),n&&oD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aD(e){var t=uD(e,"string");return"symbol"===nD(t)?t:String(t)}function uD(e,t){if("object"!==nD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var cD=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;rD(this,e),this.timer=void 0,this.previous=void 0,this.event=void 0,this.decide=void 0,this.timeout=500,this.decide=t,this.timeout=n}return iD(e,[{key:"focus",value:function e(t,n){var r=this;this.event=n,this.previous!==t&&(this.reset(),this.previous=t,this.timer=setTimeout((function(){r.previous&&r.decide(r.previous,r.event),r.reset()}),this.timeout))}},{key:"tryFocus",value:function e(t){var n;t&&Object(s.K)(t.detail)&&"node"===(null===(n=t.detail.focus)||void 0===n?void 0:n.type)?this.focus(t.detail.focus.node,t.event):this.reset()}},{key:"reset",value:function e(){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.previous=void 0}}]),e}();function sD(e){return(sD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lD(e,t){return vD(e)||dD(e,t)||pD(e,t)||fD()}function fD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pD(e,t){if(e){if("string"==typeof e)return hD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hD(e,t):void 0}}function hD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dD(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function vD(e){if(Array.isArray(e))return e}function yD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gD(r.key),r)}}function bD(e,t,n){return t&&mD(e.prototype,t),n&&mD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gD(e){var t=wD(e,"string");return"symbol"===sD(t)?t:String(t)}function wD(e,t){if("object"!==sD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var OD=function(){function e(t,n){var r=this;yD(this,e),this.pluginContext=void 0,this.treeMaster=void 0,this.id=Object(s.db)("outline"),this.indentTrack=new tD,this._sensorAvailable=!1,this.dwell=new cD((function(e,t){var n=r.pluginContext,o=n.canvas,i,a=n.project.getCurrentDocument(),c,s,l=!0;e.hasSlots()?(c=null,s={type:"slots"}):(c=0,l=!(null==a||!a.checkNesting(e,t.dragObject))),o.createLocation({target:e,source:r.id,event:t,detail:{type:u.j.Children,index:c,focus:s,valid:l}})})),this.at=void 0,this.tryScrollAgain=null,this.sensing=!1,this._scrollTarget=void 0,this.scroller=void 0,this._shell=null,this.pluginContext=n.pluginContext,this.treeMaster=n,this.at=t;var o=!1,i;(function e(){var t,n;if(o)return!1;o=!0,null===(t=r.treeMaster)||void 0===t||t.addBoard(r);var i=r.pluginContext.canvas;null===(n=i.dragon)||void 0===n||n.addSensor(r),r.scroller=i.createScroller(r)})()}return bD(e,[{key:"sensorAvailable",get:function e(){return this._sensorAvailable}},{key:"bounds",get:function e(){return this._shell?this._shell.getBoundingClientRect():null}},{key:"scrollTarget",get:function e(){return this._scrollTarget}},{key:"fixEvent",value:function e(t){var n;if(t.fixed)return t;var r=(null===(n=t.originalEvent.view)||void 0===n?void 0:n.document)!==document;return t.target&&!r||(t.target=document.elementFromPoint(t.canvasX,t.canvasY)),t.documentModel=this.pluginContext.project.getCurrentDocument(),t.fixed=!0,t}},{key:"locate",value:function e(t){var n,r,o,i;this.sensing=!0,null===(n=this.scroller)||void 0===n||n.scrolling(t);var a=t.globalY,c=t.dragObject,l=null==c?void 0:c.nodes,f=null===(r=this.treeMaster)||void 0===r?void 0:r.currentTree;if(!f||!f.root||!this._shell)return null;var p=null==l?void 0:l.filter((function(e){var t,n,r=null===(t=e.componentMeta)||void 0===t||null===(n=t.advanced.callbacks)||void 0===n?void 0:n.onMoveHook,o;return!r||"function"!=typeof r||r(e)}));if(!Object(s.C)(c)||p&&0!==p.length){var h=this.pluginContext,d=h.project,v=h.canvas,y=d.getCurrentDocument(),m=SD(t,this._shell),b=this.getInsertionRect(),g=null==y?void 0:y.dropLocation,w=null!==(o=t.dragObject)&&void 0!==o&&o.nodes?t.dragObject.nodes[0].componentMeta:null;if("node"===(null===(i=t.dragObject)||void 0===i?void 0:i.type)&&w&&w.isModal&&null!=y&&y.focusNode)return v.createLocation({target:null==y?void 0:y.focusNode,detail:{type:u.j.Children,index:0,valid:!0},source:this.id,event:t});if(!(g&&(m&&"unchanged"===m||b&&a>=b.top&&a<=b.bottom)&&c)){if(this.indentTrack.reset(),m&&"unchanged"!==m){var O=f.getTreeNodeById(m.nodeId);if(O){var j=m.focusSlots,S,k=O.node;if(Object(s.C)(c)){for(var E=p,_=null==E?void 0:E.length,P=k;_-- >0;)E[_].contains(P)&&(P=E[_].parent);P!==k&&(k=P||(null==y?void 0:y.focusNode),O=f.getTreeNode(k),j=!1)}if(j)return this.dwell.reset(),v.createLocation({target:k,source:this.id,event:t,detail:{type:u.j.Children,index:null,valid:!1,focus:{type:"slots"}}});if(!O.isRoot()){var x=this.getNear(O,t);return this.dwell.tryFocus(x),x}}}var N=this.drillLocate(f.root,t);return this.dwell.tryFocus(N),N}var C=g.clone(t),T=this.indentTrack.getIndentParent(g,C);if(T){var L=lD(T,2),R=L[0],A=L[1];if(jD(R,c)){if(f.getTreeNode(R).expanded)return this.dwell.reset(),v.createLocation({target:R,source:this.id,event:t,detail:{type:u.j.Children,index:A,valid:null==y?void 0:y.checkNesting(R,t.dragObject)}});g.detail.focus={type:"node",node:R},this.dwell.focus(R,t)}else this.dwell.reset()}else g.detail.near&&(g.detail.near=void 0,this.dwell.reset())}}},{key:"isEnter",value:function e(t){if(!this._shell)return!1;var n=this._shell.getBoundingClientRect();return t.globalY>=n.top&&t.globalY<=n.bottom&&t.globalX>=n.left&&t.globalX<=n.right}},{key:"deactiveSensor",value:function e(){var t;this.sensing=!1,null===(t=this.scroller)||void 0===t||t.cancel(),this.dwell.reset(),this.indentTrack.reset()}},{key:"scrollToNode",value:function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i;if(o<1&&this.tryScrollAgain&&(Object(os.cancelIdleCallback)(this.tryScrollAgain),this.tryScrollAgain=null),this.bounds&&this.scroller&&this.scrollTarget)if(i=n&&Object(s.K)(n)?this.getInsertionRect():this.getTreeNodeRect(t)){var a=this.scrollTarget,u=a.scrollHeight,c=a.top,l=this.bounds,f=l.height,p=l.top,h=l.bottom;if(i.top<p||i.bottom>h){var d={};d.top=Math.min(i.top+i.height/2+c-p-f/2,u-f),i.height>=f&&(d.top=Math.min(c+i.top-p,d.top)),this.scroller.scrollTo(d)}o<4&&(this.tryScrollAgain=is()((function(){return r.scrollToNode(t,n,4)})))}else o<3&&(this.tryScrollAgain=is()((function(){return r.scrollToNode(t,n,o+1)})))}},{key:"getNear",value:function e(t,n,r,o){var i=this.pluginContext,a=i.canvas,c,s=i.project.getCurrentDocument(),l=n.globalY,f=n.dragObject;if(!f)return null;var p=t.node,h=t.expanded,d=o;if(!d&&!(d=this.getTreeNodeRect(t)))return null;var v=r,y;if(null==v&&(v=p.index),p.isSlotNode){if(!t.isContainer()&&!t.hasSlots())return a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:u.j.Children,index:null,near:{node:p,pos:"replace"},valid:!0}});var m=this.drillLocate(t,n);return m||a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:u.j.Children,index:null,valid:!1,focus:{type:"slots"}}})}h||!t.isContainer()&&!t.hasSlots()||(y=p);var b=this.getTreeTitleRect(t)||d;if(l<b.top+b.height/2)return a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:u.j.Children,index:v,valid:null==s?void 0:s.checkNesting(p.parent,f),near:{node:p,pos:"before"},focus:jD(y,f)?{type:"node",node:y}:void 0}});if(l>b.bottom&&(y=void 0),h){var g=this.drillLocate(t,n);if(g)return g}return a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:u.j.Children,index:(v||0)+1,valid:null==s?void 0:s.checkNesting(p.parent,f),near:{node:p,pos:"after"},focus:jD(y,f)?{type:"node",node:y}:void 0}})}},{key:"drillLocate",value:function e(t,n){var r=this.pluginContext,o=r.canvas,i,a=r.project.getCurrentDocument(),c=n.dragObject,l=n.globalY;if(!c)return null;if(!jD(t.node,c))return null;if(Object(s.A)(c))return null;var f=t.node,p={type:u.j.Children},h={target:f,detail:p,source:this.id,event:n},d=t.hasSlots(),v=t.isContainer();f.isSlotNode&&!t.expanded&&(d?(p.index=null,p.focus={type:"slots"},p.valid=!1):(p.index=0,p.valid=null==a?void 0:a.checkNesting(f,c)));var y=null,m,b=!1;if(d&&(m=this.getTreeSlotsRect(t)))if(l<=m.bottom)b=!0,y=t.slots;else if(!v)return p.index=null,p.focus={type:"slots"},p.valid=!1,o.createLocation(h);if(!y&&v&&(y=t.children),!y)return null;for(var g=y.length,w=0,O=g<1,j,S=w;w<g;w++){j=y[w],S=w;var k=this.getTreeNodeRect(j);if(k){if(l<k.top){O=!0;break}if(!(l>k.bottom)){var E=this.getNear(j,n,w,k);if(E)return E}}}return b?(p.focus={type:"slots"},p.valid=!1,p.index=null):(j?(p.index=O?S:S+1,p.near={node:j.node,pos:O?"before":"after"}):p.index=g,p.valid=null==a?void 0:a.checkNesting(f,c)),o.createLocation(h)}},{key:"purge",value:function e(){var t,n,r;null===(t=this.pluginContext.canvas.dragon)||void 0===t||t.removeSensor(this),null===(n=this.treeMaster)||void 0===n||n.removeBoard(this)}},{key:"mount",value:function e(t){var n=this;if(this._shell!==t){this._shell=t;var r=this.pluginContext,o=r.canvas,i=r.project;if(t){var a,u;this._scrollTarget=o.createScrollTarget(t),this._sensorAvailable=!0;var c=null===(a=i.currentDocument)||void 0===a?void 0:a.selection,s=null==c?void 0:c.getTopNodes(!0),l=null===(u=this.treeMaster)||void 0===u?void 0:u.currentTree;if(s&&s[0]&&l){var f=l.getTreeNodeById(s[0].id);f&&setTimeout((function(){l.setNodeSelected(f.nodeId),n.scrollToNode(f,null,4)}),0)}}else this._scrollTarget=void 0,this._sensorAvailable=!1}}},{key:"getInsertionRect",value:function e(){var t;if(this._shell)return null===(t=this._shell.querySelector(".insertion"))||void 0===t?void 0:t.getBoundingClientRect()}},{key:"getTreeNodeRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node[data-id="'.concat(t.nodeId,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}},{key:"getTreeTitleRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node-title[data-id="'.concat(t.nodeId,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}},{key:"getTreeSlotsRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node-slots[data-id="'.concat(t.nodeId,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}}]),e}();function jD(e,t){if(!e)return!1;var n;if(Object(s.C)(t)&&t.nodes.some((function(t){return t.contains(e)})))return!1;return!0}function SD(e,t){var n=e.target;if(!n||!t.contains(n))return null;if(n.matches(".insertion"))return"unchanged";var r=n.closest("[data-id]");if(!r||!t.contains(r))return null;var o=r.dataset.id;return{focusSlots:r.matches(".tree-node-slots"),nodeId:o}}function kD(e){return(kD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ED(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ED=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==kD(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_D(Object(n),!0).forEach((function(t){xD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xD(e,t,n){return(t=ND(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ND(e){var t=CD(e,"string");return"symbol"===kD(t)?t:String(t)}function CD(e,t){if("object"!==kD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==kD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function TD(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function LD(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){TD(i,r,o,a,u,"next",e)}function u(e){TD(i,r,o,a,u,"throw",e)}a(void 0)}))}}function RD(){return(RD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function AD(e,t){return VD(e)||BD(e,t)||DD(e,t)||MD()}function MD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function DD(e,t){if(e){if("string"==typeof e)return ID(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ID(e,t):void 0}}function ID(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BD(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function VD(e){if(Array.isArray(e))return e}function FD(e){var t=e.treeMaster||new XM(e.pluginContext,e.options),n,o=AD(Object(r.useState)((function(){return new OD(e.paneName||wM,t)})),2),i=o[0],a=o[1];return Object(r.useEffect)((function(){return t.onPluginContextChange((function(){a(new OD(e.paneName||wM,t))}))}),[]),React.createElement(yM,RD({treeMaster:t,controller:i,key:i.id,hideFilter:e.hideFilter},e))}var GD=function e(t,n){var r=t.skeleton,o=t.config,i=t.canvas,a=t.project,u=!0,c;o.getPreference().contains("outline-pane-pinned-status-isFloat","skeleton")&&(u=o.getPreference().get("outline-pane-pinned-status-isFloat","skeleton"));var s={masterPane:!1,backupPane:!1},l=new XM(t,n);return{init:function e(){return LD(ED().mark((function e(){var t,n,c;return ED().wrap((function e(f){for(;;)switch(f.prev=f.next){case 0:r.add({area:"leftArea",name:"outlinePane",type:"PanelDock",index:-1,content:{name:wM,props:{icon:bM,description:l.pluginContext.intlNode("Outline Tree")},content:FD},panelProps:PD({area:u?"leftFloatArea":"leftFixedArea",keepVisibleWhileDragging:!0},o.get("defaultOutlinePaneProps")),contentProps:{treeTitleExtra:o.get("treeTitleExtra"),treeMaster:l,paneName:wM}}),r.add({area:"rightArea",name:gM,type:"Panel",props:{hiddenWhenInit:!0},content:FD,contentProps:{paneName:gM,treeMaster:l},index:1}),c=function e(){var t,n=null===(t=i.dragon)||void 0===t?void 0:t.dragging,o=s.backupPane||s.masterPane,a;n&&!o?r.showPanel(gM):r.hidePanel(gM)},null===(t=i.dragon)||void 0===t||t.onDragstart((function(){c()})),null===(n=i.dragon)||void 0===n||n.onDragend((function(){c()})),r.onShowPanel((function(e){e===wM&&(s.masterPane=!0),e===gM&&(s.backupPane=!0)})),r.onHidePanel((function(e){e===wM&&(s.masterPane=!1,c()),e===gM&&(s.backupPane=!1)})),a.onChangeDocument((function(e){if(e){var t=e.selection;null==t||t.onSelectionChange((function(){var e=null==t?void 0:t.getNodes();if(e&&0!==e.length){var n=l.currentTree;e.forEach((function(e){var t=null==n?void 0:n.getTreeNodeById(e.id);null==n||n.expandAllAncestors(t)}))}}))}}));case 8:case"end":return f.stop()}}),e)})))()}}};function HD(e){return(HD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UD(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */UD=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(_([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==HD(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function zD(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function WD(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zD(i,r,o,a,u,"next",e)}function u(e){zD(i,r,o,a,u,"throw",e)}a(void 0)}))}}function $D(e,t,n){return XD.apply(this,arguments)}function XD(){return(XD=WD(UD().mark((function e(t,n,r){var o,i;return UD().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:return o=uL(t),i=AL(n),a.next=4,r.register(GD,{},{autoInit:!0});case 4:return a.next=6,r.register(o);case 6:return a.next=8,r.register(cL,{});case 8:return a.next=10,r.register(i);case 10:return a.next=12,r.register(qL);case 12:return a.next=14,r.register(sN,{},{autoInit:!0});case 14:return a.abrupt("return",(function(){r.delete(GD.pluginName),r.delete(o.pluginName),r.delete(cL.pluginName),r.delete(i.pluginName),r.delete(qL.pluginName),r.delete(sN.pluginName)}));case 15:case"end":return a.stop()}}),e)})))).apply(this,arguments)}GD.meta={eventPrefix:"OutlinePlugin",preferenceDeclaration:{title:"\u5927\u7eb2\u6811\u63d2\u4ef6\u914d\u7f6e",properties:[{key:"extraTitle",type:"object",description:"\u526f\u6807\u9898"}]}},GD.pluginName="OutlinePlugin";var YD=new qC($D,UL),KD=new $g(YD),qD=new a.Editor;a.globalContext.register(qD,a.Editor),a.globalContext.register(qD,"editor"),a.globalContext.register(YD,"workspace");var JD=new sE(qD);qD.set("skeleton",JD);var QD=new hf({editor:qD,shellModelFactory:UL});qD.set("designer",QD);var ZD=QD.project,eI=new a.Hotkey,tI=new Bm(eI),nI=new Ub(ZD),rI=new kg(JD,"any",!1),oI=new a.Setters,iI=new Zb(oI),aI=new ab(qD);qD.set("project",nI),qD.set("setters",iI),qD.set("material",aI),qD.set("innerHotkey",eI);var uI=new Zg(a.engineConfig),cI=new Nm(a.commonEvent,{prefix:"common"}),sI=new $m({level:"warn",bizName:"common"}),lI=new wm(qD,JD),fI=new Dg(qD),pI,hI,dI=new Lp({assembleApis:function e(t,n,r){t.hotkey=tI,t.project=nI,t.skeleton=new kg(JD,n,!1),t.setters=iI,t.material=aI;var o=(null==r?void 0:r.eventPrefix)||"common";t.event=new Nm(a.commonEvent,{prefix:o}),t.config=uI,t.common=lI,t.canvas=fI,t.plugins=pI,t.logger=new $m({level:"warn",bizName:"plugin:".concat(n)}),t.workspace=KD,t.registerLevel=u.g.Default}});pI=new mb(dI).toProxy(),qD.set("innerPlugins",dI),qD.set("plugins",pI);var vI=!0,yI={symbols:aL,classes:iL},mI;a.engineConfig.set("isOpenSource",vI);var bI="1.1.11-beta";a.engineConfig.set("ENGINE_VERSION",bI);var gI=$D(QD,qD,pI);function wI(e,t,n){return OI.apply(this,arguments)}function OI(){return(OI=WD(UD().mark((function e(t,n,o){var u,c,l;return UD().wrap((function e(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,jI();case 2:if(u=null,Object(s.P)(t)?(u=t,(mI=document.createElement("div")).id="engine",document.body.appendChild(mI)):(u=n,mI=t,t||((mI=document.createElement("div")).id="engine",document.body.appendChild(mI))),a.engineConfig.setEngineOptions(u),c=lI.skeletonCabin.Workbench,!n||!n.enableWorkspaceMode){f.next=19;break}return f.next=9,gI;case 9:return(l=f.sent)&&l(),Object(i.render)(Object(r.createElement)(eL,{workspace:YD,className:"engine-main",topAreaItemClassName:"engine-actionitem"}),mI),YD.enableAutoOpenFirstWindow=a.engineConfig.get("enableAutoOpenFirstWindow",!0),YD.setActive(!0),YD.initWindow(),eI.activate(!1),f.next=18,YD.plugins.init(o);case 18:return f.abrupt("return");case 19:return f.next=21,pI.init(o);case 21:Object(i.render)(Object(r.createElement)(c,{skeleton:JD,className:"engine-main",topAreaItemClassName:"engine-actionitem"}),mI);case 22:case"end":return f.stop()}}),e)})))).apply(this,arguments)}function jI(){return SI.apply(this,arguments)}function SI(){return(SI=WD(UD().mark((function e(){var t;return UD().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:t=nI.documents,Array.isArray(t)&&t.length>0&&t.forEach((function(e){return nI.removeDocument(e)})),mI&&Object(i.unmountComponentAtNode)(mI);case 3:case"end":return n.stop()}}),e)})))).apply(this,arguments)}console.log("%c AliLowCodeEngine %c v".concat(bI," "),"padding: 2px 1px; border-radius: 3px 0 0 3px; color: #fff; background: #606060; font-weight: bold;","padding: 2px 1px; border-radius: 0 3px 3px 0; color: #fff; background: #42c02e; font-weight: bold;")}])}));
//# sourceMappingURL=engine-core.js.map