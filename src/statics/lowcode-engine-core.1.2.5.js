!function e(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.AliLowCodeEngine=n():t.AliLowCodeEngine=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=59)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return j}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function u(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function c(e,t){return function(n,r){t(n,r,e)}}function s(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",s=!t&&e?r.static?e:e.prototype:null,l=t||(s?Object.getOwnPropertyDescriptor(s,r.name):{}),f,p=!1,h=n.length-1;h>=0;h--){var d={};for(var v in r)d[v]="access"===v?{}:r[v];for(var v in r.access)d.access[v]=r.access[v];d.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var y=(0,n[h])("accessor"===u?{get:l.get,set:l.set}:l[c],d);if("accessor"===u){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(f=a(y.get))&&(l.get=f),(f=a(y.set))&&(l.set=f),(f=a(y.init))&&o.unshift(f)}else(f=a(y))&&("field"===u?o.unshift(f):l[c]=f)}s&&Object.defineProperty(s,r.name,l),p=!0}function l(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function f(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function h(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,u)}c((r=r.apply(e,t||[])).next())}))}function v(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return c([e,t])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){n=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(6===u[0]&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(e){u=[6,e],o=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var y=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function m(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||y(t,e,n)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function O(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function j(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function E(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){r[e]&&(o[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{c(r[e](t))}catch(e){f(i[0][3],e)}}function c(e){e.value instanceof S?Promise.resolve(e.value.v).then(s,l):f(i[0][2],e)}function s(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),i.shift(),i.length&&u(i[0][0],i[0][1])}}function k(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:!1}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=b(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise((function(r,i){o(r,i,(n=e[t](n)).done,n.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function P(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var x=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&y(t,e,n);return x(t,e),t}function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function L(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function R(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function A(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var M="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function D(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}function n(){for(;e.stack.length;){var r=e.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}return n()}var I=o,B=i,V=a,F=u,G=c,H=h,U=d,z=v,W=y,$=m,X=b,Y=g,K=w,q=O,J=j,Q=S,Z=E,ee=k,te=_,ne=P,re=N,oe=C,ie=T,ae=L,ue=R,ce=A,se=D},function(e,t,n){"use strict";var r=n(15);n.d(t,"createIntl",(function(){return r.a})),n.d(t,"globalLocale",(function(){return r.b})),n.d(t,"intl",(function(){return r.c})),n.d(t,"shallowIntl",(function(){return r.d}));var o=n(52);n.d(t,"Editor",(function(){return o.a})),n.d(t,"commonEvent",(function(){return o.b}));var i=n(17);n.d(t,"FocusTracker",(function(){return i.a})),n.d(t,"action",(function(){return i.b})),n.d(t,"autorun",(function(){return i.c})),n.d(t,"computed",(function(){return i.d})),n.d(t,"getPublicPath",(function(){return i.e})),n.d(t,"makeObservable",(function(){return i.f})),n.d(t,"mobx",(function(){return i.g})),n.d(t,"observable",(function(){return i.h})),n.d(t,"observer",(function(){return i.i})),n.d(t,"obx",(function(){return i.j})),n.d(t,"reaction",(function(){return i.k})),n.d(t,"runInAction",(function(){return i.l})),n.d(t,"runWithGlobalEventOff",(function(){return i.m})),n.d(t,"untracked",(function(){return i.n})),n.d(t,"wrapWithEventSwitch",(function(){return i.o}));var a=n(20);n.o(a,"Hotkey")&&n.d(t,"Hotkey",(function(){return a.Hotkey})),n.o(a,"Setters")&&n.d(t,"Setters",(function(){return a.Setters})),n.o(a,"Tip")&&n.d(t,"Tip",(function(){return a.Tip})),n.o(a,"TipContainer")&&n.d(t,"TipContainer",(function(){return a.TipContainer})),n.o(a,"Title")&&n.d(t,"Title",(function(){return a.Title})),n.o(a,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return a.createModuleEventBus})),n.o(a,"engineConfig")&&n.d(t,"engineConfig",(function(){return a.engineConfig})),n.o(a,"globalContext")&&n.d(t,"globalContext",(function(){return a.globalContext}));var u=n(45);n.d(t,"Hotkey",(function(){return u.a}));var c=n(51);n.d(t,"Tip",(function(){return c.a})),n.d(t,"TipContainer",(function(){return c.b})),n.d(t,"Title",(function(){return c.c}));var s=n(28);n.d(t,"engineConfig",(function(){return s.a}));var l=n(14);n.d(t,"createModuleEventBus",(function(){return l.b}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return r.d})),n.d(t,"b",(function(){return r.c})),n.d(t,"a",(function(){return r.b})),n.d(t,"w",(function(){return Z})),n.d(t,"v",(function(){return ee})),n.d(t,"g",(function(){return te})),n.d(t,"h",(function(){return ne})),n.d(t,"Y",(function(){return re})),n.d(t,"c",(function(){return ce})),n.d(t,"j",(function(){return fe})),n.d(t,"m",(function(){return He})),n.d(t,"n",(function(){return Ze})),n.d(t,"o",(function(){return ft})),n.d(t,"t",(function(){return dt})),n.d(t,"x",(function(){return o})),n.d(t,"E",(function(){return vt})),n.d(t,"F",(function(){return yt})),n.d(t,"P",(function(){return se})),n.d(t,"S",(function(){return Fe})),n.d(t,"Z",(function(){return wt})),n.d(t,"ab",(function(){return St})),n.d(t,"f",(function(){return Mt})),n.d(t,"db",(function(){return It})),n.d(t,"k",(function(){return or})),n.d(t,"p",(function(){return ar})),n.d(t,"T",(function(){return ur})),n.d(t,"bb",(function(){return cr})),n.d(t,"l",(function(){return Er})),n.d(t,"s",(function(){return kr})),n.d(t,"q",(function(){return xr})),n.d(t,"i",(function(){return Nr})),n.d(t,"e",(function(){return C})),n.d(t,"r",(function(){return T})),n.d(t,"W",(function(){return Tr})),n.d(t,"Q",(function(){return Lr})),n.d(t,"cb",(function(){return to})),n.d(t,"u",(function(){return Bt})),n.d(t,"y",(function(){return Vt})),n.d(t,"z",(function(){return Ft})),n.d(t,"D",(function(){return Gt})),n.d(t,"G",(function(){return Ht})),n.d(t,"H",(function(){return zt})),n.d(t,"I",(function(){return $t})),n.d(t,"J",(function(){return Xt})),n.d(t,"M",(function(){return Kt})),n.d(t,"O",(function(){return qt})),n.d(t,"R",(function(){return Yt})),n.d(t,"U",(function(){return Qt})),n.d(t,"X",(function(){return Zt})),n.d(t,"B",(function(){return en})),n.d(t,"C",(function(){return tn})),n.d(t,"A",(function(){return nn})),n.d(t,"K",(function(){return rn})),n.d(t,"N",(function(){return on})),n.d(t,"L",(function(){return an})),n.d(t,"V",(function(){return un}));var r=n(4);function o(e){return/\.css(\?.*)?$/.test(e)}function i(){var e={},t=new Promise((function(t,n){e.resolve=t,e.reject=n}));return e.promise=function(){return t},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return null!==e&&"object"===a(e)}function c(e){return u(e)&&"i18n"===e.type}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function v(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=m(e,"string");return"symbol"==s(t)?t:String(t)}function m(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b={debug:-1,log:0,info:0,warn:1,error:2},g=["#daa569","#00ffff","#385e0f","#7fffd4","#00c957","#b0e0e6","#4169e1","#6a5acd","#87ceeb","#ffff00","#e3cf57","#ff9912","#eb8e55","#ffe384","#40e0d0","#a39480","#d2691e","#ff7d40","#f0e68c","#bc8f8f","#c76114","#734a12","#5e2612","#0000ff","#3d59ab","#1e90ff","#03a89e","#33a1c9","#a020f0","#a066d3","#da70d6","#dda0dd","#688e23","#2e8b57"],w={debug:"#fadb14",log:"#8c8c8c",info:"#52c41a",warn:"#fa8c16",error:"#ff4d4f"},O={debug:"debug",log:"log",info:"info",warn:"warn",error:"error"},j={debug:console.log,log:console.log,info:console.log,warn:console.warn,error:console.error},S={},E=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=b[n]<=b[t],a="*"===o||r.indexOf(o)>-1;return i&&a},k=function e(t,n){return function(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(e=j[t])||void 0===e?void 0:e.apply(console,P(o,n,t))}},_=function e(t){if(!S[t]){var n=g[Object.keys(S).length%g.length];S[t]=n}return S[t]},P=function e(t,n,r){var o=_(n),i=w[r],a=t[0],c="%c[".concat(n,"]%c[").concat(O[r],"]:");a.forEach((function(e){u(e)?c+="%o":c+="%s"}));var s=[c,"color: ".concat(o),"color: ".concat(i)];return s=s.concat(a)},x=function e(t,n){if(!t)return{level:n.level,bizName:n.bizName};if(t.indexOf(":")>-1){var r=t.split(":");return{level:r[0],bizName:r[1]||"*"}}return{level:t,bizName:"*"}},N={level:"warn",bizName:"*"},C=function(){function e(t){h(this,e),this.bizName=void 0,this.targetBizName=void 0,this.targetLevel=void 0,t=f(f({},N),t);var n=location||{},r=(/__(?:logConf|logLevel)__=([^#/&]*)/.exec(n.href)||[])[1],o=x(r,t);this.bizName=t.bizName,this.targetBizName=o.bizName,this.targetLevel=o.level}return v(e,[{key:"debug",value:function e(){if(E("debug",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k("debug",this.bizName)(n)}}},{key:"log",value:function e(){if(E("log",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k("log",this.bizName)(n)}}},{key:"info",value:function e(){if(E("info",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k("info",this.bizName)(n)}}},{key:"warn",value:function e(){if(E("warn",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k("warn",this.bizName)(n)}}},{key:"error",value:function e(){if(E("error",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k("error",this.bizName)(n)}}}]),e}();function T(e){return new C(e)}var L=new C({level:"warn",bizName:"utils"});function R(e,t){var n=document.createElement("script");t&&(n.type=t),n.text=e,document.head.appendChild(n),document.head.removeChild(n)}function A(e,t){var n=document.createElement("script");n.onload=o,n.onerror=o;var r=i();function o(e){n.onload=null,n.onerror=null,"load"===e.type?r.resolve():r.reject()}return n.src=e,n.async=!1,t&&(n.type=t),document.head.appendChild(n),r.promise()}function M(e){var t;return new Function(e)()}function D(e,t){try{return new Function(e,t)}catch(e){return L.warn("Caught error, Cant init func"),null}}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */B=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==I(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(I(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function V(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){V(i,r,o,a,u,"next",e)}function u(e){V(i,r,o,a,u,"throw",e)}a(void 0)}))}}function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=K(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function z(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function W(e){var t=$(e,"string");return"symbol"==I(t)?t:String(t)}function $(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function X(e){return J(e)||q(e)||K(e)||Y()}function Y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function K(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function q(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function J(e){if(Array.isArray(e))return Q(e)}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){return e&&e.type}function ee(e){return e&&e.type===r.d.Bundle}function te(e,t){return e?{type:r.d.Bundle,assets:e,level:t}:null}function ne(e,t,n,r){return t?{type:e,content:t,level:n,id:r}:null}function re(e,t){return t.packages&&(e.packages=[].concat(X(e.packages||[]),X(t.packages))),t.components&&(e.components=[].concat(X(e.components||[]),X(t.components))),oe(e,t,"componentList"),oe(e,t,"bizComponentList"),e}function oe(e,t,n){var r;t[n]&&(e[n]&&(null===(r=t[n])||void 0===r||r.map((function(t){var r,o,i=!1;return null===(r=e[n])||void 0===r||r.map((function(e){return e.title===t.title&&(e.children=e.children.concat(t.children),i=!0),e})),!i&&(null===(o=e[n])||void 0===o||o.push(t)),t}))))}var ie=function(){function e(t,n){var r;if(H(this,e),this.lastContent=void 0,this.lastUrl=void 0,this.placeholder=void 0,this.level=void 0,this.id=void 0,this.level=t,n&&(this.id=n),n&&(r=document.head.querySelector('style[data-id="'.concat(n,'"]'))),!r){r=document.createTextNode("");var o=document.head.querySelector('meta[level="'.concat(t,'"]'));o?document.head.insertBefore(r,o):document.head.appendChild(r)}this.placeholder=r}return z(e,[{key:"applyText",value:function e(t){if(this.lastContent!==t){this.lastContent=t,this.lastUrl=void 0;var n=document.createElement("style");n.setAttribute("type","text/css"),this.id&&n.setAttribute("data-id",this.id),n.appendChild(document.createTextNode(t)),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n}}},{key:"applyUrl",value:function e(t){if(this.lastUrl!==t){this.lastContent=void 0,this.lastUrl=t;var n=document.createElement("link");n.onload=o,n.onerror=o;var r=i();return n.href=t,n.rel="stylesheet",this.id&&n.setAttribute("data-id",this.id),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n,r.promise()}function o(e){n.onload=null,n.onerror=null,"load"===e.type?r.resolve():r.reject()}}}]),e}();function ae(e,t,n,r){var o=G(n),i;try{for(o.s();!(i=o.n()).done;){var a;ue(e,t,i.value,r)}}catch(e){o.e(e)}finally{o.f()}}function ue(e,t,n,i){if(n){if(Array.isArray(n))return ae(e,t,n,i);if(ee(n))return n.assets?void(Array.isArray(n.assets)?ae(e,t,n.assets,n.level||i):ue(e,t,n.assets,n.level||i)):void 0;Z(n)||(n=ne(o(n)?r.d.CSSUrl:r.d.JSUrl,n,i));var a=n.level||i;a&&null!=r.b[a]||(a=r.b.App),n.level=a,n.type===r.d.CSSUrl||n.type==r.d.CSSText?t[a].push(n):e[a].push(n)}}var ce=function(){function e(){H(this,e),this.stylePoints=new Map}return z(e,[{key:"load",value:function(){var e=F(B().mark((function e(t){var n=this,o,i,a,u;return B().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:return o={},i={},r.c.forEach((function(e){o[e]=[],i[e]=[]})),ue(i,o,t),a=o[r.b.Environment].concat(o[r.b.Library],o[r.b.Theme],o[r.b.Runtime],o[r.b.App]),u=i[r.b.Environment].concat(i[r.b.Library],i[r.b.Theme],i[r.b.Runtime],i[r.b.App]),c.next=8,Promise.all(a.map((function(e){var t=e.content,o=e.level,i=e.type,a=e.id;return n.loadStyle(t,o,i===r.d.CSSUrl,a)})));case 8:return c.next=10,Promise.all(u.map((function(e){var t=e.content,o=e.type,i=e.scriptType;return n.loadScript(t,o===r.d.JSUrl,i)})));case 10:case"end":return c.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadStyle",value:function e(t,n,r,o){var i;if(t)return o?(i=this.stylePoints.get(o))||(i=new ie(n,o),this.stylePoints.set(o,i)):i=new ie(n),r?i.applyUrl(t):i.applyText(t)}},{key:"loadScript",value:function e(t,n,r){if(t)return n?A(t,r):R(t,r)}},{key:"loadAsyncLibrary",value:function(){var e=F(B().mark((function e(t){var n,r,o,i;return B().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:for(i in n=[],r=[],o=[],t)t[i].async&&(n.push(window[t[i].library]),r.push(t[i].library),o.push(t[i]));return a.next=6,Promise.all(n).then((function(e){e.length>0&&e.map((function(e,t){var n=o[t],i=n.exportMode,a=n.exportSourceLibrary,u=n.library;return window[r[t]]="functionCall"!==i||null!=a&&a!==u?e:e(),e}))}));case 6:case"end":return a.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function se(e){if(!u(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||null===Object.getPrototypeOf(t)}function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e){var t=le(e),n;if(null==e)n=e;else if(Array.isArray(e))n=e.map((function(e){return fe(e)}));else if("object"===t&&se(e))for(var r in n={},e)e.hasOwnProperty(r)&&(n[r]=fe(e[r]));else n=e;return n}var pe=n(3),he=n.n(pe),de=["$$typeof","render","defaultProps","props","length","prototype","name","caller","callee","arguments"];function ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:de,r=Object.keys(t).filter((function(e){return!n.includes(e)}));return r.forEach((function(n){e[n]=t[n]})),e}function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var me=["children"];function be(e,t){if(null==e)return{};var n=ge(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ge(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Se(r.key),r)}}function je(e,t,n){return t&&Oe(e.prototype,t),n&&Oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e){var t=Ee(e,"string");return"symbol"==ye(t)?t:String(t)}function Ee(e,t){if("object"!=ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ke(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}function _e(e,t){return(_e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Pe(e){var t=Ce();return function n(){var r=Te(e),o;if(t){var i=Te(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return xe(this,o)}}function xe(e,t){if(t&&("object"===ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ne(e)}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Le="function"==typeof Symbol&&Symbol.for,Re=Le?Symbol.for("react.forward_ref"):60112,Ae=Le?Symbol.for("react.memo"):60115;function Me(e){return!!e&&!(!e.prototype||!(e.prototype.isReactComponent||e.prototype instanceof pe.Component))}function De(e){var t;return!!e&&!!(null!=e&&null!==(t=e.prototype)&&void 0!==t&&t.isReactComponent||Ve(e))}function Ie(e){return!(!e||null==e||!e.$$typeof)&&(null==e?void 0:e.$$typeof)===Re}function Be(e){return!(!e||null==e||!e.$$typeof)&&e.$$typeof===Ae}function Ve(e){return!(!e||null==e||!e.$$typeof)&&(Ie(e)||Be(e)&&Ie(e.type))}function Fe(e){return!!e&&Boolean(Me(e)||"function"==typeof e||Ie(e)||Be(e))}function Ge(e){var t=function(t){ke(r,t);var n=Pe(r);function r(){return we(this,r),n.apply(this,arguments)}return je(r,[{key:"render",value:function t(){var n=this.props,r=n.children,o=be(n,me);return Object(pe.createElement)(e,o,r)}}]),r}(pe.Component);return(t=ve(t,e)).displayName=e.displayName,t}function He(e,t){return Object(pe.isValidElement)(e)?t?Object(pe.cloneElement)(e,t):e:Fe(e)?Object(pe.createElement)(e,t):e}var Ue=n(7);function ze(e){return e&&e.__esModule}function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(){return($e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return(t=qe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e){var t=Je(e,"string");return"symbol"==We(t)?t:String(t)}function Je(e,t){if("object"!=We(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Qe=/^(https?:)\/\//i;function Ze(e,t){return e?(ze(e)&&(e=e.default),"string"==typeof e?Qe.test(e)?Object(pe.createElement)("img",Ye({src:e,class:null==t?void 0:t.className},t)):React.createElement(Ue.Icon,$e({type:e},t)):Object(pe.isValidElement)(e)?Object(pe.cloneElement)(e,Ye({},t)):Fe(e)?Object(pe.createElement)(e,Ye({class:null==t?void 0:t.className},t)):React.createElement(Ue.Icon,$e({},e,t))):null}var et=n(60);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=rt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function rt(e,t){if(e){if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ct(r.key),r)}}function ut(e,t,n){return t&&at(e.prototype,t),n&&at(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ct(e){var t=st(e,"string");return"symbol"==tt(t)?t:String(t)}function st(e,t){if("object"!=tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var lt,ft=new(function(){function e(){it(this,e),this.states=new Set}return ut(e,[{key:"setDragging",value:function e(t){t?this.addState("dragging"):this.removeState("dragging")}},{key:"setXResizing",value:function e(t){t?this.addState("x-resizing"):this.removeState("x-resizing")}},{key:"setYResizing",value:function e(t){t?this.addState("y-resizing"):this.removeState("y-resizing")}},{key:"setCopy",value:function e(t){t?this.addState("copy"):this.removeState("copy")}},{key:"isCopy",value:function e(){return this.states.has("copy")}},{key:"release",value:function e(){var t=nt(this.states),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;this.removeState(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"addState",value:function e(t){this.states.has(t)||(this.states.add(t),document.documentElement.classList.add("lc-cursor-".concat(t)))}},{key:"removeState",value:function e(t){this.states.has(t)&&(this.states.delete(t),document.documentElement.classList.remove("lc-cursor-".concat(t)))}}]),e}());function pt(e){return void 0!==Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__}var ht=Object.prototype.hasOwnProperty;function dt(e,t){return e&&ht.call(e,t)}function vt(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}function yt(e){var t=e.target;return!!t&&(!(!t.form&&!/^(INPUT|SELECT|TEXTAREA)$/.test(t.tagName))||!!(t instanceof HTMLElement&&/write/.test(window.getComputedStyle(t).getPropertyValue("-webkit-user-modify"))))}function mt(e){return"function"==typeof e}var bt=!0,gt=function e(t){return bt?null:(t.preventDefault(),t.stopPropagation(),!1)};function wt(e){bt=e}function Ot(e,t){void 0!==Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){if(e===t)return!0;if("object"!==jt(e)||null===e||"object"!==jt(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!dt(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}document.addEventListener("selectstart",gt,!0),document.addEventListener("dragstart",gt,!0);var kt=["fill","size","viewBox","style","children"];function _t(){return(_t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t,n){return(t=Ct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ct(e){var t=Tt(e,"string");return"symbol"==Et(t)?t:String(t)}function Tt(e,t){if("object"!=Et(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Lt(e,t){if(null==e)return{};var n=Rt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rt(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}var At={xsmall:8,small:12,medium:16,large:20,xlarge:30};function Mt(e){var t=e.fill,n=e.size,r=void 0===n?"medium":n,o=e.viewBox,i=e.style,a=e.children,u=Lt(e,kt);return At.hasOwnProperty(r)&&(r=At[r]),he.a.createElement("svg",_t({fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:r,height:r,viewBox:o},u,{style:xt({color:t},i)}),a)}var Dt=Date.now();function It(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e).concat((Dt++).toString(36).toLowerCase())}function Bt(e){return u(e)}function Vt(e){return!!e&&(Object(pe.isValidElement)(e)||Fe(e))}function Ft(e){return"string"==typeof e}function Gt(e){return!!mt(e)&&!Me(e)}function Ht(e){return!!u(e)&&"i18n"===e.type}function Ut(e){return!!u(e)&&"JSBlock"===e.type}function zt(e){return!!u(e)&&("JSExpression"===e.type&&"function"!==e.extType)}function Wt(e){return!!u(e)&&("JSExpression"===e.type&&"function"===e.extType)}function $t(e){return!!u(e)&&("JSFunction"===e.type||Wt(e))}function Xt(e){return!!u(e)&&"JSSlot"===e.type}function Yt(e){return!!u(e)&&"package"in e}function Kt(e){return!Yt(e)}function qt(e){return!!u(e)&&("componentName"in e&&!e.isNode)}function Jt(e){return!!u(e)&&"componentsTree"in e}function Qt(e){return!!u(e)&&("componentName"in e&&!Vt(e))}function Zt(e){return se(e)&&!Ht(e)}function en(e){return!!u(e)&&e.type===r.f.NodeData}function tn(e){return!!u(e)&&e.type===r.f.Node}function nn(e){return!!u(e)&&(e.type!==r.f.NodeData&&e.type!==r.f.Node)}function rn(e){return!!u(e)&&e.type===r.j.Children}function on(e){return!!u(e)&&e.isNode}function an(e){return!!u(e)&&("target"in e&&"detail"in e)}function un(e){return!!u(e)&&("isSettingField"in e&&e.isSettingField)}function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e){return"object"===cn(e)&&"Component"===e.componentName}function ln(e){return!!u(e)&&("componentsTree"in e&&0!==e.componentsTree.length&&sn(e.componentsTree[0]))}function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dn(e,t,n){return(t=vn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e){var t=yn(e,"string");return"symbol"==fn(t)?t:String(t)}function yn(e,t){if("object"!=fn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function mn(e){return"string"!=typeof e?e:window[e]||bn(e)}function bn(e){if(["a","img","div","span","svg"].includes(e))return Object(pe.forwardRef)((function(t,n){return Object(pe.createElement)(e,hn({ref:n},t),t.children)}))}function gn(e,t){var n=t.length;if(n<1||!e)return e;for(var r=0,o;r<n;){var i=t[r],a=void 0;try{o=e[i]||o}catch(e){a=e,o=null}if(0===r&&null==o&&"default"===i){if(a)return 1===n?e:null;o=e}else if(null==o)return null;e=o,r++}return o}function wn(e,t,n){if(!n)return mn(t);var r=n.exportName||n.componentName||t,o,i=mn(e[n.package]||r),a=n.exportName&&n.subName?n.subName.split("."):[];return n.destructuring?a.unshift(r):ze(i)&&a.unshift("default"),gn(i,a)}function On(e){return!!u(e)&&Object.keys(e).some((function(t){return Fe(e[t])}))}function jn(e,t,n){var r={};return Object.keys(t).forEach((function(o){var i=t[o];i&&(ln(i)||sn(i))?sn(i)?r[o]=n({version:"",componentsMap:[],componentsTree:[i]}):r[o]=n(i):Fe(i)?(De(i)||(i=Ge(i)),r[o]=i):On(i)?r[o]=i:(i=wn(e,o,i))&&(!De(i)&&Fe(i)&&(i=Ge(i)),r[o]=i)})),r}function Sn(e,t){var n={};return t&&t.forEach((function(t){var r;if(e[null==t||null===(r=t.npm)||void 0===r?void 0:r.package]){var o=mn(e[null==t?void 0:t.npm.package]);null!=o&&o.destructuring?Object.keys(o).forEach((function(e){"destructuring"!==e&&(n[e]=o[e])})):t.name&&(n[t.name]=o)}})),n}var En=n(9),kn=n.n(En),_n;function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tn(r.key),r)}}function Cn(e,t,n){return t&&Nn(e.prototype,t),n&&Nn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tn(e){var t=Ln(e,"string");return"symbol"==Pn(t)?t:String(t)}function Ln(e,t){if("object"!=Pn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Rn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&An(e,t)}function An(e,t){return(An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Mn(e){var t=Bn();return function n(){var r=Vn(e),o;if(t){var i=Vn(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Dn(this,o)}}function Dn(e,t){if(t&&("object"===Pn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Fn=null;kn.a.defaultMaxListeners=100;var Gn=function(e){Rn(n,e);var t=Mn(n);function n(e){var r;return xn(this,n),r=t.call(this),Fn=In(r),Object.assign(In(r),e),r}return Cn(n,[{key:"get",value:function e(t){return this[t]}},{key:"set",value:function e(t,n){var r=this;"string"==typeof t?this[t]=n:"object"===Pn(t)&&Object.keys(t).forEach((function(e){r[e]=t[e]}))}},{key:"batchOn",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.on(e,n)}))}},{key:"batchOnce",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.once(e,n)}))}},{key:"batchOff",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.off(e,n)}))}}]),n}(kn.a);_n=Gn,Gn.getInstance=function(){return Fn||(Fn=new _n),Fn};var Hn=n(8);function Un(e,t,n){return(t=zn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e){var t=Wn(e,"string");return"symbol"==$n(t)?t:String(t)}function Wn(e,t){if("object"!=$n(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Xn=new C({level:"warn",bizName:"utils"});function Yn(e){return!(!e||"object"!==$n(e))&&"variable"===e.type}function Kn(e,t){var n,r=null==e||null===(n=e.options)||void 0===n?void 0:n.configure;return!!Array.isArray(r)&&r.some((function(e){var n,r;return e.name===t&&"I18nSetter"===(null==e||null===(n=e.setter)||void 0===n||null===(r=n.type)||void 0===r?void 0:r.displayName)}))}function qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh-CN";return c(e)?e:Un({type:"i18n",use:t},t,e)}function Jn(e){return"string"==typeof e}function Qn(e,t){var n=200;return new Promise((function(n,r){setTimeout((function(){var o=Object(Hn.get)(e,t);if(o)return n(o);r()}),200)})).catch((function(){return Qn(e,t)}))}function Zn(e,t){var n=Object(Hn.get)(e,t);return n?Promise.resolve(n):Qn(e,t)}function er(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&(e.length===t.length&&e.every((function(e){return t.includes(e)})))}function tr(e){var t;return!(null==e||null===(t=e.getMetadata().configure)||void 0===t||!t.advanced)}function nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return setTimeout(e,t)}var rr=["render","serilize","save","clone","init","upgrade"];function or(e){return"number"==typeof e?(console.warn("stage \u76f4\u63a5\u6307\u5b9a\u4e3a\u6570\u5b57\u7684\u4f7f\u7528\u65b9\u5f0f\u5df2\u7ecf\u8fc7\u65f6\uff0c\u5c06\u5728\u4e0b\u4e00\u7248\u672c\u79fb\u9664\uff0c\u8bf7\u76f4\u63a5\u4f7f\u7528 IPublicEnumTransformStage.Render|Serilize|Save|Clone|Init|Upgrade"),rr[e-1]):e}function ir(e,t,n){if(!e)throw new Error("Invariant failed: ".concat(t).concat(n?" in '".concat(n,"'"):""))}function ar(e,t,n){e&&Xn.warn("Deprecation: ".concat(t)+(n?", use ".concat(n," instead."):""))}function ur(e){return!(!e||"object"!==$n(e))&&("test"in e&&"exec"in e&&"compile"in e)}function cr(e,t){return!1!==e&&(e||t)}function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fr(e,t,n){return(t=pr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pr(e){var t=hr(e,"string");return"symbol"==Or(t)?t:String(t)}function hr(e,t){if("object"!=Or(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Or(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dr(e,t){return mr(e)||yr(e,t)||gr(e,t)||vr()}function vr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yr(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function mr(e){if(Array.isArray(e))return e}function br(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function gr(e,t){if(e){if("string"==typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wr(e,t):void 0}}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(e){if("object"===Or(e)&&null!==e)return e.type&&e.source&&e.compiled}function Sr(e){return e.type&&"actionRef"===e.type}function Er(e){if(!e)return e;if(Array.isArray(e))return e.map((function(e){return Er(e)}));if(!se(e))return e;var t,n,r;if(Ut(e))return"Slot"===e.value.componentName?{type:"JSSlot",title:null===(t=e.value.props)||void 0===t?void 0:t.slotTitle,name:null===(n=e.value.props)||void 0===n?void 0:n.slotName,value:Er(e.value.children),params:null===(r=e.value.props)||void 0===r?void 0:r.slotParams}:e.value;if(Yn(e))return{type:"JSExpression",value:e.variable,mock:e.value};if(jr(e))return{type:"JSExpression",value:e.compiled,extType:"function"};if(Sr(e))return{type:"JSExpression",value:"".concat(e.id,".bind(this)")};var o={};return Object.keys(e).forEach((function(t){/^__slot__/.test(t)&&!0===e[t]||(o[t]=Er(e[t]))})),o}function kr(e,t){var n;if(e.id===t)return e;var r=e.children,o=e.props;if(Array.isArray(r)){var i=br(r),a;try{for(i.s();!(a=i.n()).done;){var u;if(n=kr(a.value,t))return n}}catch(e){i.e(e)}finally{i.f()}}return se(o)&&(n=_r(o,t))?n:void 0}function _r(e,t){for(var n,r=0,o=Object.entries(e);r<o.length;r++){var i=dr(o[r],2),a=i[0],u=i[1];if(Xt(u)){if(Array.isArray(u.value)){var c=br(u.value),s;try{for(c.s();!(s=c.n()).done;){var l;if(n=kr(s.value,t))return n}}catch(e){c.e(e)}finally{c.f()}}if(n=kr(u.value,t))return n}else if(se(u)&&(n=_r(u,t)))return n}}function Pr(e,t){var n=lr({},e);return Array.isArray(t)||(t=[t]),t.reduce((function(e,t){if(t.type===r.a.MODIFIED){var n=kr(e,t.payload.schema.id);if(!n)return e;Object.assign(n,t.payload.schema)}else if(t.type===r.a.ADDED){var o=t.payload,i=o.location,a=o.schema,u=i.parent,c=kr(e,u.nodeId);c&&(Array.isArray(c.children)?c.children.splice(u.index,0,a):c.children||(c.children=[a]))}else if(t.type===r.a.DELETED){var s,l,f=t.payload.location.parent,p=kr(e,f.nodeId);p&&Array.isArray(p.children)&&p.children.splice(f.index,1)}return e}),n)}var xr=function e(t,n){if(t)return n(t)?t:e(t.parent,n)};function Nr(e,t){var n,r,o,i=null===(n=e.componentMeta)||void 0===n||null===(r=n.advanced)||void 0===r||null===(o=r.callbacks)||void 0===o?void 0:o.onClickHook,a;return"function"!=typeof i||i(t,e)}var Cr=4;function Tr(e,t){return!!e.shaken||(e.target!==t.target||Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2)>4)}function Lr(e){if(!e)return!1;var t=e.split(":");return t.length>1&&t[0].length>0}var Rr=["hover","focus","active","visited"],Ar=/[A-Z]/g,Mr=/[-\s]+(.)?/g,Dr=/([^:]*):\s?(.*)/i;function Ir(e){var t=0,n=0,r=[];return e.split("").forEach((function(o,i){"{"===o&&t++,"}"===o&&(1===t&&(r.push(e.substring(n,i+1)),n=i+1),t--)})),r}function Br(e){return"[object String]"==={}.toString.call(e)}function Vr(e){return e.replace(Ar,(function(e){return"-".concat(e)})).toLowerCase()}function Fr(e){return e.replace(Mr,(function(e,t){return t?t.toUpperCase():""}))}function Gr(e){var t=[];return Object.keys(e).forEach((function(n){t.push("  ".concat(n,": ").concat(e[n],";"))})),t.join("\n")}function Hr(e){if(!e)return{};if(e.default){var t={};return Object.keys(e).forEach((function(n){t[n]="extra"!==n?Hr(e[n]):e[n]})),t}var n={};return Object.keys(e).forEach((function(t){n[Fr(t)]=e[t]})),n}function Ur(e){if(!e)return{};if(e.default){var t={};return Object.keys(e).forEach((function(n){t[n]="extra"!==n?Ur(e[n]):e[n]})),t}var n={};return Object.keys(e).forEach((function(t){n[Vr(t)]=e[t]})),n}function zr(e){if(!e)return":root {\n\n}";if(e.default){var t=[];return Object.keys(e).forEach((function(n){if("extra"!==n){var r=Rr.indexOf(n)>-1?":":"";t.push(":root".concat("default"===n?"":"".concat(r).concat(n)," {\n").concat(Gr(Ur(e[n])),"\n}\n"))}else Array.isArray(e.extra)&&t.push(e.extra.join("\n"))})),t.join("\n")}return":root {\n".concat(Gr(Ur(e)),"\n}\n")}function Wr(e){if(!e)return{};var t={},n;return Ir(e).forEach((function(e){if(e.startsWith(":root")){var n=/:root:?(.*)?{(.*)/gi.exec(e.replace(/[\r\n]+/gi,"").trim());if(n){var r;n[1]&&n[1].trim()&&Object(Hn.some)(Rr,(function(e){return 0===n[1].indexOf(e)}))?r=n[1].trim():n[1]&&n[1].trim()&&(r=n[1]);var o={};n[2].split(";").reduce((function(e,t){return t.indexOf("base64")>-1?e[e.length-1]+=";".concat(t):e.push(t),e}),[]).forEach((function(e){if(e&&Dr.test(e)){var t=e.match(Dr),n=null==t?void 0:t[1],r=null==t?void 0:t[2];n&&r&&(o[n.trim()]=r.trim())}})),t[r||"default"]=o}}else t.extra=t.extra||[],t.extra.push(e.trim())})),t}function $r(e){try{return Br(e)?Hr(Wr(e).default):e.default?Hr(Ur(e.default)):Hr(Ur(e))}catch(e){}return{}}var Xr=n(6);function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jr(r.key),r)}}function qr(e,t,n){return t&&Kr(e.prototype,t),n&&Kr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jr(e){var t=Qr(e,"string");return"symbol"==Yr(t)?t:String(t)}function Qr(e,t){if("object"!=Yr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var eo,to=new(qr((function e(){var t=this;Zr(this,e),this.emitter=new kn.a,this.executeTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i.REPAINT;t.emitter.emit("[".concat(n,"]startTransaction")),Object(Xr.runInAction)(e),t.emitter.emit("[".concat(n,"]endTransaction"))},this.onStartTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i.REPAINT;return t.emitter.on("[".concat(n,"]startTransaction"),e),function(){t.emitter.off("[".concat(n,"]startTransaction"),e)}},this.onEndTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i.REPAINT;return t.emitter.on("[".concat(n,"]endTransaction"),e),function(){t.emitter.off("[".concat(n,"]endTransaction"),e)}}})));function no(){return(no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ro(e,t){return co(e)||uo(e,t)||io(e,t)||oo()}function oo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function io(e,t){if(e){if("string"==typeof e)return ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ao(e,t):void 0}}function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uo(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function co(e){if(Array.isArray(e))return e}var so=function e(t,n){return function e(o){var i,a=Object(pe.useCallback)((function(e){return null!=e&&e.currentEditorView?n?(null==e?void 0:e.editorViews.filter((function(e){return e.viewName===n||Array.isArray(n)&&n.includes(e.viewName)})))[0]:e.currentEditorView:null;var t}),[]),u,c=(o.pluginContext||{}).workspace,s,l=ro(Object(pe.useState)(a(null==c?void 0:c.window)),2),f=l[0],p=l[1];return Object(pe.useEffect)((function(){if(null!=c&&c.window){var e=a(c.window);e&&p(e)}return null==c?void 0:c.onChangeActiveEditorView((function(){var e=a(c.window);e&&p(e)}))}),[c,a]),(null===(i=o.pluginContext)||void 0===i?void 0:i.registerLevel)===r.g.Workspace&&o.pluginContext?he.a.createElement(t,no({},o,{pluginContext:f})):he.a.createElement(t,o)}}},function(e,t){e.exports=window.React},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return _})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return L}));var r={};n.r(r),n.d(r,"Change",(function(){return f})),n.d(r,"InnerChange",(function(){return p}));var o={};n.r(o),n.d(o,"Prop",(function(){return r})),n.d(o,"Rerender",(function(){return h}));var i={},a,u,c;n.r(i),n.d(i,"Node",(function(){return o})),function(e){e.Initial="init",e.Loading="loading",e.Loaded="loaded",e.Error="error"}(a||(a={})),function(e){e.ADDED="added",e.DELETED="deleted",e.MODIFIED="modified",e.COMPOSITE="composite"}(u||(u={})),function(e){e[e.Environment=1]="Environment",e[e.Library=2]="Library",e[e.Theme=3]="Theme",e[e.Runtime=4]="Runtime",e[e.Components=5]="Components",e[e.App=6]="App"}(c||(c={}));var s=[c.Environment,c.Library,c.Theme,c.Runtime,c.Components,c.App],l;!function(e){e.JSUrl="jsUrl",e.CSSUrl="cssUrl",e.CSSText="cssText",e.JSText="jsText",e.Bundle="bundle"}(l||(l={}));var f="node.prop.change",p="node.innerProp.change",h="node.edit.rerender.time",d,v;function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=w(e,"string");return"symbol"==y(t)?t:String(t)}function w(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e.Children="Children",e.Prop="Prop"}(d||(d={})),function(e){e.Children="Children",e.Prop="Prop"}(v||(v={}));var j=b((function e(){O(this,e),this.type=void 0,this.data=void 0,this.nodes=void 0})),S,E,k,_,P,x,N,C,T,L;function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e){return e&&"object"===R(e)}S||(S={}),function(e){e[e.REPAINT=0]="REPAINT"}(E||(E={})),function(e){e[e.REPAINT=0]="REPAINT"}(k||(k={})),function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"}(_||(_={})),function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"}(P||(P={})),function(e){e.Node="node",e.NodeData="nodedata"}(x||(x={})),function(e){e.Node="node",e.NodeData="nodedata"}(N||(N={})),function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"}(C||(C={})),function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"}(T||(T={})),function(e){e.Default="default",e.Workspace="workspace",e.Resource="resource",e.EditorView="editorView"}(L||(L={}));var M=n(3);function D(e){return e&&e.prototype&&(e.prototype.isReactComponent||e.prototype instanceof M.Component)}function I(e){return e&&(D(e)||"function"==typeof e)}function B(e){return e&&(Object(M.isValidElement)(e)||I(e))}function V(e){return"string"==typeof e}function F(e){return e&&"function"==typeof e&&!D(e)}function G(e){return e&&"i18n"===e.type}function H(e){return e&&"JSBlock"===e.type}function U(e){return e&&"JSExpression"===e.type&&"function"!==e.extType}function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e){return"object"===z(e)&&e&&"JSFunction"===e.type}function $(e){return e&&"JSSlot"===e.type}function X(e){return"package"in e}function Y(e){return!X(e)}function K(e){return e&&e.componentName}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e){if("object"!==q(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||null===Object.getPrototypeOf(t)}function Q(e){return e&&e.componentsTree}function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e){return e&&"object"===Z(e)&&"componentName"in e&&!B(e)}function te(e){return J(e)&&!G(e)}},function(e,t,n){var r,o;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=u(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=u(t,r));return t}function u(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(o=function(){return i}.apply(t,r=[]))||(e.exports=o)}()},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"$mobx",(function(){return Be})),n.d(t,"FlowCancellationError",(function(){return eo})),n.d(t,"ObservableMap",(function(){return yi})),n.d(t,"ObservableSet",(function(){return ji})),n.d(t,"Reaction",(function(){return ir})),n.d(t,"_allowStateChanges",(function(){return fn})),n.d(t,"_allowStateChangesInsideComputed",(function(){return Tr})),n.d(t,"_allowStateReadsEnd",(function(){return Dn})),n.d(t,"_allowStateReadsStart",(function(){return Mn})),n.d(t,"_autoAction",(function(){return Cr})),n.d(t,"_endAction",(function(){return ln})),n.d(t,"_getAdministration",(function(){return zi})),n.d(t,"_getGlobalState",(function(){return zn})),n.d(t,"_interceptReads",(function(){return co})),n.d(t,"_isComputingDerivation",(function(){return kn})),n.d(t,"_resetGlobalState",(function(){return Wn})),n.d(t,"_startAction",(function(){return sn})),n.d(t,"action",(function(){return Nr})),n.d(t,"autorun",(function(){return Rr})),n.d(t,"comparer",(function(){return $e})),n.d(t,"computed",(function(){return Qt})),n.d(t,"configure",(function(){return $r})),n.d(t,"createAtom",(function(){return Ge})),n.d(t,"defineProperty",(function(){return _o})),n.d(t,"entries",(function(){return Oo})),n.d(t,"extendObservable",(function(){return Xr})),n.d(t,"flow",(function(){return oo})),n.d(t,"flowResult",(function(){return ao})),n.d(t,"get",(function(){return ko})),n.d(t,"getAtom",(function(){return Ui})),n.d(t,"getDebugName",(function(){return Wi})),n.d(t,"getDependencyTree",(function(){return Yr})),n.d(t,"getObserverTree",(function(){return qr})),n.d(t,"has",(function(){return Eo})),n.d(t,"intercept",(function(){return so})),n.d(t,"isAction",(function(){return Lr})),n.d(t,"isBoxedObservable",(function(){return yn})),n.d(t,"isComputed",(function(){return ho})),n.d(t,"isComputedProp",(function(){return vo})),n.d(t,"isFlow",(function(){return uo})),n.d(t,"isFlowCancellationError",(function(){return to})),n.d(t,"isObservable",(function(){return mo})),n.d(t,"isObservableArray",(function(){return pi})),n.d(t,"isObservableMap",(function(){return mi})),n.d(t,"isObservableObject",(function(){return Ci})),n.d(t,"isObservableProp",(function(){return bo})),n.d(t,"isObservableSet",(function(){return Si})),n.d(t,"keys",(function(){return go})),n.d(t,"makeAutoObservable",(function(){return Jo})),n.d(t,"makeObservable",(function(){return Ko})),n.d(t,"observable",(function(){return Xt})),n.d(t,"observe",(function(){return xo})),n.d(t,"onBecomeObserved",(function(){return Fr})),n.d(t,"onBecomeUnobserved",(function(){return Gr})),n.d(t,"onReactionError",(function(){return ar})),n.d(t,"override",(function(){return Qe})),n.d(t,"ownKeys",(function(){return Po})),n.d(t,"reaction",(function(){return Dr})),n.d(t,"remove",(function(){return So})),n.d(t,"runInAction",(function(){return Tr})),n.d(t,"set",(function(){return jo})),n.d(t,"spy",(function(){return br})),n.d(t,"toJS",(function(){return Ro})),n.d(t,"trace",(function(){return Ao})),n.d(t,"transaction",(function(){return Do})),n.d(t,"untracked",(function(){return Ln})),n.d(t,"values",(function(){return wo})),n.d(t,"when",(function(){return Io}));var r="Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",o=function e(t,n){return"Cannot apply '"+t+"' to '"+n.toString()+"': Field not found."},i="'keys()' can only be used on observable objects, arrays, sets and maps",a="'values()' can only be used on observable objects, arrays, sets and maps",u="'entries()' can only be used on observable objects, arrays and maps",c="'set()' can only be used on observable objects, arrays and maps",s="'remove()' can only be used on observable objects, arrays and maps",l="'has()' can only be used on observable objects, arrays and maps",f="'get()' can only be used on observable objects, arrays and maps",p="Invalid annotation",h="Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",d="Intercept handlers should return nothing or a change object",v="Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",y="Modification exception: the internal structure of an observable array was changed.",m=function e(t,n){return"[mobx.array] Index out of bounds, "+t+" is larger than "+n},b="mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",g=function e(t){return"Cannot initialize from classes that inherit from Map: "+t.constructor.name},w=function e(t){return"Cannot initialize map from "+t},O=function e(t){return"Cannot convert to map from '"+t+"'"},j="mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",S="It is not possible to get index atoms from arrays",E=function e(t){return"Cannot obtain administration from "+t},k=function e(t,n){return"the entry '"+t+"' does not exist in the observable map '"+n+"'"},_="please specify a property",P=function e(t,n){return"no observable property '"+t.toString()+"' found on the observable object '"+n+"'"},x=function e(t){return"Cannot obtain atom from "+t},N="Expecting some object",C="invalid action stack. did you forget to finish an action?",T="missing option for computed: get",L=function e(t,n){return"Cycle detected in computation "+t+": "+n},R=function e(t){return"The setter of computed value '"+t+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},A=function e(t){return"[ComputedValue '"+t+"'] It is not possible to assign a new value to a computed value."},M="There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",D="isolateGlobalState should be called before MobX is running any reactions",I=function e(t){return"[mobx] `observableArray."+t+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+t+"()` instead"},B="'ownKeys()' can only be used on observable objects",V="'defineProperty()' can only be used on observable objects",F={};function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var H={};function U(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:H}var z=Object.assign,W=Object.getOwnPropertyDescriptor,$=Object.defineProperty,X=Object.prototype,Y=[];Object.freeze(Y);var K={};Object.freeze(K);var q="undefined"!=typeof Proxy,J=Object.toString();function Q(){q||G("Proxy not available")}function Z(e){0}function ee(){return++Hn.mobxGuid}function te(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ne=function e(){};function re(e){return"function"==typeof e}function oe(e){var t;switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function ie(e){return null!==e&&"object"==typeof e}function ae(e){if(!ie(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===J}function ue(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function ce(e,t,n){$(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function se(e,t,n){$(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function le(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return ie(e)&&!0===e[n]}}function fe(e){return e instanceof Map}function pe(e){return e instanceof Set}var he=void 0!==Object.getOwnPropertySymbols;function de(e){var t=Object.keys(e);if(!he)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return X.propertyIsEnumerable.call(e,t)}))):t}var ve="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:he?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function ye(e){return"string"==typeof e?e:"symbol"==typeof e?e.toString():new String(e).toString()}function me(e){return null===e?null:"object"==typeof e?""+e:e}function be(e,t){return X.hasOwnProperty.call(e,t)}var ge=Object.getOwnPropertyDescriptors||function e(t){var n={};return ve(t).forEach((function(e){n[e]=W(t,e)})),n};function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ce(r.key),r)}}function Oe(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function je(){return(je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ee(e,t)}function Ee(e,t){return(Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=_e(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ce(e){var t=Ne(e,"string");return"symbol"==typeof t?t:String(t)}var Te=Symbol("mobx-stored-annotations");function Le(e){function t(t,n){if(De(n))return e.decorate_20223_(t,n);Re(t,n,e)}return Object.assign(t,e)}function Re(e,t,n){var r;be(e,Te)||ce(e,Te,je({},e[Te])),Ae(e,n,t),Ze(n)||(e[Te][t]=n)}function Ae(e,t,n){var r,o,i}function Me(e){return be(e,Te)||ce(e,Te,je({},e[Te])),e[Te]}function De(e){return"object"==typeof e&&"string"==typeof e.kind}function Ie(e,t){0}var Be=Symbol("mobx administration"),Ve=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=wn.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function e(){return Zn(this)},t.reportChanged=function e(){Jn(),er(this),Qn()},t.toString=function e(){return this.name_},e}(),Fe=le("Atom",Ve);function Ge(e,t,n){void 0===t&&(t=ne),void 0===n&&(n=ne);var r=new Ve(e);return t!==ne&&Fr(r,t),n!==ne&&Gr(r,n),r}function He(e,t){return e===t}function Ue(e,t){return Yi(e,t)}function ze(e,t){return Yi(e,t,1)}function We(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t}var $e={identity:He,structural:Ue,default:We,shallow:ze};function Xe(e,t,n){return mo(e)?e:Array.isArray(e)?Xt.array(e,{name:n}):ae(e)?Xt.object(e,void 0,{name:n}):fe(e)?Xt.map(e,{name:n}):pe(e)?Xt.set(e,{name:n}):"function"!=typeof e||Lr(e)||uo(e)?e:ue(e)?oo(e):Cr(n,e)}function Ye(e,t,n){return null==e||Ci(e)||pi(e)||mi(e)||Si(e)?e:Array.isArray(e)?Xt.array(e,{name:n,deep:!1}):ae(e)?Xt.object(e,void 0,{name:n,deep:!1}):fe(e)?Xt.map(e,{name:n,deep:!1}):pe(e)?Xt.set(e,{name:n,deep:!1}):void 0}function Ke(e){return e}function qe(e,t){return Yi(e,t)?t:e}var Je="override",Qe=Le({annotationType_:Je,make_:et,extend_:tt,decorate_20223_:nt});function Ze(e){return e.annotationType_===Je}function et(e,t){return 0}function tt(e,t,n,r){G("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function nt(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function rt(e,t){return{annotationType_:e,options_:t,make_:ot,extend_:it,decorate_20223_:at}}function ot(e,t,n,r){var o;if(null!=(o=this.options_)&&o.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Lr(n.value))return 1;var i=ct(e,this,t,n,!1);return $(r,t,i),2}function it(e,t,n,r){var o=ct(e,this,t,n);return e.defineProperty_(t,o,r)}function at(e,t){var n=t.kind,r=t.name,o=t.addInitializer,i=this,a=function e(t){var n,o,a,u;return un(null!=(n=null==(o=i.options_)?void 0:o.name)?n:r.toString(),t,null!=(a=null==(u=i.options_)?void 0:u.autoAction)&&a)};if("field"!=n){var u;if("method"==n)return Lr(e)||(e=a(e)),null!=(u=this.options_)&&u.bound&&o((function(){var e=this,t=this[r].bind(this);t.isMobxAction=!0,this[r]=t})),e;G("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):\n'"+i.annotationType_+"' can only be used on properties with a function value.")}else o((function(){Re(this,r,i)}))}function ut(e,t,n,r){var o=t.annotationType_,i=r.value}function ct(e,t,n,r,o){var i,a,u,c,s,l,f;void 0===o&&(o=Hn.safeDescriptors),ut(e,t,n,r);var p=r.value,h;null!=(i=t.options_)&&i.bound&&(p=p.bind(null!=(h=e.proxy_)?h:e.target_));return{value:un(null!=(a=null==(u=t.options_)?void 0:u.name)?a:n.toString(),p,null!=(c=null==(s=t.options_)?void 0:s.autoAction)&&c,null!=(l=t.options_)&&l.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function st(e,t){return{annotationType_:e,options_:t,make_:lt,extend_:ft,decorate_20223_:pt}}function lt(e,t,n,r){var o;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(o=this.options_)&&o.bound&&(!be(e.target_,t)||!uo(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(uo(n.value))return 1;var i=dt(e,this,t,n,!1,!1);return $(r,t,i),2}function ft(e,t,n,r){var o,i=dt(e,this,t,n,null==(o=this.options_)?void 0:o.bound);return e.defineProperty_(t,i,r)}function pt(e,t){var n;var r=t.name,o=t.addInitializer;return uo(e)||(e=oo(e)),null!=(n=this.options_)&&n.bound&&o((function(){var e=this,t=this[r].bind(this);t.isMobXFlow=!0,this[r]=t})),e}function ht(e,t,n,r){var o=t.annotationType_,i=r.value}function dt(e,t,n,r,o,i){void 0===i&&(i=Hn.safeDescriptors),ht(e,t,n,r);var a=r.value,u;(uo(a)||(a=oo(a)),o)&&((a=a.bind(null!=(u=e.proxy_)?u:e.target_)).isMobXFlow=!0);return{value:a,configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function vt(e,t){return{annotationType_:e,options_:t,make_:yt,extend_:mt,decorate_20223_:bt}}function yt(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function mt(e,t,n,r){return gt(e,this,t,n),e.defineComputedProperty_(t,je({},this.options_,{get:n.get,set:n.set}),r)}function bt(e,t){var n=this,r=t.name,o;return(0,t.addInitializer)((function(){var t=Pi(this)[Be],o=je({},n.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+r.toString()),t.values_.set(r,new bn(o))})),function(){return this[Be].getObservablePropValue_(r)}}function gt(e,t,n,r){var o=t.annotationType_,i=r.get}function wt(e,t){return{annotationType_:e,options_:t,make_:Ot,extend_:jt,decorate_20223_:St}}function Ot(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function jt(e,t,n,r){var o,i;return Et(e,this,t,n),e.defineObservableProperty_(t,n.value,null!=(o=null==(i=this.options_)?void 0:i.enhancer)?o:Xe,r)}function St(e,t){var n=this,r=t.kind,o=t.name,i=new WeakSet;function a(e,t){var r,a,u=Pi(e)[Be],c=new vn(t,null!=(r=null==(a=n.options_)?void 0:a.enhancer)?r:Xe,"ObservableObject."+o.toString(),!1);u.values_.set(o,c),i.add(e)}if("accessor"==r)return{get:function t(){return i.has(this)||a(this,e.get.call(this)),this[Be].getObservablePropValue_(o)},set:function e(t){return i.has(this)||a(this,t),this[Be].setObservablePropValue_(o,t)},init:function e(t){return i.has(this)||a(this,t),t}}}function Et(e,t,n,r){var o=t.annotationType_}var kt="true",_t=Pt();function Pt(e){return{annotationType_:kt,options_:e,make_:xt,extend_:Nt,decorate_20223_:Ct}}function xt(e,t,n,r){var o,i,a,u,c,s;if(n.get)return Qt.make_(e,t,n,r);if(n.set){var l=un(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!Hn.safeDescriptors||e.isPlainObject_,set:l})?0:2:($(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return ue(n.value)?(null!=(u=this.options_)&&u.autoBind?oo.bound:oo).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?Cr.bound:Cr).make_(e,t,n,r);var f=!1===(null==(o=this.options_)?void 0:o.deep)?Xt.ref:Xt,p;"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(p=e.proxy_)?p:e.target_));return f.make_(e,t,n,r)}function Nt(e,t,n,r){var o,i,a,u;if(n.get)return Qt.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!Hn.safeDescriptors||e.isPlainObject_,set:un(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(i=this.options_)?void 0:i.deep)?Xt.ref:Xt).extend_(e,t,n,r)}function Ct(e,t){G("'"+this.annotationType_+"' cannot be used as a decorator")}var Tt="observable",Lt="observable.ref",Rt="observable.shallow",At="observable.struct",Mt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Dt(e){return e||Mt}Object.freeze(Mt);var It=wt(Tt),Bt=wt(Lt,{enhancer:Ke}),Vt=wt(Rt,{enhancer:Ye}),Ft=wt(At,{enhancer:qe}),Gt=Le(It);function Ht(e){return!0===e.deep?Xe:!1===e.deep?Ke:zt(e.defaultDecorator)}function Ut(e){var t;return e?null!=(t=e.defaultDecorator)?t:Pt(e):void 0}function zt(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:Xe}function Wt(e,t,n){return De(t)?It.decorate_20223_(e,t):oe(t)?void Re(e,t,It):mo(e)?e:ae(e)?Xt.object(e,t,n):Array.isArray(e)?Xt.array(e,t):fe(e)?Xt.map(e,t):pe(e)?Xt.set(e,t):"object"==typeof e&&null!==e?e:Xt.box(e,t)}z(Wt,Gt);var $t,Xt=z(Wt,{box:function e(t,n){var r=Dt(n);return new vn(t,Ht(r),r.name,!0,r.equals)},array:function e(t,n){var r=Dt(n);return(!1===Hn.useProxies||!1===r.proxy?Hi:ri)(t,Ht(r),r.name)},map:function e(t,n){var r=Dt(n);return new yi(t,Ht(r),r.name)},set:function e(t,n){var r=Dt(n);return new ji(t,Ht(r),r.name)},object:function e(t,n,r){return $i((function(){return Xr(!1===Hn.useProxies||!1===(null==r?void 0:r.proxy)?Pi({},r):Ho({},r),t,n)}))},ref:Le(Bt),shallow:Le(Vt),deep:Gt,struct:Le(Ft)}),Yt="computed",Kt="computed.struct",qt=vt(Yt),Jt=vt(Kt,{equals:$e.structural}),Qt=function e(t,n){if(De(n))return qt.decorate_20223_(t,n);if(oe(n))return Re(t,n,qt);if(ae(t))return Le(vt(Yt,t));var r=ae(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new bn(r)},Zt,en;Object.assign(Qt,qt),Qt.struct=Le(Jt);var tn=0,nn=1,rn=null!=(Zt=null==(en=W((function(){}),"name"))?void 0:en.configurable)&&Zt,on={value:"action",configurable:!0,writable:!1,enumerable:!1},an;function un(e,t,n,r){function o(){return cn(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),o.isMobxAction=!0,o.toString=function(){return t.toString()},rn&&(on.value=e,$(o,"name",on)),o}function cn(e,t,n,r,o){var i=sn(e,t,r,o);try{return n.apply(r,o)}catch(e){throw i.error_=e,e}finally{ln(i)}}function sn(e,t,n,r){var o=!1,i=0,a,u=Hn.trackingDerivation,c=!t||!u;Jn();var s=Hn.allowStateChanges;c&&(Rn(),s=pn(!0));var l,f={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:s,prevAllowStateReads_:Mn(!0),notifySpy_:!1,startTime_:0,actionId_:nn++,parentActionId_:tn};return tn=f.actionId_,f}function ln(e){tn!==e.actionId_&&G(30),tn=e.parentActionId_,void 0!==e.error_&&(Hn.suppressReactionErrors=!0),hn(e.prevAllowStateChanges_),Dn(e.prevAllowStateReads_),Qn(),e.runAsAction_&&An(e.prevDerivation_),Hn.suppressReactionErrors=!1}function fn(e,t){var n=pn(e);try{return t()}finally{hn(n)}}function pn(e){var t=Hn.allowStateChanges;return Hn.allowStateChanges=e,t}function hn(e){Hn.allowStateChanges=e}var dn="create";an=Symbol.toPrimitive;var vn=function(e){function t(t,n,r,o,i){var a;return void 0===r&&(r="ObservableValue"),void 0===o&&(o=!0),void 0===i&&(i=$e.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=i,a.value_=n(t,void 0,r),a}Se(t,e);var n=t.prototype;return n.dehanceValue=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},n.set=function e(t){var n=this.value_;if((t=this.prepareNewValue_(t))!==Hn.UNCHANGED){var r=!1;0,this.setNewValue_(t)}},n.prepareNewValue_=function e(t){if(_n(this),Uo(this)){var n=Wo(this,{object:this,type:Zo,newValue:t});if(!n)return Hn.UNCHANGED;t=n.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?Hn.UNCHANGED:t},n.setNewValue_=function e(t){var n=this.value_;this.value_=t,this.reportChanged(),$o(this)&&Yo(this,{type:Zo,object:this,newValue:t,oldValue:n})},n.get=function e(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function e(t){return zo(this,t)},n.observe_=function e(t,n){return n&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:Zo,newValue:this.value_,oldValue:void 0}),Xo(this,t)},n.raw=function e(){return this.value_},n.toJSON=function e(){return this.get()},n.toString=function e(){return this.name_+"["+this.value_+"]"},n.valueOf=function e(){return me(this.get())},n[an]=function(){return this.valueOf()},t}(Ve),yn=le("ObservableValue",vn),mn;mn=Symbol.toPrimitive;var bn=function(){function e(e){this.dependenciesState_=wn.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=wn.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new jn(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=On.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||G(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=un("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?$e.structural:$e.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function e(){nr(this)},t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function e(){if(this.isComputing_&&G(32,this.name_,this.derivation),0!==Hn.inBatch||0!==this.observers_.size||this.keepAlive_){if(Zn(this),En(this)){var t=Hn.trackingContext;this.keepAlive_&&!t&&(Hn.trackingContext=this),this.trackAndCompute()&&tr(this),Hn.trackingContext=t}}else En(this)&&(this.warnAboutUntrackedRead_(),Jn(),this.value_=this.computeValue_(!1),Qn());var n=this.value_;if(Sn(n))throw n.cause;return n},t.set=function e(t){if(this.setter_){this.isRunningSetter_&&G(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else G(34,this.name_)},t.trackAndCompute=function e(){var t=this.value_,n=this.dependenciesState_===wn.NOT_TRACKING_,r=this.computeValue_(!0),o=n||Sn(t)||Sn(r)||!this.equals_(t,r);return o&&(this.value_=r),o},t.computeValue_=function e(t){this.isComputing_=!0;var n=pn(!1),r;if(t)r=xn(this,this.derivation,this.scope_);else if(!0===Hn.disableErrorBoundaries)r=this.derivation.call(this.scope_);else try{r=this.derivation.call(this.scope_)}catch(e){r=new jn(e)}return hn(n),this.isComputing_=!1,r},t.suspend_=function e(){this.keepAlive_||(Tn(this),this.value_=void 0)},t.observe_=function e(t,n){var r=this,o=!0,i=void 0;return Rr((function(){var e=r.get();if(!o||n){var a=Rn();t({observableKind:"computed",debugObjectName:r.name_,type:Zo,object:r,newValue:e,oldValue:i}),An(a)}o=!1,i=e}))},t.warnAboutUntrackedRead_=function e(){},t.toString=function e(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function e(){return me(this.get())},t[mn]=function(){return this.valueOf()},e}(),gn=le("ComputedValue",bn),wn,On;!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(wn||(wn={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(On||(On={}));var jn=function e(t){this.cause=void 0,this.cause=t};function Sn(e){return e instanceof jn}function En(e){switch(e.dependenciesState_){case wn.UP_TO_DATE_:return!1;case wn.NOT_TRACKING_:case wn.STALE_:return!0;case wn.POSSIBLY_STALE_:for(var t=Mn(!0),n=Rn(),r=e.observing_,o=r.length,i=0;i<o;i++){var a=r[i];if(gn(a)){if(Hn.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return An(n),Dn(t),!0}if(e.dependenciesState_===wn.STALE_)return An(n),Dn(t),!0}}return In(e),An(n),Dn(t),!1}}function kn(){return null!==Hn.trackingDerivation}function _n(e){var t}function Pn(e){0}function xn(e,t,n){var r=Mn(!0);In(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++Hn.runId;var o=Hn.trackingDerivation,i;if(Hn.trackingDerivation=e,Hn.inBatch++,!0===Hn.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new jn(e)}return Hn.inBatch--,Hn.trackingDerivation=o,Cn(e),Nn(e),Dn(r),i}function Nn(e){}function Cn(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=wn.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,a=0;a<i;a++){var u=n[a];0===u.diffValue_&&(u.diffValue_=1,o!==a&&(n[o]=u),o++),u.dependenciesState_>r&&(r=u.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var c=t[i];0===c.diffValue_&&Kn(c,e),c.diffValue_=0}for(;o--;){var s=n[o];1===s.diffValue_&&(s.diffValue_=0,Yn(s,e))}r!==wn.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function Tn(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Kn(t[n],e);e.dependenciesState_=wn.NOT_TRACKING_}function Ln(e){var t=Rn();try{return e()}finally{An(t)}}function Rn(){var e=Hn.trackingDerivation;return Hn.trackingDerivation=null,e}function An(e){Hn.trackingDerivation=e}function Mn(e){var t=Hn.allowStateReads;return Hn.allowStateReads=e,t}function Dn(e){Hn.allowStateReads=e}function In(e){if(e.dependenciesState_!==wn.UP_TO_DATE_){e.dependenciesState_=wn.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=wn.UP_TO_DATE_}}var Bn=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Vn=function e(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Fn=!0,Gn=!1,Hn=function(){var e=U();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Fn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Vn).version&&(Fn=!1),Fn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Vn):(setTimeout((function(){Gn||G(35)}),1),new Vn)}();function Un(){if((Hn.pendingReactions.length||Hn.inBatch||Hn.isRunningReactions)&&G(36),Gn=!0,Fn){var e=U();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Hn=new Vn}}function zn(){return Hn}function Wn(){var e=new Vn;for(var t in e)-1===Bn.indexOf(t)&&(Hn[t]=e[t]);Hn.allowStateChanges=!Hn.enforceActions}function $n(e){return e.observers_&&e.observers_.size>0}function Xn(e){return e.observers_}function Yn(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Kn(e,t){e.observers_.delete(t),0===e.observers_.size&&qn(e)}function qn(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,Hn.pendingUnobservations.push(e))}function Jn(){Hn.inBatch++}function Qn(){if(0==--Hn.inBatch){sr();for(var e=Hn.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof bn&&n.suspend_())}Hn.pendingUnobservations=[]}}function Zn(e){Pn(e);var t=Hn.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&Hn.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&Hn.inBatch>0&&qn(e),!1)}function er(e){e.lowestObserverState_!==wn.STALE_&&(e.lowestObserverState_=wn.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===wn.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=wn.STALE_})))}function tr(e){e.lowestObserverState_!==wn.STALE_&&(e.lowestObserverState_=wn.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===wn.POSSIBLY_STALE_?t.dependenciesState_=wn.STALE_:t.dependenciesState_===wn.UP_TO_DATE_&&(e.lowestObserverState_=wn.UP_TO_DATE_)})))}function nr(e){e.lowestObserverState_===wn.UP_TO_DATE_&&(e.lowestObserverState_=wn.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===wn.UP_TO_DATE_&&(e.dependenciesState_=wn.POSSIBLY_STALE_,e.onBecomeStale_())})))}function rr(e,t){if(console.log("[mobx.trace] '"+e.name_+"' is invalidated due to a change in: '"+t.name_+"'"),e.isTracing_===On.BREAK){var n=[];or(Yr(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name_+"'\n\nYou are entering this break point because derivation '"+e.name_+"' is being traced and '"+t.name_+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof bn?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function or(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+"\t".repeat(n-1)+e.name),e.dependencies&&e.dependencies.forEach((function(e){return or(e,t,n+1)})))}var ir=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=wn.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=On.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function e(){this.schedule_()},t.schedule_=function e(){this.isScheduled_||(this.isScheduled_=!0,Hn.pendingReactions.push(this),sr())},t.isScheduled=function e(){return this.isScheduled_},t.runReaction_=function e(){if(!this.isDisposed_){Jn(),this.isScheduled_=!1;var t=Hn.trackingContext;if(Hn.trackingContext=this,En(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}Hn.trackingContext=t,Qn()}},t.track=function e(t){if(!this.isDisposed_){Jn();var n=!1,r;0,this.isRunning_=!0;var o=Hn.trackingContext;Hn.trackingContext=this;var i=xn(this,t,void 0);Hn.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Tn(this),Sn(i)&&this.reportExceptionInDerivation_(i.cause),Qn()}},t.reportExceptionInDerivation_=function e(t){var n=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(Hn.disableErrorBoundaries)throw t;var r="[mobx] uncaught error in '"+this+"'";Hn.suppressReactionErrors||console.error(r,t),Hn.globalReactionErrorHandlers.forEach((function(e){return e(t,n)}))}},t.dispose=function e(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Jn(),Tn(this),Qn()))},t.getDisposer_=function e(t){var n=this,r=function e(){n.dispose(),null==t||null==t.removeEventListener||t.removeEventListener("abort",e)};return null==t||null==t.addEventListener||t.addEventListener("abort",r),r[Be]=this,r},t.toString=function e(){return"Reaction["+this.name_+"]"},t.trace=function e(t){void 0===t&&(t=!1),Ao(this,t)},e}();function ar(e){return Hn.globalReactionErrorHandlers.push(e),function(){var t=Hn.globalReactionErrorHandlers.indexOf(e);t>=0&&Hn.globalReactionErrorHandlers.splice(t,1)}}var ur=100,cr=function e(t){return t()};function sr(){Hn.inBatch>0||Hn.isRunningReactions||cr(lr)}function lr(){Hn.isRunningReactions=!0;for(var e=Hn.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}Hn.isRunningReactions=!1}var fr=le("Reaction",ir);function pr(e){var t=cr;cr=function n(r){return e((function(){return t(r)}))}}function hr(){return!1}function dr(e){var t,n,r}function vr(e){var t}var yr={type:"report-end",spyReportEnd:!0};function mr(e){}function br(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var gr="action",wr="action.bound",Or="autoAction",jr="autoAction.bound",Sr="<unnamed action>",Er=rt(gr),kr=rt(wr,{bound:!0}),_r=rt(Or,{autoAction:!0}),Pr=rt(jr,{autoAction:!0,bound:!0});function xr(e){var t;return function t(n,r){return re(n)?un(n.name||"<unnamed action>",n,e):re(r)?un(n,r,e):De(r)?(e?_r:Er).decorate_20223_(n,r):oe(r)?Re(n,r,e?_r:Er):oe(n)?Le(rt(e?Or:gr,{name:n,autoAction:e})):void 0}}var Nr=xr(!1);Object.assign(Nr,Er);var Cr=xr(!0);function Tr(e){return cn(e.name||"<unnamed action>",!1,e,this,void 0)}function Lr(e){return re(e)&&!0===e.isMobxAction}function Rr(e,t){var n,r,o,i,a;void 0===t&&(t=K);var u=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun",c,s;if(!t.scheduler&&!t.delay)s=new ir(u,(function(){this.track(p)}),t.onError,t.requiresObservable);else{var l=Mr(t),f=!1;s=new ir(u,(function(){f||(f=!0,l((function(){f=!1,s.isDisposed_||s.track(p)})))}),t.onError,t.requiresObservable)}function p(){e(s)}return null!=(o=t)&&null!=(i=o.signal)&&i.aborted||s.schedule_(),s.getDisposer_(null==(a=t)?void 0:a.signal)}Object.assign(Cr,_r),Nr.bound=Le(kr),Cr.bound=Le(Pr);var Ar=function e(t){return t()};function Mr(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ar}function Dr(e,t,n){var r,o,i,a;void 0===n&&(n=K);var u=null!=(r=n.name)?r:"Reaction",c=Nr(u,n.onError?Ir(n.onError,t):t),s=!n.scheduler&&!n.delay,l=Mr(n),f=!0,p=!1,h,d,v=n.compareStructural?$e.structural:n.equals||$e.default,y=new ir(u,(function(){f||s?m():p||(p=!0,l(m))}),n.onError,n.requiresObservable);function m(){if(p=!1,!y.isDisposed_){var t=!1;y.track((function(){var n=fn(!1,(function(){return e(y)}));t=f||!v(h,n),d=h,h=n})),(f&&n.fireImmediately||!f&&t)&&c(h,d,y),f=!1}}return null!=(o=n)&&null!=(i=o.signal)&&i.aborted||y.schedule_(),y.getDisposer_(null==(a=n)?void 0:a.signal)}function Ir(e,t){return function(){try{return t.apply(this,arguments)}catch(t){e.call(this,t)}}}var Br="onBO",Vr="onBUO";function Fr(e,t,n){return Hr("onBO",e,t,n)}function Gr(e,t,n){return Hr("onBUO",e,t,n)}function Hr(e,t,n,r){var o="function"==typeof r?Ui(t,n):Ui(t),i=re(r)?r:n,a=e+"L";return o[a]?o[a].add(i):o[a]=new Set([i]),function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}var Ur="never",zr="always",Wr="observed";function $r(e){!0===e.isolateGlobalState&&Un();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(Hn.useProxies=t===zr||t!==Ur&&"undefined"!=typeof Proxy),"ifavailable"===t&&(Hn.verifyProxies=!0),void 0!==n){var r=n===zr?zr:n===Wr;Hn.enforceActions=r,Hn.allowStateChanges=!0!==r&&r!==zr}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(Hn[t]=!!e[t])})),Hn.allowStateReads=!Hn.observableRequiresReaction,e.reactionScheduler&&pr(e.reactionScheduler)}function Xr(e,t,n,r){var o=ge(t);return $i((function(){var t=Pi(e,r)[Be];ve(o).forEach((function(e){t.extend_(e,o[e],!n||(!(e in n)||n[e]))}))})),e}function Yr(e,t){return Kr(Ui(e,t))}function Kr(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=Qr(e.observing_).map(Kr)),t}function qr(e,t){return Jr(Ui(e,t))}function Jr(e){var t={name:e.name_};return $n(e)&&(t.observers=Array.from(Xn(e)).map(Jr)),t}function Qr(e){return Array.from(new Set(e))}var Zr=0;function eo(){this.message="FLOW_CANCELLED"}function to(e){return e instanceof eo}eo.prototype=Object.create(Error.prototype);var no=st("flow"),ro=st("flow.bound",{bound:!0}),oo=Object.assign((function e(t,n){if(De(n))return no.decorate_20223_(t,n);if(oe(n))return Re(t,n,no);var r=t,o=r.name||"<unnamed flow>",i=function e(){var t=this,n=arguments,i=++Zr,a=Nr(o+" - runid: "+i+" - init",r).apply(t,n),u,c=void 0,s=new Promise((function(e,t){var n=0;function r(e){var r;c=void 0;try{r=Nr(o+" - runid: "+i+" - yield "+n++,a.next).call(a,e)}catch(e){return t(e)}l(r)}function s(e){var r;c=void 0;try{r=Nr(o+" - runid: "+i+" - yield "+n++,a.throw).call(a,e)}catch(e){return t(e)}l(r)}function l(n){if(!re(null==n?void 0:n.then))return n.done?e(n.value):(c=Promise.resolve(n.value)).then(r,s);n.then(l,t)}u=t,r(void 0)}));return s.cancel=Nr(o+" - runid: "+i+" - cancel",(function(){try{c&&io(c);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(ne,ne),io(t),u(new eo)}catch(e){u(e)}})),s};return i.isMobXFlow=!0,i}),no);function io(e){re(e.cancel)&&e.cancel()}function ao(e){return e}function uo(e){return!0===(null==e?void 0:e.isMobXFlow)}function co(e,t,n){var r;return mi(e)||pi(e)||yn(e)?r=zi(e):Ci(e)&&(r=zi(e,t)),r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0}}function so(e,t,n){return re(n)?fo(e,t,n):lo(e,t)}function lo(e,t){return zi(e).intercept_(t)}function fo(e,t,n){return zi(e,t).intercept_(n)}function po(e,t){if(void 0===t)return gn(e);if(!1===Ci(e))return!1;if(!e[Be].values_.has(t))return!1;var n=Ui(e,t);return gn(n)}function ho(e){return po(e)}function vo(e,t){return po(e,t)}function yo(e,t){return!!e&&(void 0!==t?!!Ci(e)&&e[Be].values_.has(t):Ci(e)||!!e[Be]||Fe(e)||fr(e)||gn(e))}function mo(e){return yo(e)}function bo(e,t){return yo(e,t)}function go(e){return Ci(e)?e[Be].keys_():mi(e)||Si(e)?Array.from(e.keys()):pi(e)?e.map((function(e,t){return t})):void G(5)}function wo(e){return Ci(e)?go(e).map((function(t){return e[t]})):mi(e)?go(e).map((function(t){return e.get(t)})):Si(e)?Array.from(e.values()):pi(e)?e.slice():void G(6)}function Oo(e){return Ci(e)?go(e).map((function(t){return[t,e[t]]})):mi(e)?go(e).map((function(t){return[t,e.get(t)]})):Si(e)?Array.from(e.entries()):pi(e)?e.map((function(e,t){return[t,e]})):void G(7)}function jo(e,t,n){if(2!==arguments.length||Si(e))Ci(e)?e[Be].set_(t,n):mi(e)?e.set(t,n):Si(e)?e.add(t):pi(e)?("number"!=typeof t&&(t=parseInt(t,10)),t<0&&G("Invalid index: '"+t+"'"),Jn(),t>=e.length&&(e.length=t+1),e[t]=n,Qn()):G(8);else{Jn();var r=t;try{for(var o in r)jo(e,o,r[o])}finally{Qn()}}}function So(e,t){Ci(e)?e[Be].delete_(t):mi(e)||Si(e)?e.delete(t):pi(e)?("number"!=typeof t&&(t=parseInt(t,10)),e.splice(t,1)):G(9)}function Eo(e,t){return Ci(e)?e[Be].has_(t):mi(e)||Si(e)?e.has(t):pi(e)?t>=0&&t<e.length:void G(10)}function ko(e,t){if(Eo(e,t))return Ci(e)?e[Be].get_(t):mi(e)?e.get(t):pi(e)?e[t]:void G(11)}function _o(e,t,n){if(Ci(e))return e[Be].defineProperty_(t,n);G(39)}function Po(e){if(Ci(e))return e[Be].ownKeys_();G(38)}function xo(e,t,n,r){return re(n)?Co(e,t,n,r):No(e,t,n)}function No(e,t,n){return zi(e).observe_(t,n)}function Co(e,t,n,r){return zi(e,t).observe_(n,r)}function To(e,t,n){return e.set(t,n),n}function Lo(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!mo(e))return e;if(yn(e)||gn(e))return Lo(e.get(),t);if(t.has(e))return t.get(e);if(pi(e)){var n=To(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=Lo(e,t)})),n}if(Si(e)){var r=To(t,e,new Set);return e.forEach((function(e){r.add(Lo(e,t))})),r}if(mi(e)){var o=To(t,e,new Map);return e.forEach((function(e,n){o.set(n,Lo(e,t))})),o}var i=To(t,e,{});return Po(e).forEach((function(n){X.propertyIsEnumerable.call(e,n)&&(i[n]=Lo(e[n],t))})),i}function Ro(e,t){return Lo(e,new Map)}function Ao(){var e,t,n,r,o}function Mo(e){switch(e.length){case 0:return Hn.trackingDerivation;case 1:return Ui(e[0]);case 2:return Ui(e[0],e[1])}}function Do(e,t){void 0===t&&(t=void 0),Jn();try{return e.apply(t)}finally{Qn()}}function Io(e,t,n){return 1===arguments.length||t&&"object"==typeof t?Vo(e,t):Bo(e,t,n||{})}function Bo(e,t,n){var r;if("number"==typeof n.timeout){var o=new Error("WHEN_TIMEOUT");r=setTimeout((function(){if(!a[Be].isDisposed_){if(a(),!n.onError)throw o;n.onError(o)}}),n.timeout)}n.name="When";var i=un("When-effect",t),a=Rr((function(t){var n;fn(!1,e)&&(t.dispose(),r&&clearTimeout(r),i())}),n);return a}function Vo(e,t){var n,r,o;if(null!=t&&null!=(n=t.signal)&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function e(){return null}});var i=new Promise((function(n,i){var a,u=Bo(e,n,je({},t,{onError:i}));r=function e(){u(),i(new Error("WHEN_CANCELLED"))},o=function e(){u(),i(new Error("WHEN_ABORTED"))},null==t||null==(a=t.signal)||null==a.addEventListener||a.addEventListener("abort",o)})).finally((function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",o)}));return i.cancel=r,i}function Fo(e){return e[Be]}oo.bound=Le(ro);var Go={has:function e(t,n){return Fo(t).has_(n)},get:function e(t,n){return Fo(t).get_(n)},set:function e(t,n,r){var o;return!!oe(n)&&(null==(o=Fo(t).set_(n,r,!0))||o)},deleteProperty:function e(t,n){var r;return!!oe(n)&&(null==(r=Fo(t).delete_(n,!0))||r)},defineProperty:function e(t,n,r){var o;return null==(o=Fo(t).defineProperty_(n,r))||o},ownKeys:function e(t){return Fo(t).ownKeys_()},preventExtensions:function e(t){G(13)}};function Ho(e,t){var n,r;return Q(),null!=(r=(n=(e=Pi(e,t))[Be]).proxy_)?r:n.proxy_=new Proxy(e,Go)}function Uo(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function zo(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Wo(e,t){var n=Rn();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&((t=r[o](t))&&!t.type&&G(14),t);o++);return t}finally{An(n)}}function $o(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Xo(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Yo(e,t){var n=Rn(),r=e.changeListeners_;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);An(n)}}function Ko(e,t,n){return $i((function(){var r,o=Pi(e,n)[Be];null!=(r=t)||(t=Me(e)),ve(t).forEach((function(e){return o.make_(e,t[e])}))})),e}var qo=Symbol("mobx-keys");function Jo(e,t,n){return ae(e)?Xr(e,e,t,n):($i((function(){var r=Pi(e,n)[Be];if(!e[qo]){var o=Object.getPrototypeOf(e),i=new Set([].concat(ve(e),ve(o)));i.delete("constructor"),i.delete(Be),ce(o,qo,i)}e[qo].forEach((function(e){return r.make_(e,!t||(!(e in t)||t[e]))}))})),e)}var Qo="splice",Zo="update",ei=1e4,ti={get:function e(t,n){var r=t[Be];return n===Be?r:"length"===n?r.getArrayLength_():"string"!=typeof n||isNaN(n)?be(oi,n)?oi[n]:t[n]:r.get_(parseInt(n))},set:function e(t,n,r){var o=t[Be];return"length"===n&&o.setArrayLength_(r),"symbol"==typeof n||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function e(){G(15)}},ni=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Ve(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.dehanceValues_=function e(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.intercept_=function e(t){return zo(this,t)},t.observe_=function e(t,n){return void 0===n&&(n=!1),n&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Xo(this,t)},t.getArrayLength_=function e(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function e(t){("number"!=typeof t||isNaN(t)||t<0)&&G("Out of range: "+t);var n=this.values_.length;if(t!==n)if(t>n){for(var r=new Array(t-n),o=0;o<t-n;o++)r[o]=void 0;this.spliceWithArray_(n,0,r)}else this.spliceWithArray_(t,n-t)},t.updateArrayLength_=function e(t,n){t!==this.lastKnownLength_&&G(16),this.lastKnownLength_+=n,this.legacyMode_&&n>0&&Gi(t+n+1)},t.spliceWithArray_=function e(t,n,r){var o=this;_n(this.atom_);var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),n=1===arguments.length?i-t:null==n?0:Math.max(0,Math.min(n,i-t)),void 0===r&&(r=Y),Uo(this)){var a=Wo(this,{object:this.proxy_,type:Qo,index:t,removedCount:n,added:r});if(!a)return Y;n=a.removedCount,r=a.added}if(r=0===r.length?r:r.map((function(e){return o.enhancer_(e,void 0)})),this.legacyMode_){var u=r.length-n;this.updateArrayLength_(i,u)}var c=this.spliceItemsIntoValues_(t,n,r);return 0===n&&0===r.length||this.notifyArraySplice_(t,r,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function e(t,n,r){var o;if(r.length<1e4)return(o=this.values_).splice.apply(o,[t,n].concat(r));var i=this.values_.slice(t,t+n),a=this.values_.slice(t+n);this.values_.length+=r.length-n;for(var u=0;u<r.length;u++)this.values_[t+u]=r[u];for(var c=0;c<a.length;c++)this.values_[t+r.length+c]=a[c];return i},t.notifyArrayChildUpdate_=function e(t,n,r){var o=!this.owned_&&!1,i=$o(this),a=i||o?{observableKind:"array",object:this.proxy_,type:Zo,debugObjectName:this.atom_.name_,index:t,newValue:n,oldValue:r}:null;this.atom_.reportChanged(),i&&Yo(this,a)},t.notifyArraySplice_=function e(t,n,r){var o=!this.owned_&&!1,i=$o(this),a=i||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Qo,index:t,removed:r,added:n,removedCount:r.length,addedCount:n.length}:null;this.atom_.reportChanged(),i&&Yo(this,a)},t.get_=function e(t){if(!(this.legacyMode_&&t>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx] Out of bounds read: "+t)},t.set_=function e(t,n){var r=this.values_;if(this.legacyMode_&&t>r.length&&G(17,t,r.length),t<r.length){_n(this.atom_);var o=r[t],i;if(Uo(this)){var a=Wo(this,{type:Zo,object:this.proxy_,index:t,newValue:n});if(!a)return;n=a.newValue}(n=this.enhancer_(n,o))!==o&&(r[t]=n,this.notifyArrayChildUpdate_(t,n,o))}else{for(var u=new Array(t+1-r.length),c=0;c<u.length-1;c++)u[c]=void 0;u[u.length-1]=n,this.spliceWithArray_(r.length,0,u)}},e}();function ri(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Q(),$i((function(){var o=new ni(n,t,r,!1);se(o.values_,Be,o);var i=new Proxy(o.values_,ti);return o.proxy_=i,e&&e.length&&o.spliceWithArray_(0,0,e),i}))}var oi={clear:function e(){return this.splice(0)},replace:function e(t){var n=this[Be];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function e(){return this.slice()},splice:function e(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=this[Be];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,o)},spliceWithArray:function e(t,n,r){return this[Be].spliceWithArray_(t,n,r)},push:function e(){for(var t=this[Be],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function e(){return this.splice(Math.max(this[Be].values_.length-1,0),1)[0]},shift:function e(){return this.splice(0,1)[0]},unshift:function e(){for(var t=this[Be],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function e(){return Hn.trackingDerivation&&G(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function e(){Hn.trackingDerivation&&G(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function e(t){var n=this[Be],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1&&(this.splice(r,1),!0)}};function ii(e,t){"function"==typeof Array.prototype[e]&&(oi[e]=t(e))}function ai(e){return function(){var t=this[Be];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ui(e){return function(t,n){var r=this,o=this[Be],i;return o.atom_.reportObserved(),o.dehanceValues_(o.values_)[e]((function(e,o){return t.call(n,e,o,r)}))}}function ci(e){return function(){var t=this,n=this[Be];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(e,n,r){return o(e,n,r,t)},r[e].apply(r,arguments)}}ii("at",ai),ii("concat",ai),ii("flat",ai),ii("includes",ai),ii("indexOf",ai),ii("join",ai),ii("lastIndexOf",ai),ii("slice",ai),ii("toString",ai),ii("toLocaleString",ai),ii("toSorted",ai),ii("toSpliced",ai),ii("with",ai),ii("every",ui),ii("filter",ui),ii("find",ui),ii("findIndex",ui),ii("findLast",ui),ii("findLastIndex",ui),ii("flatMap",ui),ii("forEach",ui),ii("map",ui),ii("some",ui),ii("toReversed",ui),ii("reduce",ci),ii("reduceRight",ci);var si=le("ObservableArrayAdministration",ni),li,fi;function pi(e){return ie(e)&&si(e[Be])}var hi={},di="add",vi="delete";li=Symbol.iterator,fi=Symbol.toStringTag;var yi=function(){function e(e,t,n){var r=this;void 0===t&&(t=Xe),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Be]=hi,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,re(Map)||G(18),$i((function(){r.keysAtom_=Ge("ObservableMap.keys()"),r.data_=new Map,r.hasMap_=new Map,e&&r.merge(e)}))}var t=e.prototype;return t.has_=function e(t){return this.data_.has(t)},t.has=function e(t){var n=this;if(!Hn.trackingDerivation)return this.has_(t);var r=this.hasMap_.get(t);if(!r){var o=r=new vn(this.has_(t),Ke,"ObservableMap.key?",!1);this.hasMap_.set(t,o),Gr(o,(function(){return n.hasMap_.delete(t)}))}return r.get()},t.set=function e(t,n){var r=this.has_(t);if(Uo(this)){var o=Wo(this,{type:r?Zo:di,object:this,newValue:n,name:t});if(!o)return this;n=o.newValue}return r?this.updateValue_(t,n):this.addValue_(t,n),this},t.delete=function e(t){var n=this,r;if((_n(this.keysAtom_),Uo(this))&&!Wo(this,{type:vi,object:this,name:t}))return!1;if(this.has_(t)){var o=!1,i=$o(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:vi,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return Do((function(){var e,r;n.keysAtom_.reportChanged(),null==(e=n.hasMap_.get(t))||e.setNewValue_(!1),n.data_.get(t).setNewValue_(void 0),n.data_.delete(t)})),i&&Yo(this,a),!0}return!1},t.updateValue_=function e(t,n){var r=this.data_.get(t);if((n=r.prepareNewValue_(n))!==Hn.UNCHANGED){var o=!1,i=$o(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:Zo,object:this,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Yo(this,a)}},t.addValue_=function e(t,n){var r=this;_n(this.keysAtom_),Do((function(){var e,o=new vn(n,r.enhancer_,"ObservableMap.key",!1);r.data_.set(t,o),n=o.value_,null==(e=r.hasMap_.get(t))||e.setNewValue_(!0),r.keysAtom_.reportChanged()}));var o=!1,i=$o(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:di,object:this,name:t,newValue:n}:null;i&&Yo(this,a)},t.get=function e(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.keys=function e(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function e(){var t=this,n=this.keys();return Ji({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:t.get(i)}}})},t.entries=function e(){var t=this,n=this.keys();return Ji({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:[i,t.get(i)]}}})},t[li]=function(){return this.entries()},t.forEach=function e(t,n){for(var r=xe(this),o;!(o=r()).done;){var i=o.value,a=i[0],u=i[1];t.call(n,u,a,this)}},t.merge=function e(t){var n=this;return mi(t)&&(t=new Map(t)),Do((function(){ae(t)?de(t).forEach((function(e){return n.set(e,t[e])})):Array.isArray(t)?t.forEach((function(e){var t=e[0],r=e[1];return n.set(t,r)})):fe(t)?(t.constructor!==Map&&G(19,t),t.forEach((function(e,t){return n.set(t,e)}))):null!=t&&G(20,t)})),this},t.clear=function e(){var t=this;Do((function(){Ln((function(){for(var e=xe(t.keys()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},t.replace=function e(t){var n=this;return Do((function(){for(var e=wi(t),r=new Map,o=!1,i=xe(n.data_.keys()),a;!(a=i()).done;){var u=a.value,c;if(!e.has(u))if(n.delete(u))o=!0;else{var s=n.data_.get(u);r.set(u,s)}}for(var l=xe(e.entries()),f;!(f=l()).done;){var p=f.value,h=p[0],d=p[1],v=n.data_.has(h);if(n.set(h,d),n.data_.has(h)){var y=n.data_.get(h);r.set(h,y),v||(o=!0)}}if(!o)if(n.data_.size!==r.size)n.keysAtom_.reportChanged();else for(var m=n.data_.keys(),b=r.keys(),g=m.next(),w=b.next();!g.done;){if(g.value!==w.value){n.keysAtom_.reportChanged();break}g=m.next(),w=b.next()}n.data_=r})),this},t.toString=function e(){return"[object ObservableMap]"},t.toJSON=function e(){return Array.from(this)},t.observe_=function e(t,n){return Xo(this,t)},t.intercept_=function e(t){return zo(this,t)},Oe(e,[{key:"size",get:function e(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:fi,get:function e(){return"Map"}}]),e}(),mi=le("ObservableMap",yi),bi,gi;function wi(e){if(fe(e)||mi(e))return e;if(Array.isArray(e))return new Map(e);if(ae(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return G(21,e)}var Oi={};bi=Symbol.iterator,gi=Symbol.toStringTag;var ji=function(){function e(e,t,n){var r=this;void 0===t&&(t=Xe),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[Be]=Oi,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,re(Set)||G(22),this.enhancer_=function(e,r){return t(e,r,n)},$i((function(){r.atom_=Ge(r.name_),e&&r.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.clear=function e(){var t=this;Do((function(){Ln((function(){for(var e=xe(t.data_.values()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},t.forEach=function e(t,n){for(var r=xe(this),o;!(o=r()).done;){var i=o.value;t.call(n,i,i,this)}},t.add=function e(t){var n=this,r;if((_n(this.atom_),Uo(this))&&!Wo(this,{type:di,object:this,newValue:t}))return this;if(!this.has(t)){Do((function(){n.data_.add(n.enhancer_(t,void 0)),n.atom_.reportChanged()}));var o=!1,i=$o(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:di,object:this,newValue:t}:null;0,i&&Yo(this,a)}return this},t.delete=function e(t){var n=this,r;if(Uo(this)&&!Wo(this,{type:vi,object:this,oldValue:t}))return!1;if(this.has(t)){var o=!1,i=$o(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:vi,object:this,oldValue:t}:null;return Do((function(){n.atom_.reportChanged(),n.data_.delete(t)})),i&&Yo(this,a),!0}return!1},t.has=function e(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},t.entries=function e(){var t=0,n=Array.from(this.keys()),r=Array.from(this.values());return Ji({next:function e(){var o=t;return t+=1,o<r.length?{value:[n[o],r[o]],done:!1}:{done:!0}}})},t.keys=function e(){return this.values()},t.values=function e(){this.atom_.reportObserved();var t=this,n=0,r=Array.from(this.data_.values());return Ji({next:function e(){return n<r.length?{value:t.dehanceValue_(r[n++]),done:!1}:{done:!0}}})},t.replace=function e(t){var n=this;return Si(t)&&(t=new Set(t)),Do((function(){Array.isArray(t)||pe(t)?(n.clear(),t.forEach((function(e){return n.add(e)}))):null!=t&&G("Cannot initialize set from "+t)})),this},t.observe_=function e(t,n){return Xo(this,t)},t.intercept_=function e(t){return zo(this,t)},t.toJSON=function e(){return Array.from(this)},t.toString=function e(){return"[object ObservableSet]"},t[bi]=function(){return this.values()},Oe(e,[{key:"size",get:function e(){return this.atom_.reportObserved(),this.data_.size}},{key:gi,get:function e(){return"Set"}}]),e}(),Si=le("ObservableSet",ji),Ei=Object.create(null),ki="remove",_i=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=_t),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Ve("ObservableObject.keys"),this.isPlainObject_=ae(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function e(t){return this.values_.get(t).get()},t.setObservablePropValue_=function e(t,n){var r=this.values_.get(t);if(r instanceof bn)return r.set(n),!0;if(Uo(this)){var o=Wo(this,{type:Zo,object:this.proxy_||this.target_,name:t,newValue:n});if(!o)return null;n=o.newValue}if((n=r.prepareNewValue_(n))!==Hn.UNCHANGED){var i=$o(this),a=!1,u=i?{type:Zo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Yo(this,u)}return!0},t.get_=function e(t){return Hn.trackingDerivation&&!be(this.target_,t)&&this.has_(t),this.target_[t]},t.set_=function e(t,n,r){return void 0===r&&(r=!1),be(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,n):r?Reflect.set(this.target_,t,n):(this.target_[t]=n,!0):this.extend_(t,{value:n,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},t.has_=function e(t){if(!Hn.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var n=this.pendingKeys_.get(t);return n||(n=new vn(t in this.target_,Ke,"ObservableObject.key?",!1),this.pendingKeys_.set(t,n)),n.get()},t.make_=function e(t,n){if(!0===n&&(n=this.defaultAnnotation_),!1!==n){if(Li(this,n,t),!(t in this.target_)){var r;if(null!=(r=this.target_[Te])&&r[t])return;G(1,n.annotationType_,this.name_+"."+t.toString())}for(var o=this.target_;o&&o!==X;){var i=W(o,t);if(i){var a=n.make_(this,t,i,o);if(0===a)return;if(1===a)break}o=Object.getPrototypeOf(o)}Ti(this,n,t)}},t.extend_=function e(t,n,r,o){if(void 0===o&&(o=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(t,n,o);Li(this,r,t);var i=r.extend_(this,t,n,o);return i&&Ti(this,r,t),i},t.defineProperty_=function e(t,n,r){void 0===r&&(r=!1),_n(this.keysAtom_);try{Jn();var o=this.delete_(t);if(!o)return o;if(Uo(this)){var i=Wo(this,{object:this.proxy_||this.target_,name:t,type:di,newValue:n.value});if(!i)return null;var a=i.newValue;n.value!==a&&(n=je({},n,{value:a}))}if(r){if(!Reflect.defineProperty(this.target_,t,n))return!1}else $(this.target_,t,n);this.notifyPropertyAddition_(t,n.value)}finally{Qn()}return!0},t.defineObservableProperty_=function e(t,n,r,o){void 0===o&&(o=!1),_n(this.keysAtom_);try{Jn();var i=this.delete_(t);if(!i)return i;if(Uo(this)){var a=Wo(this,{object:this.proxy_||this.target_,name:t,type:di,newValue:n});if(!a)return null;n=a.newValue}var u=Ni(t),c={configurable:!Hn.safeDescriptors||this.isPlainObject_,enumerable:!0,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,t,c))return!1}else $(this.target_,t,c);var s=new vn(n,r,"ObservableObject.key",!1);this.values_.set(t,s),this.notifyPropertyAddition_(t,s.value_)}finally{Qn()}return!0},t.defineComputedProperty_=function e(t,n,r){void 0===r&&(r=!1),_n(this.keysAtom_);try{Jn();var o=this.delete_(t),i;if(!o)return o;if(Uo(this))if(!Wo(this,{object:this.proxy_||this.target_,name:t,type:di,newValue:void 0}))return null;n.name||(n.name="ObservableObject.key"),n.context=this.proxy_||this.target_;var a=Ni(t),u={configurable:!Hn.safeDescriptors||this.isPlainObject_,enumerable:!1,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,t,u))return!1}else $(this.target_,t,u);this.values_.set(t,new bn(n)),this.notifyPropertyAddition_(t,void 0)}finally{Qn()}return!0},t.delete_=function e(t,n){if(void 0===n&&(n=!1),_n(this.keysAtom_),!be(this.target_,t))return!0;var r;if(Uo(this)&&!Wo(this,{object:this.proxy_||this.target_,name:t,type:ki}))return null;try{var o,i;Jn();var a=$o(this),u=!1,c=this.values_.get(t),s=void 0,l;if(!c&&a)s=null==(l=W(this.target_,t))?void 0:l.value;if(n){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(c&&(this.values_.delete(t),c instanceof vn&&(s=c.value_),er(c)),this.keysAtom_.reportChanged(),null==(o=this.pendingKeys_)||null==(i=o.get(t))||i.set(t in this.target_),a){var f={type:ki,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:t};0,a&&Yo(this,f)}}finally{Qn()}return!0},t.observe_=function e(t,n){return Xo(this,t)},t.intercept_=function e(t){return zo(this,t)},t.notifyPropertyAddition_=function e(t,n){var r,o,i=$o(this),a=!1;if(i){var u=i?{type:di,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:n}:null;0,i&&Yo(this,u)}null==(r=this.pendingKeys_)||null==(o=r.get(t))||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function e(){return this.keysAtom_.reportObserved(),ve(this.target_)},t.keys_=function e(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Pi(e,t){var n;if(be(e,Be))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",o=new _i(e,new Map,String(r),Ut(t));return ce(e,Be,o),e}var xi=le("ObservableObjectAdministration",_i);function Ni(e){return Ei[e]||(Ei[e]={get:function t(){return this[Be].getObservablePropValue_(e)},set:function t(n){return this[Be].setObservablePropValue_(e,n)}})}function Ci(e){return!!ie(e)&&xi(e[Be])}function Ti(e,t,n){var r;null==(r=e.target_[Te])||delete r[n]}function Li(e,t,n){var r,o,i}var Ri=Vi(0),Ai=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function t(){e=!0}}),Object.create(t)[0]=1,!1===e}(),Mi=0,Di=function e(){};function Ii(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):void 0!==e.prototype.__proto__?e.prototype.__proto__=t:e.prototype=t}Ii(Di,Array.prototype);var Bi=function(e,t,n){function r(t,n,r,o){var i;return void 0===r&&(r="ObservableArray"),void 0===o&&(o=!1),i=e.call(this)||this,$i((function(){var e=new ni(r,n,o,!0);e.proxy_=ke(i),se(ke(i),Be,e),t&&t.length&&i.spliceWithArray(0,0,t),Ai&&Object.defineProperty(ke(i),"0",Ri)})),i}Se(r,e);var o=r.prototype;return o.concat=function e(){this[Be].atom_.reportObserved();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),n.map((function(e){return pi(e)?e.slice():e})))},o[n]=function(){var e=this,t=0;return Ji({next:function n(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Oe(r,[{key:"length",get:function e(){return this[Be].getArrayLength_()},set:function e(t){this[Be].setArrayLength_(t)}},{key:t,get:function e(){return"Array"}}]),r}(Di,Symbol.toStringTag,Symbol.iterator);function Vi(e){return{enumerable:!1,configurable:!0,get:function t(){return this[Be].get_(e)},set:function t(n){this[Be].set_(e,n)}}}function Fi(e){$(Bi.prototype,""+e,Vi(e))}function Gi(e){if(e>Mi){for(var t=Mi;t<e+100;t++)Fi(t);Mi=e}}function Hi(e,t,n){return new Bi(e,t,n)}function Ui(e,t){if("object"==typeof e&&null!==e){if(pi(e))return void 0!==t&&G(23),e[Be].atom_;if(Si(e))return e.atom_;if(mi(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||G(25,t,Wi(e)),n}if(Ci(e)){if(!t)return G(26);var r=e[Be].values_.get(t);return r||G(27,t,Wi(e)),r}if(Fe(e)||gn(e)||fr(e))return e}else if(re(e)&&fr(e[Be]))return e[Be];G(28)}function zi(e,t){return e||G(29),void 0!==t?zi(Ui(e,t)):Fe(e)||gn(e)||fr(e)||mi(e)||Si(e)?e:e[Be]?e[Be]:void G(24,e)}function Wi(e,t){var n;if(void 0!==t)n=Ui(e,t);else{if(Lr(e))return e.name;n=Ci(e)||mi(e)||Si(e)?zi(e):Ui(e)}return n.name_}function $i(e){var t=Rn(),n=pn(!0);Jn();try{return e()}finally{Qn(),hn(n),An(t)}}Object.entries(oi).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&ce(Bi.prototype,t,n)})),Gi(1e3);var Xi=X.toString;function Yi(e,t,n){return void 0===n&&(n=-1),Ki(e,t,n)}function Ki(e,t,n,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var a=Xi.call(e);if(a!==Xi.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=qi(e),t=qi(t);var u="[object Array]"===a;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,s=t.constructor;if(c!==s&&!(re(c)&&c instanceof c&&re(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return o[l]===t;if(r.push(e),o.push(t),u){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Ki(e[l],t[l],n-1,r,o))return!1}else{var f=Object.keys(e),p;if(l=f.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!be(t,p=f[l])||!Ki(e[p],t[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function qi(e){return pi(e)?e.slice():fe(e)||mi(e)||pe(e)||Si(e)?Array.from(e.entries()):e}function Ji(e){return e[Symbol.iterator]=Qi,e}function Qi(){return this}function Zi(e){return e instanceof Object&&"string"==typeof e.annotationType_&&re(e.make_)&&re(e.extend_)}["Symbol","Map","Set"].forEach((function(e){var t;void 0===U()[e]&&G("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:br,extras:{getDebugName:Wi},$mobx:Be})}.call(this,n(32))},function(e,t){e.exports=Next},function(e,t){e.exports=_},function(e,t,n){"use strict";var r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function e(t,n,r){return Function.prototype.apply.call(t,n,r)},i;function a(e){console&&console.warn&&console.warn(e)}i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function e(t){return Object.getOwnPropertyNames(t)};var u=Number.isNaN||function e(t){return t!=t};function c(){c.init.call(this)}e.exports=c,e.exports.once=w,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var s=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var o,i,u;if(l(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),u=i[t]),void 0===u)u=i[t]=n,++e._eventsCount;else if("function"==typeof u?u=i[t]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(o=f(e))>0&&u.length>o&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=u.length,a(c)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function v(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?g(o):m(o,o.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function b(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function w(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}j(e,t,i,{once:!0}),"error"!==t&&O(e,o,{once:!0})}))}function O(e,t,n){"function"==typeof e.on&&j(e,"error",t,n)}function j(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||u(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function e(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function e(){return f(this)},c.prototype.emit=function e(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i="error"===t,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var u;if(n.length>0&&(u=n[0]),u instanceof Error)throw u;var c=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw c.context=u,c}var s=a[t];if(void 0===s)return!1;if("function"==typeof s)o(s,this,n);else for(var l=s.length,f=m(s,l),r=0;r<l;++r)o(f[r],this,n);return!0},c.prototype.addListener=function e(t,n){return p(this,t,n,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function e(t,n){return p(this,t,n,!0)},c.prototype.once=function e(t,n){return l(n),this.on(t,d(this,t,n)),this},c.prototype.prependOnceListener=function e(t,n){return l(n),this.prependListener(t,d(this,t,n)),this},c.prototype.removeListener=function e(t,n){var r,o,i,a,u;if(l(n),void 0===(o=this._events))return this;if(void 0===(r=o[t]))return this;if(r===n||r.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){u=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():b(r,i),1===r.length&&(o[t]=r[0]),void 0!==o.removeListener&&this.emit("removeListener",t,u||n)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function e(t){var n,r,o;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i=Object.keys(r),a;for(o=0;o<i.length;++o)"removeListener"!==(a=i[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=r[t]))this.removeListener(t,n);else if(void 0!==n)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this},c.prototype.listeners=function e(t){return v(this,t,!0)},c.prototype.rawListeners=function e(t){return v(this,t,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},c.prototype.listenerCount=y,c.prototype.eventNames=function e(){return this._eventsCount>0?i(this._events):[]}},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var r=n(14);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==u(t)?t:String(t)}function p(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h,d=new(function(){function e(){c(this,e),this.tip=null,this.showDelay=null,this.hideDelay=null,this.emitter=Object(r.b)("TipHandler")}return l(e,[{key:"setTarget",value:function e(t){var n=this,r=v(t);if(r){if(this.tip){if(this.tip.target===r.target)return void(this.tip=r);if(!this.showDelay)return this.hideDelay&&(clearTimeout(this.hideDelay),this.hideDelay=null),this.tip=r,void this.emitter.emit("tipchange");clearTimeout(this.showDelay),this.showDelay=null,this.tip=null}this.tip=r,this.hideDelay?(clearTimeout(this.hideDelay),this.hideDelay=null,this.emitter.emit("tipchange")):this.showDelay=setTimeout((function(){n.showDelay=null,n.emitter.emit("tipchange")}),350)}else this.showDelay?(clearTimeout(this.showDelay),this.showDelay=null):this.hideDelay=setTimeout((function(){n.hideDelay=null}),100),this.tip=null,this.emitter.emit("tipchange")}},{key:"hideImmediately",value:function e(){this.hideDelay&&(clearTimeout(this.hideDelay),this.hideDelay=null),this.showDelay&&(clearTimeout(this.showDelay),this.showDelay=null),this.tip=null,this.emitter.emit("tipchange")}},{key:"onChange",value:function e(t){var n=this;return this.emitter.on("tipchange",t),function(){n.emitter.removeListener("tipchange",t)}}}]),e}());function v(e){if(!e)return null;for(var t=10;e&&t-- >0;){if(e.dataset&&e.dataset.tip)return{children:e.dataset.tip,direction:e.dataset.direction||e.dataset.dir,theme:e.dataset.theme,target:e};for(var n=e.lastElementChild;n;){if(n.dataset&&"tip"===n.dataset.role){var r=n.dataset.tipId;if(!r)return null;var o=y.get(r);return o?i(i({},o),{},{target:e}):null}n=n.previousElementSibling}e=e.parentNode}return null}var y=new Map;function m(e,t){t?y.set(e,t):y.delete(e)}},function(e,t){e.exports=window.PropTypes},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadataField=t.getMetadata=t.MetadataType=t.metaSymbol=void 0,t.metaSymbol=Symbol("power-di-metadata");var r=function(){function e(){this.classInfo={extends:[],implements:[]},this.injects=[],this.postConstruct=[],this.preDestroy=[],this.aspects=[]}return e}();function o(e){if([Object,Object.prototype,Array,Array.prototype,Error,Error.prototype,null].includes(e))return new r;var n=Object.getOwnPropertyDescriptor(e,t.metaSymbol);return n&&n.value?n.value:(Object.defineProperty(e,t.metaSymbol,{enumerable:!1,configurable:!1,value:new r}),o(e))}function i(e,t){var n=o(e)[t];if(Array.isArray(n)){var r=Object.getPrototypeOf(e);if(r)return i(r,t).concat(n)}return n}t.MetadataType=r,t.getMetadata=o,t.getMetadataField=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return v}));var r=n(2),o=n(9),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==a(t)?t:String(t)}function f(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=new r.e({level:"warn",bizName:"event-bus"}),h=new r.e({level:"warn",bizName:"module-event-bus"}),d=function(){function e(t,n){u(this,e),this.eventEmitter=void 0,this.name=void 0,this.names=[],this.eventEmitter=t,this.name=n}return s(e,[{key:"getMsgPrefix",value:function e(t){return this.name&&this.name.length>0?"[".concat(this.name,"][event-").concat(t,"]"):"[*][event-".concat(t,"]")}},{key:"getLogger",value:function e(){return this.name&&this.name.length>0?h:p}},{key:"on",value:function e(t,n){var r=this;return this.eventEmitter.on(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("on")," ").concat(t)),function(){r.off(t,n)}}},{key:"prependListener",value:function e(t,n){var r=this;return this.eventEmitter.prependListener(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("prependListener")," ").concat(t)),function(){r.off(t,n)}}},{key:"off",value:function e(t,n){this.eventEmitter.off(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("off")," ").concat(t))}},{key:"emit",value:function e(t){for(var n,r,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];(n=this.eventEmitter).emit.apply(n,[t].concat(i)),(r=this.getLogger()).debug.apply(r,["".concat(this.getMsgPrefix("emit")," name: ").concat(t,", args: ")].concat(i))}},{key:"removeListener",value:function e(t,n){return this.eventEmitter.removeListener(t,n)}},{key:"addListener",value:function e(t,n){return this.eventEmitter.addListener(t,n)}},{key:"setMaxListeners",value:function e(t){return this.eventEmitter.setMaxListeners(t)}},{key:"removeAllListeners",value:function e(t){return this.eventEmitter.removeAllListeners(t)}}]),e}(),v=function e(t,n){var r=new i.a;return n&&r.setMaxListeners(n),new d(r,t)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return Et})),n.d(t,"d",(function(){return kt})),n.d(t,"a",(function(){return xt})),n.d(t,"b",(function(){return ot}));var r=n(0),o=n(3),i,a,u;function c(e){return e.type===a.literal}function s(e){return e.type===a.argument}function l(e){return e.type===a.number}function f(e){return e.type===a.date}function p(e){return e.type===a.time}function h(e){return e.type===a.select}function d(e){return e.type===a.plural}function v(e){return e.type===a.pound}function y(e){return e.type===a.tag}function m(e){return!(!e||"object"!=typeof e||e.type!==u.number)}function b(e){return!(!e||"object"!=typeof e||e.type!==u.dateTime)}function g(e){return{type:a.literal,value:e}}function w(e,t){return{type:a.number,value:e,style:t}}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(i||(i={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(a||(a={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(u||(u={}));var O=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,j=/[\t-\r \x85\u200E\u200F\u2028\u2029]/,S=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function E(e){var t={};return e.replace(S,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var k=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function _(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t,n=[],r=0,o=e.split(k).filter((function(e){return e.length>0}));r<o.length;r++){var i,a=o[r].split("/");if(0===a.length)throw new Error("Invalid number skeleton");for(var u=a[0],c=a.slice(1),s=0,l=c;s<l.length;s++){var f;if(0===l[s].length)throw new Error("Invalid number skeleton")}n.push({stem:u,options:c})}return n}function P(e){return e.replace(/^(.*?)-/,"")}var x=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,N=/^(@+)?(\+|#+)?[rs]?$/g,C=/(\*)(0+)|(#+)(0+)|(0+)/g,T=/^(0+)$/;function L(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(N,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function R(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function A(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!T.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function M(e){var t={},n=R(e);return n||t}function D(e){for(var t={},n=0,o=e;n<o.length;n++){var i=o[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=P(i.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Object(r.a)(Object(r.a)(Object(r.a)({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),M(t))}),{}));continue;case"engineering":t=Object(r.a)(Object(r.a)(Object(r.a)({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),M(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(C,(function(e,n,r,o,i,a){if(n)t.minimumIntegerDigits=r.length;else{if(o&&i)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(T.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(x.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(x,(function(e,n,r,o,i,a){return"*"===r?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:i&&a?(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var a=i.options[0];"w"===a?t=Object(r.a)(Object(r.a)({},t),{trailingZeroDisplay:"stripIfInteger"}):a&&(t=Object(r.a)(Object(r.a)({},t),L(a)))}else if(N.test(i.stem))t=Object(r.a)(Object(r.a)({},t),L(i.stem));else{var u=R(i.stem);u&&(t=Object(r.a)(Object(r.a)({},t),u));var c=A(i.stem);c&&(t=Object(r.a)(Object(r.a)({},t),c))}}return t}var I={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]},B;function V(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charAt(r);if("j"===o){for(var i=0;r+1<e.length&&e.charAt(r+1)===o;)i++,r++;var a=1+(1&i),u=i<2?1:3+(i>>1),c="a",s=F(t);for("H"!=s&&"k"!=s||(u=0);u-- >0;)n+="a";for(;a-- >0;)n=s+n}else n+="J"===o?"H":o}return n}function F(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=e.language,r,o;return"root"!==n&&(r=e.maximize().region),(I[r||""]||I[n||""]||I["".concat(n,"-001")]||I["001"])[0]}var G=new RegExp("^".concat(O.source,"*")),H=new RegExp("".concat(O.source,"*$"));function U(e,t){return{start:e,end:t}}var z=!!String.prototype.startsWith,W=!!String.fromCodePoint,$=!!Object.fromEntries,X=!!String.prototype.codePointAt,Y=!!String.prototype.trimStart,K=!!String.prototype.trimEnd,q,J=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Q=!0;try{var Z;Q="a"===(null===(B=ue("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===B?void 0:B[0])}catch(e){Q=!1}var ee=z?function e(t,n,r){return t.startsWith(n,r)}:function e(t,n,r){return t.slice(r,r+n.length)===n},te=W?String.fromCodePoint:function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",o=t.length,i=0,a;o>i;){if((a=t[i++])>1114111)throw RangeError(a+" is not a valid code point");r+=a<65536?String.fromCharCode(a):String.fromCharCode(55296+((a-=65536)>>10),a%1024+56320)}return r},ne=$?Object.fromEntries:function e(t){for(var n={},r=0,o=t;r<o.length;r++){var i=o[r],a=i[0],u=i[1];n[a]=u}return n},re=X?function e(t,n){return t.codePointAt(n)}:function e(t,n){var r=t.length;if(!(n<0||n>=r)){var o=t.charCodeAt(n),i;return o<55296||o>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?o:i-56320+(o-55296<<10)+65536}},oe=Y?function e(t){return t.trimStart()}:function e(t){return t.replace(G,"")},ie=K?function e(t){return t.trimEnd()}:function e(t){return t.replace(H,"")},ae;function ue(e,t){return new RegExp(e,t)}if(Q){var ce=ue("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ae=function e(t,n){var r,o;return ce.lastIndex=n,null!==(r=ce.exec(t)[1])&&void 0!==r?r:""}}else ae=function e(t,n){for(var r=[];;){var o=re(t,n);if(void 0===o||he(o)||de(o))break;r.push(o),n+=o>=65536?2:1}return te.apply(void 0,r)};var se=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){var u;if((u=this.parseArgument(e,n)).err)return u;r.push(u.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(i.UNMATCHED_CLOSING_TAG,U(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&le(this.peek()||0)){var u;if((u=this.parseTag(e,t)).err)return u;r.push(u.val)}else{var u;if((u=this.parseLiteral(e,t)).err)return u;r.push(u.val)}}else{var c=this.clonePosition();this.bump(),r.push({type:a.pound,location:U(c,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:a.literal,value:"<".concat(r,"/>"),location:U(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var u=o.val,c=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!le(this.char()))return this.error(i.INVALID_TAG,U(c,this.clonePosition()));var s=this.clonePosition(),l;return r!==this.parseTagName()?this.error(i.UNMATCHED_CLOSING_TAG,U(s,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:a.tag,value:r,children:u,location:U(n,this.clonePosition())},err:null}:this.error(i.INVALID_TAG,U(c,this.clonePosition())))}return this.error(i.UNCLOSED_TAG,U(n,this.clonePosition()))}return this.error(i.INVALID_TAG,U(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&pe(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var i=this.tryParseUnquoted(e,t);if(i)r+=i;else{var u=this.tryParseLeftAngleBracket();if(!u)break;r+=u}}}var c=U(n,this.clonePosition());return{val:{type:a.literal,value:r,location:c},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&fe(this.peek()||0)?null:(this.bump(),"<")},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return te.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),te(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(i.EMPTY_ARGUMENT,U(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(i.MALFORMED_ARGUMENT,U(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:a.argument,value:r,location:U(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(i.MALFORMED_ARGUMENT,U(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=ae(this.message,t),r=t+n.length,o,i;return this.bumpTo(r),{value:n,location:U(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,o){var c,s=this.clonePosition(),l=this.parseIdentifierIfPossible().value,f=this.clonePosition();switch(l){case"":return this.error(i.EXPECT_ARGUMENT_TYPE,U(s,f));case"number":case"date":case"time":this.bumpSpace();var p=null,h;if(this.bumpIf(",")){this.bumpSpace();var d=this.clonePosition(),v,y,m;if((v=this.parseSimpleArgStyleIfPossible()).err)return v;if(0===(y=ie(v.val)).length)return this.error(i.EXPECT_ARGUMENT_STYLE,U(this.clonePosition(),this.clonePosition()));p={style:y,styleLocation:U(d,this.clonePosition())}}if((h=this.tryParseArgumentClose(o)).err)return h;var b=U(o,this.clonePosition());if(p&&ee(null==p?void 0:p.style,"::",0)){var g=oe(p.style.slice(2)),v;if("number"===l)return(v=this.parseNumberSkeletonFromString(g,p.styleLocation)).err?v:{val:{type:a.number,value:n,location:b,style:v.val},err:null};if(0===g.length)return this.error(i.EXPECT_DATE_TIME_SKELETON,b);var w=g;this.locale&&(w=V(g,this.locale));var y={type:u.dateTime,pattern:w,location:p.styleLocation,parsedOptions:this.shouldParseSkeletons?E(w):{}},O;return{val:{type:"date"===l?a.date:a.time,value:n,location:b,style:y},err:null}}return{val:{type:"number"===l?a.number:"date"===l?a.date:a.time,value:n,location:b,style:null!==(c=null==p?void 0:p.style)&&void 0!==c?c:null},err:null};case"plural":case"selectordinal":case"select":var j=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(i.EXPECT_SELECT_ARGUMENT_OPTIONS,U(j,Object(r.a)({},j)));this.bumpSpace();var S=this.parseIdentifierIfPossible(),k=0;if("select"!==l&&"offset"===S.value){if(!this.bumpIf(":"))return this.error(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,U(this.clonePosition(),this.clonePosition()));var v;if(this.bumpSpace(),(v=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,i.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return v;this.bumpSpace(),S=this.parseIdentifierIfPossible(),k=v.val}var _=this.tryParsePluralOrSelectOptions(e,l,t,S),h;if(_.err)return _;if((h=this.tryParseArgumentClose(o)).err)return h;var P=U(o,this.clonePosition());return"select"===l?{val:{type:a.select,value:n,options:ne(_.val),location:P},err:null}:{val:{type:a.plural,value:n,options:ne(_.val),offset:k,pluralType:"plural"===l?"cardinal":"ordinal",location:P},err:null};default:return this.error(i.INVALID_ARGUMENT_TYPE,U(s,f))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){var n;switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(i.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,U(r,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=_(e)}catch(e){return this.error(i.INVALID_NUMBER_SKELETON,t)}return{val:{type:u.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?D(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,a=!1,u=[],c=new Set,s=r.value,l=r.location;;){if(0===s.length){var f=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var p=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_SELECTOR,i.INVALID_PLURAL_ARGUMENT_SELECTOR);if(p.err)return p;l=U(f,this.clonePosition()),s=this.message.slice(f.offset,this.offset())}if(c.has(s))return this.error("select"===t?i.DUPLICATE_SELECT_ARGUMENT_SELECTOR:i.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===s&&(a=!0),this.bumpSpace();var h=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:i.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,U(this.clonePosition(),this.clonePosition()));var d=this.parseMessage(e+1,t,n);if(d.err)return d;var v=this.tryParseArgumentClose(h);if(v.err)return v;u.push([s,{value:d.val,location:U(h,this.clonePosition())}]),c.add(s),this.bumpSpace(),s=(o=this.parseIdentifierIfPossible()).value,l=o.location}return 0===u.length?this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR:i.EXPECT_PLURAL_ARGUMENT_SELECTOR,U(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(i.MISSING_OTHER_CLAUSE,U(this.clonePosition(),this.clonePosition())):{val:u,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,i=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;o=!0,i=10*i+(a-48),this.bump()}var u=U(r,this.clonePosition());return o?J(i*=n)?{val:i,err:null}:this.error(t,u):this.error(e,u)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=re(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(ee(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&he(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function le(e){return e>=97&&e<=122||e>=65&&e<=90}function fe(e){return le(e)||47===e}function pe(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function he(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function de(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function ve(e){e.forEach((function(e){if(delete e.location,h(e)||d(e))for(var t in e.options)delete e.options[t].location,ve(e.options[t].value);else l(e)&&m(e.style)||(f(e)||p(e))&&b(e.style)?delete e.style.location:y(e)&&ve(e.children)}))}function ye(e,t){void 0===t&&(t={}),t=Object(r.a)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new se(e,t).parse();if(n.err){var o=SyntaxError(i[n.err.kind]);throw o.location=n.err.location,o.originalMessage=n.err.message,o}return(null==t?void 0:t.captureLocation)||ve(n.val),n.val}function me(e,t){var n=t&&t.cache?t.cache:Pe,r=t&&t.serializer?t.serializer:ke,o;return(t&&t.strategy?t.strategy:je)(e,{cache:n,serializer:r})}function be(e){return null==e||"number"==typeof e||"boolean"==typeof e}function ge(e,t,n,r){var o=be(r)?r:n(r),i=t.get(o);return void 0===i&&(i=e.call(this,r),t.set(o,i)),i}function we(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function Oe(e,t,n,r,o){return n.bind(t,e,r,o)}function je(e,t){var n;return Oe(e,this,1===e.length?ge:we,t.cache.create(),t.serializer)}function Se(e,t){return Oe(e,this,we,t.cache.create(),t.serializer)}function Ee(e,t){return Oe(e,this,ge,t.cache.create(),t.serializer)}var ke=function(){return JSON.stringify(arguments)};function _e(){this.cache=Object.create(null)}_e.prototype.get=function(e){return this.cache[e]},_e.prototype.set=function(e,t){this.cache[e]=t};var Pe={create:function e(){return new _e}},xe={variadic:Se,monadic:Ee},Ne;!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Ne||(Ne={}));var Ce=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return Object(r.c)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),Te=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),Ne.INVALID_VALUE,o)||this}return Object(r.c)(t,e),t}(Ce),Le=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),Ne.INVALID_VALUE,r)||this}return Object(r.c)(t,e),t}(Ce),Re=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),Ne.MISSING_VALUE,n)||this}return Object(r.c)(t,e),t}(Ce),Ae;function Me(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===Ae.literal&&t.type===Ae.literal?n.value+=t.value:e.push(t),e}),[])}function De(e){return"function"==typeof e}function Ie(e,t,n,r,o,i,a){if(1===e.length&&c(e[0]))return[{type:Ae.literal,value:e[0].value}];for(var u=[],g=0,w=e;g<w.length;g++){var O=w[g];if(c(O))u.push({type:Ae.literal,value:O.value});else if(v(O))"number"==typeof i&&u.push({type:Ae.literal,value:n.getNumberFormat(t).format(i)});else{var j=O.value;if(!o||!(j in o))throw new Re(j,a);var S=o[j];if(s(O))S&&"string"!=typeof S&&"number"!=typeof S||(S="string"==typeof S||"number"==typeof S?String(S):""),u.push({type:"string"==typeof S?Ae.literal:Ae.object,value:S});else if(f(O)){var E="string"==typeof O.style?r.date[O.style]:b(O.style)?O.style.parsedOptions:void 0;u.push({type:Ae.literal,value:n.getDateTimeFormat(t,E).format(S)})}else if(p(O)){var E="string"==typeof O.style?r.time[O.style]:b(O.style)?O.style.parsedOptions:r.time.medium;u.push({type:Ae.literal,value:n.getDateTimeFormat(t,E).format(S)})}else if(l(O)){var E;(E="string"==typeof O.style?r.number[O.style]:m(O.style)?O.style.parsedOptions:void 0)&&E.scale&&(S*=E.scale||1),u.push({type:Ae.literal,value:n.getNumberFormat(t,E).format(S)})}else{if(y(O)){var k=O.children,_=O.value,P=o[_];if(!De(P))throw new Le(_,"function",a);var x,N=P(Ie(k,t,n,r,o,i).map((function(e){return e.value})));Array.isArray(N)||(N=[N]),u.push.apply(u,N.map((function(e){return{type:"string"==typeof e?Ae.literal:Ae.object,value:e}})))}if(h(O)){var C;if(!(C=O.options[S]||O.options.other))throw new Te(O.value,S,Object.keys(O.options),a);u.push.apply(u,Ie(C.value,t,n,r,o))}else if(d(O)){var C;if(!(C=O.options["=".concat(S)])){if(!Intl.PluralRules)throw new Ce('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Ne.MISSING_INTL_API,a);var T=n.getPluralRules(t,{type:O.pluralType}).select(S-(O.offset||0));C=O.options[T]||O.options.other}if(!C)throw new Te(O.value,S,Object.keys(O.options),a);u.push.apply(u,Ie(C.value,t,n,r,o,S-(O.offset||0)))}else;}}}return Me(u)}function Be(e,t){return t?Object(r.a)(Object(r.a)(Object(r.a)({},e||{}),t||{}),Object.keys(e).reduce((function(n,o){return n[o]=Object(r.a)(Object(r.a)({},e[o]),t[o]||{}),n}),{})):e}function Ve(e,t){return t?Object.keys(e).reduce((function(n,r){return n[r]=Be(e[r],t[r]),n}),Object(r.a)({},e)):e}function Fe(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function Ge(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:me((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Fe(e.number),strategy:xe.variadic}),getDateTimeFormat:me((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Fe(e.dateTime),strategy:xe.variadic}),getPluralRules:me((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Fe(e.pluralRules),strategy:xe.variadic})}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Ae||(Ae={}));var He=function(){function e(t,n,r,o){var i=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=i.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===Ae.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Ie(i.ast,i.locales,i.formatters,i.formats,e,void 0,i.message)},this.resolvedOptions=function(){return{locale:i.resolvedLocale.toString()}},this.getAst=function(){return i.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==o?void 0:o.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Ve(e.formats,r),this.formatters=o&&o.formatters||Ge(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])},e.__parse=ye,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),Ue=n(14),ze=n(21),We=n(2);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qe(r.key),r)}}function Ke(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qe(e){var t=Je(e,"string");return"symbol"==$e(t)?t:String(t)}function Je(e,t){if("object"!=$e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Qe=new We.e({level:"warn",bizName:"globalLocale"}),Ze={en:"en-US",zh:"zh-CN",zt:"zh-TW",es:"es-ES",pt:"pt-PT",fr:"fr-FR",de:"de-DE",it:"it-IT",ru:"ru-RU",ja:"ja-JP",ko:"ko-KR",ar:"ar-SA",tr:"tr-TR",th:"th-TH",vi:"vi-VN",nl:"nl-NL",he:"iw-IL",id:"in-ID",pl:"pl-PL",hi:"hi-IN",uk:"uk-UA",ms:"ms-MY",tl:"tl-PH"},et="ali-lowcode-config",tt=function(){function e(){Xe(this,e),this.emitter=Object(Ue.b)("GlobalLocale"),this._locale=void 0,this.emitter.setMaxListeners(0)}return Ke(e,[{key:"locale",get:function e(){if(null!=this._locale)return this._locale;var t=null;if(rt(window)){var n,r=window.localStorage,o;try{o=JSON.parse(r.getItem(et)||"")}catch(e){}null!==(n=o)&&void 0!==n&&n.locale&&(t=(o.locale||"").replace("_","-"),Qe.debug("getting locale from localStorage: ".concat(t)))}if(!t){var i=nt("locale");i&&(t=Ze[i]||i.replace("_","-"),Qe.debug("getting locale from config: ".concat(t)))}if(!t){var a,u=window.navigator;if(u.language){var c=u.language;return Ze[c]||c.replace("_","-")}if(u.browserLanguage){var s=u.browserLanguage.split("-"),l=s[0];s[1]&&(l+="-".concat(s[1].toUpperCase())),t=l,Qe.debug("getting locale from system: ".concat(t))}}return t||(Qe.warn("something when wrong when trying to get locale, use zh-CN as default, please check it out!"),t="zh-CN"),this._locale=t,t}},{key:"setLocale",value:function e(t){if(Qe.info("setting locale to ".concat(t)),t!==this.locale){if(this._locale=t,rt(window)){var n=window.localStorage,r;try{r=JSON.parse(n.getItem(et)||"")}catch(e){}r&&"object"===$e(r)?r.locale=t:r={locale:t},n.setItem(et,JSON.stringify(r))}this.emitter.emit("localechange",t)}}},{key:"getLocale",value:function e(){return this.locale}},{key:"onChangeLocale",value:function e(t){var n=this;return this.emitter.on("localechange",t),function(){n.emitter.removeListener("localechange",t)}}}]),e}();function nt(e){var t=window;return t[e]||(t.g_config||{})[e]||(t.pageConfig||{})[e]}function rt(e){return e.localStorage}Object(r.b)([ze.h.ref,Object(r.d)("design:type",String)],tt.prototype,"_locale",void 0),Object(r.b)([ze.c,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],tt.prototype,"locale",null);var ot=new tt,it=n(17);function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,st(r.key),r)}}function ct(e,t,n){return t&&ut(e.prototype,t),n&&ut(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function st(e){var t=lt(e,"string");return"symbol"==bt(t)?t:String(t)}function lt(e,t){if("object"!=bt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}function pt(e,t){return(pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ht(e){var t=yt();return function n(){var r=mt(e),o;if(t){var i=mt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return dt(this,o)}}function dt(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vt(e)}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function wt(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jt(e){var t=[e,e.replace("-","_")];return"zh-TW"===e||"en-US"===e?(t.push("zh-CN"),t.push("zh_CN")):(t.push("en-US"),t.push("en_US"),"zh-CN"!==e&&(t.push("zh-CN"),t.push("zh_CN"))),t}function St(e,t,n){return e&&t?new He(e,n).format(t):e;var r}function Et(e,t){if(!Object(We.G)(e))return e;if(e.intl)return e.intl;var n=ot.getLocale(),r,o,i=gt(jt(n)),a;try{for(i.s();!(a=i.n()).done;){var u;if(null!=(o=e[a.value]))break}}catch(e){i.e(e)}finally{i.f()}return null==o?"##intl@".concat(n,"##"):St(o,t,n)}function kt(e){if(!e||"object"!==bt(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=Et(e[n])})),t}function _t(e,t){return Object(We.G)(e)?e.intlNode?e.intlNode:Object(o.createElement)(Pt,{data:e,params:t}):e}var Pt=function(e){ft(n,e);var t=ht(n);function n(){return at(this,n),t.apply(this,arguments)}return ct(n,[{key:"render",value:function e(){var t=this.props,n,r;return Et(t.data,t.params)}}]),n}(o.Component);function xt(e){var t=function(){var t=ot.getLocale();if("string"==typeof e){if(window[e])return window[e][t]||{};var n="".concat(e,"_").concat(t.toLocaleLowerCase());return window[n]||{}}return e&&"object"===bt(e)&&e[t]||{}}();function n(e,n){var r=t[e];return null==r?"##intl@".concat(e,"##"):St(r,n,ot.getLocale())}var i=function(e){ft(r,e);var t=ht(r);function r(){return at(this,r),t.apply(this,arguments)}return ct(r,[{key:"render",value:function e(){var t=this.props,r,o;return n(t.id,t.params)}}]),r}(o.Component);return i=Object(r.b)([it.i],i),{intlNode:function e(t,n){return Object(o.createElement)(i,{id:t,params:n})},intl:n,getLocale:function e(){return ot.getLocale()},setLocale:function e(t){ot.setLocale(t)}}}Pt=Object(r.b)([it.i],Pt)},function(e,t){var n=function(e){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},r="undefined"!=typeof requestIdleCallback;e.exports=r?requestIdleCallback:n,e.exports.cancelIdleCallback=r?cancelIdleCallback:clearTimeout},function(e,t,n){"use strict";var r;n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return a.h})),n.d(t,"h",(function(){return a.f})),n.d(t,"c",(function(){return a.b})),n.d(t,"f",(function(){return a.d})),n.d(t,"k",(function(){return a.i})),n.d(t,"d",(function(){return a.c})),n.d(t,"b",(function(){return a.a})),n.d(t,"l",(function(){return a.j})),n.d(t,"n",(function(){return a.k})),n.d(t,"g",(function(){return a.e})),n.d(t,"i",(function(){return a.g})),n.d(t,"a",(function(){return R})),n.d(t,"m",(function(){return F})),n.d(t,"o",(function(){return G}));var o=null===(r=document.currentScript)||void 0===r?void 0:r.src.replace(/^(.*\/)[^/]+$/,"$1");function i(){return o||""}var a=n(21),u=n(53),c;function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=h(e,"string");return"symbol"==d(t)?t:String(t)}function h(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return w(e)||g(e,t)||m(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function w(e){if(Array.isArray(e))return e}var O=n.n(u)()("request");function j(e){if(!e)return"";var t=[];return Object.entries(e||{}).forEach((function(e){var n=v(e,2),r=n[0],o=n[1];null!=o&&""!==o&&("object"===d(o)?t.push("".concat(r,"=").concat(encodeURIComponent(JSON.stringify(o)))):t.push("".concat(r,"=").concat(encodeURIComponent(o))))})),t.join("&")}function S(e,t){var n=j(t);return n?e.indexOf("?")>0?"".concat(e,"&").concat(n):"".concat(e,"?").concat(n):e}function E(e,t,n,r){var o=l({Accept:"application/json"},n);return _(S(e,t),"GET",void 0,o,r)}function k(e,t,n,r){var o=l({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},n);return _(e,"POST",o["Content-Type"].indexOf("application/json")>-1||Array.isArray(t)?JSON.stringify(t):j(t),o,r)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return new Promise((function(i,a){o&&o.timeout&&setTimeout((function(){a(new Error("timeout"))}),o.timeout),fetch(e,l({method:t,credentials:"include",headers:r,body:n},o)).then((function(e){switch(e.status){case 200:case 201:case 202:return e.json();case 204:return"DELETE"===t?{success:!0}:{__success:!1,code:e.status};case 400:case 401:case 403:case 404:case 406:case 410:case 422:case 500:return e.json().then((function(t){return{__success:!1,code:e.status,data:t}})).catch((function(){return{__success:!1,code:e.status}}));default:return null}})).then((function(e){e&&!1!==e.__success?i(e):(delete e.__success,a(e))})).catch((function(e){O(e),a(e)}))}))}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function C(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e){var t=L(e,"string");return"symbol"==P(t)?t:String(t)}function L(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var R=function(){function e(){x(this,e),this.actives=[],this.modals=[]}return C(e,[{key:"mount",value:function e(t){var n=this,r=function e(t){if(!n.checkModalDown(t)){var r=n.first;r&&!r.internalCheckInRange(t)&&(n.internalSuspenseItem(r),r.internalTriggerBlur())}};return t.document.addEventListener("click",r,!0),function(){t.document.removeEventListener("click",r,!0)}}},{key:"first",get:function e(){return this.actives[0]}},{key:"addModal",value:function e(t,n){this.modals.push({checkDown:t,checkOpen:n})}},{key:"checkModalOpen",value:function e(){return this.modals.some((function(e){return e.checkOpen()}))}},{key:"checkModalDown",value:function e(t){return this.modals.some((function(e){return e.checkDown(t)}))}},{key:"execSave",value:function e(){this.checkModalOpen()||this.first&&this.first.internalTriggerSave()}},{key:"execEsc",value:function e(){var t=this.first;t&&(this.internalSuspenseItem(t),t.internalTriggerEsc())}},{key:"create",value:function e(t){return new A(this,t)}},{key:"internalActiveItem",value:function e(t){var n=this.actives[0];if(n!==t){var r=this.actives.indexOf(t);r>-1&&this.actives.splice(r,1),this.actives.unshift(t),!t.isModal&&n&&n.internalTriggerBlur(),t.internalTriggerActive()}}},{key:"internalSuspenseItem",value:function e(t){var n=this.actives.indexOf(t),r;n>-1&&(this.actives.splice(n,1),null===(r=this.first)||void 0===r||r.internalTriggerActive())}}]),e}(),A=function(){function e(t,n){x(this,e),this.tracker=void 0,this.config=void 0,this.isModal=void 0,this.tracker=t,this.config=n,this.isModal=null!=n.modal&&n.modal}return C(e,[{key:"active",value:function e(){this.tracker.internalActiveItem(this)}},{key:"suspense",value:function e(){this.tracker.internalSuspenseItem(this)}},{key:"purge",value:function e(){this.tracker.internalSuspenseItem(this)}},{key:"internalCheckInRange",value:function e(t){var n=this.config.range;return!!n&&("function"==typeof n?n(t):n.contains(t.target))}},{key:"internalTriggerBlur",value:function e(){this.config.onBlur&&this.config.onBlur()}},{key:"internalTriggerSave",value:function e(){return!!this.config.onSave&&(this.config.onSave(),!0)}},{key:"internalTriggerEsc",value:function e(){this.config.onEsc&&this.config.onEsc()}},{key:"internalTriggerActive",value:function e(){this.config.onActive&&this.config.onActive()}}]),e}(),M=!0;function D(e){M=e}function I(){D(!0)}function B(){D(!1)}function V(){return M}function F(e){B(),e(),I()}function G(e){return function(){V()&&e.apply(void 0,arguments)}}var H=n(27)},function(e,t,n){(function(t){var n=a(),r=u(),o=c(),i="undefined"!=typeof window?window:t;function a(){return Object.assign?Object.assign:function e(t,n,r,o){for(var i=1;i<arguments.length;i++)f(Object(arguments[i]),(function(e,n){t[n]=e}));return t}}function u(){if(Object.create)return function e(t,r,o,i){var a=l(arguments,1);return n.apply(this,[Object.create(t)].concat(a))};{function e(){}return function t(r,o,i,a){var u=l(arguments,1);return e.prototype=r,n.apply(this,[new e].concat(u))}}}function c(){return String.prototype.trim?function e(t){return String.prototype.trim.call(t)}:function e(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function s(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function l(e,t){return Array.prototype.slice.call(e,t||0)}function f(e,t){h(e,(function(e,n){return t(e,n),!1}))}function p(e,t){var n=d(e)?[]:{};return h(e,(function(e,r){return n[r]=t(e,r),!1})),n}function h(e,t){if(d(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function d(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function v(e){return e&&"[object Function]"==={}.toString.call(e)}function y(e){return e&&"[object Object]"==={}.toString.call(e)}e.exports={assign:n,create:r,trim:o,bind:s,slice:l,each:f,map:p,pluck:h,isList:d,isFunction:v,isObject:y,Global:i}}).call(this,n(32))},function(e,t,n){const r=n(38),o=(e,t,n)=>new r(e,n).compare(new r(t,n));e.exports=o},function(e,t,n){"use strict";var r=n(39);n.d(t,"Setters",(function(){return r.a}));var o=n(40);n.o(o,"Hotkey")&&n.d(t,"Hotkey",(function(){return o.Hotkey})),n.o(o,"Tip")&&n.d(t,"Tip",(function(){return o.Tip})),n.o(o,"TipContainer")&&n.d(t,"TipContainer",(function(){return o.TipContainer})),n.o(o,"Title")&&n.d(t,"Title",(function(){return o.Title})),n.o(o,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return o.createModuleEventBus})),n.o(o,"engineConfig")&&n.d(t,"engineConfig",(function(){return o.engineConfig})),n.o(o,"globalContext")&&n.d(t,"globalContext",(function(){return o.globalContext}));var i=n(25);n.d(t,"Tip",(function(){return i.a}))},function(e,t,n){"use strict";n.d(t,"h",(function(){return r.observable})),n.d(t,"f",(function(){return r.observable})),n.d(t,"b",(function(){return r.autorun})),n.d(t,"d",(function(){return r.makeObservable})),n.d(t,"i",(function(){return r.reaction})),n.d(t,"c",(function(){return r.computed})),n.d(t,"a",(function(){return r.action})),n.d(t,"j",(function(){return r.runInAction})),n.d(t,"k",(function(){return r.untracked})),n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return ve}));var r=n(6),o=n(3),i=n.n(o);if(!o.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r.makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var a=n(10);function u(e){e()}function c(e){e||(e=u),Object(r.configure)({reactionScheduler:e})}var s=function(){return!0},l=[];function f(e){l.includes(e)||(l.push(e),console.warn(e))}function p(e){return Object(r.getDependencyTree)(e)}var h=1e4,d=1e4,v=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(r,o){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(o))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),y,m=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:v)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),b=!1;function g(e){b=e}function w(){return b}var O=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function j(e){return"observer".concat(e)}var S=function(){function e(){}return e}();function E(){return new S}function k(e,t){if(void 0===t&&(t="observed"),w())return e();var n,o=O(i.a.useState(E),1)[0],a,u=O(i.a.useState(),2)[1],c=function(){return u([])},s=i.a.useRef(null);s.current||(s.current={reaction:null,mounted:!1,changedBeforeMount:!1});var l=s.current,f,h;if(l.reaction||(l.reaction=new r.Reaction(j(t),(function(){l.mounted?c():l.changedBeforeMount=!0})),m.register(o,l,l)),i.a.useDebugValue(l.reaction,p),i.a.useEffect((function(){return m.unregister(l),l.mounted=!0,l.reaction?l.changedBeforeMount&&(l.changedBeforeMount=!1,c()):(l.reaction=new r.Reaction(j(t),(function(){c()})),c()),function(){l.reaction.dispose(),l.reaction=null,l.mounted=!1,l.changedBeforeMount=!1}}),[]),l.reaction.track((function(){try{f=e()}catch(e){h=e}})),h)throw h;return f}var _=!0,P="function"==typeof Symbol&&Symbol.for,x=P?Symbol.for("react.forward_ref"):"function"==typeof o.forwardRef&&Object(o.forwardRef)((function(e){return null})).$$typeof,N=P?Symbol.for("react.memo"):"function"==typeof o.memo&&Object(o.memo)((function(e){return null})).$$typeof;function C(e,t){var n;if(N&&e.$$typeof===N)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(w())return e;var r=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,i=e,a=e.displayName||e.name;if(x&&e.$$typeof===x&&(r=!0,"function"!=typeof(i=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(e,t){return k((function(){return i(e,t)}),a)};return""!==a&&(u.displayName=a),e.contextTypes&&(u.contextTypes=e.contextTypes),r&&(u=Object(o.forwardRef)(u)),L(e,u=Object(o.memo)(u)),u}var T={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function L(e,t){Object.keys(e).forEach((function(n){T[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}function R(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:k(r)}function A(e,t,n,r,o){var i="children"===t?"render":"children",a="function"==typeof e[t],u="function"==typeof e[i];return a&&u?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||u?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}function M(e,t){return Object(o.useState)((function(){return Object(r.observable)(e(),t,{autoBind:!0})}))[0]}R.displayName="Observer";var D=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},I;function B(e){var t,n=D(Object(o.useState)((function(){return Object(r.observable)(e,{},{deep:!1})})),1)[0];return Object(r.runInAction)((function(){Object.assign(n,e)})),n}function V(e,t){var n=t&&B(t);return Object(o.useState)((function(){return Object(r.observable)(e(n),void 0,{autoBind:!0})}))[0]}c(a.unstable_batchedUpdates);var F=null!==(I=m.finalizeAllImmediately)&&void 0!==I?I:function(){};function G(e,t){return void 0===t&&(t="observed"),k(e,t)}function H(e){g(e)}var U=0;function z(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+U+")";return U++,t}var W={};function $(e){return W[e]||(W[e]=z(e)),W[e]}function X(e,t){if(Y(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(t,n[o])||!Y(e[n[o]],t[n[o]]))return!1;return!0}function Y(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var K={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,displayName:1,propTypes:1};function q(e,t){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Object.getOwnPropertyNames(e).forEach((function(r){K[r]||-1!==n.indexOf(r)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}function J(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Q=$("patchMixins"),Z=$("patchedDefinition");function ee(e,t){var n=e[Q]=e[Q]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function te(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function ne(e,t){var n;return function n(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];te.call.apply(te,[this,e,t].concat(o))}}function re(e,t,n){var r=ee(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[Z]){var i=e[t],a=oe(e,t,o?o.enumerable:void 0,r,i);Object.defineProperty(e,t,a)}}function oe(e,t,n,r,o){var i,a=ne(o,r);return(i={})[Z]=!0,i.get=function e(){return a},i.set=function o(i){if(this===e)a=ne(i,r);else{var u=oe(this,t,n,r,i);Object.defineProperty(this,t,u)}},i.configurable=!0,i.enumerable=n,i}var ie=r.$mobx||"$mobx",ae=$("isMobXReactObserver"),ue=$("isUnmounted"),ce=$("skipRender"),se=$("isForcingUpdate");function le(e){var t=e.prototype;if(e[ae]){var n=fe(t);console.warn("The provided component class ("+n+")\n                has already been declared as an observer component.")}else e[ae]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==o.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==he)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=he;de(t,"props"),de(t,"state"),e.contextType&&de(t,"context");var r=t.render;if("function"!=typeof r){var i=fe(t);throw new Error("[mobx-react] class component ("+i+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return t.render=function(){return this.render=w()?r:pe.call(this,r),this.render()},re(t,"componentDidMount",(function(){this[ue]=!1,this.render[ie]||o.Component.prototype.forceUpdate.call(this)})),re(t,"componentWillUnmount",(function(){if(!w()){var e=this.render[ie];if(e)e.dispose(),this.render[ie]=null;else{var t=fe(this);console.warn("The reactive render of an observer class component ("+t+")\n                was overridden after MobX attached. This may result in a memory leak if the\n                overridden reactive render was not properly disposed.")}this[ue]=!0}})),e}function fe(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function pe(e){var t=this;J(this,ce,!1),J(this,se,!1);var n=fe(this),i=e.bind(this),a=!1,u=function e(){var i=new r.Reaction(n+".render()",(function(){if(!a&&(a=!0,!0!==t[ue])){var e=!0;try{J(t,se,!0),t[ce]||o.Component.prototype.forceUpdate.call(t),e=!1}finally{J(t,se,!1),e&&(i.dispose(),t.render[ie]=null)}}}));return i.reactComponent=t,i};function c(){var e;a=!1;var t=null!=(e=c[ie])?e:c[ie]=u(),n=void 0,o=void 0;if(t.track((function(){try{o=Object(r._allowStateChanges)(!1,i)}catch(e){n=e}})),n)throw n;return o}return c}function he(e,t){return w()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!X(this.props,e)}function de(e,t){var n=$("reactProp_"+t+"_valueHolder"),o=$("reactProp_"+t+"_atomHolder");function i(){return this[o]||J(this,o,Object(r.createAtom)("reactive "+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function e(){var t=!1;return r._allowStateReadsStart&&r._allowStateReadsEnd&&(t=Object(r._allowStateReadsStart)(!0)),i.call(this).reportObserved(),r._allowStateReadsStart&&r._allowStateReadsEnd&&Object(r._allowStateReadsEnd)(t),this[n]},set:function e(t){this[se]||X(this[n],t)?J(this,n,t):(J(this,n,t),J(this,ce,!0),i.call(this).reportChanged(),J(this,ce,!1))}})}function ve(e){return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(o.Component,e)||Object.prototype.isPrototypeOf.call(o.PureComponent,e)?le(e):C(e)}function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}var be=["children"],ge=i.a.createContext({});function we(e){var t=e.children,n=me(e,be),r=i.a.useContext(ge),o,a=i.a.useRef(ye({},r,n)).current,u;return i.a.createElement(ge.Provider,{value:a},t)}function Oe(e,t,n,r){var o=i.a.forwardRef((function(n,r){var o=ye({},n),a=i.a.useContext(ge);return Object.assign(o,e(a||{},o)||{}),r&&(o.ref=r),i.a.createElement(t,o)}));return r&&(o=ve(o)),o.isMobxInjector=!0,q(t,o),o.wrappedComponent=t,o.displayName=je(t,n),o}function je(e,t){var n,r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return n=t?"inject-with-"+t+"("+r+")":"inject("+r+")"}function Se(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function Ee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"==typeof arguments[0]){var r=arguments[0];return function(e){return Oe(r,e,r.name,!0)}}return function(e){return Oe(Se(t),e,t.join("-"),!1)}}we.displayName="MobXProvider";var ke=$("disposeOnUnmountProto"),_e=$("disposeOnUnmountInst");function Pe(){var e=this;[].concat(this[ke]||[],this[_e]||[]).forEach((function(t){var n="string"==typeof t?e[t]:t;null!=n&&(Array.isArray(n)?n.map((function(e){return e()})):n())}))}function xe(e,t){if(Array.isArray(t))return t.map((function(t){return xe(e,t)}));var n=Object.getPrototypeOf(e).constructor,r=Object.getPrototypeOf(e.constructor),o=Object.getPrototypeOf(Object.getPrototypeOf(e));if(n!==i.a.Component&&n!==i.a.PureComponent&&r!==i.a.Component&&r!==i.a.PureComponent&&o!==i.a.Component&&o!==i.a.PureComponent)throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if("string"!=typeof t&&"function"!=typeof t&&!Array.isArray(t))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var a="string"==typeof t,u=!!e[ke]||!!e[_e],c;return(a?e[ke]||(e[ke]=[]):e[_e]||(e[_e]=[])).push(t),u||re(e,"componentWillUnmount",Pe),"string"!=typeof t?t:void 0}function Ne(e){function t(t,n,o,i,a,u){for(var c=arguments.length,s=new Array(c>6?c-6:0),l=6;l<c;l++)s[l-6]=arguments[l];return Object(r.untracked)((function(){if(i=i||"<<anonymous>>",u=u||o,null==n[o]){if(t){var r=null===n[o]?"null":"undefined";return new Error("The "+a+" `"+u+"` is marked as required in `"+i+"`, but its value is `"+r+"`.")}return null}return e.apply(void 0,[n,o,i,a,u].concat(s))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function Ce(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function Te(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":Ce(t,e)?"symbol":t}function Le(e){var t=Te(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function Re(e,t){return Ne((function(n,o,i,a,u){return Object(r.untracked)((function(){if(e&&Te(n[o])===t.toLowerCase())return null;var a;switch(t){case"Array":a=r.isObservableArray;break;case"Object":a=r.isObservableObject;break;case"Map":a=r.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+t)}var c=n[o];if(!a(c)){var s=Le(c),l=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+u+"` of type `"+s+"` supplied to `"+i+"`, expected `mobx.Observable"+t+"`"+l+".")}return null}))}))}function Ae(e,t){return Ne((function(n,o,i,a,u){for(var c=arguments.length,s=new Array(c>5?c-5:0),l=5;l<c;l++)s[l-5]=arguments[l];return Object(r.untracked)((function(){if("function"!=typeof t)return new Error("Property `"+u+"` of component `"+i+"` has invalid PropType notation.");var r=Re(e,"Array")(n,o,i,a,u);if(r instanceof Error)return r;for(var c=n[o],l=0;l<c.length;l++)if((r=t.apply(void 0,[c,l,i,a,u+"["+l+"]"].concat(s)))instanceof Error)return r;return null}))}))}var Me,De,Ie,Be,Ve,Fe,Ge,He=Re(!1,"Array"),Ue=Ae.bind(null,!1),ze=Re(!1,"Map"),We=Re(!1,"Object"),$e=Re(!0,"Array"),Xe=Ae.bind(null,!0),Ye=Re(!0,"Object");if(!o.Component)throw new Error("mobx-react requires React to be available");if(!r.observable)throw new Error("mobx-react requires mobx to be available");Object(r.configure)({enforceActions:"never"})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0,o(n(74),t),o(n(23),t),o(n(77),t),o(n(41),t),o(n(42),t),o(n(43),t),o(n(78),t);var i=n(43);t.logger=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.symbolString=t.isExtendOf=t.getGlobalType=t.isClass=void 0;var r=n(34),o=n(41),i=0,a={};function u(e){return(null==e?void 0:e.prototype)&&e.prototype.constructor===e}function c(e,t){if(void 0===t&&(t=""),!e)throw new Error("no key.");if(["string","symbol","object"].includes(typeof e))return e;if(e.hasOwnProperty("__type"))return e.__type;var n,o=e[r.nameSymbol]||e.name;if("function"!=typeof e||!o)throw new Error("data MUST be a class or string.");return a[n=t+o]&&(n=n+"_"+i++),a[n]=!0,Object.defineProperty(e,"__type",{configurable:!1,enumerable:!1,writable:!1,value:n}),n}function s(e,t){if(!u(e)||!u(t))throw new Error("classType and superClassType MUST be a class.");var n=c(t);return!!(0,o.getSuperClassInfo)(e).find((function(e){return e.type===n}))}function l(e){return"symbol"==typeof e?e.toString():e}t.isClass=u,t.getGlobalType=c,t.isExtendOf=s,t.symbolString=l},function(e,t,n){"use strict";var r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.classLoader=t.ClassLoader=t.DuplicateRegistrationError=void 0;var a=n(13),u=n(22),c=function(e){function t(t){return e.call(this,"Type ".concat(t.name," is already registration."))||this}return r(t,e),t}(Error);t.DuplicateRegistrationError=c;var s=function(){function e(e,t){void 0===e&&(e=new Map),void 0===t&&(t=new Map),this.classInfoMap=e,this.implementCacheMap=t}return e.prototype.hasClass=function(e){return this.classInfoMap.has(e)},e.prototype.registerClass=function(e,t){var n=this,r;if(this.classInfoMap.has(e))throw new c(e);var o=(0,a.getMetadata)(e);o.injectable=!0;var s=t||o.classInfo;if(s.name||(s.name=e.name),!(null===(r=s.extends)||void 0===r?void 0:r.length)){var l=(0,u.getSuperClassInfo)(e);s.extends=l.map((function(e){return e.class}))}return this.classInfoMap.set(e,s),s.implements||(s.implements=[]),i(i([],s.extends,!0),s.implements,!0).forEach((function(t){var r=n.getImplCacheByType(t);r.every((function(t){return t.type!==e}))&&r.push({type:e,info:s})})),this},e.prototype.unregisterClass=function(e){var t=this,n=this.classInfoMap.get(e);return!!n&&(i(i([],n.extends,!0),n.implements,!0).forEach((function(n){var r=t.getImplCacheByType(n),o=r.findIndex((function(t){return t.type===e}));o>=0&&r.splice(o,1)})),this.classInfoMap.delete(e))},e.prototype.getClassInfo=function(e){return this.classInfoMap.get(e)},e.prototype.filterClasses=function(e){var t=[];return this.classInfoMap.forEach((function(n,r){var o={type:r,info:n};e(o)&&t.push(o)})),t},e.prototype.getImplementClasses=function(e){return this.getImplCacheByType(e)},e.prototype.clearAll=function(){return this.classInfoMap.clear(),this.implementCacheMap.clear(),this},e.prototype.clone=function(){var e,t=new(0,this.constructor);return t.initWith(this),t},e.prototype.initWith=function(e){this.classInfoMap=new Map(e.classInfoMap),this.implementCacheMap=this.cloneImplCacheMap(e.implementCacheMap)},e.prototype.cloneImplCacheMap=function(e){return new Map(Array.from(e.entries()).map((function(e){var t=e[0],n=e[1];return[t,i([],n,!0)]})))},e.prototype.getImplCacheByType=function(e){var t=(0,u.getGlobalType)(e);return this.implementCacheMap.has(t)?this.implementCacheMap.get(t):(this.implementCacheMap.set(t,[]),this.getImplCacheByType(e))},e}();t.ClassLoader=s,t.classLoader=new s},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(3),o=n.n(r),i=n(2),a=n(11);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==u(t)?t:String(t)}function p(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){var t=b();return function n(){var r=g(e),o;if(t){var i=g(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return y(this,o)}}function y(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var w=function(e){h(n,e);var t=v(n);function n(){var e;c(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).id=Object(i.db)("tips$"),e}return l(n,[{key:"componentWillUnmount",value:function e(){Object(a.a)(this.id,null)}},{key:"render",value:function e(){return Object(a.a)(this.id,this.props),React.createElement("meta",{"data-role":"tip","data-tip-id":this.id})}}]),n}(r.Component)},function(e,t,n){(function(t){const n="object"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\bsemver\b/i.test(t.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(33))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(31),o=n.n(r),i=n(30);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==a(t)?t:String(t)}function f(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=Object(i.a)({level:"warn",bizName:"Preference"}),h="ale",d=function(){function e(){u(this,e)}return s(e,[{key:"getStorageKey",value:function e(t,n){var r=n||"__inner__";return"".concat("ale","_").concat(r,".").concat(t)}},{key:"set",value:function e(t,n,r){if(t&&"string"==typeof t&&0!==t.length){var i=this.getStorageKey(t,r);p.debug("storageKey:",i,"set with value:",n),o.a.set(i,n)}else p.error("Invalid key when setting preference",t)}},{key:"get",value:function e(t,n){if(t&&"string"==typeof t&&0!==t.length){var r=this.getStorageKey(t,n),i=o.a.get(r);return p.debug("storageKey:",r,"get with result:",i),i}p.error("Invalid key when getting from preference",t)}},{key:"contains",value:function e(t,n){if(!t||"string"!=typeof t||0===t.length)return p.error("Invalid key when getting from preference",t),!1;var r=this.getStorageKey(t,n),i=o.a.get(r);return!(null==i)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(8),o=n.n(r),i=n(2),a=n(30),u=n(27);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=h(e,"string");return"symbol"==c(t)?t:String(t)}function h(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=Object(a.a)({level:"log",bizName:"config"}),v=!0,y={enableCondition:{type:"boolean",description:"\u662f\u5426\u5f00\u542f condition \u7684\u80fd\u529b\uff0c\u9ed8\u8ba4\u5728\u8bbe\u8ba1\u5668\u4e2d\u4e0d\u7ba1 condition \u662f\u5565\u90fd\u6b63\u5e38\u5c55\u793a"},designMode:{type:"string",enum:["design","live"],default:"design",description:"\u8bbe\u8ba1\u6a21\u5f0f\uff0clive \u6a21\u5f0f\u5c06\u4f1a\u5b9e\u65f6\u5c55\u793a\u53d8\u91cf\u503c"},device:{type:"string",enum:["default","mobile","any string value"],default:"default",description:"\u8bbe\u5907\u7c7b\u578b"},deviceClassName:{type:"string",default:void 0,description:"\u6307\u5b9a\u521d\u59cb\u5316\u7684 deviceClassName\uff0c\u6302\u8f7d\u5230\u753b\u5e03\u7684\u9876\u5c42\u8282\u70b9\u4e0a"},locale:{type:"string",default:"zh-CN",description:"\u8bed\u8a00"},renderEnv:{type:"string",enum:["react","rax","any string value"],default:"react",description:"\u6e32\u67d3\u5668\u7c7b\u578b"},deviceMapper:{type:"object",description:"\u8bbe\u5907\u7c7b\u578b\u6620\u5c04\u5668\uff0c\u5904\u7406\u8bbe\u8ba1\u5668\u4e0e\u6e32\u67d3\u5668\u4e2d device \u7684\u6620\u5c04"},enableStrictPluginMode:{type:"boolean",default:!0,description:"\u5f00\u542f\u4e25\u683c\u63d2\u4ef6\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u503c\uff1aSTRICT_PLUGIN_MODE_DEFAULT , \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u63d2\u4ef6\u5c06\u65e0\u6cd5\u901a\u8fc7 engineOptions \u4f20\u9012\u81ea\u5b9a\u4e49\u914d\u7f6e\u9879"},enableReactiveContainer:{type:"boolean",default:!1,description:"\u5f00\u542f\u62d6\u62fd\u7ec4\u4ef6\u65f6\uff0c\u5373\u5c06\u88ab\u653e\u5165\u7684\u5bb9\u5668\u662f\u5426\u6709\u89c6\u89c9\u53cd\u9988"},disableAutoRender:{type:"boolean",default:!1,description:"\u5173\u95ed\u753b\u5e03\u81ea\u52a8\u6e32\u67d3\uff0c\u5728\u8d44\u4ea7\u5305\u591a\u91cd\u5f02\u6b65\u52a0\u8f7d\u7684\u573a\u666f\u6709\u6548"},disableDetecting:{type:"boolean",default:!1,description:"\u5173\u95ed\u62d6\u62fd\u7ec4\u4ef6\u65f6\u7684\u865a\u7ebf\u54cd\u5e94\uff0c\u6027\u80fd\u8003\u8651"},customizeIgnoreSelectors:{type:"function",default:void 0,description:"\u5b9a\u5236\u753b\u5e03\u4e2d\u70b9\u51fb\u88ab\u5ffd\u7565\u7684 selectors, eg. (defaultIgnoreSelectors: string[], e: MouseEvent) => string[]"},disableDefaultSettingPanel:{type:"boolean",default:!1,description:"\u7981\u6b62\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u9762\u677f"},disableDefaultSetters:{type:"boolean",default:!1,description:"\u7981\u6b62\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u5668"},enableCanvasLock:{type:"boolean",default:!1,description:"\u6253\u5f00\u753b\u5e03\u7684\u9501\u5b9a\u64cd\u4f5c"},enableLockedNodeSetting:{type:"boolean",default:!1,description:"\u5bb9\u5668\u9501\u5b9a\u540e\uff0c\u5bb9\u5668\u672c\u8eab\u662f\u5426\u53ef\u4ee5\u8bbe\u7f6e\u5c5e\u6027\uff0c\u4ec5\u5f53\u753b\u5e03\u9501\u5b9a\u7279\u6027\u5f00\u542f\u65f6\u751f\u6548"},stayOnTheSameSettingTab:{type:"boolean",default:!1,description:"\u5f53\u9009\u4e2d\u8282\u70b9\u5207\u6362\u65f6\uff0c\u662f\u5426\u505c\u7559\u5728\u76f8\u540c\u7684\u8bbe\u7f6e tab \u4e0a"},hideSettingsTabsWhenOnlyOneItem:{type:"boolean",description:"\u662f\u5426\u5728\u53ea\u6709\u4e00\u4e2a item \u7684\u65f6\u5019\u9690\u85cf\u8bbe\u7f6e tabs"},loadingComponent:{type:"ComponentType",default:void 0,description:"\u81ea\u5b9a\u4e49 loading \u7ec4\u4ef6"},supportVariableGlobally:{type:"boolean",default:!1,description:"\u8bbe\u7f6e\u6240\u6709\u5c5e\u6027\u652f\u6301\u53d8\u91cf\u914d\u7f6e"},visionSettings:{type:"object",description:"Vision-polyfill settings"},simulatorUrl:{type:"array",description:"\u81ea\u5b9a\u4e49 simulatorUrl \u7684\u5730\u5740"},appHelper:{type:"object",description:"\u5b9a\u4e49 utils \u548c constants \u7b49\u5bf9\u8c61"},requestHandlersMap:{type:"object",description:"\u6570\u636e\u6e90\u5f15\u64ce\u7684\u8bf7\u6c42\u5904\u7406\u5668\u6620\u5c04"},thisRequiredInJSE:{type:"boolean",description:"JSExpression \u662f\u5426\u53ea\u652f\u6301\u4f7f\u7528 this \u6765\u8bbf\u95ee\u4e0a\u4e0b\u6587\u53d8\u91cf"},enableStrictNotFoundMode:{type:"boolean",description:"\u5f53\u5f00\u542f\u7ec4\u4ef6\u672a\u627e\u5230\u4e25\u683c\u6a21\u5f0f\u65f6\uff0c\u6e32\u67d3\u6a21\u5757\u4e0d\u4f1a\u9ed8\u8ba4\u7ed9\u4e00\u4e2a\u5bb9\u5668\u7ec4\u4ef6"},focusNodeSelector:{type:"function",description:"\u914d\u7f6e\u6307\u5b9a\u8282\u70b9\u4e3a\u6839\u7ec4\u4ef6"},enableAutoOpenFirstWindow:{type:"boolean",description:"\u5e94\u7528\u7ea7\u8bbe\u8ba1\u6a21\u5f0f\u4e0b\uff0c\u81ea\u52a8\u6253\u5f00\u7b2c\u4e00\u4e2a\u7a97\u53e3",default:!0},enableWorkspaceMode:{type:"boolean",description:"\u662f\u5426\u5f00\u542f\u5e94\u7528\u7ea7\u8bbe\u8ba1\u6a21\u5f0f",default:!1},workspaceEmptyComponent:{type:"function",description:"\u5e94\u7528\u7ea7\u8bbe\u8ba1\u6a21\u5f0f\u4e0b\uff0c\u7a97\u53e3\u4e3a\u7a7a\u65f6\u5c55\u793a\u7684\u5360\u4f4d\u7ec4\u4ef6"}},m=function e(t,n){return t&&Object(i.P)(t)?void 0===t.enableStrictPluginMode||null===t.enableStrictPluginMode?n:t.enableStrictPluginMode:n},b,g=new(function(){function e(t){s(this,e),this.config={},this.waits=new Map,this.preference=void 0,this.config=t||{},this.preference=new u.a}return f(e,[{key:"has",value:function e(t){return void 0!==this.config[t]}},{key:"get",value:function e(t,n){return Object(r.get)(this.config,t,n)}},{key:"set",value:function e(t,n){this.config[t]=n,this.notifyGot(t)}},{key:"setConfig",value:function e(t){var n=this;t&&Object.keys(t).forEach((function(e){n.set(e,t[e])}))}},{key:"setEngineOptions",value:function e(t){var n=this,r;if(t&&Object(i.P)(t))if(!0===m(t,!0)){var o=function e(t){var n=y[t];return!(null==n)};Object.keys(t).forEach((function(e){o(e)?n.set(e,t[e]):d.warn("failed to config ".concat(e," to engineConfig, only predefined options can be set under strict mode, predefined options: "),y)}))}else this.setConfig(t)}},{key:"onceGot",value:function e(t){var n=this,r=this.config[t];return void 0!==r?Promise.resolve(r):new Promise((function(e){n.setWait(t,e,!0)}))}},{key:"onGot",value:function e(t,n){var r,o=this,i=null===(r=this.config)||void 0===r?void 0:r[t];return void 0!==i&&n(i),this.setWait(t,n),function(){o.delWait(t,n)}}},{key:"notifyGot",value:function e(t){var n=this.waits.get(t);if(n){for(var r=(n=n.slice().reverse()).length;r--;)n[r].resolve(this.get(t)),n[r].once&&n.splice(r,1);n.length>0?this.waits.set(t,n):this.waits.delete(t)}}},{key:"setWait",value:function e(t,n,r){var o=this.waits.get(t);o?o.push({resolve:n,once:r}):this.waits.set(t,[{resolve:n,once:r}])}},{key:"delWait",value:function e(t,n){var r=this.waits.get(t);if(r){for(var o=r.length;o--;)r[o].resolve===n&&r.splice(o,1);r.length<1&&this.waits.delete(t)}}},{key:"getPreference",value:function e(){return this.preference}}]),e}())},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(73),t),o(n(34),t),o(n(79),t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2);function o(e){return new r.e(e)}},function(e,t,n){var r=n(63),o=n(64),i=[n(71)];e.exports=r.createStore(o,i)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=e.exports={},r,o;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var s=[],l=!1,f,p=-1;function h(){l&&f&&(l=!1,f.length?s=f.concat(s):p=-1,s.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=s.length;t;){for(f=s,s=[];++p<t;)f&&f[p].run();p=-1,t=s.length}f=null,l=!1,c(e)}}function v(e,t){this.fun=e,this.array=t}function y(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new v(e,t)),1!==s.length||l||u(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(76),t),o(n(24),t)},function(e,t){const n=Object.freeze({loose:!0}),r=Object.freeze({}),o=e=>e?"object"!=typeof e?n:e:r;e.exports=o},function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=n(37),a=n(26),u=(t=e.exports={}).re=[],c=t.safeRe=[],s=t.src=[],l=t.t={};let f=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],["[a-zA-Z0-9-]",o]],d=e=>{for(const[t,n]of h)e=e.split(t+"*").join(`${t}{0,${n}}`).split(t+"+").join(`${t}{1,${n}}`);return e},v=(e,t,n)=>{const r=d(t),o=f++;a(e,o,t),l[e]=o,s[o]=t,u[o]=new RegExp(t,n?"g":void 0),c[o]=new RegExp(r,n?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*"),v("NUMERICIDENTIFIERLOOSE","\\d+"),v("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),v("MAINVERSION",`(${s[l.NUMERICIDENTIFIER]})\\.(${s[l.NUMERICIDENTIFIER]})\\.(${s[l.NUMERICIDENTIFIER]})`),v("MAINVERSIONLOOSE",`(${s[l.NUMERICIDENTIFIERLOOSE]})\\.(${s[l.NUMERICIDENTIFIERLOOSE]})\\.(${s[l.NUMERICIDENTIFIERLOOSE]})`),v("PRERELEASEIDENTIFIER",`(?:${s[l.NUMERICIDENTIFIER]}|${s[l.NONNUMERICIDENTIFIER]})`),v("PRERELEASEIDENTIFIERLOOSE",`(?:${s[l.NUMERICIDENTIFIERLOOSE]}|${s[l.NONNUMERICIDENTIFIER]})`),v("PRERELEASE",`(?:-(${s[l.PRERELEASEIDENTIFIER]}(?:\\.${s[l.PRERELEASEIDENTIFIER]})*))`),v("PRERELEASELOOSE",`(?:-?(${s[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[l.PRERELEASEIDENTIFIERLOOSE]})*))`),v("BUILDIDENTIFIER","[a-zA-Z0-9-]+"),v("BUILD",`(?:\\+(${s[l.BUILDIDENTIFIER]}(?:\\.${s[l.BUILDIDENTIFIER]})*))`),v("FULLPLAIN",`v?${s[l.MAINVERSION]}${s[l.PRERELEASE]}?${s[l.BUILD]}?`),v("FULL",`^${s[l.FULLPLAIN]}$`),v("LOOSEPLAIN",`[v=\\s]*${s[l.MAINVERSIONLOOSE]}${s[l.PRERELEASELOOSE]}?${s[l.BUILD]}?`),v("LOOSE",`^${s[l.LOOSEPLAIN]}$`),v("GTLT","((?:<|>)?=?)"),v("XRANGEIDENTIFIERLOOSE",s[l.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),v("XRANGEIDENTIFIER",s[l.NUMERICIDENTIFIER]+"|x|X|\\*"),v("XRANGEPLAIN",`[v=\\s]*(${s[l.XRANGEIDENTIFIER]})(?:\\.(${s[l.XRANGEIDENTIFIER]})(?:\\.(${s[l.XRANGEIDENTIFIER]})(?:${s[l.PRERELEASE]})?${s[l.BUILD]}?)?)?`),v("XRANGEPLAINLOOSE",`[v=\\s]*(${s[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[l.XRANGEIDENTIFIERLOOSE]})(?:${s[l.PRERELEASELOOSE]})?${s[l.BUILD]}?)?)?`),v("XRANGE",`^${s[l.GTLT]}\\s*${s[l.XRANGEPLAIN]}$`),v("XRANGELOOSE",`^${s[l.GTLT]}\\s*${s[l.XRANGEPLAINLOOSE]}$`),v("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),v("COERCERTL",s[l.COERCE],!0),v("LONETILDE","(?:~>?)"),v("TILDETRIM",`(\\s*)${s[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",v("TILDE",`^${s[l.LONETILDE]}${s[l.XRANGEPLAIN]}$`),v("TILDELOOSE",`^${s[l.LONETILDE]}${s[l.XRANGEPLAINLOOSE]}$`),v("LONECARET","(?:\\^)"),v("CARETTRIM",`(\\s*)${s[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",v("CARET",`^${s[l.LONECARET]}${s[l.XRANGEPLAIN]}$`),v("CARETLOOSE",`^${s[l.LONECARET]}${s[l.XRANGEPLAINLOOSE]}$`),v("COMPARATORLOOSE",`^${s[l.GTLT]}\\s*(${s[l.LOOSEPLAIN]})$|^$`),v("COMPARATOR",`^${s[l.GTLT]}\\s*(${s[l.FULLPLAIN]})$|^$`),v("COMPARATORTRIM",`(\\s*)${s[l.GTLT]}\\s*(${s[l.LOOSEPLAIN]}|${s[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",v("HYPHENRANGE",`^\\s*(${s[l.XRANGEPLAIN]})\\s+-\\s+(${s[l.XRANGEPLAIN]})\\s*$`),v("HYPHENRANGELOOSE",`^\\s*(${s[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[l.XRANGEPLAINLOOSE]})\\s*$`),v("STAR","(<|>)?=?\\s*\\*"),v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(e,t){const n="2.0.0",r=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,a=250,u=["major","premajor","minor","preminor","patch","prepatch","prerelease"];e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:o,RELEASE_TYPES:u,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},function(e,t,n){const r=n(26),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(37),{safeRe:a,t:u}=n(36),c=n(35),{compareIdentifiers:s}=n(102);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?a[u.LOOSE]:a[u.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),s(this.major,e.major)||s(this.minor,e.minor)||s(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===s(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error("invalid increment argument: "+e)}return this.raw=this.format(),this.build.length&&(this.raw+="+"+this.build.join(".")),this}}e.exports=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(2);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=f(e,"string");return"symbol"==p(t)?t:String(t)}function f(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=new Map;function d(e,t){if("object"!==p(e)){if(t){if(Object(r.y)(t)&&(t={component:t,title:t.displayName||t.name||"CustomSetter"}),!t.initialValue){var n=v(t.component);n&&(t.initialValue=function(e){return n.call(e,e.getValue())})}h.set(e,c({type:e},t))}}else Object.keys(e).forEach((function(t){d(t,e[t])}))}function v(e){return e&&(e.initial||e.Initial||e.type&&(e.type.initial||e.type.Initial))||null}var y=i((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";a(this,e),this.viewName=void 0,this.settersMap=new Map,this.getSetter=function(e){return t.settersMap.get(e)||null},this.registerSetter=function(e,n){if("object"!==p(e)){if(n){if(Object(r.y)(n)&&(n={component:n,title:n.displayName||n.name||"CustomSetter"}),!n.initialValue){var o=v(n.component);o&&(n.initialValue=function(e){return o.call(e,e.getValue())})}t.settersMap.set(e,c({type:e},n))}}else Object.keys(e).forEach((function(n){t.registerSetter(n,e[n])}))},this.getSettersMap=function(){return t.settersMap},this.createSetterContent=function(e,n){if("string"==typeof e){if(!(e=t.getSetter(e)))return null;e.defaultProps&&(n=c(c({},e.defaultProps),n)),e=e.component}return"value"in n&&void 0===n.value&&delete n.value,Object(r.m)(e,n)},this.viewName=n}))},function(e,t,n){"use strict";n.d(t,"globalContext",(function(){return i}));var r=n(29),o=n.n(r);n.o(r,"Hotkey")&&n.d(t,"Hotkey",(function(){return r.Hotkey})),n.o(r,"Tip")&&n.d(t,"Tip",(function(){return r.Tip})),n.o(r,"TipContainer")&&n.d(t,"TipContainer",(function(){return r.TipContainer})),n.o(r,"Title")&&n.d(t,"Title",(function(){return r.Title})),n.o(r,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return r.createModuleEventBus})),n.o(r,"engineConfig")&&n.d(t,"engineConfig",(function(){return r.engineConfig}));var i=r.IocContext.DefaultInstance},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSuperClassInfo=void 0;var r=n(23);function o(e){if(!(0,r.isClass)(e))throw new Error("need a classType.");for(var t=[],n=Object.getPrototypeOf(e);(0,r.isClass)(n);){var o=(0,r.getGlobalType)(n);t.push({type:o,class:n}),n=Object.getPrototypeOf(n)}return t}t.getSuperClassInfo=o},function(e,t,n){"use strict";function r(e,t){var n;void 0===t&&(t={});try{return e()}catch(e){return null===(n=t.onError)||void 0===n||n.call(t,e),t.defaultValue}}Object.defineProperty(t,"__esModule",{value:!0}),t.guard=void 0,t.guard=r},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.OutLevel=void 0,function(e){e[e.Log=0]="Log",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.None=4]="None"}(o=t.OutLevel||(t.OutLevel={}));var i=function(){function e(){this.outLevel=o.Warn}return e.prototype.setOutLevel=function(e){this.outLevel=e},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Error&&console.error.apply(console,r([e],t,!1))},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Info&&console.info.apply(console,r([e],t,!1))},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Log&&console.log.apply(console,r([e],t,!1))},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Warn&&console.warn.apply(console,r([e],t,!1))},e}();t.Logger=i;var a=new i;t.default=a},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return c([e,t])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,o=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){n=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(6===a[0]&&n.label<i[1]){n.label=i[1],i=a;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(a);break}i[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e],o=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.aspect=t.genAspectWrapper=void 0;var o=n(13),i=function e(){},a=function(){return r(this,(function(e){return[2]}))},u=Object.getPrototypeOf(i),c=Object.getPrototypeOf(a);function s(e){return"function"==typeof e&&u!==c&&Object.getPrototypeOf(e)===c}function l(e,t){e&&e(t)}function f(e,t,n,r){return{ioc:e,functionName:n.__name||n.name,inst:t,data:{},args:r}}function p(e,t,n){var o;return(o=s(n)?function(){var o,i,a,u,c=[];for(o=0;o<arguments.length;o++)c[o]=arguments[o];return r(this,(function(r){switch(r.label){case 0:i=f(e,this,n,c),r.label=1;case 1:return r.trys.push([1,4,,5]),l(t.before,i),i.skipRunning?[3,3]:(a=i,[4,n.apply(this,i.args)]);case 2:a.ret=r.sent(),r.label=3;case 3:return l(t.after,i),[2,i.ret];case 4:if(u=r.sent(),i.err=u,l(t.error,i),i.err)throw i.err;return[3,5];case 5:return[2]}}))}:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=f(e,this,n,r);try{return l(t.before,i),i.skipRunning||(i.ret=n.apply(this,i.args)),i.ret instanceof Promise?(i.ret=i.ret.then((function(e){return i.ret=e,l(t.after,i),i.ret})),t.error&&(i.ret=i.ret.catch((function(e){if(i.err=e,l(t.error,i),i.err)throw i.err}))),i.ret):(l(t.after,i),i.ret)}catch(e){if(i.err=e,l(t.error,i),i.err)throw i.err}}).__name=n.__name||n.name,o}function h(e){return void 0===e&&(e={}),function(t,n){(0,o.getMetadata)(t.constructor).aspects.push({key:n,point:e})}}t.genAspectWrapper=p,t.aspect=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n(8),o=n.n(r),i=n(20);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function c(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=d(e,"string");return"symbol"==a(t)?t:String(t)}function d(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}for(var v={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},y={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},m={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},b={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},g,w=1;w<20;++w)v[111+w]="f".concat(w);for(var O=0;O<=9;++O)v[O+96]=String(O);function j(e){var t=e.keyCode||e.which;if("keypress"===e.type){var n=String.fromCharCode(t);return e.shiftKey||(n=n.toLowerCase()),n}return v[t]?v[t]:y[t]?y[t]:String.fromCharCode(t).toLowerCase()}function S(e){return"keypress"===e.type}function E(e,t){return e.sort().join(",")===t.sort().join(",")}function k(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function _(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}function P(){if(!g)for(var e in g={},v)Number(e)>95&&Number(e)<112||v.hasOwnProperty(e)&&(g[v[e]]=e);return g}function x(e,t,n){return n||(n=P()[e]?"keydown":"keypress"),"keypress"===n&&t.length&&(n="keydown"),n}function N(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}function C(e,t){var n=[],r="",o,i=[];for(n=N(e),o=0;o<n.length;++o)r=n[o],b[r]&&(r=b[r]),t&&"keypress"!==t&&m[r]&&(r=m[r],i.push("shift")),_(r)&&i.push(r);return{key:r,modifiers:i,action:t=x(r,i,t)}}function T(e,t,n,r){try{var o,a,u,c,s,l=i.globalContext.get("workspace"),f=l.isActive?null===(o=l.window)||void 0===o?void 0:o.editor:i.globalContext.get("editor"),p=null==f?void 0:f.get("designer"),h=null==p||null===(a=p.currentSelection)||void 0===a||null===(u=a.getNodes())||void 0===u?void 0:u[0],d=null==h||null===(c=h.componentMeta)||void 0===c?void 0:c.npm,v=[null==d?void 0:d.package,null==d?void 0:d.componentName].filter((function(e){return!!e})).join("-")||(null==h||null===(s=h.componentMeta)||void 0===s?void 0:s.componentName)||"";!1===e(t,n)&&(t.preventDefault(),t.stopPropagation()),null==f||f.eventBus.emit("hotkey.callback.call",{callback:e,e:t,combo:n,sequence:r,selected:v})}catch(e){console.error(e.message)}}var L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";l(this,e),this.viewName=void 0,this.callBacks={},this.directMap={},this.sequenceLevels={},this.resetTimer=0,this.ignoreNextKeyup=!1,this.ignoreNextKeypress=!1,this.nextExpectedAction=!1,this.isActivate=!0,this.viewName=t,this.mount(window)}return p(e,[{key:"activate",value:function e(t){this.isActivate=t}},{key:"mount",value:function e(t){var n=t.document,r=this.handleKeyEvent.bind(this);return n.addEventListener("keypress",r,!1),n.addEventListener("keydown",r,!1),n.addEventListener("keyup",r,!1),function(){n.removeEventListener("keypress",r,!1),n.removeEventListener("keydown",r,!1),n.removeEventListener("keyup",r,!1)}}},{key:"bind",value:function e(t,n,r){return this.bindMultiple(Array.isArray(t)?t:[t],n,r),this}},{key:"unbind",value:function e(t,n,o){var i=this,a;(Array.isArray(t)?t:[t]).forEach((function(e){var t=C(e,o),a=t.key,u=t.modifiers,c=i.callBacks[a].findIndex((function(e){return Object(r.isEqual)(e.modifiers,u)&&e.callback===n}));-1!==c&&i.callBacks[a].splice(c,1)}))}},{key:"resetSequences",value:function e(t){var n=!1,r="";for(r in this.sequenceLevels)t&&t[r]?n=!0:this.sequenceLevels[r]=0;n||(this.nextExpectedAction=!1)}},{key:"getMatches",value:function e(t,n,r,o,i,a){var u,c,s=[],l=r.type;if(!this.callBacks[t])return[];for("keyup"===l&&_(t)&&(n=[t]),u=0;u<this.callBacks[t].length;++u)if(c=this.callBacks[t][u],(o||!c.seq||this.sequenceLevels[c.seq]===c.level)&&l===c.action&&(S(r)&&!r.metaKey&&!r.ctrlKey||E(n,c.modifiers))){var f=!o&&c.combo===i,p=o&&c.seq===o&&c.level===a;(f||p)&&this.callBacks[t].splice(u,1),s.push(c)}return s}},{key:"handleKey",value:function e(t,n,r){var o=this.getMatches(t,n,r),i,a={},u=0,c=!1;for(i=0;i<o.length;++i)o[i].seq&&(u=Math.max(u,o[i].level||0));for(i=0;i<o.length;++i)if(o[i].seq){if(o[i].level!==u)continue;c=!0,a[o[i].seq||""]=1,T(o[i].callback,r,o[i].combo,o[i].seq)}else c||T(o[i].callback,r,o[i].combo);var s="keypress"===r.type&&this.ignoreNextKeypress;r.type!==this.nextExpectedAction||_(t)||s||this.resetSequences(a),this.ignoreNextKeypress=c&&"keydown"===r.type}},{key:"handleKeyEvent",value:function e(t){if(this.isActivate){var n=j(t);n&&("keyup"!==t.type||this.ignoreNextKeyup!==n?this.handleKey(n,k(t),t):this.ignoreNextKeyup=!1)}}},{key:"resetSequenceTimer",value:function e(){this.resetTimer&&clearTimeout(this.resetTimer),this.resetTimer=window.setTimeout(this.resetSequences,1e3)}},{key:"bindSequence",value:function e(t,n,r,o){var i=this;this.sequenceLevels[t]=0;for(var a=function e(n){return function(){i.nextExpectedAction=n,++i.sequenceLevels[t],i.resetSequenceTimer()}},u=function e(n){T(r,n,t),"keyup"!==o&&(i.ignoreNextKeyup=j(n)),setTimeout(i.resetSequences,10)},c=0;c<n.length;++c){var s,l=c+1===n.length?u:a(o||C(n[c+1]).action);this.bindSingle(n[c],l,o,t,c)}}},{key:"bindSingle",value:function e(t,n,r,o,i){this.directMap["".concat(t,":").concat(r)]=n;var a=(t=t.replace(/\s+/g," ")).split(" ");if(a.length>1)this.bindSequence(t,a,n,r);else{var u=C(t,r);this.callBacks[u.key]=this.callBacks[u.key]||[],this.getMatches(u.key,u.modifiers,{type:u.action},o,t,i),this.callBacks[u.key][o?"unshift":"push"]({callback:n,modifiers:u.modifiers,action:u.action,seq:o,level:i,combo:t})}}},{key:"bindMultiple",value:function e(t,n,r){var o=u(t),i;try{for(o.s();!(i=o.n()).done;){var a=i.value;this.bindSingle(a,n,r)}}catch(e){o.e(e)}finally{o.f()}}}]),e}()},function(e,t,n){class r{constructor(e,t){if(t=a(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof u)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!m(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=undefined,n=((this.options.includePrerelease&&v)|(this.options.loose&&y))+":"+e,r=i.get(n);if(r)return r;const o=this.options.loose,a=o?l[f.HYPHENRANGELOOSE]:l[f.HYPHENRANGE];e=e.replace(a,C(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(l[f.COMPARATORTRIM],p),c("comparator trim",e),e=e.replace(l[f.TILDETRIM],h),c("tilde trim",e),e=e.replace(l[f.CARETTRIM],d),c("caret trim",e);let s=e.split(" ").map(e=>w(e,this.options)).join(" ").split(/\s+/).map(e=>N(e,this.options));o&&(s=s.filter(e=>(c("loose invalid filter",e,this.options),!!e.match(l[f.COMPARATORLOOSE])))),c("range list",s);const b=new Map,g=s.map(e=>new u(e,this.options));for(const e of g){if(m(e))return[e];b.set(e.value,e)}b.size>1&&b.has("")&&b.delete("");const O=[...b.values()];return i.set(n,O),O}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>g(n,t)&&e.set.some(e=>g(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const o=undefined,i=new(n(96))({max:1e3}),a=n(35),u=n(99),c=n(26),s=n(38),{safeRe:l,t:f,comparatorTrimReplace:p,tildeTrimReplace:h,caretTrimReplace:d}=n(36),{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:y}=n(37),m=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,g=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every(e=>o.intersects(e,t)),o=r.pop();return n},w=(e,t)=>(c("comp",e,t),e=E(e,t),c("caret",e),e=j(e,t),c("tildes",e),e=_(e,t),c("xrange",e),e=x(e,t),c("stars",e),e),O=e=>!e||"x"===e.toLowerCase()||"*"===e,j=(e,t)=>e.trim().split(/\s+/).map(e=>S(e,t)).join(" "),S=(e,t)=>{const n=t.loose?l[f.TILDELOOSE]:l[f.TILDE];return e.replace(n,(t,n,r,o,i)=>{let a;return c("tilde",e,t,n,r,o,i),O(n)?a="":O(r)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:O(o)?a=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(c("replaceTilde pr",i),a=`>=${n}.${r}.${o}-${i} <${n}.${+r+1}.0-0`):a=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,c("tilde return",a),a})},E=(e,t)=>e.trim().split(/\s+/).map(e=>k(e,t)).join(" "),k=(e,t)=>{c("caret",e,t);const n=t.loose?l[f.CARETLOOSE]:l[f.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,o,i,a)=>{let u;return c("caret",e,t,n,o,i,a),O(n)?u="":O(o)?u=`>=${n}.0.0${r} <${+n+1}.0.0-0`:O(i)?u="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:a?(c("replaceCaret pr",a),u="0"===n?"0"===o?`>=${n}.${o}.${i}-${a} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}-${a} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i}-${a} <${+n+1}.0.0-0`):(c("no pr"),u="0"===n?"0"===o?`>=${n}.${o}.${i}${r} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i} <${+n+1}.0.0-0`),c("caret return",u),u})},_=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map(e=>P(e,t)).join(" ")),P=(e,t)=>{e=e.trim();const n=t.loose?l[f.XRANGELOOSE]:l[f.XRANGE];return e.replace(n,(n,r,o,i,a,u)=>{c("xRange",e,n,r,o,i,a,u);const s=O(o),l=s||O(i),f=l||O(a),p=f;return"="===r&&p&&(r=""),u=t.includePrerelease?"-0":"",s?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(i=0),a=0,">"===r?(r=">=",l?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===r&&(r="<",l?o=+o+1:i=+i+1),"<"===r&&(u="-0"),n=`${r+o}.${i}.${a}${u}`):l?n=`>=${o}.0.0${u} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${i}.0${u} <${o}.${+i+1}.0-0`),c("xRange return",n),n})},x=(e,t)=>(c("replaceStars",e,t),e.trim().replace(l[f.STAR],"")),N=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?f.GTE0PRE:f.GTE0],"")),C=e=>(t,n,r,o,i,a,u,c,s,l,f,p,h)=>`${n=O(r)?"":O(o)?`>=${r}.0.0${e?"-0":""}`:O(i)?`>=${r}.${o}.0${e?"-0":""}`:a?">="+n:`>=${n}${e?"-0":""}`} ${c=O(s)?"":O(l)?`<${+s+1}.0.0-0`:O(f)?`<${s}.${+l+1}.0-0`:p?`<=${s}.${l}.${f}-${p}`:e?`<${s}.${l}.${+f+1}-0`:"<="+c}`.trim(),T=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(c(e[n].semver),e[n].semver!==u.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},function(e,t,n){},function(e,t,n){},function(e){e.exports=JSON.parse('{"Initializing":"Initializing","Hide":"Hide","Show":"Show","Lock":"Lock","Unlock":"Unlock","Expand":"Expand","Collapse":"Collapse","Conditional":"Condition","Loop":"Loop","Slots":"Slots","Slot for {prop}":"Slot for {prop}","Outline Tree":"Component Tree","Filter Node":"Filter Node","Check All":"Check All","Conditional rendering":"Conditional rendering","Loop rendering":"Loop rendering","Locked":"Locked","Hidden":"Hidden","Modal View":"Modal View","Rename":"Rename","Delete":"Delete"}')},function(e){e.exports=JSON.parse('{"Initializing":"\u6b63\u5728\u521d\u59cb\u5316","Hide":"\u9690\u85cf","Show":"\u663e\u793a","Lock":"\u9501\u5b9a","Unlock":"\u89e3\u9501","Expand":"\u5c55\u5f00","Collapse":"\u6536\u8d77","Conditional":"\u6761\u4ef6\u5f0f","Loop":"\u5faa\u73af","Slots":"\u63d2\u69fd","Slot for {prop}":"\u5c5e\u6027 {prop} \u7684\u63d2\u69fd","Outline Tree":"\u5927\u7eb2\u6811","Filter Node":"\u8fc7\u6ee4\u8282\u70b9","Check All":"\u5168\u9009","Conditional rendering":"\u6761\u4ef6\u6e32\u67d3","Loop rendering":"\u5faa\u73af\u6e32\u67d3","Locked":"\u5df2\u9501\u5b9a","Hidden":"\u5df2\u9690\u85cf","Modal View":"\u6a21\u6001\u89c6\u56fe\u5c42","Rename":"\u91cd\u547d\u540d","Delete":"\u5220\u9664"}')},function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return Z})),n.d(t,"c",(function(){return ye}));var r=n(86),o=n(25),i=n(3),a=n(10),u=n.n(a),c=n(5),s=n.n(c),l=n(15);function f(e,t){return y(e)||v(e,t)||h(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function y(e){if(Array.isArray(e))return e}function m(e,t,n,r){var o=n.width>t.width?(n.width-t.width)/2:0,i=n.width>t.height?(n.width-t.height)/2:0,a,u,c,s;return{top:Math.max(t.top-e.height+n.width-i,r.top),right:Math.min(t.right+e.width-n.width+o,r.right),bottom:Math.min(t.bottom+e.height-n.width+i,r.bottom),left:Math.max(t.left-e.width+n.width-o,r.left)}}function b(e,t,n,r,o){if(o.forceDirection)return o.dir;var i=e.width+e.extraOffset,a=e.height+e.extraOffset,u=e.width*a,c=e.height*i,s=Math.min(n.right-n.left,e.width),l=Math.min(n.bottom-n.top,e.height),f={top:function e(){var n=s*Math.min(t.top-r.top,a);return{s:n,enough:n>=u}},bottom:function e(){var n=s*Math.min(r.bottom-t.bottom,a);return{s:n,enough:n>=u}},left:function e(){var n=l*Math.min(t.left-r.left,i);return{s:n,enough:n>=c}},right:function e(){var n=l*Math.min(r.right-t.right,i);return{s:n,enough:n>=c}}},p=["top","right","bottom","left"];if(o.dir){var h=p.indexOf(o.dir);h>-1&&(p.splice(h,1),p.unshift(o.dir))}for(var d=0,v=p[0],y=0,m=p.length;y<m;y++){var b=p[y],g=f[b](),w=g.s,O;if(g.enough)return b;w>d&&(d=w,v=b)}return v}function g(e,t,n){if(!e)return t.left-n.left<10?{dir:"right"}:t.top-n.top<10?{dir:"bottom"}:n.bottom-t.bottom<10?{dir:"top"}:n.right-t.right<10?{dir:"left"}:{};var r="!"===e[0];r&&(e=e.slice(1));var o,i=f(e.split(/\s+/),2),a=i[0],u=i[1],c=!1,s=!1;return"center"===a&&(a="auto",u||(u="center")),r&&(a&&"auto"!==a&&(c=!0),u&&"auto"!==u&&(s=!0)),{dir:a,offset:u,forceDirection:c,forceOffset:s}}function w(e,t,n,r,o){e={extraOffset:n.height,top:e.top,right:e.right,left:e.left,bottom:e.bottom,height:e.height,width:e.width};var i=g(o,t,r),a=m(e,t,n,r),u=b(e,t,a,r,i),c,s,l,f;if("top"===u||"bottom"===u){c="top"===u?t.top-e.extraOffset-e.height:t.bottom+e.extraOffset;var p=n.width>t.width?(n.width-t.width)/2:0,h=t.left+n.width-p-e.width,d=t.right-n.width+p,v=t.left-(e.width-t.width)/2;s="left"===i.offset?h:"right"===i.offset?d:v,i.forceOffset||(s=Math.max(Math.min(a.right-e.width,s),h),s=Math.min(Math.max(a.left,s),d)),f=Math.min(e.width-n.width,Math.max(t.left-(n.width-t.width)/2-s,0))}else{s="left"===u?t.left-e.extraOffset-e.width:t.right+e.extraOffset;var y=n.width>t.height?(n.width-t.height)/2:0,w=t.top+n.width-y-e.height,O=t.bottom-n.width+y,j=t.top-(e.height-t.height)/2;c="top"===i.offset?w:"bottom"===i.offset?O:j,i.forceOffset||(c=Math.max(Math.min(a.bottom-e.height,c),w),c=Math.min(Math.max(a.top,c),O)),l=Math.min(e.height-n.height,Math.max(t.top-(n.width-t.height)/2-c,0))}return{dir:u,left:s,top:c,arrowLeft:f,arrowTop:l}}var O={right:1,left:0,top:0,bottom:1,center:.5};function j(e){return/^[\d.]+%$/.test(e)}function S(e,t,n){return e?j(e)?e=parseFloat(e)/100*n:O.hasOwnProperty(e)?e=O[e]*n:(e=parseFloat(e),isNaN(e)&&(e=0)):e=0,"".concat(e+t,"px")}function E(e,t,n){if(!e)return{top:"38.2%",left:"calc(50% - 110px)"};var r,o=f(e.trim().split(/\s+/),2),i=o[0],a=o[1];if("top"===i||"bottom"===i||"left"===a||"right"===a){var u=i;i=a,a=u}return"center"!==i||a||(a="center"),{left:S(i,0,n.right-n.left-t.width),top:S(a,0,n.bottom-n.top-t.height)}}var k=n(11);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function N(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e){var t=T(e,"string");return"symbol"==_(t)?t:String(t)}function T(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function A(e){var t=I();return function n(){var r=B(e),o;if(t){var i=B(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return M(this,o)}}function M(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var V=function(e){L(n,e);var t=A(n);function n(e){var r;return P(this,n),(r=t.call(this,e)).dispose=void 0,r.timer=null,r.shell=null,r.originClassName="",r.dispose=k.b.onChange((function(){return r.forceUpdate()})),r}return N(n,[{key:"shouldComponentUpdate",value:function e(){return!1}},{key:"componentDidMount",value:function e(){this.updateTip()}},{key:"componentDidUpdate",value:function e(){this.updateTip()}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose(),this.clearTimer()}},{key:"clearTimer",value:function e(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"updateTip",value:function e(){if(this.shell){var t=this.shell,n=t.querySelector(".lc-arrow");t.className=this.originClassName,t.style.cssText="",n.style.cssText="",this.clearTimer();var r=k.b.tip;if(r){var o=r.target,i=r.direction,a=o.getBoundingClientRect();if(0!==a.width&&0!==a.height){var u=t.getBoundingClientRect(),c={left:1,top:1,right:document.documentElement.clientWidth-1,bottom:document.documentElement.clientHeight-1},s,l=w(u,a,n.getBoundingClientRect(),c,i),f=l.dir,p=l.left,h=l.top,d=l.arrowLeft,v=l.arrowTop;t.classList.add("lc-align-".concat(f)),t.style.top="".concat(h,"px"),t.style.left="".concat(p,"px"),t.style.width="".concat(u.width,"px"),t.style.height="".concat(u.height,"px"),"top"===f||"bottom"===f?n.style.left="".concat(d,"px"):n.style.top="".concat(v,"px"),this.timer=window.setTimeout((function(){t.classList.add("lc-visible-animate"),t.style.transform="none"}),10)}}}}},{key:"render",value:function e(){var t=this,n=k.b.tip||{},r=s()("lc-tip",n.className,n&&n.theme?"lc-theme-".concat(n.theme):null);return this.originClassName=r,React.createElement("div",{className:r,ref:function e(n){t.shell=n}},React.createElement("i",{className:"lc-arrow"}),React.createElement("div",{className:"lc-tip-content"},Object(l.c)(n.children)))}}]),n}(i.Component);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z(r.key),r)}}function U(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z(e){var t=W(e,"string");return"symbol"==F(t)?t:String(t)}function W(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Y(e){var t=J();return function n(){var r=Q(e),o;if(t){var i=Q(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return K(this,o)}}function K(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Z=function(e){$(n,e);var t=Y(n);function n(){var e;G(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).dispose=void 0,e}return U(n,[{key:"shouldComponentUpdate",value:function e(){return!1}},{key:"componentDidMount",value:function e(){var t=function e(t){return k.b.setTarget(t.target)},n=function e(){return k.b.hideImmediately()};document.addEventListener("mouseover",t,!1),document.addEventListener("mousedown",n,!0),this.dispose=function(){document.removeEventListener("mouseover",t,!1),document.removeEventListener("mousedown",n,!0)}}},{key:"UNSAFE_componentWillMount",value:function e(){this.dispose&&this.dispose()}},{key:"render",value:function e(){return u.a.createPortal(React.createElement("div",{className:"lc-tips-container"},React.createElement(V,null)),document.querySelector("body"))}}]),n}(i.Component),ee=n(2),te=n(87);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ae(r.key),r)}}function ie(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ae(e){var t=ue(e,"string");return"symbol"==ne(t)?t:String(t)}function ue(e,t){if("object"!=ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}function se(e,t){return(se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function le(e){var t=he();return function n(){var r=de(e),o;if(t){var i=de(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return fe(this,o)}}function fe(e,t){if(t&&("object"===ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pe(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ve(e,t){for(var n=t.length,r=[],o=e;o.length>0;){var i=o.indexOf(t);0===i?(r.push(t),o=o.slice(n)):i<0?(r.push(o),o=""):(r.push(o.slice(0,i)),o=o.slice(i))}return r}var ye=function(e){ce(n,e);var t=le(n);function n(e){var r;return re(this,n),(r=t.call(this,e)).renderLabel=function(e){var t=r.props,n=t.match,o=t.keywords;if(!e)return null;var i=Object(l.c)(e);if("string"!=typeof i)return React.createElement("span",{className:"lc-title-txt"},i);var a=i,u;n&&o&&(a=ve(i,o).map((function(e){return React.createElement("span",{style:{color:e===o?"red":"inherit"}},e)})));return React.createElement("span",{className:"lc-title-txt"},a)},r.handleClick=r.handleClick.bind(pe(r)),r}return ie(n,[{key:"handleClick",value:function e(t){var n=this.props,r=n.title,o=n.onClick,i=r&&(r.docUrl||r.url);i&&(window.open(i),t.stopPropagation()),o&&o(t)}},{key:"render",value:function e(){var t=this.props,n=t.title,r=t.className,a;if(null==n)return null;if(Object(i.isValidElement)(n))return n;var u=(a="string"==typeof n||Object(ee.G)(n)?{label:n}:Object(ee.X)(n)?n:{label:n}).icon?Object(ee.n)(a.icon,{size:20}):null,c=null;if(a.tip)if(Object(i.isValidElement)(a.tip)&&a.tip.type===o.a)c=a.tip;else{var l="object"!==ne(a.tip)||Object(i.isValidElement)(a.tip)||Object(ee.G)(a.tip)?{children:a.tip}:a.tip;c=React.createElement(o.a,l)}return React.createElement("span",{className:s()("lc-title",r,a.className,{"has-tip":!!c,"only-icon":!a.label}),onClick:this.handleClick},u?React.createElement("b",{className:"lc-title-icon"},u):null,this.renderLabel(a.label),c)}}]),n}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return R}));var r=n(0),o=n(9),i=n(14),a=n(28),u=n(15),c=n(17),s=n(2);function l(e){var t=e.components,n,r=(e.packages||[]).reduce((function(e,t){var n;return e[t.id||t.package||""]=t,e}),{});return t.forEach((function(e){var t=e.devMode,n=e.schema,o=e.reference;if("lowcode"===t?t="lowCode":"proCode"===t&&(t="proCode"),t&&(e.devMode=t),"lowCode"===t&&!n&&o){var i=o.id||"";e.schema=r[i].schema}})),e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:x(e,n,u)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",v="suspendedYield",y="executing",m="completed",b={};function g(){}function w(){}function O(){}var j={};s(j,a,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(R([])));E&&E!==n&&r.call(E,a)&&(j=E);var k=O.prototype=g.prototype=Object.create(j);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(o,i,a,u){var c=h(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==f(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function x(t,n,r){var o=d;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=N(u,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var s=h(t,n,r);if("normal"===s.type){if(o=r.done?m:v,s.arg===b)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=m,r.method="throw",r.arg=s.arg)}}}function N(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=h(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(f(t)+" is not iterable")}return w.prototype=O,o(k,"constructor",{value:O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=s(O,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,O):(e.__proto__=O,s(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(P.prototype),s(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new P(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(k),s(k,c,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,L.prototype={constructor:L,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),b},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),b}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:R(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function h(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,u,"next",e)}function u(e){h(i,r,o,a,u,"throw",e)}a(void 0)}))}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function w(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e){var t=j(e,"string");return"symbol"==f(t)?t:String(t)}function j(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function k(e){var t=x();return function n(){var r=N(e),o;if(t){var i=N(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return _(this,o)}}function _(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}o.EventEmitter.defaultMaxListeners=100;var C=["designer","skeleton","currentDocument","simulator","plugins","setters","material","innerHotkey","innerPlugins"],T={},L=function(e){S(n,e);var t=k(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b(this,n),(e=t.call(this)).viewName=void 0,e.workspaceMode=void 0,e.context=new Map,e.config=void 0,e.eventBus=void 0,e.components=void 0,e.hooks=[],e.waits=new Map,e.initHooks=function(t){return e.hooks=t.map((function(t){return y(y({},t),{},{handler:t.handler.bind(P(e),P(e))})})),e.hooks},e.registerHooks=function(t){e.initHooks(t).forEach((function(t){var n=t.message,r=t.type,o=t.handler;-1!==["on","once"].indexOf(r)&&e[r](n,o)}))},e.unregisterHooks=function(){e.hooks.forEach((function(t){var n=t.message,r=t.handler;e.removeListener(n,r)}))},e.viewName=r,e.workspaceMode=o,e.setMaxListeners(200),e.eventBus=new i.a(P(e)),e}return w(n,[{key:"locale",get:function e(){return u.b.getLocale()}},{key:"get",value:function e(t){return this.context.get(t)}},{key:"has",value:function e(t){return this.context.has(t)}},{key:"set",value:function e(t,n){if("assets"===t)return this.setAssets(n);C.includes(t)||a.a.set(t,n),this.context.set(t,n),this.notifyGot(t)}},{key:"setAssets",value:function(){var e=d(p().mark((function e(t){var n,r,o,i;return p().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(!(n=t.components)||!n.length){a.next=10;break}if(r=[],o=[],n.forEach((function(e){e&&(e.exportName&&e.url?o.push(e):r.push(e))})),t.components=r,t.componentList=t.componentList||[],!o||!o.length){a.next=10;break}return a.next=10,Promise.all(o.map(function(){var e=d(p().mark((function e(n){var r,o,i,a,u,c;return p().wrap((function e(l){for(;;)switch(l.prev=l.next){case 0:if(c=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.forEach((function(e,t){var o=[n,t.toString()].filter((function(e){return!!e})).join("."),i=[r,t.toString()].filter((function(e){return!!e})).join(".");Array.isArray(e)?c(e,o,i):u(e,{exportName:o,subName:i})}))},u=function e(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.components;t.componentList=null===(r=t.componentList)||void 0===r?void 0:r.concat(n.componentList||[]),Array.isArray(i)?i.forEach((function(e){t.components=t.components.concat(y({npm:y(y({},a),o)},e)||[])})):n.components&&(t.components=t.components.concat(y({npm:y(y({},a),o)},n.components)||[]))},o=n.exportName,i=n.url,a=n.npm,i&&o){l.next=5;break}return l.abrupt("return");case 5:if(T[o]&&null!=a&&a.version&&(null===(r=T[o].npm)||void 0===r?void 0:r.version)===(null==a?void 0:a.version)){l.next=8;break}return l.next=8,(new s.c).load(i);case 8:return T[o]=n,window[o]&&(Array.isArray(window[o])?c(window[o]):u(window[o])),l.abrupt("return",window[o]);case 11:case"end":return l.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:i=l(t),this.context.set("assets",i),this.notifyGot("assets");case 13:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onceGot",value:function e(t){var n=this,r=this.context.get(t);return void 0!==r?Promise.resolve(r):new Promise((function(e){n.setWait(t,e,!0)}))}},{key:"onGot",value:function e(t,n){var r=this,o=this.context.get(t);return void 0!==o&&n(o),this.setWait(t,n),function(){r.delWait(t,n)}}},{key:"onChange",value:function e(t,n){var r=this;return this.setWait(t,n),function(){r.delWait(t,n)}}},{key:"register",value:function e(t,n){this.context.set(n||t,t),this.notifyGot(n||t)}},{key:"init",value:function(){var e=d(p().mark((function e(t,n){var r,o,i,a,u;return p().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:return this.config=t||{},this.components=n||{},r=this.config,o=r.hooks,i=void 0===o?[]:o,a=r.lifeCycles,this.emit("editor.beforeInit"),u=a&&a.init||function(){},c.prev=5,c.next=8,u(this);case 8:return this.registerHooks(i),this.emit("editor.afterInit"),c.abrupt("return",!0);case 13:c.prev=13,c.t0=c.catch(5),console.error(c.t0);case 16:case"end":return c.stop()}}),e,this,[[5,13]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function e(){if(this.config)try{var t=this.config.lifeCycles,n=void 0===t?{}:t;this.unregisterHooks(),n.destroy&&n.destroy(this)}catch(e){console.warn(e)}}},{key:"notifyGot",value:function e(t){var n=this.waits.get(t);if(n){for(var r=(n=n.slice().reverse()).length;r--;)n[r].resolve(this.get(t)),n[r].once&&n.splice(r,1);n.length>0?this.waits.set(t,n):this.waits.delete(t)}}},{key:"setWait",value:function e(t,n,r){var o=this.waits.get(t);o?o.push({resolve:n,once:r}):this.waits.set(t,[{resolve:n,once:r}])}},{key:"delWait",value:function e(t,n){var r=this.waits.get(t);if(r){for(var o=r.length;o--;)r[o].resolve===n&&r.splice(o,1);r.length<1&&this.waits.delete(t)}}}]),n}(o.EventEmitter);Object(r.b)([c.j.shallow,Object(r.d)("design:type",Object)],L.prototype,"context",void 0);var R=new i.a(new o.EventEmitter)},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}}function u(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}function c(){try{return localStorage}catch(e){}}t.formatArgs=i,t.save=a,t.load=u,t.useColors=o,t.storage=c(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(61)(t);const{formatters:s}=e.exports;s.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(33))},function(e){e.exports=JSON.parse('{"copy":"Copy","remove":"Remove","hide":"Hide","lock":"Lock","unlock":"Unlock","Condition Group":"Condition Group","No opened document":"No opened document, open some document to editing","locked":"locked","Item":"Item"}')},function(e){e.exports=JSON.parse('{"copy":"\u590d\u5236","remove":"\u5220\u9664","hide":"\u9690\u85cf","lock":"\u9501\u5b9a","unlock":"\u89e3\u9501","Condition Group":"\u6761\u4ef6\u7ec4","No opened document":"\u6ca1\u6709\u6253\u5f00\u7684\u9875\u9762\uff0c\u8bf7\u9009\u62e9\u9875\u9762\u6253\u5f00\u7f16\u8f91","locked":"\u5df2\u9501\u5b9a","Item":"\u9879\u76ee"}')},function(e,t,n){const r=n(46),o=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)};e.exports=o},function(e){e.exports=JSON.parse('{"Binded: {expr}":"Binded: {expr}","Variable Binding":"Variable Binding","Switch Setter":"Switch Setter","Multiple Value, Click to Clear":"Multiple Value, Click to Clear","Required":"Required","Setted Value, Click to Clear":"Setted Value, Click to Clear","Multiple Value":"Multiple Value","Attribute: ":"Attribute: ","Description: ":"Description: ","Please select a node in canvas":"Please select a node in canvas","Current node is locked":"Current node is locked","No config found for this type of component":"No config found for this type of component","Please select same kind of components":"Please select same kind of components"}')},function(e){e.exports=JSON.parse('{"Binded: {expr}":"\u5df2\u7ed1\u5b9a\uff1a{expr}","Variable Binding":"\u53d8\u91cf\u7ed1\u5b9a","Switch Setter":"\u5207\u6362\u8bbe\u7f6e\u5668","Multiple Value, Click to Clear":"\u591a\u79cd\u503c\uff0c\u70b9\u51fb\u6e05\u9664","Required":"\u5fc5\u586b\u9879","Setted Value, Click to Clear":"\u5df2\u8bbe\u7f6e\u503c\uff0c\u70b9\u51fb\u6e05\u9664","Multiple Value":"\u591a\u79cd\u503c","Attribute: ":"\u5c5e\u6027\uff1a","Description: ":"\u8bf4\u660e\uff1a","Please select a node in canvas":"\u8bf7\u5728\u5de6\u4fa7\u753b\u5e03\u9009\u4e2d\u8282\u70b9","Current node is locked":"\u8be5\u8282\u70b9\u5df2\u88ab\u9501\u5b9a\uff0c\u65e0\u6cd5\u914d\u7f6e","No config found for this type of component":"\u8be5\u7ec4\u4ef6\u6682\u65e0\u914d\u7f6e","Please select same kind of components":"\u8bf7\u9009\u4e2d\u540c\u4e00\u7c7b\u578b\u8282\u70b9\u7f16\u8f91"}')},function(e,t,n){e.exports=n(117)},function(e,t,n){},function(e,t,n){function r(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let t,n=null,i,a;function u(...e){if(!u.enabled)return;const n=u,o=Number(new Date),i=o-(t||o);n.diff=i,n.prev=t,n.curr=o,t=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,o)=>{if("%%"===t)return"%";a++;const i=r.formatters[o];if("function"==typeof i){const r=e[a];t=i.call(n,r),e.splice(a,1),a--}return t}),r.formatArgs.call(n,e);const c=undefined;(n.log||r.log).apply(n,e)}return u.namespace=e,u.useColors=r.useColors(),u.color=r.selectColor(e),u.extend=o,u.destroy=r.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==n?n:(i!==r.namespaces&&(i=r.namespaces,a=r.enabled(e)),a),set:e=>{n=e}}),"function"==typeof r.init&&r.init(u),u}function o(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function i(e){let t;r.save(e),r.namespaces=e,r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.slice(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function a(){const e=[...r.names.map(c),...r.skips.map(c).map(e=>"-"+e)].join(",");return r.enable(""),e}function u(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function c(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function s(e){return e instanceof Error?e.stack||e.message:e}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.debug=r,r.default=r,r.coerce=s,r.disable=a,r.enable=i,r.enabled=u,r.humanize=n(62),r.destroy=l,Object.keys(e).forEach(t=>{r[t]=e[t]}),r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},function(e,t){var n=1e3,r=6e4,o=60*r,i=24*o,a=7*i,u=365.25*i;function c(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var c=parseFloat(t[1]),s;switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*u;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function s(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}function l(e){var t=Math.abs(e);return t>=i?f(e,t,i,"day"):t>=o?f(e,t,o,"hour"):t>=r?f(e,t,r,"minute"):t>=n?f(e,t,n,"second"):e+" ms"}function f(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return c(e);if("number"===n&&isFinite(e))return t.long?l(e):s(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(18),o=r.slice,i=r.pluck,a=r.each,u=r.bind,c=r.create,s=r.isList,l=r.isFunction,f=r.isObject;e.exports={createStore:d};var p={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return d.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return d(this.storage,this.plugins,e)}};function h(){var e="undefined"==typeof console?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}function d(e,t,n){n||(n=""),e&&!s(e)&&(e=[e]),t&&!s(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",d=n?new RegExp("^"+r):null,v;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var y,m=c({_namespacePrefix:r,_namespaceRegexp:d,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function t(){var r=o(arguments,0),i=this;function u(){if(n)return a(arguments,(function(e,t){r[t]=e})),n.apply(i,r)}var c=[u].concat(r);return e.apply(i,c)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this,n;if(s(e))a(e,(function(e){t._addPlugin(e)}));else if(!i(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!l(e))throw new Error("Plugins must be function values that return objects");var r=e.call(this);if(!f(r))throw new Error("Plugins must return an object of function properties");a(r,(function(n,r){if(!l(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}},addStorage:function(e){h("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},p,{plugins:[]});return m.raw={},a(m,(function(e,t){l(e)&&(m.raw[t]=u(m,e))})),a(e,(function(e){m._addStorage(e)})),a(t,(function(e){m._addPlugin(e)})),m}},function(e,t,n){e.exports=[n(65),n(66),n(67),n(68),n(69),n(70)]},function(e,t,n){var r,o=n(18).Global;function i(){return o.localStorage}function a(e){return i().getItem(e)}function u(e,t){return i().setItem(e,t)}function c(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}e.exports={name:"localStorage",read:a,write:u,each:c,remove:s,clearAll:l}},function(e,t,n){var r,o=n(18).Global;e.exports={name:"oldFF-globalStorage",read:a,write:u,each:c,remove:s,clearAll:l};var i=o.globalStorage;function a(e){return i[e]}function u(e,t){i[e]=t}function c(e){for(var t=i.length-1;t>=0;t--){var n=i.key(t);e(i[n],n)}}function s(e){return i.removeItem(e)}function l(){c((function(e,t){delete i[e]}))}},function(e,t,n){var r,o=n(18).Global;e.exports={name:"oldIE-userDataStorage",write:s,read:l,each:f,remove:p,clearAll:h};var i="storejs",a=o.document,u=y(),c=(o.navigator?o.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function s(e,t){if(!c){var n=v(e);u((function(e){e.setAttribute(n,t),e.save("storejs")}))}}function l(e){if(!c){var t=v(e),n=null;return u((function(e){n=e.getAttribute(t)})),n}}function f(e){u((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var o=n[r];e(t.getAttribute(o.name),o.name)}}))}function p(e){var t=v(e);u((function(e){e.removeAttribute(t),e.save("storejs")}))}function h(){u((function(e){var t=e.XMLDocument.documentElement.attributes;e.load("storejs");for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save("storejs")}))}var d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function v(e){return e.replace(/^\d/,"___$&").replace(d,"___")}function y(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e="script",t,n,r;try{(n=new ActiveXObject("htmlfile")).open(),n.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),n.close(),t=n.w.frames[0].document,r=t.createElement("div")}catch(e){r=a.createElement("div"),t=a.body}return function(e){var n=[].slice.call(arguments,0);n.unshift(r),t.appendChild(r),r.addBehavior("#default#userData"),r.load("storejs"),e.apply(this,n),t.removeChild(r)}}},function(e,t,n){var r=n(18),o=r.Global,i=r.trim;e.exports={name:"cookieStorage",read:u,write:s,each:c,remove:l,clearAll:f};var a=o.document;function u(e){if(!e||!p(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))}function c(e){for(var t=a.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(i(t[n])){var r=t[n].split("="),o=unescape(r[0]),u;e(unescape(r[1]),o)}}function s(e,t){e&&(a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function l(e){e&&p(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function f(){c((function(e,t){l(t)}))}function p(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},function(e,t,n){var r,o=n(18).Global;function i(){return o.sessionStorage}function a(e){return i().getItem(e)}function u(e,t){return i().setItem(e,t)}function c(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}e.exports={name:"sessionStorage",read:a,write:u,each:c,remove:s,clearAll:l}},function(e,t){e.exports={name:"memoryStorage",read:r,write:o,each:i,remove:a,clearAll:u};var n={};function r(e){return n[e]}function o(e,t){n[e]=t}function i(e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)}function a(e){delete n[e]}function u(e){n={}}},function(e,t,n){function r(){return n(72),{}}e.exports=r},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a=gap,u,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;n<i;n+=1)u[n]=str(n,c)||"null";return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+a+"]":"["+u.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],c))&&u.push(quote(r)+(gap?": ":":")+o);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c))&&u.push(quote(r)+(gap?": ":":")+o);return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+a+"}":"{"+u.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(e,t,o)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(e,t,n){"use strict";var r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.AlreadyRegistryError=t.NoRegistryError=t.NotfoundTypeError=t.MultiImplementError=t.IocContext=t.DefaultRegisterOption=t.Config=void 0;var u=n(22),c=n(13),s=n(24),l=n(42),f=n(44),p=function(){function e(){this.autoRegisterSelf=!1,this.constructorInject=!0,this.useClassLoader=!0}return e}();t.Config=p,t.DefaultRegisterOption={singleton:!0,autoNew:!0};var h=function(){function e(e){void 0===e&&(e={}),this.config=e,this.components=new Map,this.setConfig(Object.assign(new p,e))}return Object.defineProperty(e.prototype,"classLoader",{get:function(){return this._classLoader},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DefaultInstance",{get:function(){return this.defaultInstance||(this.defaultInstance=new e,this.defaultInstance)},enumerable:!1,configurable:!0}),e.prototype.setConfig=function(e){Object.assign(this.config,e),this._classLoader=!0===this.config.useClassLoader?s.classLoader:!1===this.config.useClassLoader?void 0:this.config.useClassLoader},e.prototype.remove=function(e){var t=(0,u.getGlobalType)(e),n=this.components.get(t);return!!n&&(this.preDestroyInstance(n),this.components.delete(t))},e.prototype.clear=function(){var e=this;Array.from(this.components.values()).forEach((function(t){e.preDestroyInstance(t)})),this.components.clear()},e.prototype.get=function(e,t){var n=this;void 0===t&&(t={});var r=(0,u.getGlobalType)(e),o=this.components.get(r),a;if(o)return this.returnValue(o,t.forceNew);if(this.config.notFoundHandler){var s=this.config.notFoundHandler(e);if(void 0!==s)return s}if(!1!==t.useClassLoader&&this.classLoader){var l=e,f=this.classLoader.getImplementClasses(l);switch(f.length){case 1:return this.get(f[0].type,i(i({},t),{sourceType:t.sourceType||l}));case 0:break;default:var p=f.filter((function(e){return n.has(e.type,!0)}));if(1===p.length)return this.get(p[0].type,t);if(this.config.conflictHandler){var h=this.config.conflictHandler(l,f,t.sourceCls?{type:t.sourceCls,info:this.classLoader.getClassInfo(t.sourceCls)}:void 0);if(void 0!==h)return this.get(h,t)}if((0,u.isClass)(e)&&(0,c.getMetadata)(l).injectable)return this.register(l),this.get(l,t);throw new d(l,r)}}if(this.config.parentContext)return this.config.parentContext.get(t.sourceType||e);if((0,u.isClass)(e)&&(this.config.autoRegisterSelf||(0,c.getMetadata)(e).injectable))return this.register(e),this.get(e,t);throw new v(e,r)},e.prototype.getImports=function(e,t){var n=this,r,o=(void 0===t?{}:t).cache,i=e;if(o&&this.has(i))return this.get(i);if(!this.classLoader)return[];var a=this.classLoader.getImplementClasses(i).map((function(e){return n.get(e.type)}));return o&&this.register(a,i),a},e.prototype.has=function(e,t){void 0===t&&(t=!1);var n=(0,u.getGlobalType)(e);return!!(this.components.has(n)||t&&this.config.parentContext&&this.config.parentContext.has(n,t))},e.prototype.replace=function(e,t,n,r){void 0===r&&(r=!1);var o=(0,u.getGlobalType)(e),i=this.components.get(o);if(i)this.components.set(o,this.newStore(t,n||i.options));else{if(!r)throw new y(o);this.register(t,e,n)}},e.prototype.register=function(e,n,r){if(void 0===r&&(r=t.DefaultRegisterOption),n){if(!this.canBeKey(n))throw new Error("key require string, symbol or class.")}else if(!this.canBeKey(e))throw new Error("when data is not string, symbol or class, require a key.");var o=n&&(0,u.getGlobalType)(n)||e&&(0,u.getGlobalType)(e);if(this.components.has(o))throw new m(o);r=i(i({},t.DefaultRegisterOption),r);var a=this.newStore(e,r);this.components.set(o,a)},e.prototype.inject=function(e,t){var n=this;void 0===t&&(t={autoRunPostConstruct:!0});var r=this,o=e.constructor;(0,c.getMetadataField)(o,"injects").forEach((function(t){var a=t.key,u=t.typeCls,c=t.optional,s=t.singleton,f=Object.getOwnPropertyDescriptor(e,a),p=f&&f.value,h=c||void 0!==p;if("inject"===t.type&&Object.defineProperty(e,a,{configurable:!0,writable:!0,value:(0,l.guard)((function(){return n.get(u,i({sourceCls:o},s?{}:{forceNew:!0}))}),{defaultValue:p,onError:function(e){if(!h)throw e.message+="\n\tSource: ".concat(o.name,".").concat(a.toString()),e}})}),["lazyInject","imports"].includes(t.type)){var d=t.always;Object.defineProperty(e,a,{configurable:!0,get:function(){var e=!1,n=(0,l.guard)((function(){switch(t.type){case"lazyInject":return r.get(u,i({sourceCls:o},s?{}:{forceNew:!0}));case"imports":return r.getImports(u,{cache:!d})}}),{defaultValue:p,onError:function(t){if(e=!0,!h)throw t.message+="\n\tSource: ".concat(o.name,".").concat(a.toString()),t}});return e||d||Object.defineProperty(this,a,{configurable:!0,writable:!0,value:n}),n},set:function(e){Object.defineProperty(this,a,{configurable:!0,writable:!0,value:e})}})}})),(0,c.getMetadataField)(o,"aspects").forEach((function(t){var r=e[t.key],o=(0,f.genAspectWrapper)(n,t.point,r);Object.defineProperty(e,t.key,{configurable:!0,value:o})})),t.autoRunPostConstruct&&this.runPostConstruct(e)},e.prototype.runPostConstruct=function(e){Array.from(new Set((0,c.getMetadataField)(e.constructor,"postConstruct").map((function(e){return e.key})))).forEach((function(t){e[t]()}))},e.prototype.runPreDestroy=function(e){Array.from(new Set((0,c.getMetadataField)(e.constructor,"preDestroy").map((function(e){return e.key})))).forEach((function(t){e[t]()}))},e.prototype.createChildContext=function(t){return new e(i(i(i({},this.config),t||{}),{parentContext:this}))},e.prototype.preDestroyInstance=function(e){e.inited&&this.runPreDestroy(e.value)},e.prototype.newStore=function(e,t){var n=this,r="function"==typeof e,o=r&&(0,u.isClass)(e),i=r&&t.autoNew;return{inited:!i,factory:i?function(){if(o){var t=e,r=[];if(n.config.constructorInject&&Reflect&&Reflect.getMetadata){var i=Reflect.getMetadata("design:paramtypes",t);i&&(r=i.map((function(e){return e===t||null==e||e===Number||e===Error||e===Object||e===String||e===Boolean||e===Array||e===Function?null:n.get(e)})))}var u=new(t.bind.apply(t,a([void 0],r,!1)));return n.inject(u),n.config.createInstanceHook?n.config.createInstanceHook(u,n):u}var c;return e(n)}:void 0,value:i?void 0:e,options:t}},e.prototype.canBeKey=function(e){var t=typeof e;return"object"===t?"[object Object]"!==e.toString():["function","string","symbol"].includes(t)},e.prototype.returnValue=function(e,t){return void 0===t&&(t=!1),e.options.singleton&&!t?(e.inited||(e.inited=!0,e.value=e.factory()),e.value):e.factory()},e.prototype.toJSON=function(){return{type:"power-di.IocContext",message:"NoSerializable"}},e}();t.IocContext=h;var d=function(e){function t(t,n){return e.call(this,"Has multi Classes of implement type: ".concat(t.name,"(").concat((0,u.symbolString)(n),")"))||this}return r(t,e),t}(Error);t.MultiImplementError=d;var v=function(e){function t(t,n){return e.call(this,"Notfound type: ".concat(t.name||(0,u.symbolString)(t),"(").concat((0,u.symbolString)(n),")"))||this}return r(t,e),t}(Error);t.NotfoundTypeError=v;var y=function(e){function t(t){return e.call(this,"the key:[".concat((0,u.symbolString)(t),"] is no registry."))||this}return r(t,e),t}(Error);t.NoRegistryError=y;var m=function(e){function t(t){return e.call(this,"the key:[".concat((0,u.symbolString)(t),"] is already registry."))||this}return r(t,e),t}(Error);t.AlreadyRegistryError=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalTypeByDecorator=t.getClsTypeByDecorator=void 0,n(75);var r=n(23);function o(e,t,n){return!e&&Reflect&&Reflect.getMetadata&&(e=Reflect.getMetadata("design:type",t,n)),e}function i(e,t,n){return(0,r.getGlobalType)(o(e,t,n))}t.getClsTypeByDecorator=o,t.getGlobalTypeByDecorator=i},function(e,t,n){(function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(e){var r="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(n);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=n:o=i(r.Reflect,o),e(o)}((function(t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,u={__proto__:[]}instanceof Array,c=!a&&!u,s={create:a?function(){return ie(Object.create(null))}:u?function(){return ie({__proto__:null})}:function(){return ie({})},has:c?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:c?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ne():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?re():Set,d,v=new(f||"function"!=typeof WeakMap?oe():WeakMap);function y(e,t,n,r){if(I(n)){if(!$(e))throw new TypeError;if(!Y(t))throw new TypeError;return _(e,t)}if(!$(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(r)&&!I(r)&&!B(r))throw new TypeError;return B(r)&&(r=void 0),P(e,t,n=W(n),r)}function m(e,t){function n(n,r){if(!F(n))throw new TypeError;if(!I(r)&&!K(r))throw new TypeError;R(e,t,n,r)}return n}function b(e,t,n,r){if(!F(n))throw new TypeError;return I(r)||(r=W(r)),R(e,t,n,r)}function g(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),N(e,t,n)}function w(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),C(e,t,n)}function O(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),T(e,t,n)}function j(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),L(e,t,n)}function S(e,t){if(!F(e))throw new TypeError;return I(t)||(t=W(t)),A(e,t)}function E(e,t){if(!F(e))throw new TypeError;return I(t)||(t=W(t)),M(e,t)}function k(e,t,n){if(!F(t))throw new TypeError;I(n)||(n=W(n));var r=x(t,n,!1);if(I(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=v.get(t);return o.delete(n),o.size>0||v.delete(t),!0}function _(e,t){for(var n=e.length-1;n>=0;--n){var r,o=(0,e[n])(t);if(!I(o)&&!B(o)){if(!Y(o))throw new TypeError;t=o}}return t}function P(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i,a=(0,e[o])(t,n,r);if(!I(a)&&!B(a)){if(!F(a))throw new TypeError;r=a}}return r}function x(e,t,n){var r=v.get(e);if(I(r)){if(!n)return;r=new p,v.set(e,r)}var o=r.get(t);if(I(o)){if(!n)return;o=new p,r.set(t,o)}return o}function N(e,t,n){var r;if(C(e,t,n))return!0;var o=te(t);return!B(o)&&N(e,o,n)}function C(e,t,n){var r=x(t,n,!1);return!I(r)&&U(r.has(e))}function T(e,t,n){var r;if(C(e,t,n))return L(e,t,n);var o=te(t);return B(o)?void 0:T(e,o,n)}function L(e,t,n){var r=x(t,n,!1);if(!I(r))return r.get(e)}function R(e,t,n,r){var o;x(n,r,!0).set(e,t)}function A(e,t){var n=M(e,t),r=te(e);if(null===r)return n;var o=A(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new h,a=[],u=0,c=n;u<c.length;u++){var s=c[u],l;(l=i.has(s))||(i.add(s),a.push(s))}for(var f=0,p=o;f<p.length;f++){var s=p[f],l;(l=i.has(s))||(i.add(s),a.push(s))}return a}function M(e,t){var n=[],r=x(e,t,!1);if(I(r))return n;for(var o,i=J(r.keys()),a=0;;){var u=Z(i);if(!u)return n.length=a,n;var c=Q(u);try{n[a]=c}catch(e){try{ee(i)}finally{throw e}}a++}}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function I(e){return void 0===e}function B(e){return null===e}function V(e){return"symbol"==typeof e}function F(e){return"object"==typeof e?null!==e:"function"==typeof e}function G(e,t){switch(D(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=q(e,o);if(void 0!==r){var i=r.call(e,n);if(F(i))throw new TypeError;return i}return H(e,"default"===n?"number":n)}function H(e,t){if("string"===t){var n=e.toString,r,o,r;if(X(n))if(!F(r=n.call(e)))return r;if(X(o=e.valueOf))if(!F(r=o.call(e)))return r}else{var o,r;if(X(o=e.valueOf))if(!F(r=o.call(e)))return r;var i=e.toString,r;if(X(i))if(!F(r=i.call(e)))return r}throw new TypeError}function U(e){return!!e}function z(e){return""+e}function W(e){var t=G(e,3);return V(t)?t:z(t)}function $(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function X(e){return"function"==typeof e}function Y(e){return"function"==typeof e}function K(e){switch(D(e)){case 3:case 4:return!0;default:return!1}}function q(e,t){var n=e[t];if(null!=n){if(!X(n))throw new TypeError;return n}}function J(e){var t=q(e,i);if(!X(t))throw new TypeError;var n=t.call(e);if(!F(n))throw new TypeError;return n}function Q(e){return e.value}function Z(e){var t=e.next();return!t.done&&t}function ee(e){var t=e.return;t&&t.call(e)}function te(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function ne(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function re(){return function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function oe(){var e=16,t=s.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&s.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?s.get(t,this._key):void 0},e.prototype.set=function(e,t){var n;return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(s.has(t,e));return t[e]=!0,e}function i(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:s.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function u(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function c(){var e=u(16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var r=e[n];4!==n&&6!==n&&8!==n||(t+="-"),r<16&&(t+="0"),t+=r.toString(16).toLowerCase()}return t}}function ie(e){return e.__=void 0,delete e.__,e}t("decorate",y),t("metadata",m),t("defineMetadata",b),t("hasMetadata",g),t("hasOwnMetadata",w),t("getMetadata",O),t("getOwnMetadata",j),t("getMetadataKeys",S),t("getOwnMetadataKeys",E),t("deleteMetadata",k)}))}(n||(n={}))}).call(this,n(33),n(32))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nameSymbol=void 0,t.nameSymbol=Symbol("className")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRefMap=void 0;var r=n(23),o=n(13);function i(e,t){void 0===t&&(t={});var n=t;function i(e){var t=(0,r.symbolString)((0,r.getGlobalType)(e));if(!n[t]){var a=n[t]={count:0,deps:[]};(0,o.getMetadataField)(e,"injects").forEach((function(e){var t=(0,r.symbolString)(e.globalType);i(e.typeCls),n[t].count++,a.deps.push({prop:e.key,type:t})}))}}return i(e),n}t.getRefMap=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(80),t),o(n(81),t),o(n(82),t),o(n(83),t),o(n(84),t),o(n(44),t),o(n(85),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classInfo=void 0;var r=n(34),o=n(13),i=n(24);function a(e){return void 0===e&&(e={}),function(t){e.name&&Object.defineProperty(t,r.nameSymbol,{enumerable:!1,writable:!1,configurable:!1,value:e.name}),i.classLoader.hasClass(t)&&i.classLoader.unregisterClass(t),Object.assign((0,o.getMetadata)(t).classInfo,{},e),i.classLoader.registerClass(t)}}t.classInfo=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=void 0;var r=n(22),o=n(13);function i(e){var t=void 0===e?{}:e,n=t.type,i=t.lazy,a=void 0===i||i,u=t.always,c=void 0!==u&&u,s=t.optional,l=void 0!==s&&s,f=t.singleton,p=void 0===f||f;return function(e,t){var i=(0,r.getClsTypeByDecorator)(n,e,t);if(void 0===i||i===Object)throw new Error("CANNOT inject undefined! source: ".concat(e.constructor.name,".").concat(t.toString()));(0,o.getMetadata)(e.constructor).injects.push({key:t,globalType:(0,r.getGlobalTypeByDecorator)(n,e,t),type:a?"lazyInject":"inject",always:c,typeCls:i,optional:l,singleton:p})}}t.inject=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(24);function o(){return function(e){r.classLoader.hasClass(e)||r.classLoader.registerClass(e)}}t.injectable=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imports=void 0;var r=n(22),o=n(13);function i(e){var t=e.type,n=e.always,i=void 0!==n&&n;return function(e,n){(0,o.getMetadata)(e.constructor).injects.push({key:n,globalType:(0,r.getGlobalType)(t),type:"imports",always:i,typeCls:t})}}t.imports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(13);function o(){return function(e,t){(0,r.getMetadata)(e.constructor).postConstruct.push({key:t})}}t.postConstruct=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preDestroy=void 0;var r=n(13);function o(){return function(e,t){(0,r.getMetadata)(e.constructor).preDestroy.push({key:t})}}t.preDestroy=o},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";const r=n(97),o=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),u=Symbol("allowStale"),c=Symbol("maxAge"),s=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),d=()=>1;class v{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");const t=this[o]=e.max||1/0,n=e.length||d;if(this[a]="function"!=typeof n?d:n,this[u]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[s]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,b(this)}get max(){return this[o]}set allowStale(e){this[u]=!!e}get allowStale(){return this[u]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,b(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[a]&&(this[a]=e,this[i]=0,this[f].forEach(e=>{e.length=this[a](e.value,e.key),this[i]+=e.length})),b(this)}get lengthCalculator(){return this[a]}get length(){return this[i]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let n=this[f].tail;null!==n;){const r=n.prev;O(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[f].head;null!==n;){const r=n.next;O(this,e,n,t),n=r}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[s]&&this[f]&&this[f].length&&this[f].forEach(e=>this[s](e.key,e.value)),this[p]=new Map,this[f]=new r,this[i]=0}dump(){return this[f].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,u=this[a](t,e);if(this[p].has(e)){if(u>this[o])return g(this,this[p].get(e)),!1;const a=undefined,c=this[p].get(e).value;return this[s]&&(this[l]||this[s](e,c.value)),c.now=r,c.maxAge=n,c.value=t,this[i]+=u-c.length,c.length=u,this.get(e),b(this),!0}const h=new w(e,t,u,r,n);return h.length>this[o]?(this[s]&&this[s](e,t),!1):(this[i]+=h.length,this[f].unshift(h),this[p].set(e,this[f].head),b(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!m(this,t)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){const e=this[f].tail;return e?(g(this,e),e.value):null}del(e){g(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{const e=o-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[p].forEach((e,t)=>y(this,t,!1))}}const y=(e,t,n)=>{const r=e[p].get(t);if(r){const t=r.value;if(m(e,t)){if(g(e,r),!e[u])return}else n&&(e[h]&&(r.value.now=Date.now()),e[f].unshiftNode(r));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},b=e=>{if(e[i]>e[o])for(let t=e[f].tail;e[i]>e[o]&&null!==t;){const n=t.prev;g(e,t),t=n}},g=(e,t)=>{if(t){const n=t.value;e[s]&&e[s](n.key,n.value),e[i]-=n.length,e[p].delete(n.key),e[f].removeNode(t)}};class w{constructor(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}}const O=(e,t,n,r)=>{let o=n.value;m(e,o)&&(g(e,n),e[u]||(o=void 0)),o&&t.call(r,o.value,o.key,e)};e.exports=v},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function o(e,t,n){var r=t===e.head?new u(n,null,t,e):new u(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function i(e,t){e.tail=new u(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new u(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function u(e,t,n,r){if(!(this instanceof u))return new u(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=u,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(var a=[],r=0;i&&r<t;r++)a.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=o(this,i,n[r]);return a},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(98)(r)}catch(e){}},function(e,t,n){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,n){const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),s("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(e){const t=this.options.loose?a[u.COMPARATORLOOSE]:a[u.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(s("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new f(e.value,t).test(this.value):""===e.operator?""===e.value||new f(this.value,t).test(e.semver):(!(t=i(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=o;const i=n(35),{safeRe:a,t:u}=n(36),c=n(100),s=n(26),l=n(38),f=n(46)},function(e,t,n){const r=n(101),o=n(103),i=n(104),a=n(105),u=n(106),c=n(107),s=(e,t,n,s)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,s);case"!=":return o(e,n,s);case">":return i(e,n,s);case">=":return a(e,n,s);case"<":return u(e,n,s);case"<=":return c(e,n,s);default:throw new TypeError("Invalid operator: "+t)}};e.exports=s},function(e,t,n){const r=n(19),o=(e,t,n)=>0===r(e,t,n);e.exports=o},function(e,t){const n=/^[0-9]+$/,r=(e,t)=>{const r=n.test(e),o=n.test(t);return r&&o&&(e=+e,t=+t),e===t?0:r&&!o?-1:o&&!r?1:e<t?-1:1},o=(e,t)=>r(t,e);e.exports={compareIdentifiers:r,rcompareIdentifiers:o}},function(e,t,n){const r=n(19),o=(e,t,n)=>0!==r(e,t,n);e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)>0;e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)>=0;e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)<0;e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)<=0;e.exports=o},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=window.AliLowCodeEngineExt},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"skeleton",(function(){return QD})),n.d(t,"plugins",(function(){return uI})),n.d(t,"project",(function(){return JD})),n.d(t,"setters",(function(){return eI})),n.d(t,"material",(function(){return tI})),n.d(t,"config",(function(){return nI})),n.d(t,"event",(function(){return rI})),n.d(t,"logger",(function(){return oI})),n.d(t,"hotkey",(function(){return qD})),n.d(t,"common",(function(){return iI})),n.d(t,"workspace",(function(){return zD})),n.d(t,"canvas",(function(){return aI})),n.d(t,"isOpenSource",(function(){return lI})),n.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return fI})),n.d(t,"version",(function(){return hI})),n.d(t,"init",(function(){return vI})),n.d(t,"destroy",(function(){return mI}));var r={};n.r(r),n.d(r,"Project",(function(){return Wb})),n.d(r,"Skeleton",(function(){return wg})),n.d(r,"DocumentModel",(function(){return hw})),n.d(r,"Node",(function(){return qw})),n.d(r,"NodeChildren",(function(){return ww})),n.d(r,"History",(function(){return rm})),n.d(r,"SettingPropEntry",(function(){return Pw})),n.d(r,"SettingTopEntry",(function(){return Aw})),n.d(r,"Selection",(function(){return qy})),n.d(r,"Prop",(function(){return Dy})),n.d(r,"SimulatorHost",(function(){return Rb})),n.d(r,"SkeletonItem",(function(){return cg})),n.d(r,"InnerNode",(function(){return Je}));var o=n(3),i=n.n(o),a=n(10),u=n(1),c=n(4),s=n(0),l=n(2),f,p,h;function d(e){return b(e)||m(e)||y(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function m(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){try{var t={worksWithoutQuotes:!1};return new Function("ctx","ctx.worksWithoutQuotes = {".concat(e,": true}['").concat(e,"']"))(),!t.worksWithoutQuotes}catch(e){return!0}}function j(e,t){var n;return t.doubleQuote?'"'.concat(e.replace(/"/g,'\\"'),'"'):"'".concat(e.replace(/'/g,"\\'"),"'")}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.circularReferenceToken,r=void 0===n?"CIRCULAR_REFERENCE":n,o=t.doubleQuote,i=void 0===o||o,a=t.includeFunctions,u=void 0===a||a,c=t.includeUndefinedProperties,s=void 0!==c&&c,l=t.indentLevel,f=void 0===l?0:l,p=t.indentString,h=void 0===p?"  ":p,v=t.lineEnding,y=void 0===v?"\n":v,m=t.visitedObjects,b=void 0===m?new Set:m;switch(w(e)){case"boolean":return"".concat(h.repeat(f),e?"true":"false");case"function":return u?"".concat(h.repeat(f)).concat(e):null;case"number":return"".concat(h.repeat(f)).concat(e);case"object":if(!e)return"".concat(h.repeat(f),"null");if(b.has(e))return"".concat(h.repeat(f)).concat(r);if(e instanceof Date)return"".concat(h.repeat(f),"new Date(").concat(j(e.toISOString(),{doubleQuote:i}),")");if(e instanceof Map)return e.size?"".concat(h.repeat(f),"new Map(").concat(S(d(e),{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f,indentString:h,lineEnding:y,visitedObjects:new Set([e].concat(d(b)))}).slice(f*h.length),")"):"".concat(h.repeat(f),"new Map()");if(e instanceof RegExp)return"".concat(h.repeat(f),"/").concat(e.source,"/").concat(e.flags);if(e instanceof Set)return e.size?"".concat(h.repeat(f),"new Set(").concat(S(d(e),{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f,indentString:h,lineEnding:y,visitedObjects:new Set([e].concat(d(b)))}).slice(f*h.length),")"):"".concat(h.repeat(f),"new Set()");if(Array.isArray(e)){if(!e.length)return"".concat(h.repeat(f),"[]");var g=e.every((function(t){return"object"===w(t)&&t&&!(t instanceof Date)&&!(t instanceof Map)&&!(t instanceof RegExp)&&!(t instanceof Set)&&(Object.keys(t).length||1===e.length)})),E=null;return e=e.reduce((function(t,n,o){if(null!==E)for(var a=o-E-1;a>0;a-=1)t.push(h.repeat(f+1));return E=o,null===(n=S(n,{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:g?f:f+1,indentString:h,lineEnding:y,visitedObjects:new Set([e].concat(d(b)))}))?t.push(h.repeat(f+1)):g?t.push(n.slice(f*h.length)):t.push(n),t}),[]),g?"".concat(h.repeat(f),"[").concat(e.join(", "),"]"):"".concat(h.repeat(f),"[").concat(y).concat(e.join(",".concat(y))).concat(y).concat(h.repeat(f),"]")}return(e=Object.keys(e).reduce((function(t,n){var o=e[n],a=void 0!==o||s?S(e[n],{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f+1,indentString:h,lineEnding:y,visitedObjects:new Set([e].concat(d(b)))}):null;if(a){var c=O(n)?j(n,{doubleQuote:i}):n,l=a.slice((f+1)*h.length);"function"==typeof o&&l.startsWith("".concat(n,"()"))?t.push("".concat(h.repeat(f+1)).concat(c," ").concat(l.slice(n.length))):t.push("".concat(h.repeat(f+1)).concat(c,": ").concat(l))}return t}),[])).length?"".concat(h.repeat(f),"{").concat(y).concat(e.join(",".concat(y))).concat(y).concat(h.repeat(f),"}"):"".concat(h.repeat(f),"{}");case"string":return"".concat(h.repeat(f)).concat(j(e,{doubleQuote:i}));case"symbol":var k=Symbol.keyFor(e);return"string"==typeof k?"".concat(h.repeat(f),"Symbol.for(").concat(j(k,{doubleQuote:i}),")"):(k=e.toString().slice(7,-1))?"".concat(h.repeat(f),"Symbol(").concat(j(k,{doubleQuote:i}),")"):"".concat(h.repeat(f),"Symbol()");case"undefined":default:return"".concat(h.repeat(f),"undefined")}}function E(e){if(e&&e.__source)return e.__source;var t=S(e);if("undefined"===t&&(t=""),e)try{e.__source=t}catch(e){console.error(e)}return t}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}function L(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e){var t=A(e,"string");return"symbol"==k(t)?t:String(t)}function A(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var M=u.mobx.set,D=u.mobx.isObservableArray,I=Symbol.for("unset");f=Symbol.iterator;var B=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};N(this,e),this.parent=void 0,this.isProp=!0,this.owner=void 0,this.key=void 0,this.spread=void 0,this.props=void 0,this.options=void 0,this.id=Object(l.db)("prop$"),this._type="unset",this._value=I,this._code=null,this._slotNode=void 0,this._items=null,this._maps=null,this.purged=!1,this.parent=t,Object(u.makeObservable)(this),this.owner=t.owner,this.props=t.props,this.key=r,this.spread=o,this.options=i,n!==I&&this.setValue(n),this.setupItems()}return L(e,[{key:"type",get:function e(){return this._type}},{key:"value",get:function e(){return this.export(c.h.Serilize)}},{key:"code",get:function e(){return Object(l.H)(this.value)?this.value.value:"slot"===this.type?JSON.stringify(this._slotNode.export(c.h.Save)):null!=this._code?this._code:JSON.stringify(this.value)},set:function e(t){if(Object(l.H)(this._value))return this.setValue(P(P({},this._value),{},{value:t})),void(this._code=t);try{var n=JSON.parse(t);return this.setValue(n),void(this._code=t)}catch(e){}this.setValue({type:"JSExpression",value:t,mock:this._value}),this._code=t}},{key:"slotNode",get:function e(){return this._slotNode||null}},{key:"items",get:function t(){var n=this;return this._items?this._items:Object(u.runInAction)((function(){var t=null;if("list"===n._type){var r=new Map,o;n._value.forEach((function(o,i){var a,u;t=t||[],null!==(a=n._maps)&&void 0!==a&&a.has(i.toString())?(u=n._maps.get(i.toString())).setValue(o):u=new e(n,o,i),r.set(i.toString(),u),t.push(u)})),n._maps=r}else if("map"===n._type){for(var i=n._value,a=new Map,u,c=0,s=Object.keys(i);c<s.length;c++){var l,f=s[c],p=void 0;null!==(l=n._maps)&&void 0!==l&&l.has(f)?(p=n._maps.get(f)).setValue(i[f]):p=new e(n,i[f],f),(t=t||[]).push(p),a.set(f,p)}n._maps=a}else t=null,n._maps=null;return n._items=t,n._items}))}},{key:"maps",get:function e(){return this.items?this._maps:null}},{key:"path",get:function e(){return(this.parent.path||[]).concat(this.key)}},{key:"size",get:function e(){var t;return(null===(t=this.items)||void 0===t?void 0:t.length)||0}},{key:"setupItems",value:function e(){return this.items}},{key:"getPropValue",value:function e(t){return this.get(t).getValue()}},{key:"setPropValue",value:function e(t,n){this.set(t,n)}},{key:"clearPropValue",value:function e(t){var n;null===(n=this.get(t,!1))||void 0===n||n.unset()}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.h.Save;t=Object(l.k)(t);var n=this._type;if(t===c.h.Render&&"___condition___"===this.key)return!0!==(null===u.engineConfig||void 0===u.engineConfig?void 0:u.engineConfig.get("enableCondition"))||this._value;if("unset"!==n){if("literal"===n||"expression"===n)return this._value;if("slot"===n){var r,o=(null===(r=this._slotNode)||void 0===r?void 0:r.export(t))||{};return t===c.h.Render?{type:"JSSlot",params:o.params,value:o,id:o.id}:{type:"JSSlot",params:o.params,value:o.children,title:o.title,name:o.name,id:o.id}}var i;return"map"===n?this._items?(this.items.forEach((function(e,n){if(!e.isUnset()){var r=e.export(t);null!=r&&((i=i||{})[e.key||n]=r)}})),i):this._value:"list"===n?this._items?this.items.map((function(e){return null==e?void 0:e.export(t)})):this._value:void 0}}},{key:"getAsString",value:function e(){return"literal"===this.type&&this._value?String(this._value):""}},{key:"setValue",value:function e(t){var n;if(t!==this._value){var r=null===(n=this.owner.document)||void 0===n?void 0:n.designer.editor,o=this._value;this._value=t,this._code=null;var i=k(t);if(null==t||"string"===i||"number"===i||"boolean"===i?this._type="literal":Array.isArray(t)?this._type="list":Object(l.P)(t)?Object(l.J)(t)?this.setAsSlot(t):Object(l.H)(t)?this._type="expression":this._type="map":(this._type="expression",this._value={type:"JSExpression",value:S(t)}),this.dispose(),this.setupItems(),o!==this._value){var a,u,s={key:this.key,prop:this,oldValue:o,newValue:this._value};null==r||r.eventBus.emit(c.e.Node.Prop.InnerChange,P({node:this.owner},s)),null===(a=this.owner)||void 0===a||null===(u=a.emitPropChange)||void 0===u||u.call(a,s)}}}},{key:"getValue",value:function e(){return this.export(c.h.Serilize)}},{key:"dispose",value:function e(){var t=this,n=Object(u.untracked)((function(){return t._items}));n&&n.forEach((function(e){return e.purge()})),this._items=null,"slot"!==this._type&&this._slotNode&&(this._slotNode.remove(),this._slotNode=void 0)}},{key:"setAsSlot",value:function e(t){var n,r;if(this._type="slot",Object(l.P)(t.value)&&Object(l.O)(t.value)&&"Slot"===(null===(n=t.value)||void 0===n?void 0:n.componentName)){var o,i,a,u=t.value;r={componentName:"Slot",title:u.title||(null===(o=u.props)||void 0===o?void 0:o.slotTitle),id:u.id,name:u.name||(null===(i=u.props)||void 0===i?void 0:i.slotName),params:u.params||(null===(a=u.props)||void 0===a?void 0:a.slotParams),children:u.children}}else r={componentName:"Slot",title:t.title,id:t.id,name:t.name,params:t.params,children:t.value};if(this._slotNode)this._slotNode.import(r);else{var c,s=this.props.owner;this._slotNode=null===(c=s.document)||void 0===c?void 0:c.createNode(r),this._slotNode&&(s.addSlot(this._slotNode),this._slotNode.internalSetSlotFor(this))}}},{key:"unset",value:function e(){this._type="unset"}},{key:"isUnset",value:function e(){return"unset"===this._type}},{key:"isVirtual",value:function e(){return"string"==typeof this.key&&"!"===this.key.charAt(0)}},{key:"compare",value:function e(t){return!t||t.isUnset()?this.isUnset()?0:2:t.type!==this.type?2:"list"===this.type?this.size===t.size?1:2:"map"===this.type?1:this.code===t.code?0:2}},{key:"get",value:function t(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this._type;if("map"!==o&&"list"!==o&&"unset"!==o&&!r)return null;var i="map"===o?this.maps:null,a="list"===o?this.items:null,u=n,c="",s;if("number"!=typeof n){var l=n.indexOf(".");l>0&&(c=n.slice(l+1))&&(u=n.slice(0,l))}return"list"===o?U(u,this.size)&&(s=a[u]):"map"===o&&(s=null==i?void 0:i.get(u)),s?c?s.get(c,r):s:r?(s=new e(this,I,u),this.set(u,s,!0),c?s.get(c,!0):s):null}},{key:"remove",value:function e(){this.parent.delete(this)}},{key:"delete",value:function e(t){if(this._items){var n=this._items.indexOf(t);n>-1&&(this._items.splice(n,1),t.purge()),this._maps&&t.key&&this._maps.delete(String(t.key))}}},{key:"deleteKey",value:function e(t){if(this.maps){var n=this.maps.get(t);n&&this.delete(n)}}},{key:"add",value:function t(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this._type;if("list"!==o&&"unset"!==o&&!r)return null;("unset"===o||r&&"list"!==o)&&this.setValue([]);var i=new e(this,n);return this._items=this._items||[],this._items.push(i),i}},{key:"set",value:function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._type;if("map"!==i&&"list"!==i&&"unset"!==i&&!o)return null;("unset"===i||o&&"map"!==i)&&(U(n)?"list"!==i&&this.setValue([]):this.setValue({}));var a=H(r)?r:new e(this,r,n),u=this._items||[];if("list"===this.type){if(!U(n))return null;D(u)?M(u,n,a):u[n]=a,this._items=u}else{if("map"!==this.type)return null;var c=this._maps||new Map,s=null==c?void 0:c.get(n);if(s){var l=u.indexOf(s);l>-1&&u.splice(l,1,a)[0].purge(),null==c||c.set(n,a)}else u.push(a),this._items=u,null==c||c.set(n,a);this._maps=c}return a}},{key:"has",value:function e(t){return"map"===this._type&&(this._maps?this._maps.has(t):Object(l.t)(this._value,t))}},{key:"purge",value:function e(){this.purged||(this.purged=!0,this._items&&this._items.forEach((function(e){return e.purge()})),this._items=null,this._maps=null,this._slotNode&&this._slotNode.slotFor===this&&(this._slotNode.remove(),this._slotNode=void 0))}},{key:f,value:function e(){var t=0,n=this.items,r=(null==n?void 0:n.length)||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){var n=this.items;if(n){var r="map"===this._type;n.forEach((function(e,n){return t(e,r?e.key:n)}))}}},{key:"map",value:function e(t){var n=this.items;if(!n)return null;var r="map"===this._type;return n.map((function(e,n){return t(e,r?e.key:n)}))}},{key:"getProps",value:function e(){return this.props}},{key:"getNode",value:function e(){return this.owner}}]),e}(),V,F,G;function H(e){return e&&e.isProp}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=parseFloat(String(e));return n>=0&&Math.floor(n)===n&&isFinite(n)&&(t<0||n<t)}function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}function X(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y(e){var t=K(e,"string");return"symbol"==z(t)?t:String(t)}function K(e,t){if("object"!=z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx,Object(s.d)("design:type",Object)],B.prototype,"key",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Boolean)],B.prototype,"spread",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",String)],B.prototype,"_type",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],B.prototype,"_value",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],B.prototype,"value",null),Object(s.b)([u.computed,Object(s.d)("design:type",String),Object(s.d)("design:paramtypes",[String])],B.prototype,"code",null),Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Object)],B.prototype,"_items",void 0),Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Object)],B.prototype,"_maps",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],B.prototype,"maps",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],B.prototype,"setupItems",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",Object)],B.prototype,"getPropValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],B.prototype,"setPropValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],B.prototype,"clearPropValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],B.prototype,"setValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],B.prototype,"dispose",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],B.prototype,"setAsSlot",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],B.prototype,"unset",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],B.prototype,"isUnset",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",Object)],B.prototype,"get",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],B.prototype,"remove",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],B.prototype,"delete",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String]),Object(s.d)("design:returntype",void 0)],B.prototype,"deleteKey",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",Object)],B.prototype,"add",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object,Object]),Object(s.d)("design:returntype",void 0)],B.prototype,"set",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],B.prototype,"purge",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Function]),Object(s.d)("design:returntype",void 0)],B.prototype,"forEach",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Function]),Object(s.d)("design:returntype",Object)],B.prototype,"map",null);var q="___";function J(e){if(!e)return"";var t=e;return e.indexOf(".")>0&&(t=e.split(".")[0]),"___"+t+"___"+e.slice(t.length)}function Q(e){return e.replace(new RegExp("".concat("___"),"g"),"")}V=Symbol.iterator;var Z=function(){function e(t,n,r){var o=this;W(this,e),this.id=Object(l.db)("props"),this.items=[],this.path=[],this.owner=void 0,this.type="map",this.purged=!1,Object(u.makeObservable)(this),this.owner=t,Array.isArray(n)?(this.type="list",this.items=n.map((function(e,t){return new B(o,e.value,e.name||t,e.spread)}))):null!=n&&(this.items=Object.keys(n).map((function(e){return new B(o,n[e],e,!1)}))),r&&Object.keys(r).forEach((function(e){o.items.push(new B(o,r[e],J(e)))}))}return X(e,[{key:"maps",get:function e(){var t=new Map;return this.items.length>0&&this.items.forEach((function(e){e.key&&t.set(e.key,e)})),t}},{key:"props",get:function e(){return this}},{key:"size",get:function e(){return this.items.length}},{key:"import",value:function e(t,n){var r=this,o=this.items;Array.isArray(t)?(this.type="list",this.items=t.map((function(e,t){return new B(r,e.value,e.name||t,e.spread)}))):null!=t?(this.type="map",this.items=Object.keys(t).map((function(e){return new B(r,t[e],e)}))):(this.type="map",this.items=[]),n&&Object.keys(n).forEach((function(e){r.items.push(new B(r,n[e],J(e)))})),o.forEach((function(e){return e.purge()}))}},{key:"merge",value:function e(t,n){var r=this;Object.keys(t).forEach((function(e){r.query(e,!0).setValue(t[e]),r.query(e,!0).setupItems()})),n&&Object.keys(n).forEach((function(e){r.query(J(e),!0).setValue(n[e]),r.query(J(e),!0).setupItems()}))}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.h.Save;if(t=Object(l.k)(t),this.items.length<1)return{};var n={},r={},o={};if("list"===this.type)r=[],this.items.forEach((function(e){var n=e.export(t),i=e.key;i&&"string"==typeof i&&i.startsWith("___")?(i=Q(i),o[i]=n):r.push({spread:e.spread,name:i,value:n})}));else{this.items.forEach((function(e){var r=e.key;if(null!=r&&!e.isUnset()&&!e.isVirtual()){var o=e.export(t);null!=o&&(n[r]=o)}}));var i=this.transformToStatic(n);Object.keys(i).forEach((function(e){var t=i[e];"string"==typeof e&&e.startsWith("___")?(e=Q(e),o[e]=t):r[e]=t}))}return{props:r,extras:o}}},{key:"transformToStatic",value:function e(t){var n,r,o,i=null===(n=this.owner.componentMeta)||void 0===n||null===(r=n.prototype)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.transducers;return i?(Array.isArray(i)||(i=[i]),t=i.reduce((function(e,t){return t&&"function"==typeof t.toStatic?t.toStatic(e):e}),t)):t}},{key:"query",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.get(t,n)}},{key:"get",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t,o="",i=t.indexOf(".");i>0&&(o=t.slice(i+1))&&(r=t.slice(0,i));var a=this.maps.get(r);return!a&&n&&(a=new B(this,I,r),this.items.push(a)),a?o?a.get(o,n):a:null}},{key:"delete",value:function e(t){var n=this.items.indexOf(t);n>-1&&(this.items.splice(n,1),t.purge())}},{key:"deleteKey",value:function e(t){var n=this;this.items=this.items.filter((function(e,r){return e.key!==t||(e.purge(),n.items.splice(r,1),!1)}))}},{key:"add",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new B(this,t,n,r,o);return this.items.push(i),i}},{key:"has",value:function e(t){return this.maps.has(t)}},{key:V,value:function e(){var t=0,n=this.items,r=n.length||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){this.items.forEach((function(e){return t(e,e.key)}))}},{key:"map",value:function e(t){return this.items.map((function(e){return t(e,e.key)}))}},{key:"filter",value:function e(t){return this.items.filter((function(e){return t(e,e.key)}))}},{key:"purge",value:function e(){this.purged||(this.purged=!0,this.items.forEach((function(e){return e.purge()})))}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.query(t,n)||null}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.value}},{key:"setPropValue",value:function e(t,n){this.getProp(t,!0).setValue(n)}},{key:"getNode",value:function e(){return this.owner}},{key:"toData",value:function e(){var t;return null===(t=this.export())||void 0===t?void 0:t.props}}]),e}(),ee,te;function ne(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.length-1;o>=0;o--)t.call(r,n(e,o))}function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return(t=le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,le(r.key),r)}}function se(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function le(e){var t=fe(e,"string");return"symbol"==re(t)?t:String(t)}function fe(e,t){if("object"!=re(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],Z.prototype,"items",void 0),Object(s.b)([u.computed,Object(s.d)("design:type","function"==typeof(F="undefined"!=typeof Map&&Map)?F:Object),Object(s.d)("design:paramtypes",[])],Z.prototype,"maps",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Z.prototype,"size",null),Object(s.b)([u.obx,Object(s.d)("design:type",String)],Z.prototype,"type",void 0),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],Z.prototype,"import",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],Z.prototype,"merge",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String,Object]),Object(s.d)("design:returntype",Object)],Z.prototype,"query",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String,Object]),Object(s.d)("design:returntype",Object)],Z.prototype,"get",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],Z.prototype,"delete",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String]),Object(s.d)("design:returntype",void 0)],Z.prototype,"deleteKey",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object,Object,Object]),Object(s.d)("design:returntype",Object)],Z.prototype,"add",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Function]),Object(s.d)("design:returntype",void 0)],Z.prototype,"forEach",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Function]),Object(s.d)("design:returntype",Object)],Z.prototype,"map",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Function]),Object(s.d)("design:returntype",void 0)],Z.prototype,"filter",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],Z.prototype,"purge",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String,Object]),Object(s.d)("design:returntype",Object)],Z.prototype,"getProp",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String]),Object(s.d)("design:returntype",Object)],Z.prototype,"getPropValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String,Object]),Object(s.d)("design:returntype",void 0)],Z.prototype,"setPropValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],Z.prototype,"toData",null),ee=Symbol.toStringTag,te=Symbol.iterator;var pe=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ue(this,e),this.owner=void 0,this.children=void 0,this.emitter=Object(u.createModuleEventBus)("NodeChildren"),this.purged=!1,this.owner=t,Object(u.makeObservable)(this),this.children=(Array.isArray(n)?n:[n]).filter((function(e){return!!e})).map((function(e){var t;return null===(t=r.owner.document)||void 0===t?void 0:t.createNode(e,o.checkId)}))}return se(e,[{key:"size",get:function e(){return this.children.length}},{key:"isEmptyNode",get:function e(){return this.size<1}},{key:"notEmptyNode",get:function e(){return this.size>0}},{key:"length",get:function e(){return this.children.length}},{key:ee,get:function e(){return"Array"}},{key:"internalInitParent",value:function e(){var t=this;this.children.forEach((function(e){return e.internalSetParent(t.owner)}))}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.h.Save;return t=Object(l.k)(t),this.children.map((function(e){var n=e.export(t);return e.isLeafNode&&c.h.Save===t?n.children:n}))}},{key:"import",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=(t?Array.isArray(t)?t:[t]:[]).filter((function(e){return!!e}));var r=this.children.slice();this.children.forEach((function(e){return e.internalSetParent(null)}));for(var o=new Array(t.length),i=0,a=t.length;i<a;i++){var u=r[i],c=t[i],s=void 0,f;if(Object(l.O)(c)&&!n&&u&&u.componentName===c.componentName)(s=u).import(c);else s=null===(f=this.owner.document)||void 0===f?void 0:f.createNode(c,n);o[i]=s}this.children=o,this.internalInitParent(),Object(l.ab)(o,r)||this.emitter.emit("change")}},{key:"concat",value:function e(t){return this.children.concat(t)}},{key:"isEmpty",value:function e(){return this.isEmptyNode}},{key:"notEmpty",value:function e(){return this.notEmptyNode}},{key:"purge",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.purged||(this.purged=!0,this.children.forEach((function(e){e.purge(t)})))}},{key:"unlinkChild",value:function e(t){var n=this.children.map((function(e){return e.id})).indexOf(t.id);if(n<0)return!1;this.children.splice(n,1),this.emitter.emit("change",{type:"unlink",node:t})}},{key:"delete",value:function e(t){return this.internalDelete(t)}},{key:"internalDelete",value:function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.internalPurgeStart(),t.isParentalNode&&(ne(t.children,(function(e){e.remove(o,r,i)}),(function(e,t){return e.get(t)})),ne(t.slots,(function(e){e.remove(o,r)}),(function(e,t){return e[t]})));var a=this.children.map((function(e){return e.id})).indexOf(t.id);if(r){t.internalSetParent(null,o);try{t.purge()}catch(e){console.error(e)}}var u=t.document,c=null===(n=t.document)||void 0===n?void 0:n.designer.editor;return null==c||c.eventBus.emit("node.remove",{node:t,index:a}),null==u||u.unlinkNode(t),null==u||u.selection.remove(t.id),null==u||u.destroyNode(t),this.emitter.emit("change",{type:"delete",node:t}),o&&this.reportModified(t,this.owner,{type:"remove",propagated:!1,isSubDeleting:this.owner.isPurging,removeIndex:a,removeNode:t}),a>-1&&!r&&this.children.splice(a,1),!1}},{key:"insert",value:function e(t,n){this.internalInsert(t,n,!0)}},{key:"internalInsert",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.children,a=null==n||-1===n?i.length:n,u=i.map((function(e){return e.id})).indexOf(t.id);if(t.parent){var c,s=null===(c=t.document)||void 0===c?void 0:c.designer.editor;null==s||s.eventBus.emit("node.remove.topLevel",{node:t,index:t.index})}if(u<0)a<i.length?i.splice(a,0,t):i.push(t),t.internalSetParent(this.owner,o);else{if(a>u&&(a-=1),a===u)return;i.splice(u,1),i.splice(a,0,t)}this.emitter.emit("change",{type:"insert",node:t}),this.emitter.emit("insert",t);var l=null===(r=t.document)||void 0===r?void 0:r.designer.editor;if(null==l||l.eventBus.emit("node.add",{node:t}),o&&this.reportModified(t,this.owner,{type:"insert"}),t.conditionGroup&&(t.prevSibling&&t.prevSibling.conditionGroup===t.conditionGroup||t.nextSibling&&t.nextSibling.conditionGroup===t.conditionGroup||t.setConditionGroup(null)),t.prevSibling&&t.nextSibling){var f=t.prevSibling.conditionGroup;f&&f===t.nextSibling.conditionGroup&&t.setConditionGroup(f)}}},{key:"indexOf",value:function e(t){return this.children.map((function(e){return e.id})).indexOf(t.id)}},{key:"splice",value:function e(t,n,r){return r?this.children.splice(t,n,r):this.children.splice(t,n)}},{key:"get",value:function e(t){return this.children.length>t?this.children[t]:null}},{key:"has",value:function e(t){return this.indexOf(t)>-1}},{key:te,value:function e(){var t=0,n=this.children,r=n.length||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){this.children.forEach((function(e,n){return t(e,n)}))}},{key:"map",value:function e(t){return this.children.map((function(e,n){return t(e,n)}))}},{key:"every",value:function e(t){return this.children.every((function(e,n){return t(e,n)}))}},{key:"some",value:function e(t){return this.children.some((function(e,n){return t(e,n)}))}},{key:"filter",value:function e(t){return this.children.filter(t)}},{key:"find",value:function e(t){return this.children.find(t)}},{key:"reduce",value:function e(t,n){return this.children.reduce(t,n)}},{key:"reverse",value:function e(){return this.children.reverse()}},{key:"mergeChildren",value:function e(t,n,r){var o=this,i=!1;if(t){var a=this.children.filter(t);a.length>0&&(a.forEach((function(e){var t=o.children.map((function(e){return e.id})).indexOf(e.id);t>-1&&(o.children.splice(t,1),e.remove(!1))})),i=!0)}if(n){var u=n(this.children);u&&u.length>0&&(u.forEach((function(e){var t,n,r=null===(t=o.owner.document)||void 0===t?void 0:t.createNode(e);o.children.push(r),r.internalSetParent(o.owner);var i=null===(n=r.document)||void 0===n?void 0:n.designer.editor;null==i||i.eventBus.emit("node.add",{node:r})})),i=!0)}r&&(this.children=this.children.sort(r),i=!0),i&&this.emitter.emit("change")}},{key:"onChange",value:function e(t){var n=this;return this.emitter.on("change",t),function(){n.emitter.removeListener("change",t)}}},{key:"onInsert",value:function e(t){var n=this;return this.emitter.on("insert",t),function(){n.emitter.removeListener("insert",t)}}},{key:"reportModified",value:function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&!t.isRootNode){var i=null===(r=n.componentMeta)||void 0===r?void 0:r.advanced.callbacks;if(null!=i&&i.onSubtreeModified)try{null==i||i.onSubtreeModified.call(t.internalToShellNode(),n.internalToShellNode(),o)}catch(e){console.error("error when execute advanced.callbacks.onSubtreeModified",e)}n.parent&&!n.parent.isRootNode&&this.reportModified(t,n.parent,ie(ie({},o),{},{propagated:!0}))}}}]),e}();Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],pe.prototype,"children",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[])],pe.prototype,"size",null),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[])],pe.prototype,"length",null);var he=n(54),de=n(55),ve=Object(u.createIntl)({"en-US":he,"zh-CN":de}),ye=ve.intl,me=ve.intlNode,be=ve.getLocale,ge=ve.setLocale;function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ee(r.key),r)}}function Se(e,t,n){return t&&je(e.prototype,t),n&&je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ee(e){var t=ke(e,"string");return"symbol"==we(t)?t:String(t)}function ke(e,t){if("object"!=we(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _e=function(){function e(t,n){Oe(this,e),this.name=void 0,this.isExclusiveGroup=!0,this.id=Object(l.db)("exclusive"),this.title=void 0,this.children=[],this.visibleIndex=0,this.name=t,Object(u.makeObservable)(this),this.title=n||{type:"i18n",intl:ye("Condition Group")}}return Se(e,[{key:"document",get:function e(){return this.visibleNode.document}},{key:"zLevel",get:function e(){return this.visibleNode.zLevel}},{key:"length",get:function e(){return this.children.length}},{key:"visibleNode",get:function e(){return this.children[this.visibleIndex]}},{key:"firstNode",get:function e(){return this.children[0]}},{key:"index",get:function e(){return this.firstNode.index}},{key:"add",value:function e(t){var n;if(t.nextSibling&&(null===(n=t.nextSibling.conditionGroup)||void 0===n?void 0:n.id)===this.id){var r=this.children.indexOf(t.nextSibling);this.children.splice(r,0,t)}else this.children.push(t)}},{key:"remove",value:function e(t){var n=this.children.indexOf(t);n>-1&&(this.children.splice(n,1),this.visibleIndex>n?this.visibleIndex-=1:this.visibleIndex>=this.children.length&&(this.visibleIndex=this.children.length-1))}},{key:"setVisible",value:function e(t){var n=this.children.indexOf(t);n>-1&&(this.visibleIndex=n)}},{key:"isVisible",value:function e(t){var n;return this.children.indexOf(t)===this.visibleIndex}}]),e}();function Pe(e){return e&&e.isExclusiveGroup}function xe(e,t){var n=e.slots,r;return(void 0===n?[]:n).some((function(e){var n;return t&&t===(null==e||null===(n=e.getExtraProp("name"))||void 0===n?void 0:n.getAsString())}))}function Ne(e,t){var n=e.slots,r=void 0===n?[]:n;return r.some((function(e,n){var o;return!(!t||t!==(null==e||null===(o=e.getExtraProp("name"))||void 0===o?void 0:o.getAsString()))&&(e.remove(),r.splice(n,1),!0)}))}Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],_e.prototype,"children",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],_e.prototype,"visibleIndex",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],_e.prototype,"document",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],_e.prototype,"zLevel",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],_e.prototype,"length",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],_e.prototype,"visibleNode",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],_e.prototype,"firstNode",null);var Ce=l.O,Te=l.F,Le=l.l,Re=l.s,Ae;!function(e){e.NODE_CHILDREN_CHANGE="node.children.change",e.NODE_VISIBLE_CHANGE="node.visible.change"}(Ae||(Ae={}));var Me=["componentName","id","children","props"],De=["componentName","id","children","props"],Ie,Be,Ve;function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return(t=Ke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){if(null==e)return{};var n=We(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function We(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ke(r.key),r)}}function Ye(e,t,n){return t&&Xe(e.prototype,t),n&&Xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ke(e){var t=qe(e,"string");return"symbol"==Fe(t)?t:String(t)}function qe(e,t){if("object"!=Fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Je=function(){function e(t,n){var r=this;$e(this,e),this.document=void 0,this.emitter=void 0,this.isNode=!0,this.id=void 0,this.componentName=void 0,this.props=void 0,this._children=void 0,this._addons={},this._parent=null,this.isInited=!1,this._settingEntry=void 0,this.autoruns=void 0,this._isRGLContainer=!1,this._slotFor=null,this._slots=[],this._conditionGroup=null,this.purged=!1,this.purging=!1,this.status={inPlaceEditing:!1,locking:!1,pseudo:!1},this.document=t,Object(u.makeObservable)(this);var o=n.componentName,i=n.id,a=n.children,c=n.props,s=ze(n,Me);this.id=t.nextId(i),this.componentName=o,"Leaf"===this.componentName?this.props=new Z(this,{children:Object(l.z)(a)||Object(l.H)(a)?a:""}):(this.props=new Z(this,c,s),this._children=new pe(this,this.initialChildren(a)),this._children.internalInitParent(),this.props.merge(this.upgradeProps(this.initProps(c||{})),this.upgradeProps(s)),this.setupAutoruns()),this.initBuiltinProps(),this.isInited=!0,this.emitter=Object(u.createModuleEventBus)("Node");var f=this.document.designer.editor;this.onVisibleChange((function(e){null==f||f.eventBus.emit(Ae.NODE_VISIBLE_CHANGE,r,e)})),this.onChildrenChange((function(e){null==f||f.eventBus.emit(Ae.NODE_CHILDREN_CHANGE,{type:null==e?void 0:e.type,node:r})}))}return Ye(e,[{key:"parent",get:function e(){return this._parent}},{key:"children",get:function e(){return this._children||null}},{key:"zLevel",get:function e(){return this._parent?this._parent.zLevel+1:0}},{key:"title",get:function e(){var t=this.getExtraProp("title");if(t){var n=t.getAsString();if(n)return n}return this.componentMeta.title}},{key:"icon",get:function e(){return this.componentMeta.icon}},{key:"settingEntry",get:function e(){return this._settingEntry||(this._settingEntry=this.document.designer.createSettingEntry([this])),this._settingEntry}},{key:"isRGLContainer",get:function e(){return!!this._isRGLContainer},set:function e(t){this._isRGLContainer=t}},{key:"isRGLContainerNode",get:function e(){return!!this._isRGLContainer},set:function e(t){this._isRGLContainer=t}},{key:"isEmptyNode",get:function e(){return this.isEmpty()}},{key:"slots",get:function e(){return this._slots}},{key:"conditionGroup",get:function e(){return this._conditionGroup}},{key:"isPurged",get:function e(){return this.purged}},{key:"isPurging",get:function e(){return this.purging}},{key:"initBuiltinProps",value:function e(){this.props.has(J("hidden"))||this.props.add(!1,J("hidden")),this.props.has(J("title"))||this.props.add("",J("title")),this.props.has(J("isLocked"))||this.props.add(!1,J("isLocked")),this.props.has(J("condition"))||this.props.add(!0,J("condition")),this.props.has(J("conditionGroup"))||this.props.add("",J("conditionGroup")),this.props.has(J("loop"))||this.props.add(void 0,J("loop"))}},{key:"initProps",value:function e(t){return this.document.designer.transformProps(t,this,c.h.Init)}},{key:"upgradeProps",value:function e(t){return this.document.designer.transformProps(t,this,c.h.Upgrade)}},{key:"setupAutoruns",value:function e(){var t=this,n=this.componentMeta.advanced.autoruns;!n||n.length<1||(this.autoruns=n.map((function(e){return Object(u.autorun)((function(){var n;e.autorun(null===(n=t.props.getNode().settingEntry.get(e.name))||void 0===n?void 0:n.internalToShellField())}))})))}},{key:"initialChildren",value:function e(t){var e=this.componentMeta.advanced.initialChildren;return null==t?e?"function"==typeof e?e(this.internalToShellNode())||[]:e:[]:Array.isArray(t)?t:[t]}},{key:"isContainer",value:function e(){return this.isContainerNode}},{key:"isContainerNode",get:function e(){return this.isParentalNode&&this.componentMeta.isContainer}},{key:"isModal",value:function e(){return this.isModalNode}},{key:"isModalNode",get:function e(){return this.componentMeta.isModal}},{key:"isRoot",value:function e(){return this.isRootNode}},{key:"isRootNode",get:function e(){return this.document.rootNode===this}},{key:"isPage",value:function e(){return this.isPageNode}},{key:"isPageNode",get:function e(){return this.isRootNode&&"Page"===this.componentName}},{key:"isComponent",value:function e(){return this.isComponentNode}},{key:"isComponentNode",get:function e(){return this.isRootNode&&"Component"===this.componentName}},{key:"isSlot",value:function e(){return this.isSlotNode}},{key:"isSlotNode",get:function e(){return null!=this._slotFor&&"Slot"===this.componentName}},{key:"isParental",value:function e(){return this.isParentalNode}},{key:"isParentalNode",get:function e(){return!this.isLeafNode}},{key:"isLeaf",value:function e(){return this.isLeafNode}},{key:"isLeafNode",get:function e(){return"Leaf"===this.componentName}},{key:"internalSetWillPurge",value:function e(){this.internalSetParent(null),this.document.addWillPurge(this)}},{key:"didDropIn",value:function e(t){var n=this.componentMeta.advanced.callbacks;if(null!=n&&n.onNodeAdd){var r=this.internalToShellNode();null==n||n.onNodeAdd.call(r,t.internalToShellNode(),r)}this._parent&&this._parent.didDropIn(t)}},{key:"didDropOut",value:function e(t){var n=this.componentMeta.advanced.callbacks;if(null!=n&&n.onNodeRemove){var r=this.internalToShellNode();null==n||n.onNodeRemove.call(r,t.internalToShellNode(),r)}this._parent&&this._parent.didDropOut(t)}},{key:"internalSetParent",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._parent!==t){var r,o;if(this._parent)if(this.isSlot())this._parent.unlinkSlot(this);else null===(r=this._parent.children)||void 0===r||r.unlinkChild(this);if(n)null===(o=this._parent)||void 0===o||o.didDropOut(this);if(t){if(this._parent=t,this.document.removeWillPurge(this),!this.conditionGroup){var i,a=null===(i=this.getExtraProp("conditionGroup",!1))||void 0===i?void 0:i.getAsString();a&&this.setConditionGroup(a)}n&&t.didDropIn(this)}}}},{key:"internalSetSlotFor",value:function e(t){this._slotFor=t}},{key:"internalToShellNode",value:function e(){return this.document.designer.shellModelFactory.createNode(this)}},{key:"slotFor",get:function e(){return this._slotFor}},{key:"remove",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{suppressRemoveEvent:!1};if(this.parent){var o,i,a,u,c;if(!r.suppressRemoveEvent)null===(o=this.document.designer.editor)||void 0===o||o.eventBus.emit("node.remove.topLevel",{node:this,index:null===(i=this.parent)||void 0===i||null===(a=i.children)||void 0===a?void 0:a.indexOf(this)});if(this.isSlot())this.parent.removeSlot(this),null===(u=this.parent.children)||void 0===u||u.internalDelete(this,n,t,{suppressRemoveEvent:!0});else null===(c=this.parent.children)||void 0===c||c.internalDelete(this,n,t,{suppressRemoveEvent:!0})}}},{key:"lock",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setExtraProp("isLocked",t)}},{key:"isLocked",get:function e(){var t;return!(null===(t=this.getExtraProp("isLocked"))||void 0===t||!t.getValue())}},{key:"canSelect",value:function e(){var t,n,r,o=null===(t=this.componentMeta)||void 0===t||null===(n=t.advanced)||void 0===n||null===(r=n.callbacks)||void 0===r?void 0:r.onSelectHook,e="function"!=typeof o||o(this.internalToShellNode());return e}},{key:"select",value:function e(){this.document.selection.select(this.id)}},{key:"hover",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.document.designer.detecting.capture(this):this.document.designer.detecting.release(this)}},{key:"componentMeta",get:function e(){return this.document.getComponentMeta(this.componentName)}},{key:"propsData",get:function e(){return this.isParental()&&"Fragment"!==this.componentName&&this.props.export(c.h.Serilize).props||null}},{key:"hasSlots",value:function e(){return this._slots.length>0}},{key:"setConditionGroup",value:function e(t){var n=null,r,o,i,a,u,c,s;if(!t)return null===(r=this.getExtraProp("conditionGroup",!1))||void 0===r||r.remove(),void(this._conditionGroup&&(this._conditionGroup.remove(this),this._conditionGroup=null));Pe(t)||((null===(o=this.prevSibling)||void 0===o||null===(i=o.conditionGroup)||void 0===i?void 0:i.name)===t?n=this.prevSibling.conditionGroup:(null===(a=this.nextSibling)||void 0===a||null===(u=a.conditionGroup)||void 0===u?void 0:u.name)===t?n=this.nextSibling.conditionGroup:"string"==typeof t&&(n=new _e(t)));n&&this._conditionGroup!==n&&(null===(c=this.getExtraProp("conditionGroup",!0))||void 0===c||c.setValue(n.name),this._conditionGroup&&this._conditionGroup.remove(this),this._conditionGroup=n,null===(s=n)||void 0===s||s.add(this))}},{key:"isConditionalVisible",value:function e(){var t;return null===(t=this._conditionGroup)||void 0===t?void 0:t.isVisible(this)}},{key:"setConditionalVisible",value:function e(){var t;null===(t=this._conditionGroup)||void 0===t||t.setVisible(this)}},{key:"hasCondition",value:function e(){var t,n=null===(t=this.getExtraProp("condition",!1))||void 0===t?void 0:t.getValue();return null!=n&&""!==n&&!0!==n}},{key:"hasLoop",value:function e(){var t,n=null===(t=this.getExtraProp("loop",!1))||void 0===t?void 0:t.getValue();return null!=n&&(!!Array.isArray(n)||!!Object(l.H)(n))}},{key:"wrapWith",value:function e(t){var n;return this.replaceWith(He(He({},t),{},{children:[this.export()]})).children.get(0)}},{key:"replaceWith",value:function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=Object.assign({},r?this.export():{},t),null===(n=this.parent)||void 0===n?void 0:n.replaceChild(this,t)}},{key:"replaceChild",value:function e(t,n){var r;if(null!==(r=this.children)&&void 0!==r&&r.has(t)){var o=this.document.selection.has(t.id);delete n.id;var i=this.document.createNode(n);return Object(l.N)(i)?(this.insertBefore(i,t,!1),t.remove(!1),o&&this.document.selection.select(i.id),i):null}return t}},{key:"setVisible",value:function e(t){var n;null===(n=this.getExtraProp("hidden"))||void 0===n||n.setValue(!t),this.emitter.emit("visibleChange",t)}},{key:"getVisible",value:function e(){var t;return!(null!==(t=this.getExtraProp("hidden"))&&void 0!==t&&t.getValue())}},{key:"onVisibleChange",value:function e(t){var n=this,r=Object(u.wrapWithEventSwitch)(t);return this.emitter.on("visibleChange",r),function(){n.emitter.removeListener("visibleChange",r)}}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.props.query(t,n)||null}},{key:"getExtraProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.props.get(J(t),n)||null}},{key:"setExtraProp",value:function e(t,n){var r;null===(r=this.getProp(J(t),!0))||void 0===r||r.setValue(n)}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.value}},{key:"setPropValue",value:function e(t,n){this.getProp(t,!0).setValue(n)}},{key:"clearPropValue",value:function e(t){var n;null===(n=this.getProp(t,!1))||void 0===n||n.unset()}},{key:"mergeProps",value:function e(t){this.props.merge(t)}},{key:"setProps",value:function e(t){t instanceof Z?this.props=t:this.props.import(t)}},{key:"index",get:function e(){var t;return this.parent?null===(t=this.parent.children)||void 0===t?void 0:t.indexOf(this):-1}},{key:"nextSibling",get:function e(){var t;if(!this.parent)return null;var n=this.index;return"number"!=typeof n||n<0?null:null===(t=this.parent.children)||void 0===t?void 0:t.get(n+1)}},{key:"prevSibling",get:function e(){var t;if(!this.parent)return null;var n=this.index;return"number"!=typeof n||n<1?null:null===(t=this.parent.children)||void 0===t?void 0:t.get(n-1)}},{key:"schema",get:function e(){return this.export(c.h.Save)},set:function e(t){var n=this;Object(u.runInAction)((function(){return n.import(t)}))}},{key:"import",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.componentName,o=t.id,i=t.children,a=t.props,u=ze(t,De),c;(this.isSlot()&&ne(this.children,(function(e){e.remove(!0,!0)}),(function(e,t){return e.get(t)})),this.isParental())?(this.props.import(a,u),null===(c=this._children)||void 0===c||c.import(i,n)):this.props.get("children",!0).setValue(Object(l.z)(i)||Object(l.H)(i)?i:"")}},{key:"toData",value:function e(){return this.export()}},{key:"export",value:function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.h.Save,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=Object(l.k)(n);var o={componentName:this.componentName};if(n!==c.h.Clone&&(o.id=this.id),n===c.h.Render&&(o.docId=this.document.id),this.isLeaf()){var i;if(!r.bypassChildren)o.children=null===(i=this.props.get("children"))||void 0===i?void 0:i.export(n);return o}var a=this.props.export(n)||{},u=a.props,s=void 0===u?{}:u,f=a.extras,p=He({},f);Object.keys(this._addons).forEach((function(e){var n=t._addons[e];n&&(n.isProp?s[J(e)]=n.exportData():p[e]=n.exportData())}));var h=He(He({},o),{},{props:this.document.designer.transformProps(s,this,n)},this.document.designer.transformProps(p,this,n));return this.isParental()&&this.children&&this.children.size>0&&!r.bypassChildren&&(h.children=this.children.export(n)),h}},{key:"contains",value:function e(t){return rt(this,t)}},{key:"getZLevelTop",value:function e(t){return nt(this,t)}},{key:"comparePosition",value:function e(t){return ot(this,t)}},{key:"unlinkSlot",value:function e(t){var n=this._slots.indexOf(t);if(n<0)return!1;this._slots.splice(n,1)}},{key:"removeSlot",value:function e(t){var n=this._slots.indexOf(t);return n<0||this._slots.splice(n,1),!1}},{key:"addSlot",value:function e(t){var n,r=null==t||null===(n=t.getExtraProp("name"))||void 0===n?void 0:n.getAsString();xe(this,r)&&Ne(this,r),t.internalSetParent(this,!0),this._slots.push(t)}},{key:"isValidComponent",value:function e(){var t,n,r=null===(t=this.document)||void 0===t||null===(n=t.designer)||void 0===n?void 0:n.componentsMap;return!(!r||!r[this.componentName])}},{key:"removeChild",value:function e(t){var n;null===(n=this.children)||void 0===n||n.delete(t)}},{key:"purge",value:function e(){var t,n;this.purged||(this.purged=!0,null===(t=this.autoruns)||void 0===t||t.forEach((function(e){return e()})),this.props.purge(),null===(n=this.settingEntry)||void 0===n||n.purge())}},{key:"internalPurgeStart",value:function e(){this.purging=!0}},{key:"canPerformAction",value:function e(t){var n,r,o=this,i;return((null===(n=this.componentMeta)||void 0===n||null===(r=n.availableActions)||void 0===r?void 0:r.filter((function(e){var t=e.condition;return"function"==typeof t?!1!==t(o):!1!==t})).map((function(e){return e.name})))||[]).indexOf(t)>=0}},{key:"isEmpty",value:function e(){return!this.children||this.children.isEmpty()}},{key:"getChildren",value:function e(){return this.children}},{key:"getComponentName",value:function e(){return this.componentName}},{key:"insert",value:function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.insertAfter(t,n,r)}},{key:"insertBefore",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Ze(t,this.document);null===(r=this.children)||void 0===r||r.internalInsert(i,n?n.index:null,o)}},{key:"insertAfter",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Ze(t,this.document);null===(r=this.children)||void 0===r||r.internalInsert(i,n?(n.index||0)+1:null,o)}},{key:"getParent",value:function e(){return this.parent}},{key:"getId",value:function e(){return this.id}},{key:"getIndex",value:function e(){return this.index}},{key:"getNode",value:function e(){return this}},{key:"getRoot",value:function e(){return this.document.rootNode}},{key:"getProps",value:function e(){return this.props}},{key:"onChildrenChange",value:function e(t){var n,r=Object(u.wrapWithEventSwitch)(t);return null===(n=this.children)||void 0===n?void 0:n.onChange(r)}},{key:"mergeChildren",value:function e(t,n,r){var o;null===(o=this.children)||void 0===o||o.mergeChildren(t,n,r)}},{key:"getStatus",value:function e(t){return t&&null!=this.status[t]?this.status[t]:this.status}},{key:"setStatus",value:function e(t,n){this.status.hasOwnProperty(t)&&n!==this.status[t]&&(this.status[t]=n)}},{key:"getDOMNode",value:function e(){var t,n,r,o,i=null===(t=this.document.simulator)||void 0===t||null===(n=t.getComponentInstances(this))||void 0===n?void 0:n[0];if(i)return null===(r=this.document.simulator)||void 0===r||null===(o=r.findDOMNodes(i))||void 0===o?void 0:o[0]}},{key:"getPage",value:function e(){return console.warn("getPage is deprecated, use document instead"),this.document}},{key:"getRGL",value:function e(){var t,n=this.isContainer(),r=this.isEmpty(),o=this.isRGLContainer,i=null===(t=this.getParent())||void 0===t?void 0:t.isRGLContainer,a=o||i&&(!n||!r),u;return{isContainerNode:n,isEmptyNode:r,isRGLContainerNode:o,isRGLNode:i,isRGL:a,rglNode:o?this:a?null==this?void 0:this.getParent():null}}},{key:"getSuitablePlace",value:function e(t,n){var r,o,i,a,u,c=null===(r=this.document)||void 0===r?void 0:r.focusNode;if(null!=t&&null!==(o=t.componentMeta)&&void 0!==o&&o.isModal)return{container:c,ref:n};if(!n&&c&&this.contains(c)){var s,l,f,p=null===(s=c.componentMeta)||void 0===s||null===(l=s.prototype)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.canDropIn;return void 0===p||!0===p||"function"==typeof p&&p(t)?{container:c}:null}if(this.isRoot()&&this.children){var h,d,v,y=this.children.filter((function(e){var n,r,o;if(!e.isContainerNode)return!1;var i=null===(n=e.componentMeta)||void 0===n||null===(r=n.prototype)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.canDropIn;return!!(void 0===i||!0===i||"function"==typeof i&&i(t))}))[0];if(y)return{container:y,ref:n};var m=null===(h=this.componentMeta)||void 0===h||null===(d=h.prototype)||void 0===d||null===(v=d.options)||void 0===v?void 0:v.canDropIn;return void 0===m||!0===m||"function"==typeof m&&m(t)?{container:this,ref:n}:null}var b=null===(i=this.componentMeta)||void 0===i||null===(a=i.prototype)||void 0===a||null===(u=a.options)||void 0===u?void 0:u.canDropIn;return this.isContainer()&&(void 0===b||"boolean"==typeof b&&b||"function"==typeof b&&b(t))?{container:this,ref:n}:this.parent?this.parent.getSuitablePlace(t,{index:this.index}):null}},{key:"getAddonData",value:function e(t){var n,r=this._addons[t];return r?r.exportData():null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"registerAddon",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._addons[t]={exportData:n,isProp:r}}},{key:"getRect",value:function e(){var t,n;return this.isRoot()?(null===(n=this.document.simulator)||void 0===n?void 0:n.viewport.contentBounds)||null:(null===(t=this.document.simulator)||void 0===t?void 0:t.computeRect(this))||null}},{key:"getPrototype",value:function e(){return this.componentMeta.prototype}},{key:"setPrototype",value:function e(t){this.componentMeta.prototype=t}},{key:"getIcon",value:function e(){return this.icon}},{key:"toString",value:function e(){return this.id}},{key:"emitPropChange",value:function e(t){var n;null===(n=this.emitter)||void 0===n||n.emit("propChange",t)}},{key:"onPropChange",value:function e(t){var n=this,r=Object(u.wrapWithEventSwitch)(t);return this.emitter.on("propChange",r),function(){n.emitter.removeListener("propChange",r)}}}]),e}(),Qe;function Ze(e,t){var n=e;return Object(l.N)(e)||(n=e.getComponentName?t.createNode({componentName:e.getComponentName()}):t.createNode(e)),n}function et(e){return e&&e.isRootNode}function tt(e){var t;return"lowCode"===(null===(t=e.componentMeta)||void 0===t?void 0:t.getMetadata().devMode)}function nt(e,t){var n=e.zLevel;if(n<t||t<0)return null;if(n===t)return e;for(var r=e;r&&n-- >t;)r=r.parent;return r}function rt(e,t){if(e===t)return!0;if(!e.isParentalNode||!t.parent)return!1;var n=nt(t,e.zLevel);return!!n&&e===n}function ot(e,t){if(e===t)return Qe.TheSame;var n=e.zLevel,r=t.zLevel,o;return n===r?Qe.BeforeOrAfter:n<r?(o=nt(t,n))&&o===e?Qe.Contains:Qe.BeforeOrAfter:(o=nt(e,r))&&o===t?Qe.ContainedBy:Qe.BeforeOrAfter}function it(e,t,n,r){var o,i,a,u;if(Object(l.N)(t)&&(r||t.isSlot()))i=t.export(c.h.Clone),o=null===(a=e.document)||void 0===a?void 0:a.createNode(i);else if(Object(l.N)(t))o=t;else if(Object(l.O)(t)){var s;o=null===(s=e.document)||void 0===s?void 0:s.createNode(t)}return Object(l.N)(o)?(null===(u=e.children)||void 0===u||u.insert(o,n),o):null}function at(e,t,n,r){for(var o=n,i,a=[];i=t.pop();)i=it(e,i,o,r),a.push(i),o=i.index;return a}function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=st(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function st(e,t){if(e){if("string"==typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dt(r.key),r)}}function ht(e,t,n){return t&&pt(e.prototype,t),n&&pt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dt(e){var t=vt(e,"string");return"symbol"==ut(t)?t:String(t)}function vt(e,t){if("object"!=ut(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Je.prototype,"_parent",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[])],Je.prototype,"zLevel",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Je.prototype,"title",null),Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],Je.prototype,"_slots",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Je.prototype,"_conditionGroup",void 0),Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Object)],Je.prototype,"status",void 0),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],Je.prototype,"initBuiltinProps",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",Object)],Je.prototype,"initProps",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",Object)],Je.prototype,"upgradeProps",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Je.prototype,"componentMeta",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Je.prototype,"propsData",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Je.prototype,"index",null),function(e){e[e.Contains=16]="Contains",e[e.ContainedBy=8]="ContainedBy",e[e.BeforeOrAfter=2]="BeforeOrAfter",e[e.TheSame=0]="TheSame"}(Qe||(Qe={}));var yt=function(){function e(t){ft(this,e),this.doc=void 0,this.emitter=Object(u.createModuleEventBus)("Selection"),this._selected=[],this.doc=t,Object(u.makeObservable)(this)}return ht(e,[{key:"selected",get:function e(){return this._selected}},{key:"select",value:function e(t){if(!(1===this._selected.length&&this._selected.indexOf(t)>-1)){var n=this.doc.getNode(t);null!=n&&n.canSelect()&&(this._selected=[t],this.emitter.emit("selectionchange",this._selected))}}},{key:"selectAll",value:function e(t){var n=this,r=[];t.forEach((function(e){var t=n.doc.getNode(e);null!=t&&t.canSelect()&&r.push(e)})),this._selected=r,this.emitter.emit("selectionchange",this._selected)}},{key:"clear",value:function e(){this._selected.length<1||(this._selected=[],this.emitter.emit("selectionchange",this._selected))}},{key:"dispose",value:function e(){for(var t=this._selected.length,n=t;n-- >0;){var r=this._selected[n];this.doc.hasNode(r)||this._selected.splice(n,1)}this._selected.length!==t&&this.emitter.emit("selectionchange",this._selected)}},{key:"add",value:function e(t){this._selected.indexOf(t)>-1||(this._selected.push(t),this.emitter.emit("selectionchange",this._selected))}},{key:"has",value:function e(t){return this._selected.indexOf(t)>-1}},{key:"remove",value:function e(t){var n=this._selected.indexOf(t);n>-1&&(this._selected.splice(n,1),this.emitter.emit("selectionchange",this._selected))}},{key:"containsNode",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ct(this._selected),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.doc.getNode(i);if((!n||null==a||!a.contains(this.doc.focusNode))&&(null!=a&&a.contains(t)))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"getNodes",value:function e(){var t=[],n=ct(this._selected),r;try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this.doc.getNode(o);i&&t.push(i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getTopNodes",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[],r=ct(this._selected),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.doc.getNode(i);if(a&&(t||!a.contains(this.doc.focusNode))){for(var u=n.length,c=!0;u-- >0;){var s=ot(n[u],a);if(s===Qe.Contains||s===Qe.TheSame){c=!1;break}s===Qe.ContainedBy&&n.splice(u,1)}c&&n.push(a)}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"onSelectionChange",value:function e(t){var n=this;return this.emitter.on("selectionchange",t),function(){n.emitter.removeListener("selectionchange",t)}}}]),e}();function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ot(r.key),r)}}function wt(e,t,n){return t&&gt(e.prototype,t),n&&gt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ot(e){var t=jt(e,"string");return"symbol"==mt(t)?t:String(t)}function jt(e,t){if("object"!=mt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],yt.prototype,"_selected",void 0);var St=new l.e({level:"warn",bizName:"history"}),Et=function(){function e(t,n,r){var o=this;bt(this,e),this.redoer=void 0,this.document=void 0,this.session=void 0,this.records=void 0,this.point=0,this.emitter=Object(u.createModuleEventBus)("History"),this.asleep=!1,this.currentSerialization={serialize:function e(t){return JSON.stringify(t)},unserialize:function e(t){return JSON.parse(t)}},this.timeGap=1e3,this.redoer=n,this.document=r,this.session=new kt(0,null,this.timeGap),this.records=[this.session],Object(u.reaction)((function(){return t()}),(function(e){o.asleep||Object(u.untracked)((function(){var t=o.currentSerialization.serialize(e);if(o.session.data!==t)if(o.session.isActive())o.session.log(t);else{o.session.end();var n=o.getState(),r=o.session.cursor+1,i=new kt(r,t,o.timeGap);o.session=i,o.records.splice(r,o.records.length-r,i);var a=o.getState();a!==n&&o.emitter.emit("statechange",a)}}))}),{fireImmediately:!0})}return wt(e,[{key:"hotData",get:function e(){return this.session.data}},{key:"setSerialization",value:function e(t){this.currentSerialization=t}},{key:"isSavePoint",value:function e(){return this.point!==this.session.cursor}},{key:"sleep",value:function e(){this.asleep=!0}},{key:"wakeup",value:function e(){this.asleep=!1}},{key:"go",value:function e(t){this.session.end();var n=t,r;if((n=+n)<0?n=0:n>=this.records.length&&(n=this.records.length-1),n!==this.session.cursor){var o=this.records[n],i=o.data;this.sleep();try{this.redoer(this.currentSerialization.unserialize(i)),this.emitter.emit("cursor",i)}catch(e){St.error(e)}this.wakeup(),this.session=o,this.emitter.emit("statechange",this.getState())}}},{key:"back",value:function e(){var t;if(this.session){var n=this.session.cursor-1;this.go(n);var r=null===(t=this.document)||void 0===t?void 0:t.designer.editor;r&&r.eventBus.emit("history.back",n)}}},{key:"forward",value:function e(){var t;if(this.session){var n=this.session.cursor+1;this.go(n);var r=null===(t=this.document)||void 0===t?void 0:t.designer.editor;r&&r.eventBus.emit("history.forward",n)}}},{key:"savePoint",value:function e(){this.session&&(this.session.end(),this.point=this.session.cursor,this.emitter.emit("statechange",this.getState()))}},{key:"getState",value:function e(){var t=this.session.cursor,n=7;return t<=0&&(n-=1),t>=this.records.length-1&&(n-=2),this.point===t&&(n-=4),n}},{key:"onChangeState",value:function e(t){return this.onStateChange(t)}},{key:"onStateChange",value:function e(t){var n=this;return this.emitter.on("statechange",t),function(){n.emitter.removeListener("statechange",t)}}},{key:"onChangeCursor",value:function e(t){return this.onCursor(t)}},{key:"onCursor",value:function e(t){var n=this;return this.emitter.on("cursor",t),function(){n.emitter.removeListener("cursor",t)}}},{key:"destroy",value:function e(){this.emitter.removeAllListeners(),this.records=[]}},{key:"isModified",value:function e(){return this.isSavePoint()}}]),e}(),kt=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;bt(this,e),this.cursor=void 0,this.timeGap=void 0,this._data=void 0,this.activeTimer=void 0,this.cursor=t,this.timeGap=r,this.setTimer(),this.log(n)}return wt(e,[{key:"data",get:function e(){return this._data}},{key:"log",value:function e(t){this.isActive()&&(this._data=t,this.setTimer())}},{key:"isActive",value:function e(){return null!=this.activeTimer}},{key:"end",value:function e(){this.isActive()&&this.clearTimer()}},{key:"setTimer",value:function e(){var t=this;this.clearTimer(),this.activeTimer=setTimeout((function(){return t.end()}),this.timeGap)}},{key:"clearTimer",value:function e(){this.activeTimer&&clearTimeout(this.activeTimer),this.activeTimer=null}}]),e}();function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ct(r.key),r)}}function Nt(e,t,n){return t&&xt(e.prototype,t),n&&xt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ct(e){var t=Tt(e,"string");return"symbol"==_t(t)?t:String(t)}function Tt(e,t){if("object"!=_t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Lt(e){if(!e)return[];var t=[];e.componentMeta.isModal&&t.push(e);var n=e.children;return n&&n.forEach((function(e){t=t.concat(Lt(e))})),t}var Rt=function(){function e(t){var n=this;Pt(this,e),this.willDestroy=void 0,this.page=void 0,this.modalNodes=void 0,this.nodeRemoveEvents=void 0,this.emitter=void 0,this.page=t,this.emitter=Object(u.createModuleEventBus)("ModalNodesManager"),this.nodeRemoveEvents={},this.setNodes(),this.hideModalNodes(),this.willDestroy=[t.onNodeCreate((function(e){return n.addNode(e)})),t.onNodeDestroy((function(e){return n.removeNode(e)}))]}return Nt(e,[{key:"getModalNodes",value:function e(){return this.modalNodes}},{key:"getVisibleModalNode",value:function e(){var t;return this.getModalNodes().find((function(e){return e.getVisible()}))||null}},{key:"hideModalNodes",value:function e(){this.modalNodes.forEach((function(e){e.setVisible(!1)}))}},{key:"setVisible",value:function e(t){this.hideModalNodes(),t.setVisible(!0)}},{key:"setInvisible",value:function e(t){t.setVisible(!1)}},{key:"onVisibleChange",value:function e(t){var n=this;return this.emitter.on("visibleChange",t),function(){n.emitter.removeListener("visibleChange",t)}}},{key:"onModalNodesChange",value:function e(t){var n=this;return this.emitter.on("modalNodesChange",t),function(){n.emitter.removeListener("modalNodesChange",t)}}},{key:"addNode",value:function e(t){null!=t&&t.componentMeta.isModal&&(this.hideModalNodes(),this.modalNodes.push(t),this.addNodeEvent(t),this.emitter.emit("modalNodesChange"),this.emitter.emit("visibleChange"))}},{key:"removeNode",value:function e(t){if(t.componentMeta.isModal){var n=this.modalNodes.indexOf(t);n>=0&&this.modalNodes.splice(n,1),this.removeNodeEvent(t),this.emitter.emit("modalNodesChange"),t.getVisible()&&this.emitter.emit("visibleChange")}}},{key:"addNodeEvent",value:function e(t){var n=this;this.nodeRemoveEvents[t.id]=t.onVisibleChange((function(){n.emitter.emit("visibleChange")}))}},{key:"removeNodeEvent",value:function e(t){this.nodeRemoveEvents[t.id]&&(this.nodeRemoveEvents[t.id](),delete this.nodeRemoveEvents[t.id])}},{key:"setNodes",value:function e(){var t=this,n=Lt(this.page.rootNode);this.modalNodes=n,this.modalNodes.forEach((function(e){t.addNodeEvent(e)})),this.emitter.emit("modalNodesChange")}}]),e}(),At;function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return(t=Wt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ft(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Ft(e,t){if(e){if("string"==typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gt(e,t):void 0}}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wt(r.key),r)}}function zt(e,t,n){return t&&Ut(e.prototype,t),n&&Ut(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wt(e){var t=$t(e,"string");return"symbol"==Mt(t)?t:String(t)}function $t(e,t){if("object"!=Mt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Xt=function(){function e(t,n){var r,o,i=this;Ht(this,e),this.rootNode=void 0,this.id=Object(l.db)("doc"),this.selection=new yt(this),this.history=void 0,this.modalNodesManager=void 0,this._nodesMap=new Map,this.project=void 0,this.designer=void 0,this.nodes=new Set,this.seqId=0,this.emitter=void 0,this.rootNodeVisitorMap={},this._addons=[],this._drillDownNode=null,this._modalNode=void 0,this._blank=void 0,this.inited=!1,this.willPurgeSpace=[],this.activeNodes=void 0,this._dropLocation=null,this._opened=!1,this._suspensed=!1,Object(u.makeObservable)(this),this.project=t,this.designer=null===(r=this.project)||void 0===r?void 0:r.designer,this.emitter=Object(u.createModuleEventBus)("DocumentModel"),n||(this._blank=!0),this.id=(null===(o=t.getSchema())||void 0===o?void 0:o.id)||this.id,this.rootNode=this.createNode(n||{componentName:"Page",id:"root",fileName:""}),this.history=new Et((function(){return i.export(c.h.Serilize)}),(function(e){var t;i.import(e,!0),null===(t=i.simulator)||void 0===t||t.rerender()}),this),this.setupListenActiveNodes(),this.modalNodesManager=new Rt(this),this.inited=!0}return zt(e,[{key:"simulator",get:function e(){return this.project.simulator}},{key:"nodesMap",get:function e(){return this._nodesMap}},{key:"fileName",get:function e(){var t,n;return(null===(t=this.rootNode)||void 0===t||null===(n=t.getExtraProp("fileName",!1))||void 0===n?void 0:n.getAsString())||this.id},set:function e(t){var n,r;null===(n=this.rootNode)||void 0===n||null===(r=n.getExtraProp("fileName",!0))||void 0===r||r.setValue(t)}},{key:"focusNode",get:function e(){if(this._drillDownNode)return this._drillDownNode;var t=u.engineConfig.get("focusNodeSelector");return t&&"function"==typeof t?t(this.rootNode):this.rootNode}},{key:"modalNode",get:function e(){return this._modalNode}},{key:"currentRoot",get:function e(){return this.modalNode||this.focusNode}},{key:"dropLocation",get:function e(){return this._dropLocation},set:function e(t){this._dropLocation=t,this.designer.editor.eventBus.emit("document.dropLocation.changed",{document:this,location:t})}},{key:"schema",get:function e(){var t;return null===(t=this.rootNode)||void 0===t?void 0:t.schema}},{key:"suspensed",get:function e(){return this._suspensed||!this._opened}},{key:"active",get:function e(){return!this._suspensed}},{key:"actived",get:function e(){return this.active}},{key:"opened",get:function e(){return this._opened}},{key:"root",get:function e(){return this.rootNode}},{key:"drillDown",value:function e(t){this._drillDownNode=t}},{key:"onChangeNodeVisible",value:function e(t){var n,r=this;return null===(n=this.designer.editor)||void 0===n||n.eventBus.on(Ae.NODE_VISIBLE_CHANGE,t),function(){var e;null===(e=r.designer.editor)||void 0===e||e.eventBus.off(Ae.NODE_VISIBLE_CHANGE,t)}}},{key:"onChangeNodeChildren",value:function e(t){var n,r=this;return null===(n=this.designer.editor)||void 0===n||n.eventBus.on(Ae.NODE_CHILDREN_CHANGE,t),function(){var e;null===(e=r.designer.editor)||void 0===e||e.eventBus.off(Ae.NODE_CHILDREN_CHANGE,t)}}},{key:"addWillPurge",value:function e(t){this.willPurgeSpace.push(t)}},{key:"removeWillPurge",value:function e(t){var n=this.willPurgeSpace.indexOf(t);n>-1&&this.willPurgeSpace.splice(n,1)}},{key:"isBlank",value:function e(){return!(!this._blank||this.isModified())}},{key:"nextId",value:function e(t){for(var n=t;!n||this.nodesMap.get(n);)n="node_".concat((String(this.id).slice(-10)+(++this.seqId).toString(36)).toLocaleLowerCase());return n}},{key:"getNode",value:function e(t){return this._nodesMap.get(t)||null}},{key:"getNodeCount",value:function e(){var t;return null===(t=this._nodesMap)||void 0===t?void 0:t.size}},{key:"hasNode",value:function e(t){var n=this.getNode(t);return!!n&&!n.isPurged}},{key:"onMountNode",value:function e(t){var n=this;return this.designer.editor.eventBus.on("node.add",t),function(){n.designer.editor.eventBus.off("node.add",t)}}},{key:"createNode",value:function e(t){var n,r;r=Object(l.z)(t)||Object(l.H)(t)?{componentName:"Leaf",children:t}:t;var o=null;return this.hasNode(null===(n=r)||void 0===n?void 0:n.id)&&(r.id=null),r.id&&((o=this.getNode(r.id))&&o.componentName===r.componentName?(o.parent&&o.internalSetParent(null,!1),o.import(r,!0)):o&&(o=null)),o||(o=new Je(this,r)),this._nodesMap.set(o.id,o),this.nodes.add(o),this.emitter.emit("nodecreate",o),o}},{key:"destroyNode",value:function e(t){this.emitter.emit("nodedestroy",t)}},{key:"insertNode",value:function e(t,n,r,o){return it(t,n,r,o)}},{key:"insertNodes",value:function e(t,n,r,o){return at(t,n,r,o)}},{key:"removeNode",value:function e(t){var n,r=null;"string"==typeof t?(n=t,r=this.getNode(n)):t.id&&(n=t.id,r=this.getNode(n)),r&&this.internalRemoveAndPurgeNode(r,!0)}},{key:"internalRemoveAndPurgeNode",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.nodes.has(t)&&t.remove(n)}},{key:"unlinkNode",value:function e(t){this.nodes.delete(t),this._nodesMap.delete(t.id)}},{key:"wrapWith",value:function e(t){var n=this.selection.getTopNodes();if(n.length<1)return null;var r=this.createNode(t);if(r.isParental()){var o=n[0];return it(o.parent,r,o.index),at(r,n),this.selection.select(r.id),r}return this.removeNode(r),null}},{key:"import",value:function e(t){var n,r=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null===(n=this._drillDownNode)||void 0===n?void 0:n.id;Object(u.runWithGlobalEventOff)((function(){var e;r.nodes.forEach((function(e){e.isRoot()||r.internalRemoveAndPurgeNode(e,!0)})),null===(e=r.rootNode)||void 0===e||e.import(t,o),r.modalNodesManager=new Rt(r),i&&r.drillDown(r.getNode(i))}))}},{key:"export",value:function e(){var t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.h.Serilize;o=Object(l.k)(o);var i=null===(t=this.rootNode)||void 0===t?void 0:t.export(o);if(Array.isArray(null==i?void 0:i.children)&&null!=i&&null!==(n=i.children)&&void 0!==n&&n.length&&(null==i||null===(r=i.children)||void 0===r?void 0:r.length)>0){var a=null==i?void 0:i.children.filter((function(e){return Object(l.P)(e)})).findIndex((function(e){var t;return null===(t=e.props)||void 0===t?void 0:t.__isTopFixed__}));if(a>0){var u=null==i?void 0:i.children.splice(a,1);null==i||i.children.unshift(u[0])}}return i}},{key:"getNodeSchema",value:function e(t){var n=this.getNode(t);return n?n.schema:null}},{key:"isModified",value:function e(){return this.history.isSavePoint()}},{key:"getComponent",value:function e(t){return this.simulator.getComponent(t)}},{key:"getComponentMeta",value:function e(t){var n=this;return this.designer.getComponentMeta(t,(function(){var e;return(null===(e=n.simulator)||void 0===e?void 0:e.generateComponentMetadata(t))||null}))}},{key:"setSuspense",value:function e(t){var n;(this._opened||t)&&(this._suspensed=t,null===(n=this.simulator)||void 0===n||n.setSuspense(t),t||this.project.checkExclusive(this))}},{key:"suspense",value:function e(){this.setSuspense(!0)}},{key:"activate",value:function e(){this.setSuspense(!1)}},{key:"open",value:function e(){var t=this._opened;return this._opened=!0,!1===t&&this.designer.postEvent("document-open",this),this._suspensed?this.setSuspense(!1):this.project.checkExclusive(this),this}},{key:"close",value:function e(){this.setSuspense(!0),this._opened=!1}},{key:"remove",value:function e(){this.designer.postEvent("document.remove",{id:this.id}),this.purge(),this.project.removeDocument(this)}},{key:"purge",value:function e(){var t;null===(t=this.rootNode)||void 0===t||t.purge(),this.nodes.clear(),this._nodesMap.clear(),this.rootNode=null}},{key:"checkNesting",value:function e(t,n){var r=this,o;if(Object(l.B)(n))o=Array.isArray(n.data)?n.data:[n.data];else if(Object(l.C)(n))o=n.nodes;else{if(!Object(l.N)(n)&&!Object(l.O)(n))return console.warn("the dragObject is not in the correct type, dragObject:",n),!0;o=[n]}return o.every((function(e){return r.checkNestingDown(t,e)&&r.checkNestingUp(t,e)}))}},{key:"checkDropTarget",value:function e(t,n){var r=this,o;if(Object(l.B)(n))o=Array.isArray(n.data)?n.data:[n.data];else{if(!Object(l.C)(n))return!1;o=n.nodes}return o.every((function(e){return r.checkNestingUp(t,e)}))}},{key:"checkNestingUp",value:function e(t,n){if(Object(l.N)(n)||Object(l.O)(n)){var r=Object(l.N)(n)?n.componentMeta:this.getComponentMeta(n.componentName);if(r)return r.checkNestingUp(n,t)}return!0}},{key:"checkNestingDown",value:function e(t,n){var r;return t.componentMeta.checkNestingDown(t,n)}},{key:"getRoot",value:function e(){return this.rootNode}},{key:"toData",value:function e(t){var n=this.export(c.h.Save),r;return{componentsMap:this.getComponentsMap(t),utils:this.getUtilsMap(),componentsTree:[n]}}},{key:"getHistory",value:function e(){return this.history}},{key:"getAddonData",value:function e(t){var n=this._addons.find((function(e){return e.name===t}));if(n)return n.exportData()}},{key:"exportAddonData",value:function e(){var t={};return this._addons.forEach((function(e){var n=e.exportData();null===n?delete t[e.name]:t[e.name]=n})),t}},{key:"registerAddon",value:function e(t,n){if(["id","params","layout"].indexOf(t)>-1)throw new Error("addon name cannot be id, params, layout");var r=this._addons.findIndex((function(e){return e.name===t}));r>-1&&this._addons.splice(r,1),this._addons.push({exportData:n,name:t})}},{key:"acceptRootNodeVisitor",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",n=arguments.length>1?arguments[1]:void 0,r={};t||console.warn("Invalid or empty RootNodeVisitor name.");try{this.rootNode&&(r=n.call(this,this.rootNode),this.rootNodeVisitorMap[t]=r)}catch(e){console.error("RootNodeVisitor is not valid."),console.error(e)}return r}},{key:"getRootNodeVisitor",value:function e(t){return this.rootNodeVisitorMap[t]}},{key:"getComponentsMap",value:function e(t){var n=this,r=[],o={},i=Vt(this._nodesMap.values()),a;try{for(i.s();!(a=i.n()).done;){var u=a.value,c,s=(u||{}).componentName,l,f;if("Slot"!==s)if(!o[s])o[s]=!0,null!==(l=u.componentMeta)&&void 0!==l&&null!==(f=l.npm)&&void 0!==f&&f.package?r.push(It(It({},u.componentMeta.npm),{},{componentName:s})):r.push({devMode:"lowCode",componentName:s})}}catch(e){i.e(e)}finally{i.f()}return Array.isArray(t)&&t.forEach((function(e){if(e&&!o[e]){var t,i=n.getComponentMeta(e);null!=i&&null!==(t=i.npm)&&void 0!==t&&t.package?r.push(It(It({},null==i?void 0:i.npm),{},{componentName:e})):r.push({devMode:"lowCode",componentName:e})}})),r}},{key:"getUtilsMap",value:function e(){var t,n,r,o;return null===(t=this.designer)||void 0===t||null===(n=t.editor)||void 0===n||null===(r=n.get("assets"))||void 0===r||null===(o=r.utils)||void 0===o?void 0:o.map((function(e){return{name:e.name,type:e.type||"npm",content:e.npm}}))}},{key:"onNodeCreate",value:function e(t){var n=this,r=Object(u.wrapWithEventSwitch)(t);return this.emitter.on("nodecreate",r),function(){n.emitter.removeListener("nodecreate",r)}}},{key:"onNodeDestroy",value:function e(t){var n=this,r=Object(u.wrapWithEventSwitch)(t);return this.emitter.on("nodedestroy",r),function(){n.emitter.removeListener("nodedestroy",r)}}},{key:"refresh",value:function e(){console.warn("refresh method is deprecated")}},{key:"onRefresh",value:function e(){console.warn("onRefresh method is deprecated")}},{key:"onReady",value:function e(t){var n=this;return this.designer.editor.eventBus.on("document-open",t),function(){n.designer.editor.eventBus.off("document-open",t)}}},{key:"setupListenActiveNodes",value:function e(){}}]),e}();function Yt(e){return e&&e.rootNode}function Kt(e){return"Page"===(null==e?void 0:e.componentName)}function qt(){return(qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jt(e){return React.createElement(l.f,qt({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M704 480v-160c0-105.6-86.4-192-192-192s-192 86.4-192 192v160H160v416h704V480h-160z m-320-160c0-70.4 57.6-128 128-128s128 57.6 128 128v160h-256v-160z m416 512H224v-288h576v288z",fill:"#ffffff","p-id":"2680"}),React.createElement("path",{d:"M480 768h64v-160h-64z",fill:"#ffffff","p-id":"2681"}))}function Qt(){return(Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zt(e){return React.createElement(l.f,Qt({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M183.423543 657.078213l163.499771-98.484012c-4.233418-14.908548-6.646374-30.585599-6.646374-46.852074 0-94.665033 76.739778-171.404812 171.404812-171.404812 45.983287 0 87.641059 18.20871 118.42518 47.679929l129.791042-78.17957c-73.254398-41.73145-157.866471-65.812915-248.216221-65.812915-192.742792 0-360.068705 108.505249-444.453604 267.715321C96.636944 567.228859 136.301316 616.355743 183.423543 657.078213zM841.253886 367.552144l-164.382884 99.015108c3.934612 14.415314 6.215562 29.513174 6.215562 45.174875 0 94.665033-76.739778 171.404812-171.404812 171.404812-45.361117 0-86.484723-17.747199-117.142977-46.515407l-129.419582 77.955466c72.874751 41.149189 156.893306 64.871473 246.563582 64.871473 192.742792 0 360.068705-108.505249 444.453604-267.717368C927.000805 456.773188 887.794875 408.054603 841.253886 367.552144zM420.280042 511.741104c0 0.550539 0.152473 1.060145 0.161682 1.608637l135.080511-81.366146c-13.065574-7.198959-27.854395-11.658528-43.826158-11.658528C461.20922 420.325068 420.280042 461.254246 420.280042 511.741104zM447.739441 576.947198l69.02098-41.574884L948.364369 275.395234c10.812253-6.512321 14.297634-20.558222 7.785314-31.369452-6.512321-10.812253-20.556175-14.296611-31.368428-7.785314L575.654762 446.537056l0 0-151.20577 91.078345 0 0L75.027787 748.090043c-10.812253 6.512321-14.297634 20.556175-7.785314 31.368428 6.512321 10.812253 20.556175 14.297634 31.369452 7.785314L447.739441 576.947198 447.739441 576.947198zM511.696078 603.157139c50.487881 0 91.416036-40.928155 91.416036-91.416036 0-0.549515-0.152473-1.057075-0.161682-1.605567l-135.079488 81.364099C480.935494 598.699618 495.724315 603.157139 511.696078 603.157139z"}))}function en(){return(en=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tn(e){return React.createElement(l.f,en({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M224 256v639.84A64 64 0 0 0 287.84 960h448.32A64 64 0 0 0 800 895.84V256h64a32 32 0 1 0 0-64H160a32 32 0 1 0 0 64h64zM384 96c0-17.664 14.496-32 31.904-32h192.192C625.696 64 640 78.208 640 96c0 17.664-14.496 32-31.904 32H415.904A31.872 31.872 0 0 1 384 96z m-96 191.744C288 270.208 302.4 256 320.224 256h383.552C721.6 256 736 270.56 736 287.744v576.512C736 881.792 721.6 896 703.776 896H320.224A32.224 32.224 0 0 1 288 864.256V287.744zM352 352c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z"}))}function nn(){return(nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rn(e){return React.createElement(l.f,nn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M965.824 405.952a180.48 180.48 0 0 1-117.12-85.376 174.464 174.464 0 0 1-16-142.08 22.208 22.208 0 0 0-7.04-23.552 480.576 480.576 0 0 0-153.6-89.216 23.104 23.104 0 0 0-24.32 5.76 182.208 182.208 0 0 1-135.68 57.92 182.208 182.208 0 0 1-133.12-56.64 23.104 23.104 0 0 0-26.88-7.04 478.656 478.656 0 0 0-153.6 89.856 22.208 22.208 0 0 0-7.04 23.552 174.464 174.464 0 0 1-16 141.44A180.48 180.48 0 0 1 58.24 405.952a22.4 22.4 0 0 0-17.28 17.792 455.08 455.08 0 0 0 0 176.512 22.4 22.4 0 0 0 17.28 17.792 180.48 180.48 0 0 1 117.12 84.736c25.408 42.944 31.232 94.592 16 142.08a22.208 22.208 0 0 0 7.04 23.552A480.576 480.576 0 0 0 352 957.632h7.68a23.04 23.04 0 0 0 16.64-7.04 184.128 184.128 0 0 1 266.944 0c6.592 8.96 18.752 11.968 28.8 7.04a479.36 479.36 0 0 0 156.16-88.576 22.208 22.208 0 0 0 7.04-23.552 174.464 174.464 0 0 1 13.44-142.72 180.48 180.48 0 0 1 117.12-84.736 22.4 22.4 0 0 0 17.28-17.792 452.613 452.613 0 0 0 0-176.512 23.04 23.04 0 0 0-17.28-17.792z m-42.88 169.408a218.752 218.752 0 0 0-128 98.112 211.904 211.904 0 0 0-21.76 156.736 415.936 415.936 0 0 1-112 63.68 217.472 217.472 0 0 0-149.12-63.68 221.312 221.312 0 0 0-149.12 63.68 414.592 414.592 0 0 1-112-63.68c12.8-53.12 4.288-109.12-23.68-156.096A218.752 218.752 0 0 0 101.12 575.36a386.176 386.176 0 0 1 0-127.36 218.752 218.752 0 0 0 128-98.112c27.2-47.552 34.944-103.68 21.76-156.8a415.296 415.296 0 0 1 112-63.68A221.44 221.44 0 0 0 512 187.392a218.24 218.24 0 0 0 149.12-57.984 413.952 413.952 0 0 1 112 63.744 211.904 211.904 0 0 0 23.04 156.096 218.752 218.752 0 0 0 128 98.112 386.65 386.65 0 0 1 0 127.36l-1.28 0.64z"}),React.createElement("path",{d:"M512 320.576c-105.984 0-192 85.568-192 191.104a191.552 191.552 0 0 0 192 191.104c106.112 0 192.064-85.568 192.064-191.104a190.72 190.72 0 0 0-56.256-135.168 192.448 192.448 0 0 0-135.744-55.936z m0 318.528c-70.656 0-128-57.088-128-127.424 0-70.4 57.344-127.36 128-127.36 70.72 0 128 56.96 128 127.36 0 33.792-13.44 66.176-37.44 90.112a128.32 128.32 0 0 1-90.496 37.312z"}))}function on(){return(on=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function an(e){return React.createElement(l.f,on({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M783.5648 437.4528h-18.0224V336.6912c0-43.8272-35.6352-79.4624-79.4624-79.4624h-110.592V241.664c0-90.9312-73.728-164.6592-164.6592-164.6592-90.9312 0-164.6592 73.728-164.6592 164.6592v15.5648H155.2384c-43.8272 0-79.4624 35.6352-79.4624 79.4624v131.4816c0 16.7936 13.9264 30.72 30.72 30.72h56.1152c56.9344 0 103.2192 46.2848 103.2192 103.2192s-46.2848 103.2192-103.2192 103.2192H106.496c-16.7936 0-30.72 13.9264-30.72 30.72v131.4816c0 43.8272 35.6352 79.4624 79.4624 79.4624h531.2512c43.8272 0 79.4624-35.6352 79.4624-79.4624v-100.7616h18.0224c90.9312 0 164.6592-73.728 164.6592-164.6592-0.4096-90.9312-74.1376-164.6592-165.0688-164.6592z m0 267.8784h-48.7424c-16.7936 0-30.72 13.9264-30.72 30.72v131.4816c0 9.8304-8.192 18.0224-18.0224 18.0224H155.2384c-9.8304 0-18.0224-8.192-18.0224-18.0224v-100.7616h25.3952c90.9312 0 164.6592-73.728 164.6592-164.6592 0-90.9312-73.728-164.6592-164.6592-164.6592h-25.3952V336.6912c0-9.8304 8.192-18.0224 18.0224-18.0224h121.6512c16.7936 0 30.72-13.9264 30.72-30.72V241.664c0-56.9344 46.2848-103.2192 103.2192-103.2192s103.2192 46.2848 103.2192 103.2192v46.2848c0 16.7936 13.9264 30.72 30.72 30.72h141.312c9.8304 0 18.0224 8.192 18.0224 18.0224v131.4816c0 16.7936 13.9264 30.72 30.72 30.72h48.7424c56.9344 0 103.2192 46.2848 103.2192 103.2192s-46.2848 103.2192-103.2192 103.2192z"}))}function un(){return(un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cn(e){return React.createElement(l.f,un({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M192 256.16C192 220.736 220.704 192 256.16 192h639.68C931.264 192 960 220.704 960 256.16v639.68A64.16 64.16 0 0 1 895.84 960H256.16A64.16 64.16 0 0 1 192 895.84V256.16z m64 31.584v576.512a32 32 0 0 0 31.744 31.744h576.512a32 32 0 0 0 31.744-31.744V287.744A32 32 0 0 0 864.256 256H287.744A32 32 0 0 0 256 287.744zM288 192v64h64V192H288z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m96 96v64h64V288h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m-96 96v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64H288z m-96-96v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64V288H192z m160 416c0-17.664 14.592-32 32.064-32h319.872a31.968 31.968 0 1 1 0 64h-319.872A31.968 31.968 0 0 1 352 704z m0-128c0-17.664 14.4-32 32.224-32h383.552c17.792 0 32.224 14.208 32.224 32 0 17.664-14.4 32-32.224 32H384.224A32.032 32.032 0 0 1 352 576z m0-128c0-17.664 14.4-32 32.224-32h383.552c17.792 0 32.224 14.208 32.224 32 0 17.664-14.4 32-32.224 32H384.224A32.032 32.032 0 0 1 352 448z m512 47.936V192h-64V159.968A31.776 31.776 0 0 0 768.032 128H160A31.776 31.776 0 0 0 128 159.968V768c0 17.92 14.304 31.968 31.968 31.968H192v64h303.936H128.128A63.968 63.968 0 0 1 64 799.872V128.128C64 92.704 92.48 64 128.128 64h671.744C835.296 64 864 92.48 864 128.128v367.808z"}))}function sn(){return(sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ln(e){return React.createElement(l.f,sn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M381.6 864H162.4c-6.9 0-12.4 4.6-12.4 10.3v19.3c0 5.7 5.6 10.3 12.4 10.3h219.1c6.8 0 12.4-4.6 12.4-10.3v-19.3c0.1-5.7-5.5-10.3-12.3-10.3zM382 780.6H162c-6.9 0-12.5 4.6-12.5 10.3v19.3c0 5.7 5.6 10.3 12.5 10.3h220c6.9 0 12.5-4.6 12.5-10.3v-19.3c0-5.7-5.6-10.3-12.5-10.3zM162.4 737.2h219.1c6.8 0 12.4-4.6 12.4-10.3v-19.3c0-5.7-5.6-10.3-12.4-10.3H162.4c-6.9 0-12.4 4.6-12.4 10.3v19.3c0 5.7 5.6 10.3 12.4 10.3z"}),React.createElement("path",{d:"M977.1 0H46.9C21 0 0 21 0 46.9v930.2c0 25.9 21 46.9 46.9 46.9h930.2c25.9 0 46.9-21 46.9-46.9V46.9C1024 21 1003 0 977.1 0z m-18.7 911.6c0 25.9-21 46.9-46.9 46.9H112.4c-25.9 0-46.9-21-46.9-47V112.4c0-25.9 21-46.9 46.9-46.9h799.1c25.9 0 46.9 21 46.9 46.9v799.2z"}),React.createElement("path",{d:"M207.9 342.7h608.2c32 0 57.9-25.9 57.9-57.9v-83c0-32-25.9-57.9-57.9-57.9H207.9c-32 0-57.9 25.9-57.9 57.9v83c0 32 25.9 57.9 57.9 57.9zM200 201.8c0-4.4 3.5-7.9 7.9-7.9h608.2c4.4 0 7.9 3.5 7.9 7.9v83c0 4.4-3.5 7.9-7.9 7.9H207.9c-4.4 0-7.9-3.5-7.9-7.9v-83zM806.4 405.7h-277c-37.3 0-67.6 30.2-67.6 67.6v363.2c0 37.3 30.2 67.6 67.6 67.6h277c37.3 0 67.6-30.2 67.6-67.6V473.3c0-37.4-30.2-67.6-67.6-67.6zM824 836.4c0 9.7-7.9 17.6-17.6 17.6h-277c-9.7 0-17.6-7.9-17.6-17.6V473.3c0-9.7 7.9-17.6 17.6-17.6h277c9.7 0 17.6 7.9 17.6 17.6v363.1zM272 649.7c67.4 0 122-54.6 122-122s-54.6-122-122-122-122 54.6-122 122 54.6 122 122 122z m0-204c45.2 0 82 36.8 82 82s-36.8 82-82 82-82-36.8-82-82 36.8-82 82-82z"}))}function fn(){return(fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pn(e){return React.createElement(l.f,fn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M800 800h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-256 0h64v64h-64v-64z m0-640h64v64h-64v-64z m128 640h64v64h-64v-64zM160 672h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m640 384h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z"}),React.createElement("path",{d:"M896 64H128c-35.2 0-64 28.8-64 64v768c0 35.2 28.8 64 64 64h768c35.2 0 64-28.8 64-64V128c0-35.2-28.8-64-64-64z m0 800c0 19.2-12.8 32-32 32H160c-19.2 0-32-12.8-32-32V160c0-19.2 12.8-32 32-32h704c19.2 0 32 12.8 32 32v704z"}))}function hn(){return(hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dn(e){return React.createElement(l.f,hn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M384 480v-160c0-70.4 57.6-128 128-128s128 57.6 128 128v64h64v-64c0-105.6-86.4-192-192-192s-192 86.4-192 192v160H160v416h704V480H384z m416 352H224v-288h576v288z",fill:"#ffffff","p-id":"2813"}),React.createElement("path",{d:"M416 736h192v-64h-192z",fill:"#ffffff","p-id":"2814"}))}Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Object)],Xt.prototype,"nodes",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Xt.prototype,"_drillDownNode",void 0),Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],Xt.prototype,"willPurgeSpace",void 0),Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],Xt.prototype,"activeNodes",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Xt.prototype,"_dropLocation",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Xt.prototype,"_opened",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Xt.prototype,"_suspensed",void 0),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype","function"==typeof(At="undefined"!=typeof T&&T)?At:Object)],Xt.prototype,"createNode",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],Xt.prototype,"import",null),Jt.displayName="IconLock",Zt.displayName="Hidden",tn.displayName="Remove",rn.displayName="Setting",an.displayName="Component",cn.displayName="Clone",ln.displayName="Page",pn.displayName="Container",dn.displayName="IconUnlock";var vn=["componentName","npm"];function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gn(e,t,n){return(t=kn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wn(e,t){if(null==e)return{};var n=On(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function On(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kn(r.key),r)}}function En(e,t,n){return t&&Sn(e.prototype,t),n&&Sn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kn(e){var t=_n(e,"string");return"symbol"==yn(t)?t:String(t)}function _n(e,t){if("object"!=yn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Pn(e){if(!e)return null;if(!Array.isArray(e)){if("string"!=typeof e)return null;e=e.split(/ *[ ,|] */).filter(Boolean)}return e.length<1?null:e}function xn(e){if(!e)return null;if("function"==typeof e)return e;if(Object(l.T)(e))return function(t){return e.test(t.componentName)};var t=Pn(e);return t?function(e){return t.includes(e.componentName)}:null}var Nn=function(){function e(t,n){jn(this,e),this.designer=void 0,this.isComponentMeta=!0,this._npm=void 0,this.emitter=Object(u.createModuleEventBus)("ComponentMeta"),this._componentName=void 0,this._isContainer=void 0,this._isModal=void 0,this._descriptor=void 0,this._rootSelector=void 0,this._transformedMetadata=void 0,this._liveTextEditing=void 0,this._isTopFixed=void 0,this.parentWhitelist=void 0,this.childWhitelist=void 0,this._title=void 0,this._isMinimalRenderUnit=void 0,this._acceptable=void 0,this.prototype=void 0,this.designer=t,this.parseMetadata(n)}return En(e,[{key:"npm",get:function e(){return this._npm},set:function e(t){this.setNpm(t)}},{key:"componentName",get:function e(){return this._componentName}},{key:"isContainer",get:function e(){return this._isContainer||this.isRootComponent()}},{key:"isMinimalRenderUnit",get:function e(){return this._isMinimalRenderUnit||!1}},{key:"isModal",get:function e(){return this._isModal}},{key:"descriptor",get:function e(){return this._descriptor}},{key:"rootSelector",get:function e(){return this._rootSelector}},{key:"configure",get:function e(){var t,n=null===(t=this._transformedMetadata)||void 0===t?void 0:t.configure;return(null==n?void 0:n.combined)||(null==n?void 0:n.props)||[]}},{key:"liveTextEditing",get:function e(){return this._liveTextEditing}},{key:"isTopFixed",get:function e(){return!!this._isTopFixed}},{key:"title",get:function e(){var t;return Object(l.X)(this._title)?(null===(t=this._title)||void 0===t?void 0:t.label)||this.componentName:this._title||this.componentName}},{key:"icon",get:function e(){var t;return(null===(t=this._transformedMetadata)||void 0===t?void 0:t.icon)||("Page"===this.componentName?ln:this.isContainer?pn:an)}},{key:"acceptable",get:function e(){return this._acceptable}},{key:"advanced",get:function e(){return this.getMetadata().configure.advanced||{}}},{key:"setNpm",value:function e(t){this._npm||(this._npm=t)}},{key:"parseMetadata",value:function e(t){var n=t.componentName,r=t.npm,o=wn(t,vn),i=t;t.prototype&&(this.prototype=t.prototype),r||Object.keys(o).length||(i={componentName:n,configure:{component:{disableBehaviors:["copy","move","lock","unlock"]},advanced:{callbacks:{onMoveHook:function e(){return!1}}}}}),this._npm=r||this._npm,this._componentName=n,this._transformedMetadata=this.transformMetadata(i);var a=this._transformedMetadata.title;a&&(this._title="string"==typeof a?{type:"i18n","en-US":this.componentName,"zh-CN":a}:a);var u=this.advanced.liveTextEditing||[];function c(e){e.forEach((function(e){if(null!=e&&e.items)c(e.items);else{var t,n=e.liveTextEditing||(null===(t=e.extraProps)||void 0===t?void 0:t.liveTextEditing);n&&u.push(bn({propTarget:String(e.name)},n))}}))}c(this.configure),this._liveTextEditing=u.length>0?u:void 0;var s=this.advanced.isTopFixed;s&&(this._isTopFixed=s);var l=this._transformedMetadata.configure,f=void 0===l?{}:l;this._acceptable=!1;var p=f.component;if(p){if(this._isContainer=!!p.isContainer,this._isModal=!!p.isModal,this._descriptor=p.descriptor,this._rootSelector=p.rootSelector,this._isMinimalRenderUnit=p.isMinimalRenderUnit,p.nestingRule){var h=p.nestingRule,d=h.parentWhitelist,v=h.childWhitelist;this.parentWhitelist=xn(d),this.childWhitelist=xn(v)}}else this._isContainer=!1,this._isModal=!1;this.emitter.emit("metadata_change")}},{key:"refreshMetadata",value:function e(){this.parseMetadata(this.getMetadata())}},{key:"transformMetadata",value:function e(t){var n,r=this.designer.componentActions.getRegisteredMetadataTransducers().reduce((function(e,t){return t(e)}),Tn(t));return r.configure||(r.configure={}),r.experimental&&!r.configure.advanced&&(Object(l.p)(r.experimental,".experimental",".configure.advanced"),r.configure.advanced=r.experimental),r}},{key:"isRootComponent",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"Page"===this.componentName||"Component"===this.componentName||t&&"Block"===this.componentName}},{key:"availableActions",get:function e(){var t,n=(null===(t=this._transformedMetadata)||void 0===t?void 0:t.configure.component)||{},r=n.disableBehaviors,o=n.actions,i=Pn(r)||(this.isRootComponent(!1)?["copy","remove","lock","unlock"]:null);return o=this.designer.componentActions.actions.concat(this.designer.getGlobalComponentActions()||[],o||[]),i?i.includes("*")?o.filter((function(e){return"always"===e.condition})):o.filter((function(e){return i.indexOf(e.name)<0})):o}},{key:"setMetadata",value:function e(t){this.parseMetadata(t)}},{key:"getMetadata",value:function e(){return this._transformedMetadata}},{key:"checkNestingUp",value:function e(t,n){return!this.parentWhitelist||this.parentWhitelist(n.internalToShellNode(),Object(l.N)(t)?t.internalToShellNode():t)}},{key:"checkNestingDown",value:function e(t,n){var r=this,o;return!this.childWhitelist||(Array.isArray(n)?n:[n]).every((function(e){var n=Object(l.N)(e)?e:new Je(t.document,e);return r.childWhitelist&&r.childWhitelist(n.internalToShellNode(),t.internalToShellNode())}))}},{key:"onMetadataChange",value:function e(t){var n=this;return this.emitter.on("metadata_change",t),function(){n.emitter.removeListener("metadata_change",t)}}}]),e}();function Cn(e){return e&&e.isComponentMeta}function Tn(e){return e.configure?Array.isArray(e.configure)?bn(bn({},e),{},{configure:{props:e.configure}}):e:bn(bn({},e),{},{configure:{}})}Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Nn.prototype,"icon",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Nn.prototype,"availableActions",null);var Ln="100%";function Rn(e){return e&&e.isSimulator}function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e,t,n){return(t=Gn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gn(r.key),r)}}function Fn(e,t,n){return t&&Vn(e.prototype,t),n&&Vn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gn(e){var t=Hn(e,"string");return"symbol"==An(t)?t:String(t)}function Hn(e,t){if("object"!=An(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=An(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Un=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"global";Bn(this,e),this.designer=void 0,this.viewName=void 0,this.emitter=Object(u.createModuleEventBus)("Project"),this.documents=[],this.data={version:"1.0.0",componentsMap:[],componentsTree:[],i18n:{}},this._simulator=void 0,this.isRendererReady=!1,this._config={},this._i18n={},this.documentsMap=new Map,this.designer=t,this.viewName=r,Object(u.makeObservable)(this),this.load(n)}return Fn(e,[{key:"simulator",get:function e(){return this._simulator||null}},{key:"currentDocument",get:function e(){return this.documents.find((function(e){return e.active}))}},{key:"config",get:function e(){return this._config},set:function e(t){this._config=t}},{key:"i18n",get:function e(){return this._i18n},set:function e(t){this._i18n=t||{}}},{key:"getComponentsMap",value:function e(){return this.documents.reduce((function(e,t){var n=t.getComponentsMap();return Array.isArray(n)&&n.forEach((function(t){var n;e.find((function(e){return!(!Object(l.R)(e)||!Object(l.R)(t)||e.package!==t.package||e.componentName!==t.componentName)||!(!Object(l.M)(e)||e.componentName!==t.componentName)}))||e.push(t)})),e}),[])}},{key:"getSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.h.Save;return Dn(Dn({},this.data),{},{componentsMap:this.getComponentsMap(),componentsTree:this.documents.filter((function(e){return!e.isBlank()})).map((function(e){return e.export(t)||{}})),i18n:this.i18n})}},{key:"setSchema",value:function e(t){var n,r=this.documents.find((function(e){return e.active}));r&&(null==t?void 0:t.componentsTree[0])&&r.import(null==t?void 0:t.componentsTree[0]),null===(n=this.simulator)||void 0===n||n.rerender()}},{key:"load",value:function e(t,n){var r=this;if(this.unload(),this.data=Dn({version:"1.0.0",componentsMap:[],componentsTree:[],i18n:{}},t),this.config=(null==t?void 0:t.config)||this.config,this.i18n=(null==t?void 0:t.i18n)||this.i18n,n)if(!0===n){var o,i,a,u,c,s=this.data.componentsTree.map((function(e){return r.createDocument(e)})),l;if((null===(o=this.config)||void 0===o||null===(i=o.layout)||void 0===i||null===(a=i.props)||void 0===a||null===(u=a.tabBar)||void 0===u||null===(c=u.items)||void 0===c?void 0:c.length)>0)null===(l=s.find((function(e){var t;return e.fileName===(null===(t=r.config.layout.props.tabBar.items[0].path)||void 0===t?void 0:t.slice(1))})))||void 0===l||l.open();else s[0].open()}else this.open(n)}},{key:"unload",value:function e(){if(!(this.documents.length<1))for(var t=this.documents.length-1;t>=0;t--)this.documents[t].remove()}},{key:"removeDocument",value:function e(t){var n=this.documents.indexOf(t);n<0||(this.documents.splice(n,1),this.documentsMap.delete(t.id))}},{key:"set",value:function e(t,n){"config"===t&&(this.config=n),"i18n"===t&&(this.i18n=n),Object.assign(this.data,In({},t,n))}},{key:"get",value:function e(t){return"config"===t?this.config:"i18n"===t?this.i18n:Reflect.get(this.data,t)}},{key:"getDocument",value:function e(t){return this.documents.find((function(e){return e.id===t}))||null}},{key:"getDocumentByFileName",value:function e(t){return this.documents.find((function(e){return e.fileName===t}))||null}},{key:"createDocument",value:function e(t){var n,r,o=new Xt(this,t||(null==this||null===(n=this.data)||void 0===n||null===(r=n.componentsTree)||void 0===r?void 0:r[0]));return this.documents.push(o),this.documentsMap.set(o.id,o),o}},{key:"open",value:function e(t){if(!t){var n=this.documents.find((function(e){return e.isBlank()}));return n?n.open():(t=this.createDocument()).open()}if("string"==typeof t||"number"==typeof t){var r=this.documents.find((function(e){return e.fileName===String(t)||String(e.id)===String(t)}));if(r)return r.open();var o=this.data.componentsTree.find((function(e){return e.fileName===String(t)}));return o?(t=this.createDocument(o)).open():null}return Yt(t)?t.open():(t=this.createDocument(t)).open()}},{key:"checkExclusive",value:function e(t){this.documents.forEach((function(e){e!==t&&e.suspense()})),this.emitter.emit("current-document.change",t)}},{key:"closeOthers",value:function e(t){this.documents.forEach((function(e){e!==t&&e.close()}))}},{key:"mountSimulator",value:function e(t){this._simulator=t,this.emitter.emit("lowcode_engine_simulator_ready",t)}},{key:"setRendererReady",value:function e(t){this.isRendererReady=!0,this.emitter.emit("lowcode_engine_renderer_ready",t)}},{key:"onSimulatorReady",value:function e(t){var n=this;return this._simulator?(t(this._simulator),function(){}):(this.emitter.on("lowcode_engine_simulator_ready",t),function(){n.emitter.removeListener("lowcode_engine_simulator_ready",t)})}},{key:"onRendererReady",value:function e(t){var n=this;return this.isRendererReady&&t(),this.emitter.on("lowcode_engine_renderer_ready",t),function(){n.emitter.removeListener("lowcode_engine_renderer_ready",t)}}},{key:"onCurrentDocumentChange",value:function e(t){var n=this;return this.emitter.on("current-document.change",t),function(){n.emitter.removeListener("current-document.change",t)}}}]),e}(),zn,Wn,$n,Xn,Yn,Kn,qn;function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tr(r.key),r)}}function er(e,t,n){return t&&Zn(e.prototype,t),n&&Zn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tr(e){var t=nr(e,"string");return"symbol"==Jn(t)?t:String(t)}function nr(e,t){if("object"!=Jn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],Un.prototype,"documents",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Un.prototype,"currentDocument",null),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],Un.prototype,"_config",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[Object])],Un.prototype,"config",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Un.prototype,"_i18n",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[Object])],Un.prototype,"i18n",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],Un.prototype,"load",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",Object)],Un.prototype,"createDocument",null);var rr=function(){function e(){Qn(this,e),this.rect=void 0,this._bounds=void 0,this.viewportElement=void 0,this._scale=1,this._contentWidth="100%",this._contentHeight="100%",this._scrollX=0,this._scrollY=0,this._scrollTarget=void 0,this._scrolling=!1,Object(u.makeObservable)(this)}return er(e,[{key:"bounds",get:function e(){var t=this;return this._bounds||(this._bounds=this.viewportElement.getBoundingClientRect(),requestAnimationFrame((function(){t._bounds=void 0}))),this._bounds}},{key:"contentBounds",get:function e(){var t=this.bounds,n=this.scale;return new DOMRect(0,0,t.width/n,t.height/n)}},{key:"mount",value:function e(t){t&&this.viewportElement!==t&&(this.viewportElement=t,this.touch())}},{key:"touch",value:function e(){this.viewportElement&&(this.rect=this.bounds)}},{key:"height",get:function e(){return this.rect?this.rect.height:600},set:function e(t){this._contentHeight=t/this.scale,this.viewportElement&&(this.viewportElement.style.height="".concat(t,"px"),this.touch())}},{key:"width",get:function e(){return this.rect?this.rect.width:1e3},set:function e(t){this._contentWidth=t/this.scale,this.viewportElement&&(this.viewportElement.style.width="".concat(t,"px"),this.touch())}},{key:"scale",get:function e(){return this._scale},set:function e(t){if(isNaN(t)||t<=0)throw new Error('invalid new scale "'.concat(t,'"'));this._scale=t,this._contentWidth=this.width/this.scale,this._contentHeight=this.height/this.scale}},{key:"contentHeight",get:function e(){return this._contentHeight},set:function e(t){this._contentHeight=t}},{key:"contentWidth",get:function e(){return this._contentWidth},set:function e(t){this._contentWidth=t}},{key:"scrollX",get:function e(){return this._scrollX}},{key:"scrollY",get:function e(){return this._scrollY}},{key:"scrollTarget",get:function e(){return this._scrollTarget}},{key:"scrolling",get:function e(){return this._scrolling}},{key:"setScrollTarget",value:function e(t){var n=this,r=new rc(t),o;this._scrollX=r.left,this._scrollY=r.top,t.addEventListener("scroll",(function(){n._scrollX=r.left,n._scrollY=r.top,n._scrolling=!0,o&&clearTimeout(o),o=setTimeout((function(){n._scrolling=!1}),80)})),t.addEventListener("resize",(function(){return n.touch()})),this._scrollTarget=r}},{key:"toGlobalPoint",value:function e(t){if(!this.viewportElement)return t;var n=this.bounds;return{clientX:t.clientX*this.scale+n.left,clientY:t.clientY*this.scale+n.top}}},{key:"toLocalPoint",value:function e(t){if(!this.viewportElement)return t;var n=this.bounds;return{clientX:(t.clientX-n.left)/this.scale,clientY:(t.clientY-n.top)/this.scale}}}]),e}();function or(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ir(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function ir(e,t){if(e){if("string"==typeof e)return ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ar(e,t):void 0}}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ur(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.contentWindow,o=t.contentDocument,i=e.designer.editor.get("innerPlugins");r.AliLowCodeEngine=i._getLowCodePluginContext({}),r.LCSimulatorHost=e,r._=window._;var a={},u={};function c(e,t){var n=or(e),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o)if(Object(l.v)(o))o.assets&&c(Array.isArray(o.assets)?o.assets:[o.assets],o.level||t);else if(Array.isArray(o))c(o,t);else{Object(l.w)(o)||(o=Object(l.h)(Object(l.x)(o)?l.d.CSSUrl:l.d.JSUrl,o,t));var i=o.id?' data-id="'.concat(o.id,'"'):"",s=o.level||t||l.a.Environment,f=o.scriptType?' type="'.concat(o.scriptType,'"'):"";o.type===l.d.JSUrl?u[s].push('<script src="'.concat(o.content,'"').concat(i).concat(f,"><\/script>")):o.type===l.d.JSText?u[s].push("<script".concat(i).concat(f,">").concat(o.content,"<\/script>")):o.type===l.d.CSSUrl?a[s].push('<link rel="stylesheet" href="'.concat(o.content,'"').concat(i," />")):o.type===l.d.CSSText&&a[s].push('<style type="text/css"'.concat(i,">").concat(o.content,"</style>"))}}}catch(e){n.e(e)}finally{n.f()}}l.b.forEach((function(e){a[e]=[],u[e]=[]})),c(n);var s=Object.keys(a).map((function(e){return"".concat(a[e].join("\n"),'<meta level="').concat(e,'" />')})).join(""),f=Object.keys(u).map((function(e){return u[e].join("\n")})).join("");return o.open(),o.write('\n<!doctype html>\n<html class="engine-design-mode">\n  <head><meta charset="utf-8"/>\n    '.concat(s,"\n  </head>\n  <body>\n    ").concat(f,"\n  </body>\n</html>")),o.close(),new Promise((function(t){var n=r.SimulatorRenderer;if(n)return t(n);var o=function n(){t(r.SimulatorRenderer||e.renderer),r.removeEventListener("load",n)};r.addEventListener("load",o)}))}function cr(e){return e&&e.isSimulatorRenderer}function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */lr=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==sr(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(sr(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function fr(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function pr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fr(i,r,o,a,u,"next",e)}function u(e){fr(i,r,o,a,u,"throw",e)}a(void 0)}))}}function hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yr(r.key),r)}}function vr(e,t,n){return t&&dr(e.prototype,t),n&&dr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yr(e){var t=mr(e,"string");return"symbol"==sr(t)?t:String(t)}function mr(e,t){if("object"!=sr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(zn="undefined"!=typeof DOMRect&&DOMRect)?zn:Object)],rr.prototype,"rect",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[Number])],rr.prototype,"height",null),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[Number])],rr.prototype,"width",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],rr.prototype,"_scale",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[Number])],rr.prototype,"scale",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],rr.prototype,"_contentWidth",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],rr.prototype,"_contentHeight",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[Object])],rr.prototype,"contentHeight",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[Object])],rr.prototype,"contentWidth",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],rr.prototype,"_scrollX",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],rr.prototype,"_scrollY",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],rr.prototype,"_scrolling",void 0);var br=Symbol("unset"),gr=function(){function e(t,n){var r=this;hr(this,e),this.consumer=void 0,this.emitter=Object(u.createModuleEventBus)("ResourceConsumer"),this._data=br,this._providing=void 0,this._consuming=void 0,this._firstConsumed=!1,this.resolveFirst=void 0,this.consumer=n,Object(u.makeObservable)(this),this._providing=Object(u.autorun)((function(){r._data=t()}))}return vr(e,[{key:"consume",value:function e(t){var n=this;if(!this._consuming){var r;if(cr(t)){if(!this.consumer)return;var o=this.consumer;r=function e(n){return o(t,n)}}else r=t;this._consuming=Object(u.autorun)(pr(lr().mark((function e(){return lr().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:if(n._data!==br){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,r(n._data);case 4:n.resolveFirst?n.resolveFirst():n._firstConsumed=!0;case 5:case"end":return t.stop()}}),e)}))))}}},{key:"dispose",value:function e(){this._providing&&this._providing(),this._consuming&&this._consuming(),this.emitter.removeAllListeners()}},{key:"waitFirstConsume",value:function e(){var t=this;return this._firstConsumed?Promise.resolve():new Promise((function(e){t.resolveFirst=e}))}}]),e}();Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],gr.prototype,"_data",void 0);var wr=n(12),Or=n.n(wr);function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(e,t,n){return(t=_r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _r(e){var t=Pr(e,"string");return"symbol"==jr(t)?t:String(t)}function Pr(e,t){if("object"!=jr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var xr=["string","number","array","bool","func","object","node","element","symbol","any"];function Nr(e,t){function n(){return e.isRequired.apply(e,arguments)}return"string"==typeof t&&(t={type:t}),n.lowcodeType=Er(Er({},t),{},{isRequired:!0}),n}function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or.a.any,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(){return e.apply(void 0,arguments)}return e._inner||"lowcodeCheckType"===e.name||(e.lowcodeType=t),n.lowcodeType=t,n.isRequired=Nr(e,t),n}var Tr=Er(Er({},Or.a),{},{define:Cr});window.PropTypes=Tr,window.React&&(window.React.PropTypes=Tr),xr.forEach((function(e){var t=Or.a[e];t&&(t._inner=!0,Tr[e]=Cr(t,e))})),Tr.oneOf=function(e){return Cr(Or.a.oneOf(e),{type:"oneOf",value:e})},Tr.arrayOf=function(e){return Cr(Or.a.arrayOf(e),{type:"arrayOf",value:e.lowcodeType||"any"})},Tr.objectOf=function(e){return Cr(Or.a.objectOf(e),{type:"objectOf",value:e.lowcodeType||"any"})},Tr.oneOfType=function(e){var t=e.map((function(e){return e.lowcodeType||"any"}));return Cr(Or.a.oneOfType(e),{type:"oneOfType",value:t})},Tr.exact=function(e){var t=Object.keys(e).map((function(t){var n;return{name:t,propType:(null===(n=e[t])||void 0===n?void 0:n.lowcodeType)||"any"}}));return Cr(Or.a.exact(e),{type:"exact",value:t})},Tr.shape=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).map((function(t){var n;return{name:t,propType:(null===(n=e[t])||void 0===n?void 0:n.lowcodeType)||"any"}}));return Cr(Or.a.shape(e),{type:"shape",value:t})};var Lr=["string","number","object"];function Rr(e){if(!e)return[];var t=e.propTypes||{},n=e.defaultProps||{},r={};return t?(Object.keys(t).forEach((function(e){var o=t[e],i=n[e],a=o.lowcodeType;if(a)return r[e]={name:e,propType:a},void(null!=i&&(r[e].defaultValue=i));for(var u=xr.length;u-- >0;){var c=xr[u];if(Tr[c]===o)return r[e]={name:e,propType:c},void(null!=i&&(r[e].defaultValue=i))}r[e]={name:e,propType:"any"},null!=i&&(r[e].defaultValue=i)})),Object.keys(n).forEach((function(e){if(!r[e]){var t=n[e],i=jr(t);"boolean"===i?i="bool":"function"===i?i="func":"object"===i&&Array.isArray(t)?i="array":t&&Object(o.isValidElement)(t)?i="node":t&&Object(l.E)(t)?i="element":Lr.includes(i)||(i="any"),r[e]={name:e,propType:i||"any",defaultValue:t}}})),Object.keys(r).map((function(e){return r[e]}))):[]}function Ar(e){return Er({props:Rr(e)},e.componentMetadata)}var Mr=function e(t,n){for(var r=t;r;){var o=Object(l.i)(r,n),i=Object(l.q)(r,(function(e){var t,n;return!!(null!==(t=r)&&void 0!==t&&t.isLocked?null===(n=e.parent)||void 0===n?void 0:n.isLocked:e.isLocked)}));if(i&&i.getId()!==r.getId()&&(o=!1),o)break;r=r.parent}return r};function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fr(r.key),r)}}function Vr(e,t,n){return t&&Br(e.prototype,t),n&&Br(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fr(e){var t=Gr(e,"string");return"symbol"==Dr(t)?t:String(t)}function Gr(e,t){if("object"!=Dr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Hr(e){var t=e.clipboardData;if(!t)return null;try{var n=JSON.parse(t.getData("text/plain"));if(!n)return{};if(n.componentsTree)return n;if(n.componentName)return{componentsTree:[n]}}catch(e){return{}}}var Ur,zr=new(function(){function e(){Ir(this,e),this.copyPasters=[],this.waitFn=void 0}return Vr(e,[{key:"isCopyPasteEvent",value:function e(t){this.isCopyPaster(t.target)}},{key:"isCopyPaster",value:function e(t){return this.copyPasters.includes(t)}},{key:"initCopyPaster",value:function e(t){var n=this;this.copyPasters.push(t);var r=function e(r){n.waitFn&&(n.waitFn(Hr(r),r),n.waitFn=void 0),t.blur()};return t.addEventListener("paste",r,!1),function(){t.removeEventListener("paste",r,!1);var e=n.copyPasters.indexOf(t);e>-1&&n.copyPasters.splice(e,1)}}},{key:"injectCopyPaster",value:function e(t){if(!this.copyPasters.find((function(e){return e.ownerDocument===t}))){var n=t.createElement("textarea");n.style.cssText="position: absolute;left: -9999px;top:-100px",t.body.appendChild(n);var r=this.initCopyPaster(n);return function(){r(),t.removeChild(n)}}}},{key:"setData",value:function e(t){var n=this.copyPasters.find((function(e){return e.ownerDocument}));n&&(n.value="string"==typeof t?t:JSON.stringify(t),n.select(),n.ownerDocument.execCommand("copy"),n.blur())}},{key:"waitPasteData",value:function e(t,n){var r=t.view;if(r){var o=this.copyPasters.find((function(e){return e.ownerDocument===r.document}));o&&(o.select(),this.waitFn=n)}}}]),e}()),Wr;function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qr(r.key),r)}}function Kr(e,t,n){return t&&Yr(e.prototype,t),n&&Yr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qr(e){var t=Jr(e,"string");return"symbol"==$r(t)?t:String(t)}function Jr(e,t){if("object"!=$r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Qr="data-setter-prop";function Zr(e,t){var n=e.closest("[".concat(Qr,"]"));return n&&t.contains(n)?n:null}function eo(e,t){t.setValue(e)}var to=[];function no(e){to.push(e)}function ro(){to=[]}var oo=[];function io(e){oo.push(e)}function ao(){oo=[]}var uo=function(){function e(){Xr(this,e),this._editing=null,this._dispose=void 0,this._save=void 0}return Kr(e,[{key:"apply",value:function e(t){var n,r,o,i,a=this,u=t.node,c=t.event,s=t.rootElement,l=c.target,f=u.componentMeta.liveTextEditing,p=null===(n=u.document)||void 0===n?void 0:n.designer.editor,h=null==u||null===(r=u.componentMeta)||void 0===r?void 0:r.npm,d=[null==h?void 0:h.package,null==h?void 0:h.componentName].filter((function(e){return!!e})).join("-")||(null==u||null===(o=u.componentMeta)||void 0===o?void 0:o.componentName)||"";null==p||p.eventBus.emit("designer.builtinSimulator.liveEditing",{selected:d});var v=Zr(l,s),y=null===(i=v)||void 0===i?void 0:i.dataset.setterProp,m,b;f?y?m=f.find((function(e){return e.propTarget==y})):(m=f.find((function(e){return!!e.selector&&!!(v=lo(s,l,e.selector))})),y=null===(b=m)||void 0===b?void 0:b.propTarget):(oo.some((function(e){return!!(m=e(t))})),m&&(y=m.propTarget,v=m.propElement||lo(s,l,m.selector)));if(y&&v){var g,w,O,j=u.getProp(y,!0);if(this._editing===j)return;var S=(null===(g=m)||void 0===g?void 0:g.onSaveContent)||(null===(w=to.find((function(e){return e.condition(j)})))||void 0===w?void 0:w.onSaveContent)||eo;v.setAttribute("contenteditable",null!==(O=m)&&void 0!==O&&O.mode&&"plaintext"!==m.mode?"true":"plaintext-only"),v.classList.add("engine-live-editing"),v.focus(),co(c),this._save=function(){S(v.innerText,j)};var E=function e(t){var n;switch(console.info(t.code),t.code){case"Enter":case"Escape":break;case"Tab":null===(n=v)||void 0===n||n.blur()}},k=function e(){a.saveAndDispose()};v.addEventListener("focusout",k),v.addEventListener("keydown",E,!0),this._dispose=function(){v.classList.remove("engine-live-editing"),v.removeAttribute("contenteditable"),v.removeEventListener("focusout",k),v.removeEventListener("keydown",E,!0)},this._editing=j}}},{key:"editing",get:function e(){return this._editing}},{key:"saveAndDispose",value:function e(){this._save&&(this._save(),this._save=void 0),this.dispose()}},{key:"dispose",value:function e(){this._dispose&&(this._dispose(),this._dispose=void 0),this._editing=null}}]),e}();function co(e){var t,n=null===(t=e.view)||void 0===t?void 0:t.document;if(n){var r=n.caretRangeFromPoint(e.clientX,e.clientY);r&&(so(n,r),setTimeout((function(){return so(n,r)}),1))}}function so(e,t){var n=e.getSelection();n&&(n.removeAllRanges(),n.addRange(t))}function lo(e,t,n){if(!n)return null;var r=":root"===n?e:e.querySelector(n);return r&&(r.contains(t)||(r=Array.from(e.querySelectorAll(n)).find((function(e){return e.contains(t)}))))?r:null}function fo(e){return e.nodeType===Node.ELEMENT_NODE}function po(e,t){var n=e.getBoundingClientRect(),r=t.contentBounds,o=r.width,i=r.height,a=n.left,u=n.right,c=n.top,s=n.bottom,l=n.width,f=n.height;return a>=-l&&c>=-f&&s<=i+f&&u<=o+l}function ho(e){return e.map((function(e){return null==e?void 0:e.toUpperCase()}))}function vo(e,t){var n,r=window.document,o=(null===(n=e.view)||void 0===n?void 0:n.document)||r,i=new Set;return i.add(r),i.add(o),t.forEach((function(e){var t=e.contentDocument;t&&i.add(t)})),function(e){i.forEach((function(t){return e(t)}))}}uo.addLiveEditingSpecificRule=io,uo.clearLiveEditingSpecificRule=ao,uo.addLiveEditingSaveHandler=no,uo.clearLiveEditingSaveHandler=ro,Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],uo.prototype,"_editing",void 0);var yo=n(8),mo,bo,go,wo;function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Do(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function So(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */So=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Oo(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Oo(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function Eo(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ko(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Eo(i,r,o,a,u,"next",e)}function u(e){Eo(i,r,o,a,u,"throw",e)}a(void 0)}))}}function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){xo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xo(e,t,n){return(t=Lo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function No(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lo(r.key),r)}}function To(e,t,n){return t&&Co(e.prototype,t),n&&Co(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lo(e){var t=Ro(e,"string");return"symbol"==Oo(t)?t:String(t)}function Ro(e,t){if("object"!=Oo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ao(e,t){return Vo(e)||Bo(e,t)||Do(e,t)||Mo()}function Mo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Do(e,t){if(e){if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Io(e,t):void 0}}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bo(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function Vo(e){if(Array.isArray(e))return e}var Fo=function(){var e=Object(u.getPublicPath)(),t,n,r=Ao(/^(.+?)(\/js)?\/?$/.exec(e)||[],3),o=r[0],i=r[1],a=void 0===i?"":i,c;return t=r[2]?["".concat(a,"/css/react-simulator-renderer.css"),"".concat(a,"/js/react-simulator-renderer.js")]:["".concat(a,"/react-simulator-renderer.css"),"".concat(a,"/react-simulator-renderer.js")]}(),Go=function(){var e=Object(u.getPublicPath)(),t,n,r=Ao(/^(.+?)(\/js)?\/?$/.exec(e)||[],3),o=r[0],i=r[1],a=void 0===i?"":i,c;return t=r[2]?["".concat(a,"/css/rax-simulator-renderer.css"),"".concat(a,"/js/rax-simulator-renderer.js")]:["".concat(a,"/rax-simulator-renderer.css"),"".concat(a,"/rax-simulator-renderer.js")]}(),Ho=[Object(l.h)(l.d.JSText,"window.React=parent.React;window.ReactDOM=parent.ReactDOM;window.__is_simulator_env__=true;",void 0,"react"),Object(l.h)(l.d.JSText,"window.PropTypes=parent.PropTypes;React.PropTypes=parent.PropTypes; window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;")],Uo=[Object(l.h)(l.d.JSText,"window.Rax=parent.Rax;window.React=parent.React;window.ReactDOM=parent.ReactDOM;window.VisualEngineUtils=parent.VisualEngineUtils;window.VisualEngine=parent.VisualEngine"),Object(l.h)(l.d.JSText,"window.PropTypes=parent.PropTypes;React.PropTypes=parent.PropTypes; window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;")],zo=function(){function e(t,n){var r=this;No(this,e),this.isSimulator=!0,this.project=void 0,this.designer=void 0,this.viewport=new rr,this.scroller=void 0,this.emitter=Object(u.createModuleEventBus)("BuiltinSimulatorHost"),this.componentsConsumer=void 0,this.injectionConsumer=void 0,this.i18nConsumer=void 0,this.autoRender=!0,this._props={},this._contentWindow=void 0,this._contentDocument=void 0,this._appHelper=void 0,this._renderer=void 0,this.asyncLibraryMap={},this.libraryMap={},this._iframe=void 0,this.disableHovering=void 0,this.disableDetecting=void 0,this.liveEditing=new uo,this.instancesMap={},this.tryScrollAgain=null,this._sensorAvailable=!0,this.sensing=!1,Object(u.makeObservable)(this),this.project=t,this.designer=n,this.scroller=this.designer.createScroller(this.viewport),this.autoRender=!u.engineConfig.get("disableAutoRender",!1),this._appHelper=u.engineConfig.get("appHelper"),this.componentsConsumer=new gr((function(){return r.componentsAsset})),this.injectionConsumer=new gr((function(){return{appHelper:r._appHelper}})),u.engineConfig.onGot("appHelper",(function(e){r._appHelper=e})),this.i18nConsumer=new gr((function(){return r.project.i18n})),l.cb.onStartTransaction((function(){r.stopAutoRepaintNode()}),c.i.REPAINT);var o=Object(yo.debounce)(this.rerender.bind(this),28);l.cb.onEndTransaction((function(){o(),r.enableAutoRepaintNode()}),c.i.REPAINT)}return To(e,[{key:"currentDocument",get:function e(){return this.project.currentDocument}},{key:"renderEnv",get:function e(){return this.get("renderEnv")||"default"}},{key:"device",get:function e(){return this.get("device")||"default"}},{key:"locale",get:function e(){return this.get("locale")||u.globalLocale.getLocale()}},{key:"deviceClassName",get:function e(){return this.get("deviceClassName")}},{key:"designMode",get:function e(){return this.get("designMode")||"design"}},{key:"requestHandlersMap",get:function e(){return this.get("requestHandlersMap")||null}},{key:"thisRequiredInJSE",get:function e(){var t;return null===(t=u.engineConfig.get("thisRequiredInJSE"))||void 0===t||t}},{key:"enableStrictNotFoundMode",get:function e(){var t;return null!==(t=u.engineConfig.get("enableStrictNotFoundMode"))&&void 0!==t&&t}},{key:"notFoundComponent",get:function e(){var t;return null!==(t=u.engineConfig.get("notFoundComponent"))&&void 0!==t?t:null}},{key:"faultComponent",get:function e(){var t;return null!==(t=u.engineConfig.get("faultComponent"))&&void 0!==t?t:null}},{key:"faultComponentMap",get:function e(){var t;return null!==(t=u.engineConfig.get("faultComponentMap"))&&void 0!==t?t:null}},{key:"componentsAsset",get:function e(){return this.get("componentsAsset")}},{key:"theme",get:function e(){return this.get("theme")}},{key:"componentsMap",get:function e(){return this.designer.componentsMap}},{key:"deviceStyle",get:function e(){return this.get("deviceStyle")}},{key:"contentWindow",get:function e(){return this._contentWindow}},{key:"contentDocument",get:function e(){return this._contentDocument}},{key:"renderer",get:function e(){return this._renderer}},{key:"sensorAvailable",get:function e(){return this._sensorAvailable}},{key:"stopAutoRepaintNode",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.stopAutoRepaintNode()}},{key:"enableAutoRepaintNode",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.enableAutoRepaintNode()}},{key:"setProps",value:function e(t){this._props=t}},{key:"set",value:function e(t,n){this._props=Po(Po({},this._props),{},xo({},t,n))}},{key:"get",value:function e(t){var n,r,o,i;return"device"===t?(null===(n=this.designer)||void 0===n||null===(r=n.editor)||void 0===r||null===(o=r.get("deviceMapper"))||void 0===o||null===(i=o.transform)||void 0===i?void 0:i.call(o,this._props.device))||this._props.device:this._props[t]}},{key:"connect",value:function e(t,n,r){return this._renderer=t,Object(u.autorun)(n,r)}},{key:"reaction",value:function e(t,n,r){return Object(u.reaction)(t,n,r)}},{key:"autorun",value:function e(t,n){return Object(u.autorun)(t,n)}},{key:"purge",value:function e(){}},{key:"mountViewport",value:function e(t){this.viewport.mount(t)}},{key:"buildLibrary",value:function e(t){var n=this,r=t||this.get("library"),o=[],i=[],a=[];return r&&r.length&&r.forEach((function(e){var t=e.exportMode,r=e.exportSourceLibrary;n.libraryMap[e.package]=e.library,e.async&&(n.asyncLibraryMap[e.package]=e),e.exportName&&e.library&&i.push("Object.defineProperty(window,'".concat(e.exportName,"',{get:()=>window.").concat(e.library,"});")),"functionCall"===t&&r&&a.push('window["'.concat(e.library,'"] = window["').concat(r,'"]("').concat(e.library,'", "').concat(e.package,'");')),e.editUrls?o.push(e.editUrls):e.urls&&o.push(e.urls)})),o.unshift(Object(l.h)(l.d.JSText,i.join(""))),o.push(Object(l.h)(l.d.JSText,a.join(""))),o}},{key:"rerender",value:function e(){var t,n;this.designer.refreshComponentMetasMap(),null===(t=this.renderer)||void 0===t||null===(n=t.rerender)||void 0===n||n.call(t)}},{key:"mountContentFrame",value:function(){var e=ko(So().mark((function e(t){var n=this,r,o,i,a,u;return So().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:if(t&&this._iframe!==t){c.next=2;break}return c.abrupt("return");case 2:return this._iframe=t,this._contentWindow=t.contentWindow,this._contentDocument=this._contentWindow.document,r=this.buildLibrary(),o=[Object(l.g)(this.get("environment")||("rax"===this.renderEnv?Uo:Ho),l.a.Environment),Object(l.g)(this.get("extraEnvironment"),l.a.Environment),Object(l.g)(r,l.a.Library),Object(l.g)(this.theme,l.a.Theme),Object(l.g)(this.get("simulatorUrl")||("rax"===this.renderEnv?Go:Fo),l.a.Runtime)],c.next=9,ur(this,t,o);case 9:return i=c.sent,c.next=12,this.componentsConsumer.waitFirstConsume();case 12:return c.next=14,this.injectionConsumer.waitFirstConsume();case 14:if(!(Object.keys(this.asyncLibraryMap).length>0)){c.next=18;break}return c.next=17,i.loadAsyncLibrary(this.asyncLibraryMap);case 17:Object.keys(this.asyncLibraryMap).forEach((function(e){delete n.asyncLibraryMap[e]}));case 18:i.run(),this.viewport.setScrollTarget(this._contentWindow),this.setupEvents(),(a=this.designer.editor.get("innerHotkey")).mount(this._contentWindow),(u=this.designer.editor.get("skeleton")).focusTracker.mount(this._contentWindow),zr.injectCopyPaster(this._contentDocument);case 26:case"end":return c.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupComponents",value:function(){var e=ko(So().mark((function e(t){var n,r=this,o,i;return So().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:return o=this.buildLibrary(t),a.next=3,null===(n=this.renderer)||void 0===n?void 0:n.load(o);case 3:if(!(Object.keys(this.asyncLibraryMap).length>0)){a.next=7;break}return a.next=6,null===(i=this.renderer)||void 0===i?void 0:i.loadAsyncLibrary(this.asyncLibraryMap);case 6:Object.keys(this.asyncLibraryMap).forEach((function(e){delete r.asyncLibraryMap[e]}));case 7:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupEvents",value:function e(){this.setupDragAndClick(),this.setupDetecting(),this.setupLiveEditing(),this.setupContextMenu()}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.emitter).emit.apply(n,[t].concat(o))}},{key:"setupDragAndClick",value:function e(){var t=this,n=this.designer,r=this.contentDocument;r.addEventListener("mousedown",(function(e){var o,i;document.dispatchEvent(new Event("mousedown"));var a=t.project.currentDocument;if(!t.liveEditing.editing&&a){var u=a.selection,s=!1;if("design"===t.designMode)s=e.metaKey||e.ctrlKey;else if(!e.metaKey)return;null===(o=e.target)||void 0===o||o.removeAttribute("for");var l=t.getNodeInstanceFromElement(e.target),f=a.focusNode,p=Mr((null==l?void 0:l.node)||f,e);if(p){var h=null===(i=p.componentMeta.advanced.callbacks)||void 0===i?void 0:i.onMouseDownHook;h&&h(e,p.internalToShellNode());var d=null==p?void 0:p.getParent(),v=null==d?void 0:d.isRGLContainer;if(v){var y;if(null!==(y=e.target)&&void 0!==y&&y.classList.contains("react-resizable-handle"))return;s=!1,n.dragon.emitter.emit("rgl.switch",{action:"start",rglNode:d})}else e.stopPropagation(),e.preventDefault();var m,b=function o(i){if(r.removeEventListener("mouseup",o,!0),n.dragon.emitter.emit("rgl.switch",{action:"end",rglNode:d}),!wc(e,i)||v){var a=p.id;if(n.activeTracker.track({node:p,instance:null==l?void 0:l.instance}),s&&f&&!p.contains(f)&&u.has(a))u.remove(a);else{var c,h,y,m;if(p.isPage()&&null!==(c=p.getChildren())&&void 0!==c&&c.notEmpty()&&"live"===t.designMode){var b,g,w=null===(b=p.getChildren())||void 0===b||null===(g=b.get(0))||void 0===g?void 0:g.getId();w&&(a=w)}f&&u.select(p.contains(f)?f.id:a);var O=null===(h=t.designer)||void 0===h?void 0:h.editor,j=null==p||null===(y=p.componentMeta)||void 0===y?void 0:y.npm,S=[null==j?void 0:j.package,null==j?void 0:j.componentName].filter((function(e){return!!e})).join("-")||(null==p||null===(m=p.componentMeta)||void 0===m?void 0:m.componentName)||"";null==O||O.eventBus.emit("designer.builtinSimulator.select",{selected:S})}}};if((1===e.which||0===e.button)&&f&&!p.contains(f)){var g=[p],w=!1;if(s?(u.has(p.id)||(n.activeTracker.track({node:p,instance:null==l?void 0:l.instance}),u.add(p.id),w=!0),(null==f?void 0:f.id)&&u.remove(f.id),g=u.getTopNodes()):u.containsNode(p,!0)&&(g=u.getTopNodes()),n.dragon.boost({type:c.f.Node,nodes:g},e,v?d:void 0),w)return}r.addEventListener("mouseup",b,!0)}}}),!0),r.addEventListener("click",(function(e){var n,r=new Event("click");r.initEvent("click",!0),null===(n=t._iframe)||void 0===n||n.dispatchEvent(r);var o=e.target,i=u.engineConfig.get("customizeIgnoreSelectors"),a=[".next-input-group",".next-checkbox-group",".next-checkbox-wrapper",".next-date-picker",".next-input",".next-month-picker",".next-number-picker",".next-radio-group",".next-range",".next-range-picker",".next-rating",".next-select",".next-switch",".next-time-picker",".next-upload",".next-year-picker",".next-breadcrumb-item",".next-calendar-header",".next-calendar-table",".editor-container"],c,s=((null==i?void 0:i(a,e))||a).join(",");(!i&&Object(l.F)(e)||null!=o&&o.closest(s))&&(e.preventDefault(),e.stopPropagation())}),!0)}},{key:"setupDetecting",value:function e(){var t=this,n=this.contentDocument,r=this.designer,o=r.detecting,i=r.dragon,a=function e(n){if(o.enable&&"design"===t.designMode){var r=t.getNodeInstanceFromElement(n.target);if(null!=r&&r.node){var a,c=r.node,s=null===(a=c.document)||void 0===a?void 0:a.focusNode;s&&c.contains(s)&&(c=s),o.capture(c)}else o.capture(null);u.engineConfig.get("enableMouseEventPropagationInCanvas",!1)&&!i.dragging||n.stopPropagation()}},c=function e(){t.project.currentDocument&&o.leave(t.project.currentDocument)};n.addEventListener("mouseover",a,!0),n.addEventListener("mouseleave",c,!1),n.addEventListener("mousemove",(function(e){u.engineConfig.get("enableMouseEventPropagationInCanvas",!1)&&!i.dragging||e.stopPropagation()}),!0)}},{key:"setupLiveEditing",value:function e(){var t=this,n;this.contentDocument.addEventListener("dblclick",(function(e){var n,r;e.stopPropagation(),e.preventDefault();var o=e.target,i=t.getNodeInstanceFromElement(o);if(i){var a=null===(n=t.project.currentDocument)||void 0===n?void 0:n.focusNode,u=i.node||a;if(u&&!tt(u)){var c=null===(r=t.findDOMNodes(i.instance,u.componentMeta.rootSelector))||void 0===r?void 0:r.find((function(e){return e&&e.contains(o)}));c&&t.liveEditing.apply({node:u,rootElement:c,event:e})}}}),!0)}},{key:"setSuspense",value:function e(){return!1}},{key:"setupContextMenu",value:function e(){var t=this,n;this.contentDocument.addEventListener("contextmenu",(function(e){var n,r,o,i,a=e.target,u=t.getNodeInstanceFromElement(a);if(u){var c=u.node||(null===(n=t.project.currentDocument)||void 0===n?void 0:n.focusNode);if(c){var s=null===(r=t.designer)||void 0===r?void 0:r.editor,l=null==c||null===(o=c.componentMeta)||void 0===o?void 0:o.npm,f=[null==l?void 0:l.package,null==l?void 0:l.componentName].filter((function(e){return!!e})).join("-")||(null==c||null===(i=c.componentMeta)||void 0===i?void 0:i.componentName)||"";null==s||s.eventBus.emit("designer.builtinSimulator.contextmenu",Po(Po({selected:f},u),{},{instanceRect:t.computeComponentInstanceRect(u.instance),originalEvent:e}))}}}))}},{key:"generateComponentMetadata",value:function e(t){if(Wo(t))return{componentName:t};var n=this.getComponent(t);return n?Po({componentName:t},Ar(n)):{componentName:t}}},{key:"getComponent",value:function e(t){var n;return(null===(n=this.renderer)||void 0===n?void 0:n.getComponent(t))||null}},{key:"createComponent",value:function e(){return null}},{key:"setInstance",value:function e(t,n,r){Object(l.t)(this.instancesMap,t)||(this.instancesMap[t]=new Map),null==r?this.instancesMap[t].delete(n):this.instancesMap[t].set(n,r.slice())}},{key:"getComponentInstances",value:function e(t,n){var r,o,i=this,a=null===(r=t.document)||void 0===r?void 0:r.id;if(!a)return null;var u=(null===(o=this.instancesMap[a])||void 0===o?void 0:o.get(t.id))||null;return u&&n?u.filter((function(e){var t;return(null===(t=i.getClosestNodeInstance(e,null==n?void 0:n.nodeId))||void 0===t?void 0:t.instance)===n.instance})):u}},{key:"getComponentContext",value:function e(){throw new Error("Method not implemented.")}},{key:"getClosestNodeInstance",value:function e(t,n){var r;return(null===(r=this.renderer)||void 0===r?void 0:r.getClosestNodeInstance(t,n))||null}},{key:"computeRect",value:function e(t){var n=this.getComponentInstances(t);return n?this.computeComponentInstanceRect(n[0],t.componentMeta.rootSelector):null}},{key:"computeComponentInstanceRect",value:function e(t,n){var r=this.renderer,o=this.findDOMNodes(t,n);if(!o)return null;for(var i=o.slice(),a,u,c=!1;;){if(!a||a.length<1){var s=i.pop();if(!s)break;a=r.getClientRects(s)}var l=a.pop();if(!l)break;0===l.width&&0===l.height||(u?(l.left<u.x&&(u.x=l.left,c=!0),l.top<u.y&&(u.y=l.top,c=!0),l.right>u.r&&(u.r=l.right,c=!0),l.bottom>u.b&&(u.b=l.bottom,c=!0)):u={x:l.left,y:l.top,r:l.right,b:l.bottom})}if(u){var f=new DOMRect(u.x,u.y,u.r-u.x,u.b-u.y);return f.elements=o,f.computed=c,f}return null}},{key:"findDOMNodes",value:function e(t,n){var r,o=null===(r=this._renderer)||void 0===r?void 0:r.findDOMNodes(t);if(!o)return null;if(n){var i=qo(o,n);return i?[i]:null}return o}},{key:"getNodeInstanceFromElement",value:function e(t){if(!t)return null;var n=this.getClosestNodeInstance(t);if(!n)return null;var r=n.docId,o,i=this.project.getDocument(r).getNode(n.nodeId);return Po(Po({},n),{},{node:i})}},{key:"scrollToNode",value:function e(t,n){var r,o,i;if(this.tryScrollAgain=null,!this.sensing){var a={},u=!1,c=null===(r=this.getComponentInstances((null==n||null===(o=n.near)||void 0===o?void 0:o.node)||t))||void 0===r?void 0:r[0];if(c){var s=null===(i=this.findDOMNodes(c))||void 0===i?void 0:i[0];if(s){if(fo(s)&&!po(s,this.viewport)){var l,f=s.getBoundingClientRect(),p=f.left,h=f.top,d=(null===(l=this.contentDocument)||void 0===l?void 0:l.documentElement)||{},v=d.scrollTop,y=void 0===v?0:v,m=d.scrollLeft,b=void 0===m?0:m;a.left=p+b,a.top=h+y,u=!0}u&&this.scroller&&this.scroller.scrollTo(a)}}}}},{key:"setNativeSelection",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setNativeSelection(t)}},{key:"setDraggingState",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setDraggingState(t)}},{key:"setCopyState",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setCopyState(t)}},{key:"clearState",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.clearState()}},{key:"fixEvent",value:function e(t){var n;if(t.fixed)return t;var r=(null===(n=t.originalEvent.view)||void 0===n?void 0:n.document)!==this.contentDocument,o;if(r||!("canvasX"in t)||!("canvasY"in t)){var i=this.viewport.toLocalPoint({clientX:t.globalX,clientY:t.globalY});t.canvasX=i.clientX,t.canvasY=i.clientY}t.target&&!r||(isNaN(t.canvasX)||isNaN(t.canvasY)||(t.target=null===(o=this.contentDocument)||void 0===o?void 0:o.elementFromPoint(t.canvasX,t.canvasY)));return t.fixed=!0,t}},{key:"isEnter",value:function e(t){var n=this.viewport.bounds;return t.globalY>=n.top&&t.globalY<=n.bottom&&t.globalX>=n.left&&t.globalX<=n.right}},{key:"deactiveSensor",value:function e(){this.sensing=!1,this.scroller.cancel()}},{key:"locate",value:function e(t){var n=this,r=t.dragObject,o=null==r?void 0:r.nodes,i=null==o?void 0:o.filter((function(e){for(var t,n,r,o,i,a=null===(t=e.componentMeta)||void 0===t||null===(n=t.advanced.callbacks)||void 0===n?void 0:n.onMoveHook,u=!a||"function"!=typeof a||a(e.internalToShellNode()),c=null,s=e.parent;s;){if(s.isContainer()){c=s;break}s=s.parent}var l=null===(r=c)||void 0===r||null===(o=r.componentMeta)||void 0===o||null===(i=o.advanced.callbacks)||void 0===i?void 0:i.onChildMoveHook,f=!l||!c||"function"!=typeof l||l(e.internalToShellNode(),c.internalToShellNode());return u&&f}));if(!o||i&&0!==i.length){this.sensing=!0,this.scroller.scrolling(t);var a=this.project.currentDocument;if(!a)return null;var u=this.getDropContainer(t),s;if(Object(l.q)(null==u?void 0:u.container,(function(e){return e.isLocked})))return null;if(!u)return null;if(Object(l.L)(u))return this.designer.createLocation(u);var f=u.container,p=u.instance,h=this.computeComponentInstanceRect(p,f.componentMeta.rootSelector);if(!h)return null;var d=f.children,v={type:c.j.Children,index:0,edge:h},y={target:f,detail:v,source:"simulator".concat(a.id),event:t};if(t.dragObject&&t.dragObject.nodes&&t.dragObject.nodes.length&&t.dragObject.nodes[0].componentMeta.isModal&&a.focusNode)return this.designer.createLocation({target:a.focusNode,detail:v,source:"simulator".concat(a.id),event:t});if(!d||d.size<1||!h)return this.designer.createLocation(y);for(var m=null,b=0,g=null,w=null,O=null,j=null,S=0,E=d.size;S<E;S++){var k=d.get(S),_=S,P=this.getComponentInstances(k),x=P?P.length>1?P.find((function(e){var t;return(null===(t=n.getClosestNodeInstance(e,f.id))||void 0===t?void 0:t.instance)===p})):P[0]:null,N=x?this.computeComponentInstanceRect(x,k.componentMeta.rootSelector):null;if(N){var C=$o(t,N)?0:Xo(t,N);if(0===C){w=C,g=k,b=_,m=N;break}(null===O||N.top<O)&&(O=N.top),(null===j||N.bottom>j)&&(j=N.bottom),(null===w||C<w)&&(w=C,g=k,b=_,m=N)}}if(v.index=b,g&&m){var T=Qc(m),L=!!T&&Jc(T),R=!!T&&qc(T.parentElement),A=L||R,M={node:g.internalToShellNode(),pos:"before",align:A?"V":"H"};if(v.near=M,Ko(t,m,A)&&(M.pos="after",v.index=b+1),!R&&0!==w){var D=Yo(t,h);if(D.distance<w){var I=D.nearAfter;null==O&&(O=h.top),null==j&&(j=h.bottom),M.rect=new DOMRect(h.left,O,h.width,j-O),M.align="H",M.pos=I?"after":"before",v.index=I?d.size:0}}}return this.designer.createLocation(y)}}},{key:"getDropContainer",value:function e(t){var n,r=t.target,o=t.dragObject,i=Object(l.A)(o),a=this.project.currentDocument,u=a.currentRoot,c,s,f;if(r){var p=this.getNodeInstanceFromElement(r);if(null!=p&&p.node)s=p,c=p.node;else{if(i)return null;c=u}}else{if(i)return null;c=u}null!==(n=c)&&void 0!==n&&n.isParental()||(c=(null===(f=c)||void 0===f?void 0:f.parent)||u);if(i)return null;var h=new Set,d,v,y,m;if(Object(l.C)(o)){for(var b=o.nodes,g=b.length,w=c;g-- >0;)rt(b[g],w)&&(w=b[g].parent);w!==c&&(c=w||a.focusNode)&&h.add(c)}s?d=s.node===c?s.instance:null===(v=this.getClosestNodeInstance(s.instance,null===(y=c)||void 0===y?void 0:y.id))||void 0===v?void 0:v.instance:d=c&&(null===(m=this.getComponentInstances(c))||void 0===m?void 0:m[0]);for(var O={container:c,instance:d},j,S=null;c;){if(!0===(j=this.handleAccept(O,t)))return O;if(!j)if(h.add(c),S)c=(O=S).container,S=null;else{if(!c.parent)return null;var E;O={container:c=c.parent,instance:d=null===(E=this.getClosestNodeInstance(O.instance,c.id))||void 0===E?void 0:E.instance}}}return null}},{key:"isAcceptable",value:function e(){return!1}},{key:"handleAccept",value:function e(t,n){var r=t.container,o=n.dragObject,i=this.currentDocument,a=i.focusNode;if(et(r)||r.contains(a))return i.checkNesting(a,o);var u=r.componentMeta,c=this.isAcceptable(r);return!(!u.isContainer&&!c)&&i.checkNesting(r,o)}},{key:"getNearByContainer",value:function e(t,n){var r=t.container,o=t.instance,i=r.children;if(!i||i.isEmpty())return null;for(var a=null,u=0,c=i.size;u<c;u++){var s=i.get(u);if(s){if(s.conditionGroup){var l=s.conditionGroup;u=(l.index||0)+l.length-1,s=l.visibleNode}if(s.isParental()&&!n.has(s)){this.findDOMNodes(o),this.getComponentInstances(s);var f=this.computeRect(s)}}}return null}}]),e}();function Wo(e){return/^[a-z]\w*$/.test(e)}function $o(e,t){return e.canvasY>=t.top&&e.canvasY<=t.bottom&&e.canvasX>=t.left&&e.canvasX<=t.right}function Xo(e,t){var n=Math.min(Math.abs(e.canvasX-t.left),Math.abs(e.canvasX-t.right)),r=Math.min(Math.abs(e.canvasY-t.top),Math.abs(e.canvasY-t.bottom));return e.canvasX>=t.left&&e.canvasX<=t.right&&(n=0),e.canvasY>=t.top&&e.canvasY<=t.bottom&&(r=0),Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function Yo(e,t){var n=Math.abs(e.canvasY-t.top),r=Math.abs(e.canvasY-t.bottom);return{distance:Math.min(n,r),nearAfter:r<n}}function Ko(e,t,n){return n?Math.abs(e.canvasX-t.left)+Math.abs(e.canvasY-t.top)>Math.abs(e.canvasX-t.right)+Math.abs(e.canvasY-t.bottom):Math.abs(e.canvasY-t.top)>Math.abs(e.canvasY-t.bottom)}function qo(e,t){var n=null,r=jo(e),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;if(Object(l.E)(i)){if(i.matches(t))return i;n||(n=i.querySelector(t))}}}catch(e){r.e(e)}finally{r.f()}return n}Object(s.b)([u.computed,Object(s.d)("design:type",String),Object(s.d)("design:paramtypes",[])],zo.prototype,"renderEnv",null),Object(s.b)([u.computed,Object(s.d)("design:type",String),Object(s.d)("design:paramtypes",[])],zo.prototype,"device",null),Object(s.b)([u.computed,Object(s.d)("design:type",String),Object(s.d)("design:paramtypes",[])],zo.prototype,"locale",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],zo.prototype,"deviceClassName",null),Object(s.b)([u.computed,Object(s.d)("design:type",String),Object(s.d)("design:paramtypes",[])],zo.prototype,"designMode",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],zo.prototype,"requestHandlersMap",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],zo.prototype,"componentsAsset",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],zo.prototype,"theme",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],zo.prototype,"componentsMap",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],zo.prototype,"deviceStyle",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],zo.prototype,"_props",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(go="undefined"!=typeof Window&&Window)?go:Object)],zo.prototype,"_contentWindow",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(wo="undefined"!=typeof Document&&Document)?wo:Object)],zo.prototype,"_contentDocument",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],zo.prototype,"_appHelper",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],zo.prototype,"instancesMap",void 0);var Jo=n(5),Qo=n.n(Jo);function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ei(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ri(r.key),r)}}function ni(e,t,n){return t&&ti(e.prototype,t),n&&ti(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ri(e){var t=oi(e,"string");return"symbol"==Zo(t)?t:String(t)}function oi(e,t){if("object"!=Zo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ii(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ai(e,t)}function ai(e,t){return(ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ui(e){var t=li();return function n(){var r=fi(e),o;if(t){var i=fi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ci(this,o)}}function ci(e,t){if(t&&("object"===Zo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return si(e)}function si(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function li(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var pi=function(e){ii(n,e);var t=ui(n);function n(){return ei(this,n),t.apply(this,arguments)}return ni(n,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.rect,o=t.scale,i=t.scrollX,a=t.scrollY,c=t.isLocked;if(!r)return null;var s={width:r.width*o,height:r.height*o,transform:"translate(".concat((i+r.left)*o,"px, ").concat((a+r.top)*o,"px)")},l=Qo()("lc-borders lc-borders-detecting");return React.createElement("div",{className:l,style:s},React.createElement(u.Title,{title:n,className:"lc-borders-title"}),c?React.createElement(u.Title,{title:ye("locked"),className:"lc-borders-status"}):null)}}]),n}(o.PureComponent),hi=function(e){ii(n,e);var t=ui(n);function n(){return ei(this,n),t.apply(this,arguments)}return ni(n,[{key:"scale",get:function e(){return this.props.host.viewport.scale}},{key:"scrollX",get:function e(){return this.props.host.viewport.scrollX}},{key:"scrollY",get:function e(){return this.props.host.viewport.scrollY}},{key:"current",get:function e(){var t=this.props.host,n=t.currentDocument;if(!n)return null;var r=n.selection,o=t.designer.detecting.current;return!o||o.document!==n||r.has(o.id)?null:o}},{key:"render",value:function e(){var t,n=this,r=this.props.host,i=this.current,a=null==i||null===(t=i.componentMeta.advanced.callbacks)||void 0===t?void 0:t.onHoverHook,u;if(!(!a||"function"!=typeof a||a(i.internalToShellNode()))||!i||r.viewport.scrolling||r.liveEditing.editing)return null;var c=i.document.focusNode;if(!c.contains(i))return null;if(i.contains(c)){var s=r.viewport.bounds;return React.createElement(pi,{key:"line-root",title:i.title,scale:this.scale,scrollX:r.viewport.scrollX,scrollY:r.viewport.scrollY,rect:new DOMRect(0,0,s.width,s.height)})}var f=Object(l.q)(i,(function(e){var t;return!!(null!=i&&i.isLocked?null===(t=e.parent)||void 0===t?void 0:t.isLocked:e.isLocked)}));if(f&&f.getId()!==i.getId())return React.createElement(pi,{key:"line-h",title:i.title,scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:r.computeComponentInstanceRect(r.getComponentInstances(f)[0],f.componentMeta.rootSelector),isLocked:(null==f?void 0:f.getId())!==i.getId()});var p=r.getComponentInstances(i);return!p||p.length<1?null:1===p.length?React.createElement(pi,{key:"line-h",title:i.title,scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:r.computeComponentInstanceRect(p[0],i.componentMeta.rootSelector)}):React.createElement(o.Fragment,null,p.map((function(e,t){return React.createElement(pi,{key:"line-h-".concat(t),title:i.title,scale:n.scale,scrollX:n.scrollX,scrollY:n.scrollY,rect:r.computeComponentInstanceRect(e,i.componentMeta.rootSelector)})})))}}]),n}(o.Component);function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bi(r.key),r)}}function mi(e,t,n){return t&&yi(e.prototype,t),n&&yi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bi(e){var t=gi(e,"string");return"symbol"==di(t)?t:String(t)}function gi(e,t){if("object"!=di(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=di(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function wi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oi(e,t)}function Oi(e,t){return(Oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ji(e){var t=ki();return function n(){var r=_i(e),o;if(t){var i=_i(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Si(this,o)}}function Si(e,t){if(t&&("object"===di(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ei(e)}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ki(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _i(e){return(_i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hi.prototype,"scale",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hi.prototype,"scrollX",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hi.prototype,"scrollY",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hi.prototype,"current",null),hi=Object(s.b)([u.observer],hi);var Pi=function(e){wi(n,e);var t=ji(n);function n(){return vi(this,n),t.apply(this,arguments)}return mi(n,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.rect,i=t.scale,a=t.scrollX,c=t.scrollY;if(!r)return null;var s={width:r.width*i,height:r.height*i,transform:"translate(".concat((a+r.left)*i,"px, ").concat((c+r.top)*i,"px)")},l=Qo()("lc-borders lc-borders-detecting");return o.createElement("div",{className:l,style:s},o.createElement(u.Title,{title:n,className:"lc-borders-title"}))}}]),n}(o.PureComponent);function xi(e){if("string"==typeof e)return e;if(Object(l.G)(e)){var t=u.globalLocale.getLocale()||"zh-CN";return"\u5c06\u653e\u5165\u5230\u6b64".concat(e[t])}return""}var Ni=function(e){wi(n,e);var t=ji(n);function n(){var e;vi(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={},e}return mi(n,[{key:"scale",get:function e(){return this.props.host.viewport.scale}},{key:"scrollX",get:function e(){return this.props.host.viewport.scrollX}},{key:"scrollY",get:function e(){return this.props.host.viewport.scrollY}},{key:"componentDidMount",value:function e(){var t=this,n;this.props.host.designer.editor.eventBus.on("designer.dropLocation.change",(function(e){var n;t.state.target!==(null==e?void 0:e.target)&&t.setState({target:null==e?void 0:e.target})}))}},{key:"render",value:function e(){var t=this,n=this.props.host,r=this.state.target;if(null==r)return null;var i=n.getComponentInstances(r);return!i||i.length<1?null:1===i.length?o.createElement(Pi,{key:"line-h",title:xi(r.componentMeta.title),scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:n.computeComponentInstanceRect(i[0],r.componentMeta.rootSelector)}):o.createElement(o.Fragment,null,i.map((function(e,i){return o.createElement(Pi,{key:"line-h-".concat(i),title:xi(r.componentMeta.title),scale:t.scale,scrollX:t.scrollX,scrollY:t.scrollY,rect:n.computeComponentInstanceRect(e,r.componentMeta.rootSelector)})})))}}]),n}(o.Component);Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Ni.prototype,"scale",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Ni.prototype,"scrollX",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Ni.prototype,"scrollY",null),Ni=Object(s.b)([u.observer],Ni);var Ci=n(7),Ti=n(88);function Li(e){return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Di(r.key),r)}}function Mi(e,t,n){return t&&Ai(e.prototype,t),n&&Ai(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Di(e){var t=Ii(e,"string");return"symbol"==Li(t)?t:String(t)}function Ii(e,t){if("object"!=Li(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Bi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vi(e,t)}function Vi(e,t){return(Vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Fi(e){var t=Ui();return function n(){var r=zi(e),o;if(t){var i=zi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Gi(this,o)}}function Gi(e,t){if(t&&("object"===Li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hi(e)}function Hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ui(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Wi=Ci.Overlay.Popup,$i=function(e){Bi(n,e);var t=Fi(n);function n(){var e;Ri(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={parentNodes:[]},e.getParentNodes=function(e){var t,n=[],r=null===(t=e.document)||void 0===t?void 0:t.focusNode;if(!r)return null;if(e.contains(r)||!r.contains(e))return n;for(var o=e;o&&n.length<5&&((o=o.getParent())&&n.push(o),o!==r););return n},e.onSelect=function(e){return function(t){var n;if(e&&(Object(l.i)(e.internalToShellNode(),t)&&"function"==typeof e.select)){var r,o,i;e.select();var a=null===(r=e.document)||void 0===r?void 0:r.designer.editor,u=null==e||null===(o=e.componentMeta)||void 0===o?void 0:o.npm,c=[null==u?void 0:u.package,null==u?void 0:u.componentName].filter((function(e){return!!e})).join("-")||(null==e||null===(i=e.componentMeta)||void 0===i?void 0:i.componentName)||"";null==a||a.eventBus.emit("designer.border.action",{name:"select",selected:c})}}},e.onMouseOver=function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&"function"==typeof e.hover&&e.hover(n)}},e.onMouseOut=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&"function"==typeof e.hover&&e.hover(n)}},e.renderNodes=function(){var t=e.state.parentNodes,n;return!t||t.length<1?null:t.map((function(t,n){return i.a.createElement("div",{key:n,onClick:e.onSelect(t),onMouseEnter:e.onMouseOver(t),onMouseLeave:e.onMouseOut(t),className:"instance-node-selector-node"},i.a.createElement("div",{className:"instance-node-selector-node-content"},i.a.createElement(u.Title,{className:"instance-node-selector-node-title",title:{label:t.title,icon:t.icon}})))}))},e}return Mi(n,[{key:"componentDidMount",value:function e(){var t=this.getParentNodes(this.props.node);this.setState({parentNodes:null!=t?t:[]})}},{key:"render",value:function e(){var t=this.props.node;return i.a.createElement("div",{className:"instance-node-selector"},i.a.createElement(Wi,{trigger:i.a.createElement("div",{className:"instance-node-selector-current"},i.a.createElement(u.Title,{className:"instance-node-selector-node-title",title:{label:t.title,icon:t.icon}})),triggerType:"hover",offset:[0,0]},i.a.createElement("div",{className:"instance-node-selector"},this.renderNodes())))}}]),n}(i.a.Component),Xi=$i=Object(s.b)([u.observer],$i);function Yi(e){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qi(r.key),r)}}function Ji(e,t,n){return t&&qi(e.prototype,t),n&&qi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qi(e){var t=Zi(e,"string");return"symbol"==Yi(t)?t:String(t)}function Zi(e,t){if("object"!=Yi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ea(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ta(e,t)}function ta(e,t){return(ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function na(e){var t=ia();return function n(){var r=aa(e),o;if(t){var i=aa(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ra(this,o)}}function ra(e,t){if(t&&("object"===Yi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oa(e)}function oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ia(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function aa(e){return(aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ua=function(e){ea(n,e);var t=na(n);function n(){return Ki(this,n),t.apply(this,arguments)}return Ji(n,[{key:"componentWillUnmount",value:function e(){this.props.observed.purge()}},{key:"render",value:function e(){var t=this.props,n=t.observed,r=t.highlight,o=t.dragging;if(!n.hasOffset)return null;var i=n.offsetWidth,a=n.offsetHeight,u=n.offsetTop,c=n.offsetLeft,s={width:i,height:a,transform:"translate3d(".concat(c,"px, ").concat(u,"px, 0)")},l=Qo()("lc-borders lc-borders-selecting",{highlight:r,dragging:o}),f;return n.node.componentMeta.advanced.hideSelectTools?null:React.createElement("div",{className:l,style:s},!o&&React.createElement(ca,{observed:n}))}}]),n}(o.Component);ua=Object(s.b)([u.observer],ua);var ca=function(e){ea(n,e);var t=na(n);function n(){return Ki(this,n),t.apply(this,arguments)}return Ji(n,[{key:"render",value:function e(){var t=this.props.observed,n=t.viewport,r=n.height,o=n.width,i=20,a=1,u=2,c=23,s=160,l;l=t.top>23?{top:-23,height:20}:t.bottom+23<r?{bottom:-23,height:20}:{height:20,top:Math.max(1,1-t.top)},160>t.left+t.width?l.left=Math.max(-2,t.left-o-2):(l.right=Math.max(-2,t.right-o-2),l.justifyContent="flex-start");var f=t.node,p=[];return f.componentMeta.availableActions.forEach((function(e){var t=e.important,n=void 0===t||t,r=e.condition,o=e.content,i=e.name;(!f.isSlot()||"copy"!==i&&"remove"!==i)&&n&&("function"==typeof r?!1!==r(f):!1!==r)&&p.push(sa(o,i,f))})),React.createElement("div",{className:"lc-borders-actions",style:l},p,React.createElement(Xi,{node:f}))}}]),n}(o.Component);function sa(e,t,n){if(Object(o.isValidElement)(e))return Object(o.cloneElement)(e,{key:t,node:n});if(Object(l.S)(e))return Object(o.createElement)(e,{key:t,node:n});if(Object(l.u)(e)){var r=e.action,i=e.title,a=e.icon;return React.createElement("div",{key:t,className:"lc-borders-action",onClick:function e(){var o,i,a;r&&r(n.internalToShellNode());var u=null===(o=n.document)||void 0===o?void 0:o.designer.editor,c=null==n||null===(i=n.componentMeta)||void 0===i?void 0:i.npm,s=[null==c?void 0:c.package,null==c?void 0:c.componentName].filter((function(e){return!!e})).join("-")||(null==n||null===(a=n.componentMeta)||void 0===a?void 0:a.componentName)||"";null==u||u.eventBus.emit("designer.border.action",{name:t,selected:s})}},a&&Object(l.n)(a,{key:t,node:n.internalToShellNode()}),React.createElement(u.Tip,null,i))}return null}ca=Object(s.b)([u.observer],ca);var la=function(e){ea(n,e);var t=na(n);function n(){return Ki(this,n),t.apply(this,arguments)}return Ji(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"instances",get:function e(){return this.host.getComponentInstances(this.props.node)}},{key:"render",value:function e(){var t=this,n=this.instances,r=this.props.node,i=this.host.designer;return!n||n.length<1?null:React.createElement(o.Fragment,{key:r.id},n.map((function(e){var n=i.createOffsetObserver({node:r,instance:e});return n?React.createElement(ua,{key:n.id,dragging:t.dragging,observed:n}):null})))}}]),n}(o.Component);Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],la.prototype,"instances",null),la=Object(s.b)([u.observer],la);var fa=function(e){ea(n,e);var t=na(n);function n(){return Ki(this,n),t.apply(this,arguments)}return Ji(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"selecting",get:function e(){var t=this.host.currentDocument;if(!t||t.suspensed||this.host.liveEditing.editing)return null;var n=t.selection;return this.dragging?n.getTopNodes():n.getNodes()}},{key:"render",value:function e(){var t=this,n=this.selecting;return!n||n.length<1?null:React.createElement(o.Fragment,null,n.map((function(e){return React.createElement(la,{key:e.id,host:t.props.host,node:e})})))}}]),n}(o.Component);function pa(e){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ya(r.key),r)}}function va(e,t,n){return t&&da(e.prototype,t),n&&da(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ya(e){var t=ma(e,"string");return"symbol"==pa(t)?t:String(t)}function ma(e,t){if("object"!=pa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],fa.prototype,"selecting",null),fa=Object(s.b)([u.observer],fa);var ba=function(){function e(t){ha(this,e),this.emitter=void 0,this.dragResizing=!1,this.designer=void 0,this.designer=t,this.emitter=Object(u.createModuleEventBus)("DragResizeEngine")}return va(e,[{key:"isDragResizing",value:function e(){return this.dragResizing}},{key:"from",value:function e(t,n,r){var o=this,i,a;if(!t)return function(){};var u=function e(t){var r=s(t),u=r.clientX-a.clientX,c=r.clientY-a.clientY;o.emitter.emit("resize",t,n,i,u,c)},c=this.getMasterSensors(),s=function e(t){var n,r=null===(n=t.view)||void 0===n?void 0:n.document;if(!r||r===document)return t;var o=c.find((function(e){return e.contentDocument===r}));return o?o.viewport.toGlobalPoint(t):t},f=function e(t){var r;vo(t,c)((function(t){t.removeEventListener("mousemove",u,!0),t.removeEventListener("mouseup",e,!0)})),o.dragResizing=!1,o.designer.detecting.enable=!0,l.o.release(),o.emitter.emit("resizeEnd",t,n,i)},p=function e(t){var p;i=r(t),a=s(t),vo(t,c)((function(e){e.addEventListener("mousemove",u,!0),e.addEventListener("mouseup",f,!0)})),o.emitter.emit("resizeStart",t,n,i),o.dragResizing=!0,o.designer.detecting.enable=!1,l.o.addState("ew-resize")};return t.addEventListener("mousedown",p),function(){t.removeEventListener("mousedown",p)}}},{key:"onResizeStart",value:function e(t){var n=this;return this.emitter.on("resizeStart",t),function(){n.emitter.removeListener("resizeStart",t)}}},{key:"onResize",value:function e(t){var n=this;return this.emitter.on("resize",t),function(){n.emitter.removeListener("resize",t)}}},{key:"onResizeEnd",value:function e(t){var n=this;return this.emitter.on("resizeEnd",t),function(){n.emitter.removeListener("resizeEnd",t)}}},{key:"getMasterSensors",value:function e(){return this.designer.project.documents.map((function(e){var t;return e.active&&null!==(t=e.simulator)&&void 0!==t&&t.sensorAvailable?e.simulator:null})).filter(Boolean)}}]),e}(),ga=Object(o.createContext)({}),wa,Oa;function ja(e){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_a(r.key),r)}}function ka(e,t,n){return t&&Ea(e.prototype,t),n&&Ea(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _a(e){var t=Pa(e,"string");return"symbol"==ja(t)?t:String(t)}function Pa(e,t){if("object"!=ja(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function xa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Na(e,t)}function Na(e,t){return(Na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Ca(e){var t=Ra();return function n(){var r=Aa(e),o;if(t){var i=Aa(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ta(this,o)}}function Ta(e,t){if(t&&("object"===ja(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return La(e)}function La(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ra(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Aa(e){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Ma=((wa=function(e){xa(n,e);var t=Ca(n);function n(){return Sa(this,n),t.apply(this,arguments)}return ka(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"selecting",get:function e(){var t=this.host.currentDocument;if(!t||t.suspensed)return null;var n=t.selection;return this.dragging?n.getTopNodes():n.getNodes()}},{key:"componentDidUpdate",value:function e(){}},{key:"render",value:function e(){var t=this,n=this.selecting;return!n||n.length<1?i.a.createElement(o.Fragment,null):i.a.createElement(o.Fragment,null,n.map((function(e){return i.a.createElement(Ia,{key:e.id,node:e,host:t.props.host})})))}}]),n}(o.Component)).contextType=ga,wa);Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Ma.prototype,"selecting",null);var Da=Ma=Object(s.b)([u.observer],Ma),Ia=((Oa=function(e){xa(n,e);var t=Ca(n);function n(){return Sa(this,n),t.apply(this,arguments)}return ka(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"instances",get:function e(){return this.host.getComponentInstances(this.props.node)}},{key:"render",value:function e(){var t=this,n=this.instances,r=this.props.node,a=this.host.designer;return!n||n.length<1||this.dragging?null:i.a.createElement(o.Fragment,{key:r.id},n.map((function(e){var n=a.createOffsetObserver({node:r,instance:e});return n?i.a.createElement(Ba,{key:n.id,dragging:t.dragging,designer:a,observed:n}):null})))}}]),n}(o.Component)).contextType=ga,Oa);Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Ia.prototype,"instances",null),Ia=Object(s.b)([u.observer],Ia);var Ba=function(e){xa(n,e);var t=Ca(n);function n(e){var r;return Sa(this,n),(r=t.call(this,e)).willUnbind=void 0,r.outlineN=void 0,r.outlineE=void 0,r.outlineS=void 0,r.outlineW=void 0,r.outlineNE=void 0,r.outlineNW=void 0,r.outlineSE=void 0,r.outlineSW=void 0,r.dragEngine=void 0,r.dragEngine=new ba(e.designer),r}return ka(n,[{key:"componentWillUnmount",value:function e(){this.willUnbind&&this.willUnbind(),this.props.observed.purge()}},{key:"componentDidMount",value:function e(){this.willBind();var t=function e(t,n,r,o,i){var a=r.componentMeta.advanced;if(a.callbacks&&"function"==typeof a.callbacks.onResize){t.trigger=n,t.deltaX=o,t.deltaY=i;var u=null!=r&&r.isNode?r.internalToShellNode():r;a.callbacks.onResize(t,u)}},n=function e(t,n,r){var o=r.componentMeta.advanced;if(o.callbacks&&"function"==typeof o.callbacks.onResizeStart){t.trigger=n;var i=null!=r&&r.isNode?r.internalToShellNode():r;o.callbacks.onResizeStart(t,i)}},r=function e(t,n,r){var o,i,a,u,c=r.componentMeta.advanced;if(c.callbacks&&"function"==typeof c.callbacks.onResizeEnd){t.trigger=n;var s=null!=r&&r.isNode?r.internalToShellNode():r;c.callbacks.onResizeEnd(t,s)}var l=null===(o=r.document)||void 0===o?void 0:o.designer.editor,f=null==r||null===(i=r.componentMeta)||void 0===i?void 0:i.npm,p=[null==f?void 0:f.package,null==f?void 0:f.componentName].filter((function(e){return!!e})).join("-")||(null==r||null===(a=r.componentMeta)||void 0===a?void 0:a.componentName)||"";null==l||l.eventBus.emit("designer.border.resize",{selected:p,layout:(null==r||null===(u=r.parent)||void 0===u?void 0:u.getPropValue("layout"))||""})};this.dragEngine.onResize(t),this.dragEngine.onResizeStart(n),this.dragEngine.onResizeEnd(r)}},{key:"willBind",value:function e(){var t=this;if(this.willUnbind&&this.willUnbind(),this.outlineN||this.outlineE||this.outlineS||this.outlineW||this.outlineNE||this.outlineNW||this.outlineSE||this.outlineSW){var n=[],r=this.props.observed.node;n.push.apply(n,[this.dragEngine.from(this.outlineN,"n",(function(){return r})),this.dragEngine.from(this.outlineE,"e",(function(){return r})),this.dragEngine.from(this.outlineS,"s",(function(){return r})),this.dragEngine.from(this.outlineW,"w",(function(){return r})),this.dragEngine.from(this.outlineNE,"ne",(function(){return r})),this.dragEngine.from(this.outlineNW,"nw",(function(){return r})),this.dragEngine.from(this.outlineSE,"se",(function(){return r})),this.dragEngine.from(this.outlineSW,"sw",(function(){return r}))]),this.willUnbind=function(){n&&n.length>0&&n.forEach((function(e){e()})),t.willUnbind=function(){}}}}},{key:"render",value:function e(){var t=this,n=this.props.observed,r=[],o=0,a=0,u=0,c=0;if(n.hasOffset){var s,l;o=n.offsetWidth,a=n.offsetHeight,u=n.offsetTop,c=n.offsetLeft;var f=n.node,p=f.componentMeta.getMetadata();null!==(s=p.configure)&&void 0!==s&&null!==(l=s.advanced)&&void 0!==l&&l.getResizingHandlers&&(r=p.configure.advanced.getResizingHandlers(f.internalToShellNode()))}r=ho(r);var h="lc-borders lc-resize-side",d="lc-borders lc-resize-corner";return i.a.createElement("div",null,i.a.createElement("div",{ref:function e(n){t.outlineN=n},className:Qo()(h,"n"),style:{height:20,transform:"translate(".concat(c,"px, ").concat(u-10,"px)"),width:o,display:r.includes("N")?"flex":"none"}}),i.a.createElement("div",{ref:function e(n){t.outlineNE=n},className:Qo()(d,"ne"),style:{transform:"translate(".concat(c+o-5,"px, ").concat(u-3,"px)"),cursor:"nesw-resize",display:r.includes("NE")?"flex":"none"}}),i.a.createElement("div",{className:Qo()(h,"e"),ref:function e(n){t.outlineE=n},style:{height:a,transform:"translate(".concat(c+o-10,"px, ").concat(u,"px)"),width:20,display:r.includes("E")?"flex":"none"}}),i.a.createElement("div",{ref:function e(n){t.outlineSE=n},className:Qo()(d,"se"),style:{transform:"translate(".concat(c+o-5,"px, ").concat(u+a-5,"px)"),cursor:"nwse-resize",display:r.includes("SE")?"flex":"none"}}),i.a.createElement("div",{ref:function e(n){t.outlineS=n},className:Qo()(h,"s"),style:{height:20,transform:"translate(".concat(c,"px, ").concat(u+a-10,"px)"),width:o,display:r.includes("S")?"flex":"none"}}),i.a.createElement("div",{ref:function e(n){t.outlineSW=n},className:Qo()(d,"sw"),style:{transform:"translate(".concat(c-3,"px, ").concat(u+a-5,"px)"),cursor:"nesw-resize",display:r.includes("SW")?"flex":"none"}}),i.a.createElement("div",{ref:function e(n){t.outlineW=n},className:Qo()(h,"w"),style:{height:a,transform:"translate(".concat(c-10,"px, ").concat(u,"px)"),width:20,display:r.includes("W")?"flex":"none"}}),i.a.createElement("div",{ref:function e(n){t.outlineNW=n},className:Qo()(d,"nw"),style:{transform:"translate(".concat(c-3,"px, ").concat(u-3,"px)"),cursor:"nwse-resize",display:r.includes("NW")?"flex":"none"}}))}}]),n}(o.Component);Ba=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],Ba);var Va=n(89);function Fa(e){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ga(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,za(r.key),r)}}function Ua(e,t,n){return t&&Ha(e.prototype,t),n&&Ha(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function za(e){var t=Wa(e,"string");return"symbol"==Fa(t)?t:String(t)}function Wa(e,t){if("object"!=Fa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function $a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xa(e,t)}function Xa(e,t){return(Xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Ya(e){var t=Ja();return function n(){var r=Qa(e),o;if(t){var i=Qa(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ka(this,o)}}function Ka(e,t){if(t&&("object"===Fa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qa(e)}function qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ja(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Qa(e){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Za(e,t,n){var r=n.edge||null;if(!r&&!(r=e.computeRect(t)))return{};var o={edge:r,insertType:"before"};if(n.near){var i=n.near,a=i.node,u=i.pos,c=i.rect,s=i.align;return o.nearRect=c||e.computeRect(a),o.nearNode=a,"replace"===u?(o.coverRect=o.nearRect,o.insertType="cover"):!o.nearRect||0===o.nearRect.width&&0===o.nearRect.height?(o.nearRect=o.edge,o.insertType="after",o.vertical=es(o.nearRect)):(o.insertType=u,o.vertical=s?"V"===s:es(o.nearRect)),o}var l=n.index;if(null==l)return o.coverRect=o.edge,o.insertType="cover",o;var f=t.children.get(l);if(!f){if(!(f=t.children.get(l>0?l-1:0)))return o.insertType="cover",o.coverRect=r,o;o.insertType="after"}return f?(o.nearRect=e.computeRect(f),(!o.nearRect||0===o.nearRect.width&&0===o.nearRect.height)&&(o.nearRect=o.edge,o.insertType="after"),o.vertical=es(o.nearRect),o.nearNode=f):(o.insertType="cover",o.coverRect=r),o}function eu(e){var t=e.target,n=e.detail,r,o=e.document.simulator;if(!o)return{};if(Object(l.K)(n))return Za(o,t,n);var i=o.getComponentInstances(t);if(!i)return{};var a=o.computeComponentInstanceRect(i[0],t.componentMeta.rootSelector);return a?{edge:a,insertType:"cover",coverRect:a}:{}}var tu=function(e){$a(n,e);var t=Ya(n);function n(){return Ga(this,n),t.apply(this,arguments)}return Ua(n,[{key:"render",value:function e(){var t,n,r,o,i=this.props.host,a=null===(t=i.currentDocument)||void 0===t?void 0:t.dropLocation;if(!a)return null;if(null!==(n=a.target)&&void 0!==n&&null!==(r=n.componentMeta)&&void 0!==r&&r.advanced.isAbsoluteLayoutContainer)return null;var u=i.viewport,c=u.scale,s=u.scrollX,l=u.scrollY,f=eu(a),p=f.edge,h=f.insertType,d=f.coverRect,v=f.nearRect,y=f.vertical,m=f.nearNode;if(!p)return null;var b="lc-insertion";!1===(null===(o=a.detail)||void 0===o?void 0:o.valid)&&(b+=" invalid");var g={},w,O;if("cover"===h)b+=" cover",w=(d.left+s)*c,O=(d.top+l)*c,g.width=d.width*c,g.height=d.height*c;else{var j;if(!v)return null;if(y?(b+=" vertical",w=(("before"===h?v.left:v.right)+s)*c,O=(v.top+l)*c,g.height=v.height*c):(w=(v.left+s)*c,O=(("before"===h?v.top:v.bottom)+l)*c,g.width=v.width*c),0===O&&null!=m&&null!==(j=m.componentMeta)&&void 0!==j&&j.isTopFixed)return null}return g.transform="translate3d(".concat(w,"px, ").concat(O,"px, 0)"),React.createElement("div",{className:b,style:g})}}]),n}(o.Component);tu=Object(s.b)([u.observer],tu);var nu=n(90),ru=n(91);function ou(e){return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function au(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cu(r.key),r)}}function uu(e,t,n){return t&&au(e.prototype,t),n&&au(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cu(e){var t=su(e,"string");return"symbol"==ou(t)?t:String(t)}function su(e,t){if("object"!=ou(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ou(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function lu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fu(e,t)}function fu(e,t){return(fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function pu(e){var t=vu();return function n(){var r=yu(e),o;if(t){var i=yu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return hu(this,o)}}function hu(e,t){if(t&&("object"===ou(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return du(e)}function du(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function yu(e){return(yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var mu=function(e){lu(n,e);var t=pu(n);function n(){return iu(this,n),t.apply(this,arguments)}return uu(n,[{key:"render",value:function e(){var t=this.props.host,n=t.designMode,r=t.viewport,o=r.scrollX,a=r.scrollY,c=r.scale;return"live"===n?null:i.a.createElement("div",{className:"lc-bem-tools",style:{transform:"translate(".concat(-o*c,"px,").concat(-a*c,"px)")}},!u.engineConfig.get("disableDetecting")&&i.a.createElement(hi,{key:"hovering",host:t}),i.a.createElement(fa,{key:"selecting",host:t}),u.engineConfig.get("enableReactiveContainer")&&i.a.createElement(Ni,{key:"reactive-container-border",host:t}),i.a.createElement(tu,{key:"insertion",host:t}),i.a.createElement(Da,{key:"resizing",host:t}),t.designer.bemToolsManager.getAllBemTools().map((function(e){var n=e.item;return i.a.createElement(n,{key:e.name,host:t})})))}}]),n}(o.Component);mu=Object(s.b)([u.observer],mu);var bu=n(92);function gu(e){return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Su(r.key),r)}}function ju(e,t,n){return t&&Ou(e.prototype,t),n&&Ou(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Su(e){var t=Eu(e,"string");return"symbol"==gu(t)?t:String(t)}function Eu(e,t){if("object"!=gu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ku(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_u(e,t)}function _u(e,t){return(_u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Pu(e){var t=Cu();return function n(){var r=Tu(e),o;if(t){var i=Tu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return xu(this,o)}}function xu(e,t){if(t&&("object"===gu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nu(e)}function Nu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Tu(e){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Lu=function(e){ku(n,e);var t=Pu(n);function n(e){var r;wu(this,n),(r=t.call(this,e)).host=void 0;var o=r.props,i=o.project,a=o.onMount,u=o.designer;return r.host=i.simulator||new zo(i,u),r.host.setProps(r.props),null==a||a(r.host),r}return ju(n,[{key:"shouldComponentUpdate",value:function e(t){return this.host.setProps(t),!1}},{key:"render",value:function e(){return i.a.createElement("div",{className:"lc-simulator"},i.a.createElement(Ru,{host:this.host}))}}]),n}(o.Component),Ru=function(e){ku(n,e);var t=Pu(n);function n(){return wu(this,n),t.apply(this,arguments)}return ju(n,[{key:"render",value:function e(){var t=this.props.host,n="lc-simulator-canvas",r=t.deviceStyle||{},o=r.canvas,a=void 0===o?{}:o,u=r.viewport,c=void 0===u?{}:u;return t.deviceClassName?n+=" ".concat(t.deviceClassName):t.device&&(n+=" lc-simulator-device-".concat(t.device)),i.a.createElement("div",{className:n,style:a},i.a.createElement("div",{ref:function e(n){return t.mountViewport(n)},className:"lc-simulator-canvas-viewport",style:c},i.a.createElement(mu,{host:t}),i.a.createElement(Au,{host:t})))}}]),n}(o.Component);Ru=Object(s.b)([u.observer],Ru);var Au=function(e){ku(n,e);var t=Pu(n);function n(){var e;wu(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={disabledEvents:!1},e.dispose=void 0,e}return ju(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.host.designer.editor,r=function e(n){t.setState({disabledEvents:n})};n.eventBus.on("designer.builtinSimulator.disabledEvents",r),this.dispose=function(){n.removeListener("designer.builtinSimulator.disabledEvents",r)}}},{key:"componentWillUnmount",value:function e(){var t;null===(t=this.dispose)||void 0===t||t.call(this)}},{key:"render",value:function e(){var t=this.props.host,n=this.state.disabledEvents,r=t.viewport,o=t.designer,a={transform:"scale(".concat(r.scale,")"),height:r.contentHeight,width:r.contentWidth};n&&(a.pointerEvents="none");var u=o.viewName;return i.a.createElement("div",{className:"lc-simulator-content"},i.a.createElement("iframe",{name:"".concat(u,"-SimulatorRenderer"),className:"lc-simulator-content-frame",style:a,ref:function e(n){return t.mountContentFrame(n)}}))}}]),n}(o.Component);Au=Object(s.b)([u.observer],Au);var Mu=n(93);function Du(e){return(Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fu(r.key),r)}}function Vu(e,t,n){return t&&Bu(e.prototype,t),n&&Bu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fu(e){var t=Gu(e,"string");return"symbol"==Du(t)?t:String(t)}function Gu(e,t){if("object"!=Du(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Du(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Hu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uu(e,t)}function Uu(e,t){return(Uu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function zu(e){var t=Xu();return function n(){var r=Yu(e),o;if(t){var i=Yu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Wu(this,o)}}function Wu(e,t){if(t&&("object"===Du(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $u(e)}function $u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Ku=function(e){Hu(n,e);var t=zu(n);function n(){return Iu(this,n),t.apply(this,arguments)}return Vu(n,[{key:"render",value:function e(){return React.createElement("div",{id:"engine-loading-wrapper"},React.createElement("img",{width:"154",height:"100",src:"/resources/TB1CmVgayERMeJjy0FcXXc7opXa-308-200.gif"}))}}]),n}(o.Component),qu=function(e){Hu(n,e);var t=zu(n);function n(){return Iu(this,n),t.apply(this,arguments)}return Vu(n,[{key:"componentDidMount",value:function e(){var t=this,n,r;this.props.designer.project.onRendererReady((function(){t.forceUpdate()}))}},{key:"render",value:function e(){var t,n=this.props.designer,r=n.project,o=n.projectSimulatorProps,i=n.simulatorComponent||Lu,a=u.engineConfig.get("loadingComponent",Ku);return React.createElement("div",{className:"lc-project"},React.createElement("div",{className:"lc-simulator-shell"},!(null!=r&&null!==(t=r.simulator)&&void 0!==t&&t.renderer)&&React.createElement(a,null),React.createElement(i,o)))}}]),n}(o.Component);function Ju(e){return(Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tc(r.key),r)}}function ec(e,t,n){return t&&Zu(e.prototype,t),n&&Zu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tc(e){var t=nc(e,"string");return"symbol"==Ju(t)?t:String(t)}function nc(e,t){if("object"!=Ju(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ju(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}qu=Object(s.b)([u.observer],qu);var rc=function(){function e(t){Qu(this,e),this.target=void 0,this.doc=void 0,this.target=t,oc(t)&&(this.doc=t.document.documentElement)}return ec(e,[{key:"left",get:function e(){return"scrollX"in this.target?this.target.scrollX:this.target.scrollLeft}},{key:"top",get:function e(){return"scrollY"in this.target?this.target.scrollY:this.target.scrollTop}},{key:"scrollTo",value:function e(t){this.target.scrollTo(t)}},{key:"scrollToXY",value:function e(t,n){this.target.scrollTo(t,n)}},{key:"scrollHeight",get:function e(){return(this.doc||this.target).scrollHeight}},{key:"scrollWidth",get:function e(){return(this.doc||this.target).scrollWidth}}]),e}();function oc(e){return e&&e.document}function ic(e){return Math.sin(e*Math.PI/2)}var ac=30,uc=function(){function e(t){Qu(this,e),this.pid=void 0,this.scrollable=void 0,this.scrollable=t}return ec(e,[{key:"scrollTarget",get:function e(){var t=this.scrollable.scrollTarget;return t?(Object(l.E)(t)&&(t=new rc(t),this.scrollable.scrollTarget=t),t):null}},{key:"scrollTo",value:function e(t){var n=this;this.cancel();var r=this.scrollTarget;if(r){var o,i=r.left,a=r.top,u=function e(){n.cancel()};if(i!==t.left&&null!=t.left||a!==t.top){var c=200,s=+new Date,l=function e(){if(o===n.pid){var c=+new Date,l=Math.min(1,(c-s)/200),f=ic(l),p={};null!=t.left&&(p.left=f*(t.left-i)+i),null!=t.top&&(p.top=f*(t.top-a)+a),r.scrollTo(p),l<1?(n.pid=requestAnimationFrame(e),o=n.pid):u()}};this.pid=requestAnimationFrame(l),o=this.pid}else u()}}},{key:"scrolling",value:function e(t){var n=this;this.cancel();var r=this.scrollable,o=r.bounds,i=r.scale,a=void 0===i?1:i,u=this.scrollTarget;if(u&&o){var c=t.globalX,s=t.globalY,l=u.scrollHeight-o.height/a,f=u.scrollWidth-o.width/a,p=u.left,h=u.top,d=0,v=0,y;if(s<o.top+30?v=-Math.min(Math.max(o.top+30-s,10),50)/a:s>o.bottom-30&&(v=Math.min(Math.max(s+30-o.bottom,10),50)/a),c<o.left+30?d=-Math.min(Math.max(o.top+30-s,10),50)/a:c>o.right-30&&(d=Math.min(Math.max(c+30-o.right,10),50)/a),d||v)(function e(){var t=!1;(v>0&&h<l||v<0&&h>0)&&(h+=v,h=Math.min(Math.max(h,0),l),t=!0),(d>0&&p<f||d<0&&p>0)&&(p+=d,p=Math.min(Math.max(p,0),f),t=!0),t&&(u.scrollTo({left:p,top:h}),n.pid=requestAnimationFrame(e))})()}}},{key:"cancel",value:function e(){this.pid&&cancelAnimationFrame(this.pid),this.pid=void 0}}]),e}(),cc;function sc(e){return(sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hc(r.key),r)}}function pc(e,t,n){return t&&fc(e.prototype,t),n&&fc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hc(e){var t=dc(e,"string");return"symbol"==sc(t)?t:String(t)}function dc(e,t){if("object"!=sc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function vc(e){return e&&e.type===c.f.Node}function yc(e){return e&&e.type===c.f.NodeData}function mc(e){return e&&e.type!==c.f.NodeData&&e.type!==c.f.Node}function bc(e){return e&&"LocateEvent"===e.type}var gc=4;function wc(e,t){return!!e.shaken||(e.target!==t.target||Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2)>4)}function Oc(e,t){return 0===e.clientX&&0===e.clientY&&t&&(Math.abs(t.clientX-e.clientX)>5||Math.abs(t.clientY-e.clientY)>5)}function jc(e,t){return e.clientY===t.clientY&&e.clientX===t.clientX}function Sc(e){e.shaken=!0}function Ec(e){var t,n;return vc(e)&&(null===(t=e.nodes[0])||void 0===t||null===(n=t.document)||void 0===n?void 0:n.simulator)||null}function kc(e){var t;return null==e||null===(t=e.type)||void 0===t?void 0:t.startsWith("drag")}var _c=function(){function e(t){lc(this,e),this.designer=void 0,this.sensors=[],this.nodeInstPointerEvents=void 0,this.key=Math.random(),this._activeSensor=void 0,this._dragging=!1,this._canDrop=!1,this.viewName=void 0,this.emitter=Object(u.createModuleEventBus)("Dragon"),this.designer=t,Object(u.makeObservable)(this),this.viewName=t.viewName}return pc(e,[{key:"activeSensor",get:function e(){return this._activeSensor}},{key:"dragging",get:function e(){return this._dragging}},{key:"from",value:function e(t,n){var r=this,o=function e(t){if(3!==t.which&&2!==t.button){var o=n(t);o&&r.boost(o,t)}};return t.addEventListener("mousedown",o),function(){t.removeEventListener("mousedown",o)}}},{key:"boost",value:function e(t,n,r){var o=this,i=this.designer,a=this.getMasterSensors(),u=vo(n,a),c=!vc(t),s=vc(t)&&t.nodes.some((function(e){return"function"==typeof e.isSlot?e.isSlot():e.isSlot})),l=kc(n),f;this._dragging=!1;var p=function e(t){var n,r=S(t),o=k(r);if(!o||!o.getNodeInstanceFromElement)return{};var i=o.getNodeInstanceFromElement(t.target);return(null==i||null===(n=i.node)||void 0===n?void 0:n.getRGL())||{}},h=function e(t){27===t.keyCode&&(i.clearLocation(),j())},d=!1,v=function e(t){kc(t)&&t.dataTransfer?(c||s)&&(t.dataTransfer.dropEffect="copy"):c||(t.altKey||t.ctrlKey?(d=!0,o.setCopyState(!0),kc(t)&&t.dataTransfer&&(t.dataTransfer.dropEffect="copy")):(d=!1,s||(o.setCopyState(!1),kc(t)&&t.dataTransfer&&(t.dataTransfer.dropEffect="move"))))},y,m=function e(n){if(v(n),!Oc(n,y))if(y&&jc(n,y))y=n;else{y=n;var a=p(n),u=a.isRGL,c=a.rglNode,s=S(n),l=k(s);if(u){var f=t.nodes[0].getDOMNode(),h;if(f&&f.style&&(o.nodeInstPointerEvents=!0,f.style.pointerEvents="none"),o.emitter.emit("rgl.sleeping",!1),r&&r.id===c.id)return i.clearLocation(),o.clearState(),void o.emitter.emit("drag",s);if(o._canDrop=!(null==l||!l.locate(s)),o._canDrop)return o.emitter.emit("rgl.add.placeholder",{rglNode:c,fromRglNode:r,node:null===(h=s.dragObject)||void 0===h?void 0:h.nodes[0],event:n}),i.clearLocation(),o.clearState(),void o.emitter.emit("drag",s)}else o._canDrop=!1,o.emitter.emit("rgl.remove.placeholder"),o.emitter.emit("rgl.sleeping",!0);l?(l.fixEvent(s),l.locate(s)):i.clearLocation(),o.emitter.emit("drag",s)}},b=function e(){o._dragging=!0,Sc(n);var t=S(n);c||s?o.setCopyState(!0):k(t),o.setDraggingState(!0),l||u((function(e){e.addEventListener("keydown",h,!1)})),o.emitter.emit("dragstart",t)},g=function e(t){l&&t.preventDefault(),o._dragging?m(t):wc(n,t)&&(b(),m(t))},w=!0,O=function e(t){t.preventDefault(),t.stopPropagation(),w=!0},j=function e(n){if(o.nodeInstPointerEvents){var r=t.nodes[0].getDOMNode();r&&r.style&&(r.style.pointerEvents=""),o.nodeInstPointerEvents=!1}if(n){var a=p(n),c=a.isRGL,s=a.rglNode;if(c&&o._canDrop&&o._dragging){var y=t.nodes[0];if(s.id!==y.id){var m;o.emitter.emit("rgl.drop",{rglNode:s,node:y});var b=null===(m=i.project.currentDocument)||void 0===m?void 0:m.selection;null==b||b.select(y.id)}}}var j;if(o.emitter.emit("rgl.remove.placeholder"),n&&kc(n)&&n.preventDefault(),f&&f.deactiveSensor(),l?w||i.clearLocation():o.setNativeSelection(!0),o.clearState(),o._dragging){o._dragging=!1;try{o.emitter.emit("dragend",{dragObject:t,copy:d})}catch(e){j=e}}if(i.clearLocation(),u((function(t){l?(t.removeEventListener("dragover",g,!0),t.removeEventListener("dragend",e,!0),t.removeEventListener("drop",O,!0)):(t.removeEventListener("mousemove",g,!0),t.removeEventListener("mouseup",e,!0)),t.removeEventListener("mousedown",e,!0),t.removeEventListener("keydown",h,!1),t.removeEventListener("keydown",v,!1),t.removeEventListener("keyup",v,!1)})),j)throw j},S=function e(n){var r,o={type:"LocateEvent",dragObject:t,target:n.target,originalEvent:n},i=null===(r=n.view)||void 0===r?void 0:r.document;if(i&&i!==document){var u,c=f&&Rn(f)?f:null;if((c&&c.contentDocument===i||!(u=a.find((function(e){return e.contentDocument===i})))&&c)&&(u=c),u){var s=u.viewport.toGlobalPoint(n);o.globalX=s.clientX,o.globalY=s.clientY,o.canvasX=n.clientX,o.canvasY=n.clientY,o.sensor=u}else o.globalX=n.clientX,o.globalY=n.clientY}else o.globalX=n.clientX,o.globalY=n.clientY;return o},E=Ec(t),k=function e(t){var n=o.sensors.concat(a),r=t.sensor&&t.sensor.isEnter(t)?t.sensor:n.find((function(e){return e.sensorAvailable&&e.isEnter(t)}));return r||(f?r=f:t.sensor?r=t.sensor:E&&(r=E)),r!==f&&(f&&f.deactiveSensor(),f=r),r&&(t.sensor=r,r.fixEvent(t)),o._activeSensor=r,r};if(kc(n)){var _=n.dataTransfer;if(_){_.effectAllowed="all";try{_.setData("application/json","{}")}catch(e){}}b()}else this.setNativeSelection(!1);u((function(e){l?(e.addEventListener("dragover",g,!0),w=!1,e.addEventListener("drop",O,!0),e.addEventListener("dragend",j,!0)):(e.addEventListener("mousemove",g,!0),e.addEventListener("mouseup",j,!0)),e.addEventListener("mousedown",j,!0)})),c||l||u((function(e){e.addEventListener("keydown",v,!1),e.addEventListener("keyup",v,!1)}))}},{key:"getMasterSensors",value:function e(){return Array.from(new Set(this.designer.project.documents.map((function(e){var t;return e.active&&null!==(t=e.simulator)&&void 0!==t&&t.sensorAvailable?e.simulator:null})).filter(Boolean)))}},{key:"getSimulators",value:function e(){return new Set(this.designer.project.documents.map((function(e){return e.simulator})))}},{key:"setNativeSelection",value:function e(t){Object(l.Z)(t),this.getSimulators().forEach((function(e){null==e||e.setNativeSelection(t)}))}},{key:"setDraggingState",value:function e(t){l.o.setDragging(t),this.getSimulators().forEach((function(e){null==e||e.setDraggingState(t)}))}},{key:"setCopyState",value:function e(t){l.o.setCopy(t),this.getSimulators().forEach((function(e){null==e||e.setCopyState(t)}))}},{key:"clearState",value:function e(){l.o.release(),this.getSimulators().forEach((function(e){null==e||e.clearState()}))}},{key:"addSensor",value:function e(t){this.sensors.push(t)}},{key:"removeSensor",value:function e(t){var n=this.sensors.indexOf(t);n>-1&&this.sensors.splice(n,1)}},{key:"onDragstart",value:function e(t){var n=this;return this.emitter.on("dragstart",t),function(){n.emitter.removeListener("dragstart",t)}}},{key:"onDrag",value:function e(t){var n=this;return this.emitter.on("drag",t),function(){n.emitter.removeListener("drag",t)}}},{key:"onDragend",value:function e(t){var n=this;return this.emitter.on("dragend",t),function(){n.emitter.removeListener("dragend",t)}}}]),e}();function Pc(e){return(Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tc(r.key),r)}}function Cc(e,t,n){return t&&Nc(e.prototype,t),n&&Nc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tc(e){var t=Lc(e,"string");return"symbol"==Pc(t)?t:String(t)}function Lc(e,t){if("object"!=Pc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],_c.prototype,"_activeSensor",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],_c.prototype,"_dragging",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],_c.prototype,"_canDrop",void 0);var Rc=function(){function e(){xc(this,e),this._target=void 0,this.emitter=Object(u.createModuleEventBus)("ActiveTracker")}return Cc(e,[{key:"track",value:function e(t){var n=t;Object(l.N)(t)&&(n={node:t}),this._target=n,this.emitter.emit("change",n)}},{key:"currentNode",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.node}},{key:"detail",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.detail}},{key:"intance",get:function e(){return this.instance}},{key:"instance",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.instance}},{key:"onChange",value:function e(t){var n=this;return this.emitter.addListener("change",t),function(){n.emitter.removeListener("change",t)}}}]),e}();function Ac(e){return(Ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bc(r.key),r)}}function Ic(e,t,n){return t&&Dc(e.prototype,t),n&&Dc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bc(e){var t=Vc(e,"string");return"symbol"==Ac(t)?t:String(t)}function Vc(e,t){if("object"!=Ac(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ac(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Rc.prototype,"_target",void 0);var Fc="detectingChange",Gc=function(){function e(){Mc(this,e),this._enable=!0,this.xRayMode=!1,this._current=null,this.emitter=Object(u.createModuleEventBus)("Detecting"),Object(u.makeObservable)(this)}return Ic(e,[{key:"enable",get:function e(){return this._enable},set:function e(t){this._enable=t,t||(this._current=null)}},{key:"current",get:function e(){return this._current}},{key:"capture",value:function e(t){this._current!==t&&(this._current=t,this.emitter.emit("detectingChange",this.current))}},{key:"release",value:function e(t){this._current===t&&(this._current=null,this.emitter.emit("detectingChange",this.current))}},{key:"leave",value:function e(t){this.current&&this.current.document===t&&(this._current=null)}},{key:"onDetectingChange",value:function e(t){var n=this;return this.emitter.on("detectingChange",t),function(){n.emitter.off("detectingChange",t)}}}]),e}();function Hc(e){return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$c(r.key),r)}}function Wc(e,t,n){return t&&zc(e.prototype,t),n&&zc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $c(e){var t=Xc(e,"string");return"symbol"==Hc(t)?t:String(t)}function Xc(e,t){if("object"!=Hc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Yc(e){return e&&e.target&&e.detail}function Kc(e){return e&&e.type===c.j.Children}function qc(e,t){if(ts(e))return!0;var n=(t||rs(e)).getComputedStyle(e),r=n.getPropertyValue("display");if(/flex$/.test(r)){var o=n.getPropertyValue("flex-direction")||"row";if("row"===o||"row-reverse"===o)return!0}return!!/grid$/.test(r)}function Jc(e,t){if(ts(e))return!0;var n=(t||rs(e)).getComputedStyle(e);return/^inline/.test(n.getPropertyValue("display"))||/^(left|right)$/.test(n.getPropertyValue("float"))}function Qc(e){if(!e||e.computed)return null;var t=e.elements;return t&&t.length>0?t[0]:null}function Zc(e){var t=Qc(e);return!!t&&qc(t)}function es(e){var t=Qc(e);return!!t&&(Jc(t)||!!t.parentElement&&qc(t.parentElement))}function ts(e){return e.nodeType===Node.TEXT_NODE}function ns(e){return e.nodeType===Node.DOCUMENT_NODE}function rs(e){return(ns(e)?e:e.ownerDocument).defaultView}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Gc.prototype,"_enable",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Gc.prototype,"xRayMode",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Gc.prototype,"_current",void 0);var os=function(){function e(t){var n=t.target,r=t.detail,o=t.source,i=t.event;Uc(this,e),this.target=void 0,this.detail=void 0,this.event=void 0,this.source=void 0,this.target=n,this.detail=r,this.source=o,this.event=i}return Wc(e,[{key:"document",get:function e(){return this.target.document}},{key:"clone",value:function t(n){return new e({target:this.target,detail:this.detail,source:this.source,event:n})}},{key:"getContainer",value:function e(){return this.target}},{key:"getInsertion",value:function e(){var t,n,r;return this.detail?"Children"===this.detail.type?this.detail.index<=0?null:null===(r=this.target.children)||void 0===r?void 0:r.get(this.detail.index-1):null===(t=this.detail)||void 0===t||null===(n=t.near)||void 0===n?void 0:n.node:null}}]),e}(),is=n(16),as=n.n(is);function us(e){return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fs(r.key),r)}}function ls(e,t,n){return t&&ss(e.prototype,t),n&&ss(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fs(e){var t=ps(e,"string");return"symbol"==us(t)?t:String(t)}function ps(e,t){if("object"!=us(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=us(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var hs=function(){function e(t){var n=this;cs(this,e),this.nodeInstance=void 0,this.id=Object(l.db)("oobx"),this.lastOffsetLeft=void 0,this.lastOffsetTop=void 0,this.lastOffsetHeight=void 0,this.lastOffsetWidth=void 0,this._height=0,this._width=0,this._left=0,this._top=0,this._right=0,this._bottom=0,this.hasOffset=!1,this.pid=void 0,this.viewport=void 0,this.isRoot=void 0,this.node=void 0,this.compute=void 0,this.nodeInstance=t;var r=t.node,o=t.instance;this.node=r;var i=r.document,a=null==i?void 0:i.simulator,c=null==i?void 0:i.focusNode;if(this.isRoot=r.contains(c),this.viewport=null==a?void 0:a.viewport,Object(u.makeObservable)(this),this.isRoot)this.hasOffset=!0;else if(o){var s,f=function e(){if(s===n.pid){var t=a.computeComponentInstanceRect(o,r.componentMeta.rootSelector);t?n.viewport.scrolling&&n.hasOffset||(n._height=t.height,n._width=t.width,n._left=t.left,n._top=t.top,n._right=t.right,n._bottom=t.bottom,n.hasOffset=!0):n.hasOffset=!1,n.pid=as()(e),s=n.pid}};this.compute=f,f(),this.pid=as()(f),s=this.pid}}return ls(e,[{key:"height",get:function e(){return this.isRoot?this.viewport.height:this._height*this.scale}},{key:"width",get:function e(){return this.isRoot?this.viewport.width:this._width*this.scale}},{key:"top",get:function e(){return this.isRoot?0:this._top*this.scale}},{key:"left",get:function e(){return this.isRoot?0:this._left*this.scale}},{key:"bottom",get:function e(){return this.isRoot?this.viewport.height:this._bottom*this.scale}},{key:"right",get:function e(){return this.isRoot?this.viewport.width:this._right*this.scale}},{key:"offsetLeft",get:function e(){return this.isRoot?this.viewport.scrollX*this.scale:(this.viewport.scrolling&&null!=this.lastOffsetLeft||(this.lastOffsetLeft=this.left+this.viewport.scrollX*this.scale),this.lastOffsetLeft)}},{key:"offsetTop",get:function e(){return this.isRoot?this.viewport.scrollY*this.scale:(this.viewport.scrolling&&null!=this.lastOffsetTop||(this.lastOffsetTop=this.top+this.viewport.scrollY*this.scale),this.lastOffsetTop)}},{key:"offsetHeight",get:function e(){return this.viewport.scrolling&&null!=this.lastOffsetHeight||(this.lastOffsetHeight=this.isRoot?this.viewport.height:this.height),this.lastOffsetHeight}},{key:"offsetWidth",get:function e(){return this.viewport.scrolling&&null!=this.lastOffsetWidth||(this.lastOffsetWidth=this.isRoot?this.viewport.width:this.width),this.lastOffsetWidth}},{key:"scale",get:function e(){return this.viewport.scale}},{key:"purge",value:function e(){this.pid&&Object(is.cancelIdleCallback)(this.pid),this.pid=void 0}},{key:"isPurged",value:function e(){return null==this.pid}}]),e}();function ds(e){return e.instance?new hs(e):null}function vs(e){return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ys(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gs(r.key),r)}}function bs(e,t,n){return t&&ms(e.prototype,t),n&&ms(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gs(e){var t=ws(e,"string");return"symbol"==vs(t)?t:String(t)}function ws(e,t){if("object"!=vs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Os(e,t){return _s(e)||ks(e,t)||Ss(e,t)||js()}function js(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ss(e,t){if(e){if("string"==typeof e)return Es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Es(e,t):void 0}}function Es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ks(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function _s(e){if(Array.isArray(e))return e}function Ps(e){return e&&(e.Hotter||e.type&&e.type.Hotter)||[]}function xs(e){return e&&(e.transducer||e.Transducer||e.type&&(e.type.transducer||e.type.Transducer))||null}function Ns(e,t,n){if(!e&&Array.isArray(t)){var r=Os(t,2),o,i;e={toHot:r[0],toNative:r[1]}}return{toHot:(e&&e.toHot||function(e){return e}).bind(n),toNative:(e&&e.toNative||function(e){return e}).bind(n)}}Object(s.b)([u.obx,Object(s.d)("design:type",Object)],hs.prototype,"_height",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],hs.prototype,"_width",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],hs.prototype,"_left",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],hs.prototype,"_top",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],hs.prototype,"_right",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],hs.prototype,"_bottom",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hs.prototype,"height",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hs.prototype,"width",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hs.prototype,"top",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hs.prototype,"left",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hs.prototype,"bottom",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hs.prototype,"right",null),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],hs.prototype,"hasOffset",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hs.prototype,"offsetLeft",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hs.prototype,"offsetTop",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hs.prototype,"offsetHeight",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hs.prototype,"offsetWidth",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],hs.prototype,"scale",null);var Cs=function(){function e(t,n){ys(this,e),this.setterTransducer=void 0,this.context=void 0;var r=n.setter;if(Array.isArray(r))r=r[0];else if(Object(o.isValidElement)(r)&&"MixedSetter"===r.type.displayName){var i,a;r=null===(i=r.props)||void 0===i||null===(a=i.setters)||void 0===a?void 0:a[0]}else if("object"===vs(r)&&"MixedSetter"===r.componentName){var u,c;r=Array.isArray(null===(u=r)||void 0===u||null===(c=u.props)||void 0===c?void 0:c.setters)&&r.props.setters[0]}var s=!0;if(Object(l.U)(r)){var f=r,p,h;r=f.componentName,s=!1!==f.isDynamic}if("string"==typeof r){var d=t.setters.getSetter(r)||{},v=d.component,y=d.isDynamic;r=v,s=void 0===y?s:!1!==y}if(Object(l.D)(r)&&s)try{r=r.call(t,t)}catch(e){console.error(e)}this.setterTransducer=Ns(xs(r),Ps(r),t),this.context=t}return bs(e,[{key:"toHot",value:function e(t){return this.setterTransducer.toHot(t)}},{key:"toNative",value:function e(t){return this.setterTransducer.toNative(t)}}]),e}();function Ts(e){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ls(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ms(r.key),r)}}function As(e,t,n){return t&&Rs(e.prototype,t),n&&Rs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ms(e){var t=Ds(e,"string");return"symbol"==Ts(t)?t:String(t)}function Ds(e,t){if("object"!=Ts(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ts(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Is=function(){function e(t,n,r){if(Ls(this,e),this.parent=void 0,this.editor=void 0,this.isSameComponent=void 0,this.isMultiple=void 0,this.isSingle=void 0,this.setters=void 0,this.nodes=void 0,this.componentMeta=void 0,this.designer=void 0,this.top=void 0,this.isGroup=void 0,this.type=void 0,this.id=Object(l.db)("entry"),this.emitter=Object(u.createModuleEventBus)("SettingPropEntry"),this._name=void 0,this.extraProps={},this.parent=t,Object(u.makeObservable)(this),null==r){var o="string"==typeof n?n.slice(0,1):"";this.type="#"===o?"group":"field"}else this.type=r;this._name=n,this.isGroup="group"===this.type,this.editor=t.editor,this.nodes=t.nodes,this.setters=t.setters,this.componentMeta=t.componentMeta,this.isSameComponent=t.isSameComponent,this.isMultiple=t.isMultiple,this.isSingle=t.isSingle,this.designer=t.designer,this.top=t.top}return As(e,[{key:"name",get:function e(){return this._name}},{key:"path",get:function e(){var t,n=this.parent.path.slice();return"field"===this.type&&null!==(t=this.name)&&void 0!==t&&t.toString()&&n.push(this.name),n}},{key:"getId",value:function e(){return this.id}},{key:"setKey",value:function e(t){if("field"===this.type){for(var n=this.path.join("."),r=this.nodes.length;r-- >0;)this.nodes[r].getProp(n,!0).key=t;this._name=t}}},{key:"getKey",value:function e(){return this._name}},{key:"remove",value:function e(){if("field"===this.type)for(var t=this.path.join("."),n=this.nodes.length;n-- >0;){var r;null===(r=this.nodes[n].getProp(t))||void 0===r||r.remove()}}},{key:"valueState",get:function e(){var t=this;return Object(u.runInAction)((function(){if("field"!==t.type){var e=t.extraProps.getValue;return e?void 0===e(t.internalToShellField(),void 0)?0:1:0}if(1===t.nodes.length)return 2;for(var n=t.path.join("."),r=t.nodes[0].getProp(n),o=t.nodes.length,i=2;--o>0;){var a=t.nodes[o].getProp(n,!1),u=r.compare(a);if(u>1)return-1;1===u&&(i=1)}return 2===i&&r.isUnset()?0:i}))}},{key:"getValue",value:function e(){var t,n;"field"===this.type&&null!==(t=this.name)&&void 0!==t&&t.toString()&&(n=this.parent.getPropValue(this.name));var e=this.extraProps.getValue;try{return e?e(this.internalToShellField(),n):n}catch(e){return console.warn(e),n}}},{key:"setValue",value:function e(t,n,r,o){var i=this.getValue(),a;"field"===this.type&&((null===(a=this.name)||void 0===a?void 0:a.toString())&&this.parent.setPropValue(this.name,t));var e=this.extraProps.setValue;if(e&&(null==o||!o.disableMutator))try{e(this.internalToShellField(),t)}catch(e){console.warn(e)}this.notifyValueChange(i,t),null!=o&&o.fromSetHotValue||this.valueChange(o)}},{key:"clearValue",value:function e(){var t;"field"===this.type&&((null===(t=this.name)||void 0===t?void 0:t.toString())&&this.parent.clearPropValue(this.name));var n=this.extraProps.setValue;if(n)try{n(this.internalToShellField(),void 0)}catch(e){console.warn(e)}}},{key:"get",value:function e(t){var n=this.path.concat(t).join(".");return this.top.get(n)}},{key:"setPropValue",value:function e(t,n){var r=this.path.concat(t).join(".");this.top.setPropValue(r,n)}},{key:"clearPropValue",value:function e(t){var n=this.path.concat(t).join(".");this.top.clearPropValue(n)}},{key:"getPropValue",value:function e(t){return this.top.getPropValue(this.path.concat(t).join("."))}},{key:"getExtraPropValue",value:function e(t){return this.top.getExtraPropValue(t)}},{key:"setExtraPropValue",value:function e(t,n){this.top.setExtraPropValue(t,n)}},{key:"getNode",value:function e(){return this.nodes[0]}},{key:"getName",value:function e(){return this.path.join(".")}},{key:"getProps",value:function e(){return this.top}},{key:"props",get:function e(){return this.top}},{key:"onValueChange",value:function e(t){var n=this;return this.emitter.on("valuechange",t),function(){n.emitter.removeListener("valuechange",t)}}},{key:"valueChange",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.emitter.emit("valuechange",t),this.parent&&cl(this.parent)&&this.parent.valueChange(t)}},{key:"notifyValueChange",value:function e(t,n){this.editor.eventBus.emit(c.e.Node.Prop.Change,{node:this.getNode(),prop:this,oldValue:t,newValue:n})}},{key:"getDefaultValue",value:function e(){return this.extraProps.defaultValue}},{key:"isIgnore",value:function e(){return!1}},{key:"getVariableValue",value:function e(){var t=this.getValue();return Object(l.H)(t)?t.value:""}},{key:"setVariableValue",value:function e(t){var n=this.getValue();this.setValue({type:"JSExpression",value:t,mock:Object(l.H)(n)?n.mock:n})}},{key:"setUseVariable",value:function e(t){if(this.isUseVariable()!==t){var n=this.getValue();this.isUseVariable()?this.setValue(n.mock):this.setValue({type:"JSExpression",value:"",mock:n})}}},{key:"isUseVariable",value:function e(){return Object(l.H)(this.getValue())}},{key:"useVariable",get:function e(){return this.isUseVariable()}},{key:"getMockOrValue",value:function e(){var t=this.getValue();return Object(l.H)(t)?t.mock:t}},{key:"internalToShellField",value:function e(){return this.designer.shellModelFactory.createSettingField(this)}}]),e}();function Bs(e){return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Is.prototype,"_name",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Is.prototype,"path",null),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[])],Is.prototype,"valueState",null);var Vs=["title","items","setter","extraProps"],Fs;function Gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(n),!0).forEach((function(t){Us(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Us(e,t,n){return(t=Ks(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zs(e,t){if(null==e)return{};var n=Ws(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ws(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function $s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ks(r.key),r)}}function Ys(e,t,n){return t&&Xs(e.prototype,t),n&&Xs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ks(e){var t=qs(e,"string");return"symbol"==Bs(t)?t:String(t)}function qs(e,t){if("object"!=Bs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Js(){return(Js="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function e(t,n,r){var o=Qs(t,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function Qs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=il(e)););return e}function Zs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&el(e,t)}function el(e,t){return(el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function tl(e){var t=ol();return function n(){var r=il(e),o;if(t){var i=il(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return nl(this,o)}}function nl(e,t){if(t&&("object"===Bs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rl(e)}function rl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ol(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function il(e){return(il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function al(e,t){for(var n=e,r=[t.name];n!==e.top;)n instanceof ul&&"group"!==n.type&&r.unshift(n.name),n=n.parent;return r.join(".")}var ul=function(e){Zs(n,e);var t=tl(n);function n(e,r,o){var i;$s(this,n),(i=t.call(this,e,r.name,r.type)).settingFieldCollector=void 0,i.isSettingField=!0,i.isRequired=void 0,i.transducer=void 0,i._config=void 0,i.hotValue=void 0,i.parent=void 0,i.extraProps=void 0,i._title=void 0,i._setter=void 0,i._expanded=!0,i._items=[],i.settingFieldCollector=o,Object(u.makeObservable)(rl(i));var a=r.title,c=r.items,s=r.setter,l=r.extraProps,f=zs(r,Vs);return i.parent=e,i._config=r,i._title=a,i._setter=s,i.extraProps=Hs(Hs({},f),l),i.isRequired=r.isRequired||(null==s?void 0:s.isRequired),i._expanded=!(null!=l&&l.defaultCollapsed),c&&c.length>0&&i.initItems(c,o),"group"!==i.type&&o&&r.name&&o(al(e,r),rl(i)),i.transducer=new Cs(rl(i),{setter:s}),i}return Ys(n,[{key:"title",get:function e(){return this._title||("number"==typeof this.name?"".concat(Object(u.intl)("Item")," ").concat(this.name):this.name)}},{key:"setter",get:function e(){var t=this;return this._setter?Object(l.D)(this._setter)?Object(u.untracked)((function(){var e,n=t.internalToShellField();return null===(e=t._setter)||void 0===e?void 0:e.call(n,n)})):this._setter:null}},{key:"expanded",get:function e(){return this._expanded}},{key:"setExpanded",value:function e(t){this._expanded=t}},{key:"items",get:function e(){return this._items}},{key:"config",get:function e(){return this._config}},{key:"initItems",value:function e(t,r){var o=this;this._items=t.map((function(e){return Object(l.y)(e)?e:new n(o,e,r)}))}},{key:"disposeItems",value:function e(){this._items.forEach((function(e){return cl(e)&&e.purge()})),this._items=[]}},{key:"createField",value:function e(t){var r;return null===(r=this.settingFieldCollector)||void 0===r||r.call(this,al(this.parent,t),this),new n(this,t,this.settingFieldCollector)}},{key:"purge",value:function e(){this.disposeItems()}},{key:"getConfig",value:function e(t){return t?this.config[t]:this._config}},{key:"getItems",value:function e(t){return this._items.filter((function(e){return!t||t(e)}))}},{key:"setValue",value:function e(t,r,o,i){r?this.setHotValue(t,i):Js(il(n.prototype),"setValue",this).call(this,t,!1,!1,i)}},{key:"getHotValue",value:function e(){if(this.hotValue)return this.hotValue;var t=Object(l.j)(this.getMockOrValue());return null==t&&(t=this.extraProps.defaultValue),this.transducer.toHot(t)}},{key:"setMiniAppDataSourceValue",value:function e(t,n){this.hotValue=t;var r=this.transducer.toNative(t);this.setValue(r,!1,!1,n),Array.isArray(t)&&t[0]&&t[0].__sid__||this.valueChange()}},{key:"setHotValue",value:function e(t,n){this.hotValue=t;var r=this.transducer.toNative(t);if(n?n.fromSetHotValue=!0:n={fromSetHotValue:!0},this.isUseVariable()){var o=this.getValue();Object(l.H)(r)?this.setValue({type:"JSExpression",value:r.value,mock:o.mock},!1,!1,n):this.setValue({type:"JSExpression",value:o.value,mock:r},!1,!1,n)}else this.setValue(r,!1,!1,n);Array.isArray(t)&&t[0]&&t[0].__sid__||this.valueChange(n)}},{key:"onEffect",value:function e(t){return this.designer.autorun(t,!0)}},{key:"internalToShellField",value:function e(){return this.designer.shellModelFactory.createSettingField(this)}}]),n}(Is);function cl(e){return e&&e.isSettingField}function sl(e){return(sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ll(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hl(r.key),r)}}function pl(e,t,n){return t&&fl(e.prototype,t),n&&fl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hl(e){var t=dl(e,"string");return"symbol"==sl(t)?t:String(t)}function dl(e,t){if("object"!=sl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function vl(e){return e.map((function(e){return e.id})).sort().join(",")}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],ul.prototype,"_expanded",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ul.prototype,"setter",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Boolean,Boolean,Object]),Object(s.d)("design:returntype",void 0)],ul.prototype,"setValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],ul.prototype,"setMiniAppDataSourceValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],ul.prototype,"setHotValue",null);var yl=function(){function e(t,n){var r;if(ll(this,e),this.editor=void 0,this.nodes=void 0,this.emitter=Object(u.createModuleEventBus)("SettingTopEntry"),this._items=[],this._componentMeta=null,this._isSame=!0,this._settingFieldMap={},this.path=[],this.top=this,this.parent=this,this.id=void 0,this.first=void 0,this.designer=void 0,this.setters=void 0,this.disposeFunctions=[],this.editor=t,this.nodes=n,!Array.isArray(n)||n.length<1)throw new ReferenceError("nodes should not be empty");this.id=vl(n),this.first=n[0],this.designer=null===(r=this.first.document)||void 0===r?void 0:r.designer,this.setters=t.get("setters"),this.setupComponentMeta(),this.setupItems(),this.disposeFunctions.push(this.setupEvents())}return pl(e,[{key:"componentMeta",get:function e(){return this._componentMeta}},{key:"items",get:function e(){return this._items}},{key:"isSameComponent",get:function e(){return this._isSame}},{key:"isSingle",get:function e(){return 1===this.nodes.length}},{key:"isLocked",get:function e(){return this.first.isLocked}},{key:"isMultiple",get:function e(){return this.nodes.length>1}},{key:"setupComponentMeta",value:function e(){for(var t,n=this.first.componentMeta,r=this.nodes.length,o=!0,i=1;i<r;i++){var a;if(this.nodes[i].componentMeta!==n){o=!1;break}}o?(this._isSame=!0,this._componentMeta=n):(this._isSame=!1,this._componentMeta=null)}},{key:"setupItems",value:function e(){var t=this;if(this.componentMeta){var n={},r=function e(t,r){n[t]=r};this._items=this.componentMeta.configure.map((function(e){return Object(l.y)(e)?e:new ul(t,e,r)})),this._settingFieldMap=n}}},{key:"setupEvents",value:function e(){var t,n=this;return null===(t=this.componentMeta)||void 0===t?void 0:t.onMetadataChange((function(){n.setupItems()}))}},{key:"getValue",value:function e(){var t;return null===(t=this.first)||void 0===t?void 0:t.propsData}},{key:"setValue",value:function e(t){this.setProps(t)}},{key:"get",value:function e(t){return t?this._settingFieldMap[t]||new ul(this,{name:t}):null}},{key:"setPropValue",value:function e(t,n){this.nodes.forEach((function(e){e.setPropValue(t.toString(),n)}))}},{key:"clearPropValue",value:function e(t){this.nodes.forEach((function(e){e.clearPropValue(t.toString())}))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.first.getProp(t.toString(),!0))||void 0===n?void 0:n.getValue()}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.first.getExtraProp(t,!1))||void 0===n?void 0:n.getValue()}},{key:"setExtraPropValue",value:function e(t,n){this.nodes.forEach((function(e){var r;null===(r=e.getExtraProp(t,!0))||void 0===r||r.setValue(n)}))}},{key:"setProps",value:function e(t){this.nodes.forEach((function(e){e.setProps(t)}))}},{key:"mergeProps",value:function e(t){this.nodes.forEach((function(e){e.mergeProps(t)}))}},{key:"disposeItems",value:function e(){this._items.forEach((function(e){return ml(e)&&e.purge()})),this._items=[]}},{key:"purge",value:function e(){this.disposeItems(),this._settingFieldMap={},this.emitter.removeAllListeners(),this.disposeFunctions.forEach((function(e){return e()})),this.disposeFunctions=[]}},{key:"getProp",value:function e(t){return this.get(t)}},{key:"getStatus",value:function e(){}},{key:"setStatus",value:function e(){}},{key:"getChildren",value:function e(){}},{key:"getDOMNode",value:function e(){}},{key:"getId",value:function e(){return this.id}},{key:"getPage",value:function e(){return this.first.document}},{key:"node",get:function e(){return this.getNode()}},{key:"getNode",value:function e(){return this.nodes[0]}}]),e}();function ml(e){return e&&e.purge}function bl(e,t,n){if(!e)throw new Error("[designer] Invariant failed: ".concat(t).concat(n?" in '".concat(n,"'"):""))}function gl(e){return(gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sl(r.key),r)}}function jl(e,t,n){return t&&Ol(e.prototype,t),n&&Ol(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sl(e){var t=El(e,"string");return"symbol"==gl(t)?t:String(t)}function El(e,t){if("object"!=gl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.computed,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",Object)],yl.prototype,"getValue",null);var kl=function(){function e(t){wl(this,e),this.designer=void 0,this.toolsContainer=[],this.designer=t}return jl(e,[{key:"addBemTools",value:function e(t){var n;bl(!this.toolsContainer.find((function(e){return e.name===t.name})),"".concat(t.name," already exists")),this.toolsContainer.push(t)}},{key:"removeBemTools",value:function e(t){var n=this.toolsContainer.findIndex((function(e){return e.name===t}));-1!==n&&this.toolsContainer.splice(n,1)}},{key:"getAllBemTools",value:function e(){return this.toolsContainer}}]),e}();function _l(e){return(_l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(n),!0).forEach((function(t){Nl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nl(e,t,n){return(t=Cl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cl(e){var t=Tl(e,"string");return"symbol"==_l(t)?t:String(t)}function Tl(e,t){if("object"!=_l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ll(e){var t=e.devMode;return xl(xl({},e),{},{devMode:null==t?void 0:t.replace(/(low|pro)code/,"$1Code")})}function Rl(e){var t=e.configure,n=e.componentName,r=t.component,o=void 0===r?{}:r,i;o.nestingRule||((i=/^(.+)\.Group$/.exec(n))?o.nestingRule={childWhitelist:["".concat(i[1])]}:(i=/^(.+)\.Node$/.exec(n))?o.nestingRule={parentWhitelist:["".concat(i[1]),n]}:(i=/^(.+)\.(Item|Node|Option)$/.exec(n))&&(o.nestingRule={parentWhitelist:["".concat(i[1])]}));return xl(xl({},e),{},{configure:xl(xl({},t),{},{component:o})})}function Al(e){return(Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ml(Object(n),!0).forEach((function(t){Il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Il(e,t,n){return(t=Gl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gl(r.key),r)}}function Fl(e,t,n){return t&&Vl(e.prototype,t),n&&Vl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gl(e){var t=Hl(e,"string");return"symbol"==Al(t)?t:String(t)}function Hl(e,t){if("object"!=Al(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Al(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ul(e){var t,n;(null==e?void 0:e.getPropValue("ref"))&&(null==e||e.setPropValue("ref","".concat(e.componentName.toLowerCase(),"-").concat(Math.random().toString(36).slice(2,9)))),null==e||null===(t=e.children)||void 0===t||t.forEach(Ul)}var zl=function(){function e(){Bl(this,e),this.metadataTransducers=[],this.actions=[{name:"remove",content:{icon:tn,title:me("remove"),action:function e(t){t.remove()}},important:!0},{name:"hide",content:{icon:Zt,title:me("hide"),action:function e(t){t.visible=!1}},condition:function e(t){var n;return null===(n=t.componentMeta)||void 0===n?void 0:n.isModal},important:!0},{name:"copy",content:{icon:cn,title:me("copy"),action:function e(t){var n=t.document,r=t.parent,o=t.index;if(r){var i=null==n?void 0:n.insertNode(r,t,(null!=o?o:0)+1,!0);Ul(i),null==i||i.select();var a=null==t?void 0:t.getRGL(),u=a.isRGL,c=a.rglNode;if(u){var s=(null==c?void 0:c.getPropValue("layout"))||[],l=s.filter((function(e){return e.i===t.getPropValue("fieldId")}));l&&l[0]&&(s.push(Dl(Dl({},l[0]),{},{i:null==i?void 0:i.getPropValue("fieldId")})),null==c||c.setPropValue("layout",s),setTimeout((function(){var e,t,n;return null==i||null===(e=i.document)||void 0===e||null===(t=e.project)||void 0===t||null===(n=t.simulatorHost)||void 0===n?void 0:n.scrollToNode(i)}),10))}}}},important:!0},{name:"lock",content:{icon:Jt,title:me("lock"),action:function e(t){t.lock()}},condition:function e(t){return u.engineConfig.get("enableCanvasLock",!1)&&t.isContainerNode&&!t.isLocked},important:!0},{name:"unlock",content:{icon:dn,title:me("unlock"),action:function e(t){t.lock(!1)}},condition:function e(t){return u.engineConfig.get("enableCanvasLock",!1)&&t.isContainerNode&&t.isLocked},important:!0}],this.registerMetadataTransducer(Ll,2,"legacy-issues"),this.registerMetadataTransducer(Rl,100,"component-defaults")}return Fl(e,[{key:"removeBuiltinComponentAction",value:function e(t){var n=this.actions.findIndex((function(e){return e.name===t}));n>-1&&this.actions.splice(n,1)}},{key:"addBuiltinComponentAction",value:function e(t){this.actions.push(t)}},{key:"modifyBuiltinComponentAction",value:function e(t,n){var r=this.actions.find((function(e){return e.name===t}));r&&n(r)}},{key:"registerMetadataTransducer",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2?arguments[2]:void 0;t.level=n,t.id=r;var o=this.metadataTransducers.findIndex((function(e){return null!=e.level&&e.level>n}));o<0?this.metadataTransducers.push(t):this.metadataTransducers.splice(o,0,t)}},{key:"getRegisteredMetadataTransducers",value:function e(){return this.metadataTransducers}}]),e}(),Wl,$l,Xl,Yl;function Kl(e){return(Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ql(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ql=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Kl(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Kl(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function Jl(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ql(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Jl(i,r,o,a,u,"next",e)}function u(e){Jl(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(n),!0).forEach((function(t){tf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tf(e,t,n){return(t=pf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nf(e){return uf(e)||af(e)||of(e)||rf()}function rf(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function of(e,t){if(e){if("string"==typeof e)return cf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cf(e,t):void 0}}function af(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function uf(e){if(Array.isArray(e))return cf(e)}function cf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pf(r.key),r)}}function ff(e,t,n){return t&&lf(e.prototype,t),n&&lf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pf(e){var t=hf(e,"string");return"symbol"==Kl(t)?t:String(t)}function hf(e,t){if("object"!=Kl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Kl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var df=new l.e({level:"warn",bizName:"designer"}),vf=function(){function e(t){var n=this;sf(this,e),this.dragon=void 0,this.viewName=void 0,this.componentActions=new zl,this.activeTracker=new Rc,this.detecting=new Gc,this.project=void 0,this.editor=void 0,this.bemToolsManager=new kl(this),this.shellModelFactory=void 0,this._dropLocation=void 0,this.propsReducers=new Map,this._lostComponentMetasMap=new Map,this.props=void 0,this.oobxList=[],this.selectionDispose=void 0,this._componentMetasMap=new Map,this._simulatorComponent=void 0,this._simulatorProps=void 0,this._suspensed=!1,this.setupSelection=function(){var e;n.selectionDispose&&(n.selectionDispose(),n.selectionDispose=void 0);var t=n.currentSelection;if(t&&0===t.selected.length&&"live"===(null===(e=n.simulatorProps)||void 0===e?void 0:e.designMode)){var r,o,i,a=null===(r=n.currentDocument)||void 0===r||null===(o=r.getRoot())||void 0===o||null===(i=o.getChildren())||void 0===i?void 0:i.children;a&&a.length>0&&t.select(a[0].id)}n.postEvent("selection.change",t),t&&(n.selectionDispose=t.onSelectionChange((function(){n.postEvent("selection.change",t)})))},Object(u.makeObservable)(this);var r=t.editor,o=t.viewName,i=t.shellModelFactory,a;this.editor=r,this.viewName=o,this.shellModelFactory=i,this.setProps(t),this.project=new Un(this,t.defaultSchema,o),this.dragon=new _c(this),this.dragon.onDragstart((function(e){var t;n.detecting.enable=!1;var r=e.dragObject,o,i;Object(l.C)(r)?1===r.nodes.length&&(r.nodes[0].parent?r.nodes[0].select():null===(o=n.currentSelection)||void 0===o||o.clear()):null===(i=n.currentSelection)||void 0===i||i.clear();null!==(t=n.props)&&void 0!==t&&t.onDragstart&&n.props.onDragstart(e),n.postEvent("dragstart",e)})),this.dragon.onDrag((function(e){var t;null!==(t=n.props)&&void 0!==t&&t.onDrag&&n.props.onDrag(e),n.postEvent("drag",e)})),this.dragon.onDragend((function(e){var t,r=e.dragObject,o=e.copy;df.debug("onDragend: dragObject ",r," copy ",o);var i=n._dropLocation;if(i&&Object(l.K)(i.detail)&&!1!==i.detail.valid){var a,u;if(Object(l.C)(r))a=at(i.target,nf(r.nodes),i.detail.index,o);else if(Object(l.B)(r)){var c=Array.isArray(r.data)?r.data:[r.data],s;if(c.find((function(e){return!Object(l.O)(e)})))return;a=at(i.target,c,i.detail.index)}if(a)null===(u=i.document)||void 0===u||u.selection.selectAll(a.map((function(e){return e.id}))),setTimeout((function(){return n.activeTracker.track(a[0])}),10)}null!==(t=n.props)&&void 0!==t&&t.onDragend&&n.props.onDragend(e,i),n.postEvent("dragend",e,i),n.detecting.enable=!0})),this.activeTracker.onChange((function(e){var t,n,r=e.node,o=e.detail;null===(t=r.document)||void 0===t||null===(n=t.simulator)||void 0===n||n.scrollToNode(r,o)}));var c=function e(){if(a&&(a(),a=void 0),n.postEvent("history.change",n.currentHistory),n.currentHistory){var t=n.currentHistory;a=t.onStateChange((function(){n.postEvent("history.change",t)}))}};this.project.onCurrentDocumentChange((function(){n.postEvent("current-document.change",n.currentDocument),n.postEvent("selection.change",n.currentSelection),n.postEvent("history.change",n.currentHistory),n.setupSelection(),c()})),this.postEvent("init",this),this.setupSelection(),c()}return ff(e,[{key:"currentDocument",get:function e(){return this.project.currentDocument}},{key:"currentHistory",get:function e(){var t;return null===(t=this.currentDocument)||void 0===t?void 0:t.history}},{key:"currentSelection",get:function e(){var t;return null===(t=this.currentDocument)||void 0===t?void 0:t.selection}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.editor.eventBus).emit.apply(n,["designer.".concat(t)].concat(o))}},{key:"dropLocation",get:function e(){return this._dropLocation}},{key:"createLocation",value:function e(t){var n=new os(t);return this._dropLocation&&this._dropLocation.document&&this._dropLocation.document!==n.document&&(this._dropLocation.document.dropLocation=null),this._dropLocation=n,this.postEvent("dropLocation.change",n),n.document&&(n.document.dropLocation=n),this.activeTracker.track({node:n.target,detail:n.detail}),n}},{key:"clearLocation",value:function e(){this._dropLocation&&this._dropLocation.document&&(this._dropLocation.document.dropLocation=null),this.postEvent("dropLocation.change",void 0),this._dropLocation=void 0}},{key:"createScroller",value:function e(t){return new uc(t)}},{key:"createOffsetObserver",value:function e(t){var n=ds(t);return this.clearOobxList(),n&&this.oobxList.push(n),n}},{key:"clearOobxList",value:function e(t){var n=this.oobxList.length;if(n>20||t)for(;n-- >0;)this.oobxList[n].isPurged()&&this.oobxList.splice(n,1)}},{key:"touchOffsetObserver",value:function e(){this.clearOobxList(!0),this.oobxList.forEach((function(e){return e.compute()}))}},{key:"createSettingEntry",value:function e(t){return new yl(this.editor,t)}},{key:"getSuitableInsertion",value:function e(t){var n=this.project.currentDocument;if(!n)return null;if(Array.isArray(t)&&Object(l.O)(t[0])&&this.getComponentMeta(t[0].componentName).isModal)return{target:n.rootNode};var r=n.focusNode,o,i=n.selection.getNodes().find((function(e){return r.contains(e)})),a,u;return i&&i!==r?i.componentMeta.isContainer?a=i:(a=i.parent,u=(i.index||0)+1):a=r,a&&t&&!a.componentMeta.checkNestingDown(a,t)?null:{target:a,index:u}}},{key:"setProps",value:function e(t){var n=this.props?ef(ef({},this.props),t):t;if(this.props){var r,o;if(n.simulatorComponent!==this.props.simulatorComponent&&(this._simulatorComponent=n.simulatorComponent),n.simulatorProps!==this.props.simulatorProps)this._simulatorProps=n.simulatorProps,(null===(r=n.simulatorProps)||void 0===r?void 0:r.designMode)!==(null===(o=this.props.simulatorProps)||void 0===o?void 0:o.designMode)&&this.setupSelection();n.suspensed!==this.props.suspensed&&null!=n.suspensed&&(this.suspensed=n.suspensed),n.componentMetadatas!==this.props.componentMetadatas&&null!=n.componentMetadatas&&this.buildComponentMetasMap(n.componentMetadatas)}else n.simulatorComponent&&(this._simulatorComponent=n.simulatorComponent),n.simulatorProps&&(this._simulatorProps=n.simulatorProps),null!=n.suspensed&&(this.suspensed=n.suspensed),null!=n.componentMetadatas&&this.buildComponentMetasMap(n.componentMetadatas);this.props=n}},{key:"loadIncrementalAssets",value:function(){var e=Ql(ql().mark((function e(t){var n,r,o,i,a;return ql().wrap((function e(u){for(;;)switch(u.prev=u.next){case 0:if(n=t.components,r=t.packages,n&&this.buildComponentMetasMap(n),!r){u.next=5;break}return u.next=5,null===(o=this.project.simulator)||void 0===o?void 0:o.setupComponents(r);case 5:if(!n){u.next=10;break}return i=this.editor.get("assets")||{},a=Object(l.Y)(i,t),u.next=10,this.editor.set("assets",a);case 10:this.refreshComponentMetasMap(),this.editor.eventBus.emit("designer.incrementalAssetsReady");case 12:case"end":return u.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"refreshComponentMetasMap",value:function e(){this._componentMetasMap=new Map(this._componentMetasMap)}},{key:"get",value:function e(t){var n;return null===(n=this.props)||void 0===n?void 0:n[t]}},{key:"simulatorComponent",get:function e(){return this._simulatorComponent}},{key:"simulatorProps",get:function e(){return"function"==typeof this._simulatorProps?this._simulatorProps(this.project):this._simulatorProps||{}}},{key:"projectSimulatorProps",get:function e(){var t=this;return ef(ef({},this.simulatorProps),{},{project:this.project,designer:this,onMount:function e(n){t.project.mountSimulator(n),t.editor.set("simulator",n)}})}},{key:"suspensed",get:function e(){return this._suspensed},set:function e(t){this._suspensed=t}},{key:"schema",get:function e(){return this.project.getSchema()}},{key:"setSchema",value:function e(t){this.project.load(t)}},{key:"buildComponentMetasMap",value:function e(t){var n=this;t.forEach((function(e){return n.createComponentMeta(e)}))}},{key:"createComponentMeta",value:function e(t){var n=t.componentName;if(!n)return null;var r=this._componentMetasMap.get(n);return r?(r.setMetadata(t),this._componentMetasMap.set(n,r)):((r=this._lostComponentMetasMap.get(n))?(r.setMetadata(t),this._lostComponentMetasMap.delete(n)):r=new Nn(this,t),this._componentMetasMap.set(n,r)),r}},{key:"getGlobalComponentActions",value:function e(){var t;return(null===(t=this.props)||void 0===t?void 0:t.globalComponentActions)||null}},{key:"getComponentMeta",value:function e(t,n){if(this._componentMetasMap.has(t))return this._componentMetasMap.get(t);if(this._lostComponentMetasMap.has(t))return this._lostComponentMetasMap.get(t);var r=new Nn(this,ef({componentName:t},n?n():null));return this._lostComponentMetasMap.set(t,r),r}},{key:"getComponentMetasMap",value:function e(){return this._componentMetasMap}},{key:"componentsMap",get:function e(){var t={},n=this;return this._componentMetasMap.forEach((function(e,n){var r=e.getMetadata();if("lowCode"===r.devMode)t[n]=r.schema;else{var o=e.advanced.view;t[n]=o||e.npm}})),t}},{key:"transformProps",value:function e(t,n,r){if(Array.isArray(t))return t;var o=this.propsReducers.get(r);return o?o.reduce((function(e,t){try{return t(e,n.internalToShellNode(),{stage:r})}catch(t){return console.warn(t),e}}),t):t}},{key:"addPropsReducer",value:function e(t,n){if(t){var r=this.propsReducers.get(n);r?r.push(t):this.propsReducers.set(n,[t])}else df.error("reducer is not available")}},{key:"autorun",value:function e(t,n){return Object(u.autorun)(t,n)}},{key:"purge",value:function e(){}}]),e}();Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],vf.prototype,"_componentMetasMap",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(Wl=void 0!==o.ComponentType&&o.ComponentType)?Wl:Object)],vf.prototype,"_simulatorComponent",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],vf.prototype,"_simulatorProps",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],vf.prototype,"_suspensed",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],vf.prototype,"simulatorComponent",null),Object(s.b)([u.computed,Object(s.d)("design:type","function"==typeof(Yl="undefined"!=typeof Record&&Record)?Yl:Object),Object(s.d)("design:paramtypes",[])],vf.prototype,"simulatorProps",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],vf.prototype,"projectSimulatorProps",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],vf.prototype,"componentsMap",null);var yf=n(94);function mf(e){return(mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Of(r.key),r)}}function wf(e,t,n){return t&&gf(e.prototype,t),n&&gf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Of(e){var t=jf(e,"string");return"symbol"==mf(t)?t:String(t)}function jf(e,t){if("object"!=mf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Sf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ef(e,t)}function Ef(e,t){return(Ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function kf(e){var t=xf();return function n(){var r=Nf(e),o;if(t){var i=Nf(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return _f(this,o)}}function _f(e,t){if(t&&("object"===mf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pf(e)}function Pf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Nf(e){return(Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Cf=function(e){Sf(n,e);var t=kf(n);function n(e){var r;return bf(this,n),(r=t.call(this,e)).dispose=[],r.titles=null,r.x=0,r.y=0,r.isAbsoluteLayoutContainer=!1,r.dragon=r.props.designer.dragon,Object(u.makeObservable)(Pf(r)),r.dispose=[r.dragon.onDragstart((function(e){"drag"!==e.originalEvent.type.slice(0,4)&&(r.titles=r.getTitles(e.dragObject),r.x=e.globalX,r.y=e.globalY)})),r.dragon.onDrag((function(e){if(r.x=e.globalX,r.y=e.globalY,Rn(e.sensor)){var t=e.sensor.getDropContainer(e);if(null!=t&&t.container.componentMeta.advanced.isAbsoluteLayoutContainer)return void(r.isAbsoluteLayoutContainer=!0)}r.isAbsoluteLayoutContainer=!1})),r.dragon.onDragend((function(){r.titles=null,r.x=0,r.y=0}))],r}return wf(n,[{key:"getTitles",value:function e(t){var n=this,r;return vc(t)?t.nodes.map((function(e){return e.title})):(Array.isArray(t.data)?t.data:[t.data]).map((function(e,t){return n.props.designer.getComponentMeta(e.componentName).title}))}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose.forEach((function(e){return e()}))}},{key:"renderGhostGroup",value:function e(){var t;return null===(t=this.titles)||void 0===t?void 0:t.map((function(e,t){var n;return React.createElement("div",{className:"lc-ghost",key:t},React.createElement(u.Title,{title:e}))}))}},{key:"render",value:function e(){return this.titles&&this.titles.length?this.isAbsoluteLayoutContainer?null:React.createElement("div",{className:"lc-ghost-group",style:{left:this.x,top:this.y}},this.renderGhostGroup()):null}}]),n}(o.Component);Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Cf.prototype,"titles",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Cf.prototype,"x",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Cf.prototype,"y",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],Cf.prototype,"isAbsoluteLayoutContainer",void 0);var Tf=Cf=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],Cf),Lf=n(95);function Rf(e){return(Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Af=["designer"];function Mf(e,t){if(null==e)return{};var n=Df(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Df(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function If(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ff(r.key),r)}}function Vf(e,t,n){return t&&Bf(e.prototype,t),n&&Bf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ff(e){var t=Gf(e,"string");return"symbol"==Rf(t)?t:String(t)}function Gf(e,t){if("object"!=Rf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Hf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uf(e,t)}function Uf(e,t){return(Uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function zf(e){var t=Xf();return function n(){var r=Yf(e),o;if(t){var i=Yf(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Wf(this,o)}}function Wf(e,t){if(t&&("object"===Rf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $f(e)}function $f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Yf(e){return(Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Kf=function(e){Hf(n,e);var t=zf(n);function n(e){var r;If(this,n),(r=t.call(this,e)).designer=void 0,r.viewName=void 0;var o=e.designer,i=Mf(e,Af);return r.viewName=null==o?void 0:o.viewName,o?(r.designer=o,o.setProps(i)):r.designer=new vf(i),r}return Vf(n,[{key:"shouldComponentUpdate",value:function e(t){this.designer.setProps(t);var n=this.props;return t.className!==n.className||t.style!==n.style||t.dragGhostComponent!==n.dragGhostComponent}},{key:"componentDidMount",value:function e(){var t=this.props.onMount;t&&t(this.designer),zr.injectCopyPaster(document),this.designer.postEvent("mount",this.designer)}},{key:"UNSAFE_componentWillMount",value:function e(){this.designer.purge()}},{key:"render",value:function e(){var t=this.props,n=t.className,r=t.style,o,i=t.dragGhostComponent||Tf;return React.createElement("div",{className:Qo()("lc-designer",n),style:r},React.createElement(i,{designer:this.designer}),React.createElement(qu,{designer:this.designer}))}}]),n}(o.Component);function qf(e,t){return!(!t||!Array.isArray(t.properties))&&t.properties.some((function(t){return t.key===e}))}function Jf(e){return e&&("autoInit"in e||"override"in e)}function Qf(e,t){if(!e||!Object(yo.isPlainObject)(e))return e;var n={};return Object.keys(e).forEach((function(r){if(qf(r,t)){var o=e[r];null!=o&&(n[r]=o)}})),n}function Zf(e){return(Zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rp(r.key),r)}}function np(e,t,n){return t&&tp(e.prototype,t),n&&tp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rp(e){var t=op(e,"string");return"symbol"==Zf(t)?t:String(t)}function op(e,t){if("object"!=Zf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ip=function(){function e(t,n){ep(this,e),this.hotkey=void 0,this.project=void 0,this.skeleton=void 0,this.setters=void 0,this.material=void 0,this.event=void 0,this.config=void 0,this.common=void 0,this.logger=void 0,this.plugins=void 0,this.preference=void 0,this.pluginEvent=void 0,this.canvas=void 0,this.workspace=void 0,this.registerLevel=void 0,this.editorWindow=void 0;var r=t.pluginName,o=void 0===r?"anonymous":r,i=t.meta,a=void 0===i?{}:i;n.assembleApis(this,o,a),this.pluginEvent=Object(u.createModuleEventBus)(o,200);var c=u.engineConfig.get("enhancePluginContextHook");c&&c(this)}return np(e,[{key:"setPreference",value:function e(t,n){var r=this,o=function e(o,i){if(qf(o,n)){var a=r.plugins.getPluginPreference(t)||{};return void 0===a[o]||null===a[o]?i:a[o]}};this.preference={getPreferenceValue:o}}}]),e}();function ap(e){return(ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function up(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */up=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==ap(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ap(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function cp(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function sp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cp(i,r,o,a,u,"next",e)}function u(e){cp(i,r,o,a,u,"throw",e)}a(void 0)}))}}function lp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hp(r.key),r)}}function pp(e,t,n){return t&&fp(e.prototype,t),n&&fp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hp(e){var t=dp(e,"string");return"symbol"==ap(t)?t:String(t)}function dp(e,t){if("object"!=ap(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ap(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var vp=function(){function e(t,n,r,o){lp(this,e),this.config=void 0,this.logger=void 0,this.manager=void 0,this._inited=void 0,this.pluginName=void 0,this.meta=void 0,this._disabled=void 0,this.manager=n,this.config=r,this.pluginName=t,this.meta=o,this.logger=Object(l.r)({level:"warn",bizName:"plugin:".concat(t)})}return pp(e,[{key:"name",get:function e(){return this.pluginName}},{key:"dep",get:function e(){if("string"==typeof this.meta.dependencies)return[this.meta.dependencies];var t=this.config.dep;return"string"==typeof t?[t]:this.meta.dependencies||t||[]}},{key:"disabled",get:function e(){return this._disabled}},{key:"isInited",value:function e(){return this._inited}},{key:"init",value:function(){var e=sp(up().mark((function e(t){var n;return up().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(!this._inited||t){r.next=2;break}return r.abrupt("return");case 2:return this.logger.log("method init called"),r.next=5,null===(n=this.config.init)||void 0===n?void 0:n.call(void 0);case 5:this._inited=!0;case 6:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=sp(up().mark((function e(){var t,n;return up().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(this._inited){r.next=2;break}return r.abrupt("return");case 2:return this.logger.log("method destroy called"),r.next=5,null===(t=this.config)||void 0===t||null===(n=t.destroy)||void 0===n?void 0:n.call(void 0);case 5:this._inited=!1;case 6:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDisabled",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._disabled=t}},{key:"toProxy",value:function e(){var t,n;bl(this._inited,"Could not call toProxy before init");var r=null===(t=(n=this.config).exports)||void 0===t?void 0:t.call(n);return new Proxy(this,{get:function e(t,n,o){return{}.hasOwnProperty.call(r,n)?null==r?void 0:r[n]:Reflect.get(t,n,o)}})}},{key:"dispose",value:function(){var e=sp(up().mark((function e(){return up().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.manager.delete(this.name);case 2:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function yp(e){var t=e.tasks,n=e.names,r=e.results,o=e.missing,i=e.recursive,a=e.nest,u=e.parentName;n.forEach((function(e){if(-1===r.indexOf(e)){var n=t[e];n?a.indexOf(e)>-1?(a.push(e),i.push(a.slice(0)),a.pop()):n.dep.length&&(a.push(e),yp({tasks:t,parentName:e,names:n.dep,results:r,missing:o,recursive:i,nest:a}),a.pop()):o.push([u,e].filter((function(e){return!!e})).join(".")),r.push(e)}}))}var mp=function(e,t){var n=[],r=[],o=[];return yp({tasks:e,names:t,results:n,missing:r,recursive:o,nest:[]}),(r.length||o.length)&&(n=[]),{sequence:n,missingTasks:r,recursiveDependencies:o}},bp=n(56),gp=n.n(bp);function wp(e){return(wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Op(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=jp(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function jp(e,t){if(e){if("string"==typeof e)return Sp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sp(e,t):void 0}}function Sp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ep(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ep=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==wp(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(wp(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function kp(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function _p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){kp(i,r,o,a,u,"next",e)}function u(e){kp(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Pp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cp(r.key),r)}}function Np(e,t,n){return t&&xp(e.prototype,t),n&&xp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cp(e){var t=Tp(e,"string");return"symbol"==wp(t)?t:String(t)}function Tp(e,t){if("object"!=wp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Lp=Object(l.r)({level:"warn",bizName:"designer:pluginManager"}),Rp=["designer","editor","skeleton","renderer","render","utils","plugin","engine","editor-core","engine-core","plugins","event","events","log","logger","ctx","context"],Ap=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";Pp(this,e),this.viewName=void 0,this.plugins=[],this.pluginsMap=new Map,this.pluginContextMap=new Map,this.pluginPreference=new Map,this.contextApiAssembler=void 0,this._getLowCodePluginContext=function(e){var t=e.pluginName,r=n.pluginContextMap.get(t);return r||(r=new ip(e,n.contextApiAssembler),n.pluginContextMap.set(t,r)),r},this.viewName=r,this.contextApiAssembler=t}return Np(e,[{key:"isEngineVersionMatched",value:function e(t){var n=u.engineConfig.get("ENGINE_VERSION");return gp()(n,t,{includePrerelease:!0})}},{key:"register",value:function(){var e=_p(Ep().mark((function e(t,n,r){var o,i,a,c,s,l,f,p,h,d,v,y,m,b,g,w,O,j,S,E;return Ep().wrap((function e(k){for(;;)switch(k.prev=k.next){case 0:if(Jf(n)&&(r=n,n={}),c=t.pluginName,s=t.meta,f=(l=void 0===s?{}:s).preferenceDeclaration,p=l.engines,h=l.eventPrefix,(d=Rp.find((function(e){return e===h})))&&(l.eventPrefix=void 0,Lp.warn("plugin ".concat(c," is trying to use ").concat(h," as event prefix, which is a reserved event prefix, please use another one"))),v=this._getLowCodePluginContext({pluginName:c,meta:l}),y=u.engineConfig.get("customPluginFilterOptions",Qf),!(m=u.engineConfig.get("customPluginTransducer",null))){k.next=15;break}return k.next=12,m(t,v,n);case 12:k.t0=k.sent,k.next=16;break;case 15:k.t0=t;case 16:if(b=k.t0,g=y(n,null===(o=b.meta)||void 0===o?void 0:o.preferenceDeclaration),w=b(v,g),bl(c=c||w.name,"pluginConfigCreator.pluginName required",w),v.setPreference(c,f),O=!0===(null===(i=r)||void 0===i?void 0:i.override),!this.pluginsMap.has(c)){k.next=32;break}if(O){k.next=28;break}throw new Error("Plugin with name ".concat(c," exists"));case 28:j=this.pluginsMap.get(c),Lp.log("plugin override, originalPlugin with name ",c," will be destroyed, config:",null==j?void 0:j.config),null==j||j.destroy(),this.pluginsMap.delete(c);case 32:if(!(S=p&&p.lowcodeEngine)||this.isEngineVersionMatched(S)){k.next=35;break}throw new Error("plugin ".concat(c," skipped, engine check failed, current engine version is ").concat(u.engineConfig.get("ENGINE_VERSION"),", meta.engines.lowcodeEngine is ").concat(S));case 35:if(E=new vp(c,this,w,l),null===(a=r)||void 0===a||!a.autoInit){k.next=39;break}return k.next=39,E.init();case 39:this.plugins.push(E),this.pluginsMap.set(c,E),Lp.log("plugin registered with pluginName: ".concat(c,", config: "),w,"meta:",l);case 42:case"end":return k.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"get",value:function e(t){return this.pluginsMap.get(t)}},{key:"getAll",value:function e(){return this.plugins}},{key:"has",value:function e(t){return this.pluginsMap.has(t)}},{key:"delete",value:function(){var e=_p(Ep().mark((function e(t){var n,r;return Ep().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:if(n=this.plugins.find((function(e){var n;return e.name===t}))){o.next=3;break}return o.abrupt("return",!1);case 3:return o.next=5,n.destroy();case 5:return r=this.plugins.indexOf(n),this.plugins.splice(r,1),o.abrupt("return",this.pluginsMap.delete(t));case 8:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=_p(Ep().mark((function e(t){var n,r,o,i,a,u,c,s;return Ep().wrap((function e(l){for(;;)switch(l.prev=l.next){case 0:n=[],r={},this.pluginPreference=t,this.plugins.forEach((function(e){n.push(e.name),r[e.name]=e})),o=mp(r,n),i=o.missingTasks,a=o.sequence,bl(!i.length,"plugin dependency missing",i),Lp.log("load plugin sequence:",a),u=Op(a),l.prev=8,u.s();case 10:if((c=u.n()).done){l.next=23;break}return s=c.value,l.prev=12,l.next=15,this.pluginsMap.get(s).init();case 15:l.next=21;break;case 17:l.prev=17,l.t0=l.catch(12),Lp.error("Failed to init plugin:".concat(s,", it maybe affect those plugins which depend on this.")),Lp.error(l.t0);case 21:l.next=10;break;case 23:l.next=28;break;case 25:l.prev=25,l.t1=l.catch(8),u.e(l.t1);case 28:return l.prev=28,u.f(),l.finish(28);case 31:case"end":return l.stop()}}),e,this,[[8,25,28,31],[12,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=_p(Ep().mark((function e(){var t,n,r;return Ep().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:t=Op(this.plugins),o.prev=1,t.s();case 3:if((n=t.n()).done){o.next=9;break}return r=n.value,o.next=7,r.destroy();case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),t.e(o.t0);case 14:return o.prev=14,t.f(),o.finish(14);case 17:case"end":return o.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"size",get:function e(){return this.pluginsMap.size}},{key:"getPluginPreference",value:function e(t){return this.pluginPreference?this.pluginPreference.get(t):null}},{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){if(t.pluginsMap.has(n)){var o;if(t.pluginsMap.get(n).disabled)return;return null===(o=t.pluginsMap.get(n))||void 0===o?void 0:o.toProxy()}return Reflect.get(t,n,r)}})}},{key:"setDisabled",value:function e(t){var n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Lp.warn("plugin:".concat(t," has been set disable:").concat(r)),null===(n=this.pluginsMap.get(t))||void 0===n||n.setDisabled(r)}},{key:"dispose",value:function(){var e=_p(Ep().mark((function e(){return Ep().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.destroy();case 2:this.plugins=[],this.pluginsMap.clear();case 4:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function Mp(e){return(Mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vp(r.key),r)}}function Bp(e,t,n){return t&&Ip(e.prototype,t),n&&Ip(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vp(e){var t=Fp(e,"string");return"symbol"==Mp(t)?t:String(t)}function Fp(e,t){if("object"!=Mp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Gp=new l.e({level:"warn",bizName:"skeleton:area"}),Hp=function(){function e(t,n,r,o){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Dp(this,e),this.skeleton=void 0,this.name=void 0,this.exclusive=void 0,this._visible=!0,this.container=void 0,this.lastCurrent=null,this.skeleton=t,this.name=n,this.exclusive=o,Object(u.makeObservable)(this),this.container=t.createContainer(n,r,o,(function(){return i.visible}),a)}return Bp(e,[{key:"visible",get:function e(){return this.exclusive?null!=this.container.current:this._visible}},{key:"current",get:function e(){return this.exclusive?this.container.current:null}},{key:"isEmpty",value:function e(){return this.container.items.length<1}},{key:"add",value:function e(t){var n=this.container.get(t.name);return n?(Gp.warn("The ".concat(t.name," has already been added to skeleton.")),n):this.container.add(t)}},{key:"remove",value:function e(t){return this.container.remove(t)}},{key:"setVisible",value:function e(t){if(this.exclusive){var n=this.container.current;t&&!n?this.container.active(this.lastCurrent||this.container.getAt(0)):n&&(this.lastCurrent=n,this.container.unactive(n))}else this._visible=t}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"removeAction",value:function e(t){return this.remove(t)}}]),e}();function Up(e){return(Up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xp(r.key),r)}}function $p(e,t,n){return t&&Wp(e.prototype,t),n&&Wp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xp(e){var t=Yp(e,"string");return"symbol"==Up(t)?t:String(t)}function Yp(e,t){if("object"!=Up(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Up(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Kp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qp(e,t)}function qp(e,t){return(qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Jp(e){var t=eh();return function n(){var r=th(e),o;if(t){var i=th(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Qp(this,o)}}function Qp(e,t){if(t&&("object"===Up(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zp(e)}function Zp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function th(e){return(th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(s.b)([u.obx,Object(s.d)("design:type",Object)],Hp.prototype,"_visible",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Hp.prototype,"visible",null);var nh=function(e){Kp(n,e);var t=Jp(n);function n(){return zp(this,n),t.apply(this,arguments)}return $p(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName,o=t.className;return n.isEmpty()?null:React.createElement("div",{className:Qo()(o,"lc-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(oh,{area:n,itemClassName:r}))}}]),n}(o.Component),rh=nh=Object(s.b)([u.observer],nh),oh=function(e){Kp(n,e);var t=Jp(n);function n(){return zp(this,n),t.apply(this,arguments)}return $p(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName,i=[],a=[],u=[];return n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:r||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):u.push(t)})),React.createElement(o.Fragment,null,React.createElement("div",{className:"lc-top-area-left"},i),React.createElement("div",{className:"lc-top-area-center"},a),React.createElement("div",{className:"lc-top-area-right"},u))}}]),n}(o.Component);function ih(e){return(ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ah(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sh(r.key),r)}}function ch(e,t,n){return t&&uh(e.prototype,t),n&&uh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sh(e){var t=lh(e,"string");return"symbol"==ih(t)?t:String(t)}function lh(e,t){if("object"!=ih(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ih(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function fh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ph(e,t)}function ph(e,t){return(ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function hh(e){var t=yh();return function n(){var r=mh(e),o;if(t){var i=mh(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return dh(this,o)}}function dh(e,t){if(t&&("object"===ih(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vh(e)}function vh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function mh(e){return(mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}oh=Object(s.b)([u.observer],oh);var bh=function(e){fh(n,e);var t=hh(n);function n(){return ah(this,n),t.apply(this,arguments)}return ch(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.className,o=void 0===r?"lc-left-area":r;return n.isEmpty()?null:React.createElement("div",{className:Qo()(o,{"lc-area-visible":n.visible})},React.createElement(wh,{area:n}))}}]),n}(o.Component),gh=bh=Object(s.b)([u.observer],bh),wh=function(e){fh(n,e);var t=hh(n);function n(){return ah(this,n),t.apply(this,arguments)}return ch(n,[{key:"render",value:function e(){var t=this.props.area,n=[],r=[];return t.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{key:"left-area-".concat(e.name)},e.content);"bottom"===e.align?r.push(t):n.push(t)})),React.createElement(o.Fragment,null,React.createElement("div",{className:"lc-left-area-top"},n),React.createElement("div",{className:"lc-left-area-bottom"},r))}}]),n}(o.Component);function Oh(e){return(Oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kh(r.key),r)}}function Eh(e,t,n){return t&&Sh(e.prototype,t),n&&Sh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kh(e){var t=_h(e,"string");return"symbol"==Oh(t)?t:String(t)}function _h(e,t){if("object"!=Oh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ph(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xh(e,t)}function xh(e,t){return(xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Nh(e){var t=Lh();return function n(){var r=Rh(e),o;if(t){var i=Rh(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ch(this,o)}}function Ch(e,t){if(t&&("object"===Oh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Th(e)}function Th(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Rh(e){return(Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}wh=Object(s.b)([u.observer],wh);var Ah=function(e){Ph(n,e);var t=Nh(n);function n(){return jh(this,n),t.apply(this,arguments)}return Eh(n,[{key:"componentDidUpdate",value:function e(){var t;null===(t=this.props.area.skeleton.editor.get("designer"))||void 0===t||t.touchOffsetObserver()}},{key:"render",value:function e(){var t,n,r=this.props.area,o=null===(t=r.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,i=o?{width:o}:void 0;return React.createElement("div",{className:Qo()("lc-left-fixed-pane",{"lc-area-visible":r.visible}),style:i},React.createElement(Dh,{area:r}))}}]),n}(o.Component),Mh=Ah=Object(s.b)([u.observer],Ah),Dh=function(e){Ph(n,e);var t=Nh(n);function n(){return jh(this,n),t.apply(this,arguments)}return Eh(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(o.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(o.Component);function Ih(e){return(Ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gh(r.key),r)}}function Fh(e,t,n){return t&&Vh(e.prototype,t),n&&Vh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gh(e){var t=Hh(e,"string");return"symbol"==Ih(t)?t:String(t)}function Hh(e,t){if("object"!=Ih(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ih(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Uh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zh(e,t)}function zh(e,t){return(zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Wh(e){var t=Yh();return function n(){var r=Kh(e),o;if(t){var i=Kh(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return $h(this,o)}}function $h(e,t){if(t&&("object"===Ih(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xh(e)}function Xh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Kh(e){return(Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Dh=Object(s.b)([u.observer],Dh);var qh=function(e){Uh(n,e);var t=Wh(n);function n(){var e;Bh(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).dispose=void 0,e.focusing=void 0,e.shell=null,e}return Fh(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.area,r=function e(t){var r,o,i,a;n.visible&&(null!==(r=t.originalEvent)&&void 0!==r&&null!==(o=r.target)&&void 0!==o&&o.classList.contains("insertion")||(null===(i=t.originalEvent)||void 0===i?void 0:i.target.closest('div[data-keep-visible-while-dragging="true"]'))||n.setVisible(!1))};n.skeleton.editor.eventBus.on("designer.drag",r),this.dispose=function(){n.skeleton.editor.removeListener("designer.drag",r)};var o=n.skeleton.editor.get("project");this.focusing=n.skeleton.focusTracker.create({range:function e(r){var i,a,u,c,s,l,f,p,h,d=r.target;if(!d)return!1;if(null!==(i=t.shell)&&void 0!==i&&i.contains(d))return!0;if(null!==(a=document.querySelector(".lc-simulator-content-frame"))&&void 0!==a&&null!==(u=a.contentWindow)&&void 0!==u&&u.document.documentElement.contains(d))return!1;if(null!=o&&null!==(c=o.simulatorHost)&&void 0!==c&&null!==(s=c.contentWindow)&&void 0!==s&&s.document.documentElement.contains(d))return!1;if(null!==(l=document.querySelector(".lc-right-area"))&&void 0!==l&&l.contains(d))return!1;if(null===(f=document.querySelector(".lc-workbench"))||void 0===f||!f.contains(d))return!0;if(null!==(p=document.querySelector(".lc-workbench-body"))&&void 0!==p&&p.contains(d))return!0;var v=null===(h=n.current)||void 0===h?void 0:h.getAssocDocks();return!(!v||null==v||!v.length)&&v.some((function(e){var t;return null===(t=e.getDOMNode())||void 0===t?void 0:t.contains(d)}))},onEsc:function e(){t.props.area.setVisible(!1)},onBlur:function e(){t.props.area.setVisible(!1)}}),this.onEffect()}},{key:"onEffect",value:function e(){var t=this.props.area;if(t.visible){var n,r,o;null===(n=this.focusing)||void 0===n||n.active();var i=null==t||null===(r=t.skeleton)||void 0===r||null===(o=r.leftFixedArea)||void 0===o?void 0:o.container,a=null==i?void 0:i.current;a&&i.unactive(a)}else{var u;null===(u=this.focusing)||void 0===u||u.suspense()}}},{key:"componentDidUpdate",value:function e(){this.onEffect()}},{key:"componentWillUnmount",value:function e(){var t,n;null===(t=this.focusing)||void 0===t||t.purge(),null===(n=this.dispose)||void 0===n||n.call(this)}},{key:"render",value:function e(){var t,n,r=this,o=this.props.area,i=null===(t=o.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,a=i?{width:i}:void 0;return React.createElement("div",{ref:function e(t){r.shell=t},className:Qo()("lc-left-float-pane",{"lc-area-visible":o.visible}),style:a},React.createElement(Qh,{area:o}))}}]),n}(o.Component),Jh=qh=Object(s.b)([u.observer],qh),Qh=function(e){Uh(n,e);var t=Wh(n);function n(){return Bh(this,n),t.apply(this,arguments)}return Fh(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(o.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(o.Component);function Zh(e){return(Zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rd(r.key),r)}}function nd(e,t,n){return t&&td(e.prototype,t),n&&td(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rd(e){var t=od(e,"string");return"symbol"==Zh(t)?t:String(t)}function od(e,t){if("object"!=Zh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function id(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ad(e,t)}function ad(e,t){return(ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ud(e){var t=ld();return function n(){var r=fd(e),o;if(t){var i=fd(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return cd(this,o)}}function cd(e,t){if(t&&("object"===Zh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sd(e)}function sd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ld(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fd(e){return(fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Qh=Object(s.b)([u.observer],Qh);var pd=function(e){id(n,e);var t=ud(n);function n(){return ed(this,n),t.apply(this,arguments)}return nd(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Qo()("lc-toolbar",{"lc-area-visible":t.visible})},React.createElement(dd,{area:t}))}}]),n}(o.Component),hd=pd=Object(s.b)([u.observer],pd),dd=function(e){id(n,e);var t=ud(n);function n(){return ed(this,n),t.apply(this,arguments)}return nd(n,[{key:"render",value:function e(){var t=this.props.area,n=[],r=[],i=[];return t.container.items.forEach((function(e){"center"===e.align?r.push(e.content):"right"===e.align?i.push(e.content):n.push(e.content)})),React.createElement(o.Fragment,null,React.createElement("div",{className:"lc-toolbar-left"},n),React.createElement("div",{className:"lc-toolbar-center"},r),React.createElement("div",{className:"lc-toolbar-right"},i))}}]),n}(o.Component);function vd(e){return(vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function md(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gd(r.key),r)}}function bd(e,t,n){return t&&md(e.prototype,t),n&&md(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gd(e){var t=wd(e,"string");return"symbol"==vd(t)?t:String(t)}function wd(e,t){if("object"!=vd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Od(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jd(e,t)}function jd(e,t){return(jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Sd(e){var t=_d();return function n(){var r=Pd(e),o;if(t){var i=Pd(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ed(this,o)}}function Ed(e,t){if(t&&("object"===vd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kd(e)}function kd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Pd(e){return(Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}dd=Object(s.b)([u.observer],dd);var xd=function(e){Od(n,e);var t=Sd(n);function n(){return yd(this,n),t.apply(this,arguments)}return bd(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement("div",{className:Qo()("lc-main-area engine-workspacepane")},t.container.items.map((function(e){return e.content})))}}]),n}(o.Component),Nd=xd=Object(s.b)([u.observer],xd);function Cd(e){return(Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Td(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ld(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ad(r.key),r)}}function Rd(e,t,n){return t&&Ld(e.prototype,t),n&&Ld(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ad(e){var t=Md(e,"string");return"symbol"==Cd(t)?t:String(t)}function Md(e,t){if("object"!=Cd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Dd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Id(e,t)}function Id(e,t){return(Id=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Bd(e){var t=Gd();return function n(){var r=Hd(e),o;if(t){var i=Hd(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Vd(this,o)}}function Vd(e,t){if(t&&("object"===Cd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fd(e)}function Fd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Hd(e){return(Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Ud=function(e){Dd(n,e);var t=Bd(n);function n(){return Td(this,n),t.apply(this,arguments)}return Rd(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Qo()("lc-bottom-area",{"lc-area-visible":t.visible})},React.createElement(Wd,{area:t}))}}]),n}(o.Component),zd=Ud=Object(s.b)([u.observer],Ud),Wd=function(e){Dd(n,e);var t=Bd(n);function n(){return Td(this,n),t.apply(this,arguments)}return Rd(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(o.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(o.Component);function $d(e){return($d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qd(r.key),r)}}function Kd(e,t,n){return t&&Yd(e.prototype,t),n&&Yd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qd(e){var t=Jd(e,"string");return"symbol"==$d(t)?t:String(t)}function Jd(e,t){if("object"!=$d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Qd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zd(e,t)}function Zd(e,t){return(Zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ev(e){var t=rv();return function n(){var r=ov(e),o;if(t){var i=ov(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return tv(this,o)}}function tv(e,t){if(t&&("object"===$d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nv(e)}function nv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ov(e){return(ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Wd=Object(s.b)([u.observer],Wd);var iv=function(e){Qd(n,e);var t=ev(n);function n(){return Xd(this,n),t.apply(this,arguments)}return Kd(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Qo()("lc-right-area engine-tabpane",{"lc-area-visible":t.visible})},React.createElement(uv,{area:t}))}}]),n}(o.Component),av=iv=Object(s.b)([u.observer],iv),uv=function(e){Qd(n,e);var t=ev(n);function n(){return Xd(this,n),t.apply(this,arguments)}return Kd(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(o.Fragment,null,t.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).map((function(e){return e.content})))}}]),n}(o.Component);uv=Object(s.b)([u.observer],uv);var cv=n(108),sv=Object(o.createContext)({});function lv(e){return(lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dv(r.key),r)}}function hv(e,t,n){return t&&pv(e.prototype,t),n&&pv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dv(e){var t=vv(e,"string");return"symbol"==lv(t)?t:String(t)}function vv(e,t){if("object"!=lv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function yv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mv(e,t)}function mv(e,t){return(mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function bv(e){var t=Ov();return function n(){var r=jv(e),o;if(t){var i=jv(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return gv(this,o)}}function gv(e,t){if(t&&("object"===lv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wv(e)}function wv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ov(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function jv(e){return(jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Sv=function(e){yv(n,e);var t=bv(n);function n(e){var r;fv(this,n);var o=(r=t.call(this,e)).props,i=o.config,a=o.components,u;return o.skeleton.buildFromConfig(i,a),r}return hv(n,[{key:"render",value:function e(){var t=this.props,n=t.skeleton,r=t.className,o=t.topAreaItemClassName;return React.createElement("div",{className:Qo()("lc-workbench",r)},React.createElement(sv.Provider,{value:this.props.skeleton},React.createElement(rh,{area:n.topArea,itemClassName:o}),React.createElement("div",{className:"lc-workbench-body"},React.createElement(gh,{area:n.leftArea}),React.createElement(Jh,{area:n.leftFloatArea}),React.createElement(Mh,{area:n.leftFixedArea}),React.createElement("div",{className:"lc-workbench-center"},React.createElement(hd,{area:n.toolbar}),React.createElement(Nd,{area:n.mainArea}),React.createElement(zd,{area:n.bottomArea})),React.createElement(av,{area:n.rightArea})),React.createElement(u.TipContainer,null)))}}]),n}(o.Component);function Ev(e){return e&&"Widget"===e.type}function kv(e){return e&&"Divider"===e.type}function _v(e){return e&&/Dock$/.test(e.type)}function Pv(e){return e&&"DialogDock"===e.type}function xv(e){return e&&"Panel"===e.type}function Nv(e){return e&&"PanelDock"===e.type}function Cv(e){return(Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Av(r.key),r)}}function Rv(e,t,n){return t&&Lv(e.prototype,t),n&&Lv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Av(e){var t=Mv(e,"string");return"symbol"==Cv(t)?t:String(t)}function Mv(e,t){if("object"!=Cv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Dv(e){return e&&e.setActive}Sv=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],Sv);var Iv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Tv(this,e),this.name=void 0,this.handle=void 0,this.exclusive=void 0,this.checkVisible=void 0,this.defaultSetCurrent=void 0,this.items=[],this.maps={},this._current=null,this.name=t,this.handle=n,this.exclusive=r,this.checkVisible=o,this.defaultSetCurrent=i,Object(u.makeObservable)(this)}return Rv(e,[{key:"current",get:function e(){return this._current}},{key:"visible",get:function e(){return this.checkVisible()}},{key:"active",value:function e(t){var n=t;if(t&&"string"==typeof t&&(n=this.get(t)),Dv(n)||(n=null),this.exclusive){if(this._current===n)return;this._current&&this._current.setActive(!1),this._current=n}n&&n.setActive(!0)}},{key:"unactive",value:function e(t){var n=t;t&&"string"==typeof t&&(n=this.get(t)),Dv(n)||(n=null),this._current===n&&(this._current=null),n&&n.setActive(!1)}},{key:"unactiveAll",value:function e(){var t=this;Object.keys(this.maps).forEach((function(e){return t.unactive(e)}))}},{key:"add",value:function e(t){t=this.handle(t);var n=this.get(t.name);if(n===t)return n;var r=n?this.items.indexOf(n):-1;if(r>-1?this.items[r]=t:this.items.push(t),this.maps[t.name]=t,aE(t)&&t.setParent(this),this.defaultSetCurrent){var o,i,a=null===(o=t.config)||void 0===o||null===(i=o.props)||void 0===i?void 0:i.hiddenWhenInit;this._current||a||this.active(t)}return t}},{key:"get",value:function e(t){return this.maps[t]||null}},{key:"getAt",value:function e(t){return this.items[t]||null}},{key:"has",value:function e(t){return Object(l.t)(this.maps,t)}},{key:"indexOf",value:function e(t){return this.items.indexOf(t)}},{key:"remove",value:function e(t){var n="string"==typeof t?this.get(t):t;if(!n)return-1;var r=this.items.indexOf(n);return r>-1&&this.items.splice(r,1),delete this.maps[n.name],n===this.current&&(this._current=null),r}}]),e}();Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],Iv.prototype,"items",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Iv.prototype,"_current",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Iv.prototype,"visible",null);var Bv=Symbol("project"),Vv=Symbol("designer"),Fv=Symbol("skeleton"),Gv=Symbol("document"),Hv=Symbol("editor"),Uv=Symbol("node"),zv=Symbol("modalNodesManager"),Wv=Symbol("nodeChildren"),$v=Symbol("prop"),Xv=Symbol("settingField"),Yv=Symbol("settingTopEntry"),Kv=Symbol("props"),qv=Symbol("detecting"),Jv=Symbol("selection"),Qv=Symbol("history"),Zv=Symbol("canvas"),ey=Symbol("dragon"),ty=Symbol("componentMeta"),ny=Symbol("dropLocation"),ry=Symbol("simulatorHost"),oy=Symbol("simulatorRender"),iy=Symbol("dragObject"),ay=Symbol("locateEvent"),uy=Symbol("designerCabin"),cy=Symbol("editorCabin"),sy=Symbol("skeletonCabin"),ly=Symbol("hotkey"),fy=Symbol("plugins"),py=Symbol("workspace"),hy=Symbol("window"),dy=Symbol("plugin-instance"),vy=Symbol("resourceType"),yy=Symbol("resource"),my=Symbol("clipboard"),by=Symbol("configSymbol"),gy=Symbol("conditionGroup"),wy=Symbol("editorView"),Oy=Symbol("pluginContext"),jy=Symbol("skeletonItem");function Sy(e){return(Sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ey(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ky(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Py(r.key),r)}}function _y(e,t,n){return t&&ky(e.prototype,t),n&&ky(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Py(e){var t=xy(e,"string");return"symbol"==Sy(t)?t:String(t)}function xy(e,t){if("object"!=Sy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ny=function(){function e(t){Ey(this,e),this[ty]=void 0,this.isComponentMeta=!0,this[ty]=t}return _y(e,[{key:"componentName",get:function e(){return this[ty].componentName}},{key:"isContainer",get:function e(){return this[ty].isContainer}},{key:"isMinimalRenderUnit",get:function e(){return this[ty].isMinimalRenderUnit}},{key:"isModal",get:function e(){return this[ty].isModal}},{key:"configure",get:function e(){return this[ty].configure}},{key:"title",get:function e(){return this[ty].title}},{key:"icon",get:function e(){return this[ty].icon}},{key:"npm",get:function e(){return this[ty].npm}},{key:"prototype",get:function e(){return this[ty].prototype}},{key:"availableActions",get:function e(){return this[ty].availableActions}},{key:"advanced",get:function e(){return this[ty].advanced}},{key:"setNpm",value:function e(t){this[ty].setNpm(t)}},{key:"getMetadata",value:function e(){return this[ty].getMetadata()}},{key:"checkNestingUp",value:function e(t,n){var r=t.isNode?t[Uv]:t;return this[ty].checkNestingUp(r,n)}},{key:"checkNestingDown",value:function e(t,n){var r=null!=t&&t.isNode?t[Uv]:t;return this[ty].checkNestingDown(r,n[Uv]||n)}},{key:"refreshMetadata",value:function e(){this[ty].refreshMetadata()}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Cy(e){return(Cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ty(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ly(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ay(r.key),r)}}function Ry(e,t,n){return t&&Ly(e.prototype,t),n&&Ly(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ay(e){var t=My(e,"string");return"symbol"==Cy(t)?t:String(t)}function My(e,t){if("object"!=Cy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Dy=function(){function e(t){Ty(this,e),this[$v]=void 0,this[$v]=t}return Ry(e,[{key:"id",get:function e(){return this[$v].id}},{key:"key",get:function e(){return this[$v].key}},{key:"path",get:function e(){return this[$v].path}},{key:"node",get:function e(){return qw.create(this[$v].getNode())}},{key:"slotNode",get:function e(){return qw.create(this[$v].slotNode)}},{key:"isProp",get:function e(){return!0}},{key:"setValue",value:function e(t){this[$v].setValue(t)}},{key:"getValue",value:function e(){return this[$v].getValue()}},{key:"remove",value:function e(){this[$v].remove()}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.h.Render;return this[$v].export(t)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Iy(e){return(Iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function By(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gy(r.key),r)}}function Fy(e,t,n){return t&&Vy(e.prototype,t),n&&Vy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gy(e){var t=Hy(e,"string");return"symbol"==Iy(t)?t:String(t)}function Hy(e,t){if("object"!=Iy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Iy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Uy=function(){function e(t){By(this,e),this[Kv]=void 0,this[Kv]=t}return Fy(e,[{key:"id",get:function e(){return this[Kv].id}},{key:"path",get:function e(){return this[Kv].path}},{key:"node",get:function e(){return qw.create(this[Kv].getNode())}},{key:"getProp",value:function e(t){return Dy.create(this[Kv].getProp(t))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t))||void 0===n?void 0:n.getValue()}},{key:"getExtraProp",value:function e(t){return Dy.create(this[Kv].getProp(J(t)))}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"setPropValue",value:function e(t,n){var r;return null===(r=this.getProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"setExtraPropValue",value:function e(t,n){var r;return null===(r=this.getExtraProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"has",value:function e(t){return this[Kv].has(t)}},{key:"add",value:function e(t,n){return this[Kv].add(t,n)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function zy(e){return(zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yy(r.key),r)}}function Xy(e,t,n){return t&&$y(e.prototype,t),n&&$y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yy(e){var t=Ky(e,"string");return"symbol"==zy(t)?t:String(t)}function Ky(e,t){if("object"!=zy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var qy=function(){function e(t){Wy(this,e),this[Jv]=void 0,this[Jv]=t.selection}return Xy(e,[{key:"selected",get:function e(){return this[Jv].selected}},{key:"node",get:function e(){var t=this.getNodes();return t&&t.length>0?t[0]:null}},{key:"select",value:function e(t){this[Jv].select(t)}},{key:"selectAll",value:function e(t){this[Jv].selectAll(t)}},{key:"remove",value:function e(t){this[Jv].remove(t)}},{key:"clear",value:function e(){this[Jv].clear()}},{key:"has",value:function e(t){return this[Jv].has(t)}},{key:"add",value:function e(t){this[Jv].add(t)}},{key:"getNodes",value:function e(){var t=this[Jv].getNodes(),n=[];return t.forEach((function(e){var t=qw.create(e);t&&n.push(t)})),n}},{key:"getTopNodes",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this[Jv].getTopNodes(t),r=[];return n.forEach((function(e){var t=qw.create(e);t&&r.push(t)})),r}},{key:"onSelectionChange",value:function e(t){return this[Jv].onSelectionChange(t)}}]),e}();function Jy(e){return(Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tm(r.key),r)}}function em(e,t,n){return t&&Zy(e.prototype,t),n&&Zy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tm(e){var t=nm(e,"string");return"symbol"==Jy(t)?t:String(t)}function nm(e,t){if("object"!=Jy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var rm=function(){function e(t){Qy(this,e),this[Gv]=void 0,this[Gv]=t}return em(e,[{key:Qv,get:function e(){return this[Gv].getHistory()}},{key:"go",value:function e(t){this[Qv].go(t)}},{key:"back",value:function e(){this[Qv].back()}},{key:"forward",value:function e(){this[Qv].forward()}},{key:"savePoint",value:function e(){this[Qv].savePoint()}},{key:"isSavePoint",value:function e(){return this[Qv].isSavePoint()}},{key:"getState",value:function e(){return this[Qv].getState()}},{key:"onChangeState",value:function e(t){return this[Qv].onChangeState(t)}},{key:"onChangeCursor",value:function e(t){return this[Qv].onChangeCursor(t)}}]),e}();function om(e){return(om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function im(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cm(r.key),r)}}function um(e,t,n){return t&&am(e.prototype,t),n&&am(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cm(e){var t=sm(e,"string");return"symbol"==om(t)?t:String(t)}function sm(e,t){if("object"!=om(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=om(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var lm=function(){function e(t){im(this,e),this[ny]=void 0,this[ny]=t}return um(e,[{key:"target",get:function e(){return qw.create(this[ny].target)}},{key:"detail",get:function e(){return this[ny].detail}},{key:"event",get:function e(){return this[ny].event}},{key:"clone",value:function t(n){return new e(this[ny].clone(n))}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function fm(){return(fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pm(e){return(pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ym(r.key),r)}}function vm(e,t,n){return t&&dm(e.prototype,t),n&&dm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ym(e){var t=mm(e,"string");return"symbol"==pm(t)?t:String(t)}function mm(e,t){if("object"!=pm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var bm=function(){function e(t){hm(this,e),this[Hv]=void 0,this[uy]=void 0,this[Hv]=t,this[uy]={isDragNodeObject:l.C,isDragAnyObject:l.A,isShaken:wc,contains:rt,LocationDetailType:c.j,isLocationChildrenDetail:l.K,ScrollTarget:rc,isSettingField:l.V,TransformStage:c.h,SettingField:ul,LiveEditing:uo,DragObjectType:c.f,isDragNodeDataObject:l.B,isNode:l.N,DropLocation:os,Designer:vf,Node:Je,LowCodePluginManager:Ap,DesignerView:Kf}}return vm(e,[{key:Vv,get:function e(){return this[Hv].get("designer")}},{key:"isSettingField",value:function e(t){return Object(l.V)(t)}},{key:"TransformStage",get:function e(){return c.h}},{key:"SettingField",get:function e(){return ul}},{key:"LiveEditing",get:function e(){return uo}},{key:"DragObjectType",get:function e(){return c.f}},{key:"isDragNodeDataObject",value:function e(t){return Object(l.B)(t)}},{key:"isNode",value:function e(t){return Object(l.N)(t)}},{key:"dragon",get:function e(){return xO.create(this[Vv].dragon,!1)}}]),e}(),gm=function(){function e(t){hm(this,e),this[Fv]=void 0,this[sy]=void 0,this[Fv]=t,this[sy]={Workbench:Sv,createSettingFieldView:this.createSettingFieldView,PopupContext:Uk,PopupPipe:zk,SettingsPrimaryPane:gx,registerDefaults:iN,Skeleton:ik}}return vm(e,[{key:"Workbench",get:function e(){var t=this[Fv];return function(e){return React.createElement(Sv,fm({},e,{skeleton:t}))}}},{key:"createSettingFieldView",value:function e(t,n){return lP(t[Xv]||t,n)}},{key:"PopupContext",get:function e(){return Uk}},{key:"PopupPipe",get:function e(){return zk}}]),e}(),wm=function(){function e(){hm(this,e)}return vm(e,[{key:"isNodeSchema",value:function e(t){return Object(l.O)(t)}},{key:"isFormEvent",value:function e(t){return Object(l.F)(t)}},{key:"compatibleLegaoSchema",value:function e(t){return Object(l.l)(t)}},{key:"getNodeSchemaById",value:function e(t,n){return Object(l.s)(t,n)}},{key:"getConvertedExtraKey",value:function e(t){return J(t)}},{key:"getOriginalExtraKey",value:function e(t){return Q(t)}},{key:"executeTransaction",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.i.REPAINT;l.cb.executeTransaction(t,n)}},{key:"createIntl",value:function e(t){return Object(u.createIntl)(t)}}]),e}(),Om=function(){function e(t){var n=this;hm(this,e),this[Hv]=void 0,this[cy]=void 0,this.createSetterContent=function(e,t){var r;return n[Hv].get("setters").createSetterContent(e,t)},this[Hv]=t,this[cy]={Editor:u.Editor,globalContext:u.globalContext,runInAction:u.runInAction,Title:u.Title,Tip:u.Tip,shallowIntl:u.shallowIntl,createIntl:u.createIntl,intl:u.intl,createSetterContent:this.createSetterContent.bind(this),globalLocale:u.globalLocale,obx:u.obx,action:u.action,engineConfig:u.engineConfig,observable:u.observable,makeObservable:u.makeObservable,untracked:u.untracked,computed:u.computed,observer:u.observer}}return vm(e,[{key:"Title",get:function e(){return u.Title}},{key:"Tip",get:function e(){return u.Tip}},{key:"shallowIntl",value:function e(t){return Object(u.shallowIntl)(t)}},{key:"createIntl",value:function e(t){return Object(u.createIntl)(t)}},{key:"intl",value:function e(t,n){return Object(u.intl)(t,n)}},{key:"globalLocale",get:function e(){return u.globalLocale}},{key:"obx",get:function e(){return u.obx}},{key:"action",get:function e(){return u.action}},{key:"engineConfig",get:function e(){return u.engineConfig}},{key:"runInAction",get:function e(){return u.runInAction}},{key:"observable",get:function e(){return u.observable}},{key:"makeObservable",value:function e(t,n,r){return Object(u.makeObservable)(t,n,r)}},{key:"untracked",value:function e(t){return Object(u.untracked)(t)}},{key:"computed",get:function e(){return u.computed}},{key:"observer",value:function e(t){return Object(u.observer)(t)}}]),e}(),jm=function(){function e(t,n){hm(this,e),this.__designerCabin=void 0,this.__skeletonCabin=void 0,this.__editorCabin=void 0,this.__utils=void 0,this.__designerCabin=new bm(t),this.__skeletonCabin=new gm(n),this.__editorCabin=new Om(t),this.__utils=new wm}return vm(e,[{key:"utils",get:function e(){return this.__utils}},{key:"editorCabin",get:function e(){return this.__editorCabin}},{key:"designerCabin",get:function e(){return this.__designerCabin}},{key:"skeletonCabin",get:function e(){return this.__skeletonCabin}},{key:"objects",get:function e(){return{TransformStage:c.h}}}]),e}();function Sm(e){return(Sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pm(r.key),r)}}function _m(e,t,n){return t&&km(e.prototype,t),n&&km(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pm(e){var t=xm(e,"string");return"symbol"==Sm(t)?t:String(t)}function xm(e,t){if("object"!=Sm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Nm=Object(l.r)({level:"warn",bizName:"shell-event"}),Cm=Symbol("eventBus"),Tm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Em(this,e),this.workspaceMode=void 0,this[Cm]=void 0,this.options=void 0,this.workspaceMode=r,this[Cm]=t,this.options=n,this.options.prefix||Nm.warn("prefix is required while initializing Event")}return _m(e,[{key:"on",value:function e(t,n){return Object(l.Q)(t)?this[Cm].on(t,n):(Nm.warn("fail to monitor on event ".concat(t,", event should have a prefix like 'somePrefix:eventName'")),function(){})}},{key:"prependListener",value:function e(t,n){return Object(l.Q)(t)?this[Cm].prependListener(t,n):(Nm.warn("fail to prependListener event ".concat(t,", event should have a prefix like 'somePrefix:eventName'")),function(){})}},{key:"off",value:function e(t,n){this[Cm].off(t,n)}},{key:"emit",value:function e(t){var n;if(this.options.prefix){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this[Cm]).emit.apply(n,["".concat(this.options.prefix,":").concat(t)].concat(o))}else Nm.warn("Event#emit has been forbidden while prefix is not specified")}},{key:"__internalEmit__",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this[Cm]).emit.apply(n,[t].concat(o))}}]),e}();function Lm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{prefix:"common"};return new Tm(e.eventBus,t)}function Rm(e){return(Rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Am(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Im(r.key),r)}}function Dm(e,t,n){return t&&Mm(e.prototype,t),n&&Mm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Im(e){var t=Bm(e,"string");return"symbol"==Rm(t)?t:String(t)}function Bm(e,t){if("object"!=Rm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Vm=Symbol("innerHotkey"),Fm=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Am(this,e),this.workspaceMode=void 0,this[Vm]=void 0,this.workspaceMode=n,this[Vm]=t}return Dm(e,[{key:ly,get:function e(){if(this.workspaceMode)return this[Vm];var t=u.globalContext.get("workspace");return t.isActive?t.window.innerHotkey:this[Vm]}},{key:"callbacks",get:function e(){return this[ly].callBacks}},{key:"callBacks",get:function e(){return this.callbacks}},{key:"bind",value:function e(t,n,r){var o=this;return this[ly].bind(t,n,r),function(){o[ly].unbind(t,n,r)}}}]),e}();function Gm(e){return(Gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wm(r.key),r)}}function zm(e,t,n){return t&&Um(e.prototype,t),n&&Um(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wm(e){var t=$m(e,"string");return"symbol"==Gm(t)?t:String(t)}function $m(e,t){if("object"!=Gm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Xm=Symbol("logger"),Ym=function(){function e(t){Hm(this,e),this[Xm]=void 0,this[Xm]=Object(l.r)(t)}return zm(e,[{key:"debug",value:function e(){var t;(t=this[Xm]).debug.apply(t,arguments)}},{key:"info",value:function e(){var t;(t=this[Xm]).info.apply(t,arguments)}},{key:"warn",value:function e(){var t;(t=this[Xm]).warn.apply(t,arguments)}},{key:"error",value:function e(){var t;(t=this[Xm]).error.apply(t,arguments)}},{key:"log",value:function e(){var t;(t=this[Xm]).log.apply(t,arguments)}}]),e}();function Km(e){return(Km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qm(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Jm(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Jm(e,t){if(e){if("string"==typeof e)return Qm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qm(e,t):void 0}}function Qm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zm(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Zm=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Km(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Km(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function eb(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function tb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){eb(i,r,o,a,u,"next",e)}function u(e){eb(i,r,o,a,u,"throw",e)}a(void 0)}))}}function nb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ib(r.key),r)}}function ob(e,t,n){return t&&rb(e.prototype,t),n&&rb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ib(e){var t=ab(e,"string");return"symbol"==Km(t)?t:String(t)}function ab(e,t){if("object"!=Km(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Km(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ub=Symbol("editor"),cb=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];nb(this,e),this.workspaceMode=void 0,this[ub]=void 0,this.registerMetadataTransducer=function(e,t,r){n[Vv].componentActions.registerMetadataTransducer(e,t,r)},this.addBuiltinComponentAction=function(e){n[Vv].componentActions.addBuiltinComponentAction(e)},this.refreshComponentMetasMap=function(){n[Vv].refreshComponentMetasMap()},this.workspaceMode=r,this[ub]=t}return ob(e,[{key:Hv,get:function e(){if(this.workspaceMode)return this[ub];var t=u.globalContext.get("workspace");return t.isActive?t.window.editor:this[ub]}},{key:Vv,get:function e(){return this[Hv].get("designer")}},{key:"componentsMap",get:function e(){return this[Vv].componentsMap}},{key:"setAssets",value:function(){var e=tb(Zm().mark((function e(t){return Zm().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[Hv].setAssets(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAssets",value:function e(){return this[Hv].get("assets")}},{key:"loadIncrementalAssets",value:function e(t){return this[Vv].loadIncrementalAssets(t)}},{key:"getRegisteredMetadataTransducers",value:function e(){return this[Vv].componentActions.getRegisteredMetadataTransducers()}},{key:"getComponentMeta",value:function e(t){var n=this[Vv].getComponentMeta(t);return Ny.create(n)}},{key:"createComponentMeta",value:function e(t){return Ny.create(this[Vv].createComponentMeta(t))}},{key:"isComponentMeta",value:function e(t){return Cn(t)}},{key:"getComponentMetasMap",value:function e(){var t=new Map,n,r=qm(this[Vv].getComponentMetasMap().keys()),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;t.set(i,this.getComponentMeta(i))}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"removeBuiltinComponentAction",value:function e(t){this[Vv].componentActions.removeBuiltinComponentAction(t)}},{key:"modifyBuiltinComponentAction",value:function e(t,n){this[Vv].componentActions.modifyBuiltinComponentAction(t,n)}},{key:"onChangeAssets",value:function e(t){var n=[this[Hv].onChange("assets",t),this[Hv].eventBus.on("designer.incrementalAssetsReady",t)];return function(){n.forEach((function(e){return e&&e()}))}}}]),e}();function sb(e){return(sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */lb=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==sb(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(sb(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function fb(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function pb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fb(i,r,o,a,u,"next",e)}function u(e){fb(i,r,o,a,u,"throw",e)}a(void 0)}))}}function hb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yb(r.key),r)}}function vb(e,t,n){return t&&db(e.prototype,t),n&&db(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yb(e){var t=mb(e,"string");return"symbol"==sb(t)?t:String(t)}function mb(e,t){if("object"!=sb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var bb=Symbol("plugin"),gb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];hb(this,e),this.workspaceMode=void 0,this[bb]=void 0,this.workspaceMode=n,this[bb]=t}return vb(e,[{key:fy,get:function e(){if(this.workspaceMode)return this[bb];var t=u.globalContext.get("workspace");return t.isActive?t.window.innerPlugins:this[bb]}},{key:"register",value:function(){var e=pb(lb().mark((function e(t,n,r){return lb().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this[fy].register(t,n,r);case 2:case"end":return o.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=pb(lb().mark((function e(t){return lb().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[fy].init(t);case 2:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getPluginPreference",value:function e(t){return this[fy].getPluginPreference(t)}},{key:"get",value:function e(t){var n=this[fy].get(t);return n?new qO(n):null}},{key:"getAll",value:function e(){var t;return null===(t=this[fy].getAll())||void 0===t?void 0:t.map((function(e){return new qO(e)}))}},{key:"has",value:function e(t){return this[fy].has(t)}},{key:"delete",value:function(){var e=pb(lb().mark((function e(t){return lb().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[fy].delete(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){var o=t[fy];if(o.pluginsMap.has(n)){var i;if(o.pluginsMap.get(n).disabled)return;return null===(i=o.pluginsMap.get(n))||void 0===i?void 0:i.toProxy()}return Reflect.get(t,n,r)}})}}]),e}();function wb(e){return(wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ob(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eb(r.key),r)}}function Sb(e,t,n){return t&&jb(e.prototype,t),n&&jb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eb(e){var t=kb(e,"string");return"symbol"==wb(t)?t:String(t)}function kb(e,t){if("object"!=wb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _b=function(){function e(t){Ob(this,e),this[oy]=void 0,this[oy]=t}return Sb(e,[{key:"components",get:function e(){return this[oy].components}},{key:"rerender",value:function e(){return this[oy].rerender()}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function Pb(e){return(Pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tb(r.key),r)}}function Cb(e,t,n){return t&&Nb(e.prototype,t),n&&Nb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tb(e){var t=Lb(e,"string");return"symbol"==Pb(t)?t:String(t)}function Lb(e,t){if("object"!=Pb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Rb=function(){function e(t){xb(this,e),this[ry]=void 0,this[ry]=t}return Cb(e,[{key:"contentWindow",get:function e(){return this[ry].contentWindow}},{key:"contentDocument",get:function e(){return this[ry].contentDocument}},{key:"renderer",get:function e(){if(this[ry].renderer)return _b.create(this[ry].renderer)}},{key:"set",value:function e(t,n){this[ry].set(t,n)}},{key:"get",value:function e(t){return this[ry].get(t)}},{key:"scrollToNode",value:function e(t){this[ry].scrollToNode(t[Uv])}},{key:"rerender",value:function e(){this[ry].rerender()}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Ab(e){return(Ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Db(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mb(Object(n),!0).forEach((function(t){Ib(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ib(e,t,n){return(t=Gb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gb(r.key),r)}}function Fb(e,t,n){return t&&Vb(e.prototype,t),n&&Vb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gb(e){var t=Hb(e,"string");return"symbol"==Ab(t)?t:String(t)}function Hb(e,t){if("object"!=Ab(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ab(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ub=Object(l.r)({level:"warn",bizName:"shell-project"}),zb=Symbol("innerProject"),Wb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Bb(this,e),this.workspaceMode=void 0,this[zb]=void 0,this[ry]=void 0,this.workspaceMode=n,this[zb]=t}return Fb(e,[{key:Bv,get:function e(){if(this.workspaceMode)return this[zb];var t=u.globalContext.get("workspace"),n;return t.isActive?null!==(n=t.window)&&void 0!==n&&n.innerProject?t.window.innerProject:(Ub.error("project api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),this[zb]):this[zb]}},{key:Hv,get:function e(){var t;return null===(t=this[Bv])||void 0===t?void 0:t.designer.editor}},{key:"currentDocument",get:function e(){return this.getCurrentDocument()}},{key:"documents",get:function e(){return this[Bv].documents.map((function(e){return hw.create(e)}))}},{key:"simulatorHost",get:function e(){return Rb.create(this[Bv].simulator||this[ry])}},{key:"simulator",get:function e(){return this.simulatorHost}},{key:"openDocument",value:function e(t){var n=this[Bv].open(t);return n?hw.create(n):null}},{key:"createDocument",value:function e(t){var n=this[Bv].createDocument(t);return hw.create(n)}},{key:"removeDocument",value:function e(t){this[Bv].removeDocument(t[Gv])}},{key:"getDocumentByFileName",value:function e(t){var n=this[Bv].getDocumentByFileName(t);return hw.create(n)}},{key:"getDocumentById",value:function e(t){return hw.create(this[Bv].getDocument(t))}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.h.Render;return this[Bv].getSchema(t)}},{key:"importSchema",value:function e(t){this[Bv].load(t,!0)}},{key:"getCurrentDocument",value:function e(){return hw.create(this[Bv].currentDocument)}},{key:"addPropsTransducer",value:function e(t,n){this[Bv].designer.addPropsReducer(t,n)}},{key:"onRemoveDocument",value:function e(t){return this[Hv].eventBus.on("designer.document.remove",(function(e){return t(e)}))}},{key:"onChangeDocument",value:function e(t){var n=this[Bv].onCurrentDocumentChange((function(e){t(hw.create(e))}));return this[Bv].currentDocument&&t(hw.create(this[Bv].currentDocument)),n}},{key:"onSimulatorHostReady",value:function e(t){var n;return this[Bv].onSimulatorReady((function(e){t(Rb.create(e))}))}},{key:"onSimulatorRendererReady",value:function e(t){var n;return this[Bv].onRendererReady((function(){t()}))}},{key:"setI18n",value:function e(t){this[Bv].set("i18n",t)}},{key:"setConfig",value:function e(){if(2===arguments.length){var t=this[Bv].get("config");this[Bv].set("config",Db(Db({},t),{},Ib({},arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])))}else this[Bv].set("config",arguments.length<=0?void 0:arguments[0])}}],[{key:"create",value:function t(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new e(n,r)}}]),e}();function $b(e){return($b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qb(r.key),r)}}function Kb(e,t,n){return t&&Yb(e.prototype,t),n&&Yb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qb(e){var t=Jb(e,"string");return"symbol"==$b(t)?t:String(t)}function Jb(e,t){if("object"!=$b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Qb=Symbol("setters"),Zb=Symbol("setters"),eg=Object(l.r)({level:"warn",bizName:"shell-setters"}),tg=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Xb(this,e),this.workspaceMode=void 0,this[Qb]=void 0,this.getSetter=function(e){return n[Zb].getSetter(e)},this.getSettersMap=function(){return n[Zb].getSettersMap()},this.registerSetter=function(e,t){return n[Zb].registerSetter(e,t)},this.createSetterContent=function(e,t){return n[Zb].createSetterContent(e,t)},this.workspaceMode=r,this[Qb]=t}return Kb(e,[{key:Zb,get:function e(){var t=this;if(this.workspaceMode)return this[Qb];var n=u.globalContext.get("workspace");return n.isActive?Object(u.untracked)((function(){var e;return null!==(e=n.window)&&void 0!==e&&e.innerSetters?n.window.innerSetters:(eg.error("setter api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),t[Qb])})):this[Qb]}}]),e}();function ng(e){return(ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function og(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ag(r.key),r)}}function ig(e,t,n){return t&&og(e.prototype,t),n&&og(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ag(e){var t=ug(e,"string");return"symbol"==ng(t)?t:String(t)}function ug(e,t){if("object"!=ng(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ng(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var cg=function(){function e(t){rg(this,e),this[jy]=void 0,this[jy]=t}return ig(e,[{key:"name",get:function e(){return this[jy].name}},{key:"visible",get:function e(){return this[jy].visible}},{key:"disable",value:function e(){var t,n;null===(t=(n=this[jy]).disable)||void 0===t||t.call(n)}},{key:"enable",value:function e(){var t,n;null===(t=(n=this[jy]).enable)||void 0===t||t.call(n)}},{key:"hide",value:function e(){this[jy].hide()}},{key:"show",value:function e(){this[jy].show()}},{key:"toggle",value:function e(){this[jy].toggle()}}]),e}();function sg(e){return(sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lg(Object(n),!0).forEach((function(t){pg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pg(e,t,n){return(t=yg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yg(r.key),r)}}function vg(e,t,n){return t&&dg(e.prototype,t),n&&dg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yg(e){var t=mg(e,"string");return"symbol"==sg(t)?t:String(t)}function mg(e,t){if("object"!=sg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var bg=Symbol("skeleton"),gg=Object(l.r)({level:"warn",bizName:"shell-skeleton"}),wg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];hg(this,e),this.workspaceMode=void 0,this[bg]=void 0,this.pluginName=void 0,this.workspaceMode=r,this[bg]=t,this.pluginName=n}return vg(e,[{key:Fv,get:function e(){if(this.workspaceMode)return this[bg];var t=u.globalContext.get("workspace"),n;return t.isActive?null!==(n=t.window)&&void 0!==n&&n.innerSkeleton?t.window.innerSkeleton:(gg.error("skeleton api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),this[bg]):this[bg]}},{key:"add",value:function e(t,n){var r=fg(fg({},t),{},{pluginName:this.pluginName}),o=this[Fv].add(r,n);if(o)return new cg(o)}},{key:"remove",value:function e(t){var n,r=t.area,o=t.name,i=this[Fv];Og(r)&&(null===(n=i[Og(r)].container)||void 0===n||n.remove(o))}},{key:"getAreaItems",value:function e(t){var n;return null===(n=this[Fv][Og(t)].container.items)||void 0===n?void 0:n.map((function(e){return new cg(e)}))}},{key:"getPanel",value:function e(t){var n=this[Fv].getPanel(t);if(n)return new cg(n)}},{key:"showPanel",value:function e(t){var n;null===(n=this[Fv].getPanel(t))||void 0===n||n.show()}},{key:"hidePanel",value:function e(t){var n;null===(n=this[Fv].getPanel(t))||void 0===n||n.hide()}},{key:"showWidget",value:function e(t){var n;null===(n=this[Fv].getWidget(t))||void 0===n||n.show()}},{key:"enableWidget",value:function e(t){var n,r;null===(n=this[Fv].getWidget(t))||void 0===n||null===(r=n.enable)||void 0===r||r.call(n)}},{key:"hideWidget",value:function e(t){var n;null===(n=this[Fv].getWidget(t))||void 0===n||n.hide()}},{key:"disableWidget",value:function e(t){var n,r;null===(n=this[Fv].getWidget(t))||void 0===n||null===(r=n.disable)||void 0===r||r.call(n)}},{key:"showArea",value:function e(t){var n;null===(n=this[Fv][t])||void 0===n||n.show()}},{key:"hideArea",value:function e(t){var n;null===(n=this[Fv][t])||void 0===n||n.hide()}},{key:"onShowPanel",value:function e(t){var n=this[Fv].editor;return n.eventBus.on(ok.PANEL_SHOW,(function(e,n){t(e,new cg(n))})),function(){return n.eventBus.off(ok.PANEL_SHOW,t)}}},{key:"onDisableWidget",value:function e(t){var n=this[Fv].editor;return n.eventBus.on(ok.WIDGET_DISABLE,(function(e,n){t(e,new cg(n))})),function(){return n.eventBus.off(ok.WIDGET_DISABLE,t)}}},{key:"onEnableWidget",value:function e(t){var n=this[Fv].editor;return n.eventBus.on(ok.WIDGET_ENABLE,(function(e,n){t(e,new cg(n))})),function(){return n.eventBus.off(ok.WIDGET_ENABLE,t)}}},{key:"onHidePanel",value:function e(t){var n=this[Fv].editor;return n.eventBus.on(ok.PANEL_HIDE,(function(e,n){t(e,new cg(n))})),function(){return n.eventBus.off(ok.PANEL_HIDE,t)}}},{key:"onShowWidget",value:function e(t){var n=this[Fv].editor;return n.eventBus.on(ok.WIDGET_SHOW,(function(e,n){t(e,new cg(n))})),function(){return n.eventBus.off(ok.WIDGET_SHOW,t)}}},{key:"onHideWidget",value:function e(t){var n=this[Fv].editor;return n.eventBus.on(ok.WIDGET_HIDE,(function(e,n){t(e,new cg(n))})),function(){return n.eventBus.off(ok.WIDGET_HIDE,t)}}},{key:"registerConfigTransducer",value:function e(t,n,r){this[Fv].registerConfigTransducer(t,n,r)}}]),e}();function Og(e){switch(e){case"leftArea":case"left":return"leftArea";case"rightArea":case"right":return"rightArea";case"topArea":case"top":return"topArea";case"toolbar":return"toolbar";case"mainArea":case"main":case"center":case"centerArea":return"mainArea";case"bottomArea":case"bottom":return"bottomArea";case"leftFixedArea":return"leftFixedArea";case"leftFloatArea":return"leftFloatArea";case"stages":return"stages";case"subTopArea":return"subTopArea";default:throw new Error("".concat(e," not supported"))}}function jg(e){return(jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sg(Object(n),!0).forEach((function(t){kg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kg(e,t,n){return(t=Ng(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ng(r.key),r)}}function xg(e,t,n){return t&&Pg(e.prototype,t),n&&Pg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ng(e){var t=Cg(e,"string");return"symbol"==jg(t)?t:String(t)}function Cg(e,t){if("object"!=jg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Tg=Symbol("clipboardInstace"),Lg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_g(this,e),this.workspaceMode=void 0,this[Hv]=void 0,this[Tg]=void 0,this.workspaceMode=n,this[Hv]=t,this[Tg]=new wj}return xg(e,[{key:Vv,get:function e(){return this[Hv].get("designer")}},{key:"dragon",get:function e(){return xO.create(this[Vv].dragon,this.workspaceMode)}},{key:"activeTracker",get:function e(){var t;return new UO(this[Vv].activeTracker)}},{key:"isInLiveEditing",get:function e(){var t,n,r,o;return Boolean(null===(t=this[Hv].get("designer"))||void 0===t||null===(n=t.project)||void 0===n||null===(r=n.simulator)||void 0===r||null===(o=r.liveEditing)||void 0===o?void 0:o.editing)}},{key:"clipboard",get:function e(){return this[Tg]}},{key:"createScrollTarget",value:function e(t){return new rc(t)}},{key:"createScroller",value:function e(t){return this[Vv].createScroller(t)}},{key:"createLocation",value:function e(t){return new lm(this[Vv].createLocation(Eg(Eg({},t),{},{target:t.target[Uv]})))}},{key:"dropLocation",get:function e(){return lm.create(this[Vv].dropLocation||null)}}]),e}();function Rg(e){return(Rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ag(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ag=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Rg(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Rg(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function Mg(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Dg(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Mg(i,r,o,a,u,"next",e)}function u(e){Mg(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ig(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fg(r.key),r)}}function Vg(e,t,n){return t&&Bg(e.prototype,t),n&&Bg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fg(e){var t=Gg(e,"string");return"symbol"==Rg(t)?t:String(t)}function Gg(e,t){if("object"!=Rg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Hg=function(){function e(t){Ig(this,e),this[py]=void 0,this[py]=t}return Vg(e,[{key:"resourceList",get:function e(){return this[py].getResourceList().map((function(e){return new MO(e)}))}},{key:"setResourceList",value:function e(t){this[py].setResourceList(t)}},{key:"onResourceListChange",value:function e(t){return this[py].onResourceListChange(t)}},{key:"isActive",get:function e(){return this[py].isActive}},{key:"window",get:function e(){return this[py].window?new hj(this[py].window):null}},{key:"resourceTypeList",get:function e(){return Array.from(this[py].resourceTypeMap.values()).map((function(e){var t=e.name,n=e.type,r=e.resourceTypeModel({},{}),o,i;return{resourceName:t,resourceType:n,description:r.description,editorViews:r.editorViews.map((function(e){return{viewName:e.viewName,viewType:e.viewType||"editor"}}))}}))}},{key:"onWindowRendererReady",value:function e(t){return this[py].onWindowRendererReady(t)}},{key:"registerResourceType",value:function e(t){this[py].registerResourceType(t)}},{key:"openEditorWindow",value:function(){var e=Dg(Ag().mark((function e(){var t,n=arguments;return Ag().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if("string"!=typeof n[0]){r.next=5;break}return r.next=3,this[py].openEditorWindow(n[0],n[1],n[2],n[3],n[4]);case 3:r.next=7;break;case 5:return r.next=7,this[py].openEditorWindowByResource(null===(t=n[0])||void 0===t?void 0:t[yy],n[1]);case 7:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openEditorWindowById",value:function e(t){this[py].openEditorWindowById(t)}},{key:"removeEditorWindow",value:function e(){var t;"string"==typeof arguments[0]?this[py].removeEditorWindow(arguments[0],arguments[1]):this[py].removeEditorWindowByResource(null===(t=arguments[0])||void 0===t?void 0:t[yy])}},{key:"removeEditorWindowById",value:function e(t){this[py].removeEditorWindowById(t)}},{key:"plugins",get:function e(){return new gb(this[py].plugins,!0)}},{key:"skeleton",get:function e(){return new wg(this[py].skeleton,"workspace",!0)}},{key:"windows",get:function e(){return this[py].windows.map((function(e){return new hj(e)}))}},{key:"onChangeWindows",value:function e(t){return this[py].onChangeWindows(t)}},{key:"onChangeActiveWindow",value:function e(t){return this[py].onChangeActiveWindow(t)}},{key:"onChangeActiveEditorView",value:function e(t){return this[py].onChangeActiveEditorView(t)}}]),e}();function Ug(e){return(Ug="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xg(r.key),r)}}function $g(e,t,n){return t&&Wg(e.prototype,t),n&&Wg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xg(e){var t=Yg(e,"string");return"symbol"==Ug(t)?t:String(t)}function Yg(e,t){if("object"!=Ug(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ug(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Kg=function(){function e(t){zg(this,e),this[by]=void 0,this[by]=t}return $g(e,[{key:"has",value:function e(t){return this[by].has(t)}},{key:"get",value:function e(t,n){return this[by].get(t,n)}},{key:"set",value:function e(t,n){this[by].set(t,n)}},{key:"setConfig",value:function e(t){this[by].setConfig(t)}},{key:"onceGot",value:function e(t){return this[by].onceGot(t)}},{key:"onGot",value:function e(t,n){return this[by].onGot(t,n)}},{key:"getPreference",value:function e(){return this[by].getPreference()}}]),e}();function qg(e){return(qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ew(r.key),r)}}function Zg(e,t,n){return t&&Qg(e.prototype,t),n&&Qg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ew(e){var t=tw(e,"string");return"symbol"==qg(t)?t:String(t)}function tw(e,t){if("object"!=qg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var nw=function(){function e(t){Jg(this,e),this[zv]=void 0,this[zv]=t}return Zg(e,[{key:"setNodes",value:function e(){this[zv].setNodes()}},{key:"getModalNodes",value:function e(){var t=this[zv].getModalNodes(),n=[];return null==t||t.forEach((function(e){var t=qw.create(e);t&&n.push(t)})),n}},{key:"getVisibleModalNode",value:function e(){return qw.create(this[zv].getVisibleModalNode())}},{key:"hideModalNodes",value:function e(){this[zv].hideModalNodes()}},{key:"setVisible",value:function e(t){this[zv].setVisible(t[Uv])}},{key:"setInvisible",value:function e(t){this[zv].setInvisible(t[Uv])}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function rw(e){return(rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ow(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=iw(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function iw(e,t){if(e){if("string"==typeof e)return aw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aw(e,t):void 0}}function aw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lw(r.key),r)}}function sw(e,t,n){return t&&cw(e.prototype,t),n&&cw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lw(e){var t=fw(e,"string");return"symbol"==rw(t)?t:String(t)}function fw(e,t){if("object"!=rw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var pw=Symbol("shellDocSymbol"),hw=function(){function e(t){var n;uw(this,e),this[Gv]=void 0,this[Hv]=void 0,this._focusNode=void 0,this.selection=void 0,this.detecting=void 0,this.history=void 0,this.canvas=void 0,this[Gv]=t,this[Hv]=null===(n=t.designer)||void 0===n?void 0:n.editor,this.selection=new qy(t),this.detecting=new rO(t),this.history=new rm(t),this.canvas=new Lg(this[Hv]),this._focusNode=qw.create(this[Gv].focusNode)}return sw(e,[{key:"id",get:function e(){return this[Gv].id},set:function e(t){this[Gv].id=t}},{key:"project",get:function e(){return Wb.create(this[Gv].project,!0)}},{key:"root",get:function e(){return qw.create(this[Gv].rootNode)}},{key:"focusNode",get:function e(){return this._focusNode||this.root},set:function e(t){this._focusNode=t,this[Hv].eventBus.emit("shell.document.focusNodeChanged",{document:this,focusNode:t})}},{key:"nodesMap",get:function e(){var t=new Map,n=ow(this[Gv].nodesMap.keys()),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;t.set(o,this.getNodeById(o))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"modalNodesManager",get:function e(){return nw.create(this[Gv].modalNodesManager)}},{key:"dropLocation",get:function e(){return lm.create(this[Gv].dropLocation)},set:function e(t){this[Gv].dropLocation=t}},{key:"getNodeById",value:function e(t){return qw.create(this[Gv].getNode(t))}},{key:"importSchema",value:function e(t){this[Gv].import(t),this[Hv].eventBus.emit("shell.document.importSchema",t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.h.Render;return this[Gv].export(t)}},{key:"insertNode",value:function e(t,n,r,o){var i=this[Gv].insertNode(t[Uv]?t[Uv]:t,null!=n&&n[Uv]?n[Uv]:n,r,o);return qw.create(i)}},{key:"createNode",value:function e(t){return qw.create(this[Gv].createNode(t))}},{key:"removeNode",value:function e(t){this[Gv].removeNode(t)}},{key:"getComponentsMap",value:function e(t){return this[Gv].getComponentsMap(t)}},{key:"checkNesting",value:function e(t,n){var r=n,o;Object(l.C)(n)&&(r.nodes=null===(o=r.nodes)||void 0===o?void 0:o.map((function(e){return e[Uv]||e})));return this[Gv].checkNesting(t[Uv]||t,r)}},{key:"onAddNode",value:function e(t){return this[Gv].onNodeCreate((function(e){t(qw.create(e))}))}},{key:"onMountNode",value:function e(t){return this[Gv].onMountNode((function(e){var n=e.node;t({node:qw.create(n)})}))}},{key:"onRemoveNode",value:function e(t){return this[Gv].onNodeDestroy((function(e){t(qw.create(e))}))}},{key:"onChangeDetecting",value:function e(t){return this[Gv].designer.detecting.onDetectingChange((function(e){t(qw.create(e))}))}},{key:"onChangeSelection",value:function e(t){return this[Gv].selection.onSelectionChange((function(e){t(e)}))}},{key:"onChangeNodeVisible",value:function e(t){return this[Gv].onChangeNodeVisible((function(e,n){t(qw.create(e),n)}))}},{key:"onChangeNodeChildren",value:function e(t){return this[Gv].onChangeNodeChildren((function(e){e&&t({type:e.type,node:qw.create(e.node)})}))}},{key:"onChangeNodeProp",value:function e(t){var n=this,r=function e(n){t({key:n.key,oldValue:n.oldValue,newValue:n.newValue,prop:Dy.create(n.prop),node:qw.create(n.node)})};return this[Hv].on(c.e.Node.Prop.InnerChange,r),function(){n[Hv].off(c.e.Node.Prop.InnerChange,r)}}},{key:"onImportSchema",value:function e(t){return this[Hv].eventBus.on("shell.document.importSchema",t)}},{key:"isDetectingNode",value:function e(t){return this.detecting.current===t}},{key:"onFocusNodeChanged",value:function e(t){return t?this[Hv].eventBus.on("shell.document.focusNodeChanged",(function(e){var n=e.document,r=e.focusNode;t(n,r)})):function(){}}},{key:"onDropLocationChanged",value:function e(t){return t?this[Hv].eventBus.on("document.dropLocation.changed",(function(e){var n=e.document;t(n)})):function(){}}}],[{key:"create",value:function t(n){if(!n)return null;if(n[pw])return n[pw];var r=new e(n);return n[pw]=r,r}}]),e}();function dw(e){return(dw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bw(r.key),r)}}function mw(e,t,n){return t&&yw(e.prototype,t),n&&yw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bw(e){var t=gw(e,"string");return"symbol"==dw(t)?t:String(t)}function gw(e,t){if("object"!=dw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ww=function(){function e(t){vw(this,e),this[Wv]=void 0,this[Wv]=t}return mw(e,[{key:"owner",get:function e(){return qw.create(this[Wv].owner)}},{key:"size",get:function e(){return this[Wv].size}},{key:"isEmpty",get:function e(){return this[Wv].isEmptyNode}},{key:"isEmptyNode",get:function e(){return this[Wv].isEmptyNode}},{key:"notEmpty",get:function e(){return this[Wv].notEmptyNode}},{key:"notEmptyNode",get:function e(){return this[Wv].notEmptyNode}},{key:"delete",value:function e(t){return this[Wv].delete(null==t?void 0:t[Uv])}},{key:"insert",value:function e(t,n){return this[Wv].insert(null==t?void 0:t[Uv],n)}},{key:"indexOf",value:function e(t){return this[Wv].indexOf(null==t?void 0:t[Uv])}},{key:"splice",value:function e(t,n,r){this[Wv].splice(t,n,null==r?void 0:r[Uv])}},{key:"get",value:function e(t){return qw.create(this[Wv].get(t))}},{key:"has",value:function e(t){return this[Wv].has(null==t?void 0:t[Uv])}},{key:"forEach",value:function e(t){this[Wv].forEach((function(e,n){t(qw.create(e),n)}))}},{key:"reverse",value:function e(){return this[Wv].reverse().map((function(e){return qw.create(e)}))}},{key:"map",value:function e(t){return this[Wv].map((function(e,n){return t(qw.create(e),n)}))}},{key:"every",value:function e(t){return this[Wv].every((function(e,n){return t(qw.create(e),n)}))}},{key:"some",value:function e(t){return this[Wv].some((function(e,n){return t(qw.create(e),n)}))}},{key:"filter",value:function e(t){return this[Wv].filter((function(e,n){return t(qw.create(e),n)})).map((function(e){return qw.create(e)}))}},{key:"find",value:function e(t){return qw.create(this[Wv].find((function(e,n){return t(qw.create(e),n)})))}},{key:"reduce",value:function e(t,n){return this[Wv].reduce((function(e,n){return t(e,qw.create(n))}),n)}},{key:"importSchema",value:function e(t){this[Wv].import(t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.h.Render;return this[Wv].export(t)}},{key:"mergeChildren",value:function e(t,n,r){var o=r;o||(o=function e(){return 0}),this[Wv].mergeChildren((function(e,n){return t(qw.create(e),n)}),(function(e){return n(e.map((function(e){return qw.create(e)})))}),(function(e,t){return o(qw.create(e),qw.create(t))}))}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Ow(e){return(Ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kw(r.key),r)}}function Ew(e,t,n){return t&&Sw(e.prototype,t),n&&Sw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kw(e){var t=_w(e,"string");return"symbol"==Ow(t)?t:String(t)}function _w(e,t){if("object"!=Ow(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ow(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Pw=function(){function e(t){jw(this,e),this[Xv]=void 0,this[Xv]=t}return Ew(e,[{key:"isGroup",get:function e(){return this[Xv].isGroup}},{key:"id",get:function e(){return this[Xv].id}},{key:"name",get:function e(){return this[Xv].name}},{key:"key",get:function e(){return this[Xv].getKey()}},{key:"path",get:function e(){return this[Xv].path}},{key:"title",get:function e(){return this[Xv].title}},{key:"setter",get:function e(){return this[Xv].setter}},{key:"expanded",get:function e(){return this[Xv].expanded}},{key:"extraProps",get:function e(){return this[Xv].extraProps}},{key:"props",get:function e(){return Aw.create(this[Xv].props)}},{key:"node",get:function e(){return qw.create(this[Xv].getNode())}},{key:"parent",get:function t(){return cl(this[Xv].parent)?e.create(this[Xv].parent):Aw.create(this[Xv].parent)}},{key:"top",get:function e(){return Aw.create(this[Xv].top)}},{key:"isSettingField",get:function e(){return this[Xv].isSettingField}},{key:"componentMeta",get:function e(){return Ny.create(this[Xv].componentMeta)}},{key:"items",get:function e(){var t;return null===(t=this[Xv].items)||void 0===t?void 0:t.map((function(e){return Object(l.y)(e)?e:e.internalToShellField()}))}},{key:"setKey",value:function e(t){this[Xv].setKey(t)}},{key:"getNode",value:function e(){return this.node}},{key:"getParent",value:function e(){return this.parent}},{key:"setValue",value:function e(t,n){this[Xv].setValue(t,!1,!1,n)}},{key:"setPropValue",value:function e(t,n){this[Xv].setPropValue(t,n)}},{key:"clearPropValue",value:function e(t){this[Xv].clearPropValue(t)}},{key:"getDefaultValue",value:function e(){return this[Xv].getDefaultValue()}},{key:"getValue",value:function e(){return this[Xv].getValue()}},{key:"getPropValue",value:function e(t){return this[Xv].getPropValue(t)}},{key:"getExtraPropValue",value:function e(t){return this[Xv].getExtraPropValue(t)}},{key:"setExtraPropValue",value:function e(t,n){this[Xv].setExtraPropValue(t,n)}},{key:"getProps",value:function e(){return Aw.create(this[Xv].getProps())}},{key:"isUseVariable",value:function e(){return this[Xv].isUseVariable()}},{key:"setUseVariable",value:function e(t){this[Xv].setUseVariable(t)}},{key:"createField",value:function t(n){return e.create(this[Xv].createField(n))}},{key:"getMockOrValue",value:function e(){return this[Xv].getMockOrValue()}},{key:"purge",value:function e(){this[Xv].purge()}},{key:"remove",value:function e(){this[Xv].remove()}},{key:"onEffect",value:function e(t){return this[Xv].onEffect(t)}},{key:"internalToShellField",value:function e(){return this}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function xw(e){return(xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lw(r.key),r)}}function Tw(e,t,n){return t&&Cw(e.prototype,t),n&&Cw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lw(e){var t=Rw(e,"string");return"symbol"==xw(t)?t:String(t)}function Rw(e,t){if("object"!=xw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Aw=function(){function e(t){Nw(this,e),this[Yv]=void 0,this[Yv]=t}return Tw(e,[{key:"node",get:function e(){return qw.create(this[Yv].getNode())}},{key:"get",value:function e(t){return Pw.create(this[Yv].get(t))}},{key:"getNode",value:function e(){return this.node}},{key:"getPropValue",value:function e(t){return this[Yv].getPropValue(t)}},{key:"setPropValue",value:function e(t,n){this[Yv].setPropValue(t,n)}},{key:"clearPropValue",value:function e(t){this[Yv].clearPropValue(t)}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function Mw(e){return(Mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vw(r.key),r)}}function Bw(e,t,n){return t&&Iw(e.prototype,t),n&&Iw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vw(e){var t=Fw(e,"string");return"symbol"==Mw(t)?t:String(t)}function Fw(e,t){if("object"!=Mw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Gw=function(){function e(t){Dw(this,e),this[gy]=void 0,this[gy]=t}return Bw(e,[{key:"id",get:function e(){var t;return null===(t=this[gy])||void 0===t?void 0:t.id}},{key:"title",get:function e(){var t;return null===(t=this[gy])||void 0===t?void 0:t.title}},{key:"firstNode",get:function e(){var t;return qw.create(null===(t=this[gy])||void 0===t?void 0:t.firstNode)}},{key:"setVisible",value:function e(t){var n;null===(n=this[gy])||void 0===n||n.setVisible(t[Uv]?t[Uv]:t)}}],[{key:"create",value:function t(n){if(!n)return null;if(n[gy])return n[gy];var r=new e(n);return r[gy]=r,r}}]),e}();function Hw(e){return(Hw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$w(r.key),r)}}function Ww(e,t,n){return t&&zw(e.prototype,t),n&&zw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $w(e){var t=Xw(e,"string");return"symbol"==Hw(t)?t:String(t)}function Xw(e,t){if("object"!=Hw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Yw=Symbol("shellNodeSymbol");function Kw(e){return e[Yw]}var qw=function(){function e(t){Uw(this,e),this[Gv]=void 0,this[Uv]=void 0,this._id=void 0,this.isNode=!0,this[Uv]=t,this[Gv]=t.document,this._id=this[Uv].id}return Ww(e,[{key:"id",get:function e(){return this._id},set:function e(t){this._id=t}},{key:"title",get:function e(){return this[Uv].title}},{key:"isContainer",get:function e(){return this[Uv].isContainerNode}},{key:"isContainerNode",get:function e(){return this[Uv].isContainerNode}},{key:"isRoot",get:function e(){return this[Uv].isRootNode}},{key:"isRootNode",get:function e(){return this[Uv].isRootNode}},{key:"isEmpty",get:function e(){return this[Uv].isEmptyNode}},{key:"isEmptyNode",get:function e(){return this[Uv].isEmptyNode}},{key:"isPage",get:function e(){return this[Uv].isPageNode}},{key:"isPageNode",get:function e(){return this[Uv].isPageNode}},{key:"isComponent",get:function e(){return this[Uv].isComponentNode}},{key:"isComponentNode",get:function e(){return this[Uv].isComponentNode}},{key:"isModal",get:function e(){return this[Uv].isModalNode}},{key:"isModalNode",get:function e(){return this[Uv].isModalNode}},{key:"isSlot",get:function e(){return this[Uv].isSlotNode}},{key:"isSlotNode",get:function e(){return this[Uv].isSlotNode}},{key:"isParental",get:function e(){return this[Uv].isParentalNode}},{key:"isParentalNode",get:function e(){return this[Uv].isParentalNode}},{key:"isLeaf",get:function e(){return this[Uv].isLeafNode}},{key:"isLeafNode",get:function e(){return this[Uv].isLeafNode}},{key:"isLocked",get:function e(){return this[Uv].isLocked}},{key:"index",get:function e(){return this[Uv].index}},{key:"icon",get:function e(){return this[Uv].icon}},{key:"zLevel",get:function e(){return this[Uv].zLevel}},{key:"componentName",get:function e(){return this[Uv].componentName}},{key:"componentMeta",get:function e(){return Ny.create(this[Uv].componentMeta)}},{key:"document",get:function e(){return hw.create(this[Gv])}},{key:"prevSibling",get:function t(){return e.create(this[Uv].prevSibling)}},{key:"nextSibling",get:function t(){return e.create(this[Uv].nextSibling)}},{key:"parent",get:function t(){return e.create(this[Uv].parent)}},{key:"children",get:function e(){return ww.create(this[Uv].children)}},{key:"slots",get:function t(){return this[Uv].slots.map((function(t){return e.create(t)}))}},{key:"slotFor",get:function e(){return Dy.create(this[Uv].slotFor)}},{key:"props",get:function e(){return Uy.create(this[Uv].props)}},{key:"propsData",get:function e(){return this[Uv].propsData}},{key:"schema",get:function e(){return this[Uv].schema}},{key:"settingEntry",get:function e(){return Aw.create(this[Uv].settingEntry)}},{key:"getChildren",value:function e(){return this.children}},{key:"getDOMNode",value:function e(){return this[Uv].getDOMNode()}},{key:"mergeChildren",value:function e(t,n,r){var o;return null===(o=this.children)||void 0===o?void 0:o.mergeChildren(t,n,r)}},{key:"getRect",value:function e(){return this[Uv].getRect()}},{key:"hasSlots",value:function e(){return this[Uv].hasSlots()}},{key:"hasCondition",value:function e(){return this[Uv].hasCondition()}},{key:"hasLoop",value:function e(){return this[Uv].hasLoop()}},{key:"visible",get:function e(){return this[Uv].getVisible()},set:function e(t){this[Uv].setVisible(t)}},{key:"getVisible",value:function e(){return this[Uv].getVisible()}},{key:"setVisible",value:function e(t){this[Uv].setVisible(t)}},{key:"isConditionalVisible",value:function e(){return this[Uv].isConditionalVisible()}},{key:"lock",value:function e(t){this[Uv].lock(t)}},{key:"getProps",value:function e(){return this.props}},{key:"contains",value:function e(t){return this[Uv].contains(t[Uv])}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Dy.create(this[Uv].getProp(t,n))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.getValue()}},{key:"getExtraProp",value:function e(t,n){return Dy.create(this[Uv].getExtraProp(t,n))}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"setPropValue",value:function e(t,n){var r;return null===(r=this.getProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"setExtraPropValue",value:function e(t,n){var r;return null===(r=this.getExtraProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"importSchema",value:function e(t){this[Uv].import(t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.h.Render,n=arguments.length>1?arguments[1]:void 0;return this[Uv].export(t,n)}},{key:"insertBefore",value:function e(t,n,r){this[Uv].insertBefore(t[Uv]||t,null==n?void 0:n[Uv],r)}},{key:"insertAfter",value:function e(t,n,r){this[Uv].insertAfter(t[Uv]||t,null==n?void 0:n[Uv],r)}},{key:"replaceChild",value:function t(n,r){return e.create(this[Uv].replaceChild(n[Uv],r))}},{key:"replaceWith",value:function e(t){this[Uv].replaceWith(t)}},{key:"select",value:function e(){this[Uv].select()}},{key:"hover",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this[Uv].hover(t)}},{key:"remove",value:function e(){this[Uv].remove()}},{key:"isRGLContainer",get:function e(){return this[Uv].isRGLContainerNode},set:function e(t){this[Uv].isRGLContainerNode=t}},{key:"isRGLContainerNode",get:function e(){return this[Uv].isRGLContainerNode},set:function e(t){this[Uv].isRGLContainerNode=t}},{key:"internalToShellNode",value:function e(){return this}},{key:"canPerformAction",value:function e(t){return this[Uv].canPerformAction(t)}},{key:"conditionGroup",get:function e(){return Gw.create(this[Uv].conditionGroup)}},{key:"setConditionalVisible",value:function e(){this[Uv].setConditionalVisible()}},{key:"getRGL",value:function t(){var n=this[Uv].getRGL(),r=n.isContainerNode,o=n.isEmptyNode,i=n.isRGLContainerNode,a=n.isRGLNode,u=n.isRGL,c=n.rglNode;return{isContainerNode:r,isEmptyNode:o,isRGLContainerNode:i,isRGLNode:a,isRGL:u,rglNode:e.create(c)}}}],[{key:"create",value:function t(n){if(!n)return null;if(Kw(n))return n[Yw];var r=new e(n);return n[Yw]=r,r}}]),e}();function Jw(e){return(Jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tO(r.key),r)}}function eO(e,t,n){return t&&Zw(e.prototype,t),n&&Zw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tO(e){var t=nO(e,"string");return"symbol"==Jw(t)?t:String(t)}function nO(e,t){if("object"!=Jw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var rO=function(){function e(t){var n;Qw(this,e),this[Gv]=void 0,this[qv]=void 0,this[Gv]=t,this[qv]=null===(n=t.designer)||void 0===n?void 0:n.detecting}return eO(e,[{key:"enable",get:function e(){return this[qv].enable}},{key:"current",get:function e(){return qw.create(this[qv].current)}},{key:"capture",value:function e(t){this[qv].capture(this[Gv].getNode(t))}},{key:"release",value:function e(t){this[qv].release(this[Gv].getNode(t))}},{key:"leave",value:function e(){this[qv].leave(this[Gv])}},{key:"onDetectingChange",value:function e(t){var n=function e(n){var r=qw.create(n);t(r)};return this[qv].onDetectingChange(n)}}]),e}();function oO(e){return(oO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cO(r.key),r)}}function uO(e,t,n){return t&&aO(e.prototype,t),n&&aO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cO(e){var t=sO(e,"string");return"symbol"==oO(t)?t:String(t)}function sO(e,t){if("object"!=oO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var lO=function(){function e(t){iO(this,e),this[iy]=void 0,this[iy]=t}return uO(e,[{key:"type",get:function e(){return this[iy].type}},{key:"nodes",get:function e(){var t=this[iy].nodes;return t?t.map(qw.create):null}},{key:"data",get:function e(){return this[iy].data}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function fO(e){return(fO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vO(r.key),r)}}function dO(e,t,n){return t&&hO(e.prototype,t),n&&hO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vO(e){var t=yO(e,"string");return"symbol"==fO(t)?t:String(t)}function yO(e,t){if("object"!=fO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var mO=function(){function e(t){pO(this,e),this[ay]=void 0,this[ay]=t}return dO(e,[{key:"type",get:function e(){return this[ay].type}},{key:"globalX",get:function e(){return this[ay].globalX}},{key:"globalY",get:function e(){return this[ay].globalY}},{key:"originalEvent",get:function e(){return this[ay].originalEvent}},{key:"target",get:function e(){return this[ay].target}},{key:"canvasX",get:function e(){return this[ay].canvasX}},{key:"canvasY",get:function e(){return this[ay].canvasY}},{key:"dragObject",get:function e(){return lO.create(this[ay].dragObject)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function bO(e){return(bO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gO(Object(n),!0).forEach((function(t){OO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OO(e,t,n){return(t=kO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kO(r.key),r)}}function EO(e,t,n){return t&&SO(e.prototype,t),n&&SO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kO(e){var t=_O(e,"string");return"symbol"==bO(t)?t:String(t)}function _O(e,t){if("object"!=bO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var PO=Symbol("innerDragonSymbol"),xO=function(){function e(t,n){jO(this,e),this.workspaceMode=void 0,this[PO]=void 0,this.workspaceMode=n,this[PO]=t}return EO(e,[{key:ey,get:function e(){if(this.workspaceMode)return this[PO];var t=u.globalContext.get("workspace"),n=u.globalContext.get("editor"),r;return t.isActive&&(n=t.window.editor),n.get("designer").dragon}},{key:"dragging",get:function e(){return this[ey].dragging}},{key:"onDragstart",value:function e(t){return this[ey].onDragstart((function(e){return t(mO.create(e))}))}},{key:"onDrag",value:function e(t){return this[ey].onDrag((function(e){return t(mO.create(e))}))}},{key:"onDragend",value:function e(t){return this[ey].onDragend((function(e){var n=lO.create(e.dragObject),r=e.copy;return t({dragObject:n,copy:r})}))}},{key:"from",value:function e(t,n){return this[ey].from(t,n)}},{key:"boost",value:function e(t,n,r){return this[ey].boost(wO(wO({},t),{},{nodes:t.nodes.map((function(e){return e[Uv]}))}),n,null==r?void 0:r[Uv])}},{key:"addSensor",value:function e(t){return this[ey].addSensor(t)}},{key:"removeSensor",value:function e(t){return this[ey].removeSensor(t)}}],[{key:"create",value:function t(n,r){return n?new e(n,r):null}}]),e}();function NO(e){return(NO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RO(r.key),r)}}function LO(e,t,n){return t&&TO(e.prototype,t),n&&TO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RO(e){var t=AO(e,"string");return"symbol"==NO(t)?t:String(t)}function AO(e,t){if("object"!=NO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=NO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var MO=function(){function e(t){CO(this,e),this[yy]=void 0,this[yy]=t}return LO(e,[{key:"title",get:function e(){return this[yy].title}},{key:"id",get:function e(){return this[yy].id}},{key:"icon",get:function e(){return this[yy].icon}},{key:"options",get:function e(){return this[yy].options}},{key:"name",get:function e(){return this[yy].resourceType.name}},{key:"config",get:function e(){return this[yy].config}},{key:"type",get:function e(){return this[yy].resourceType.type}},{key:"category",get:function e(){return this[yy].category}},{key:"description",get:function e(){return this[yy].description}},{key:"children",get:function t(){return this[yy].children.map((function(t){return new e(t)}))}},{key:"viewName",get:function e(){return this[yy].viewName}}]),e}();function DO(e){return(DO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FO(r.key),r)}}function VO(e,t,n){return t&&BO(e.prototype,t),n&&BO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function FO(e){var t=GO(e,"string");return"symbol"==DO(t)?t:String(t)}function GO(e,t){if("object"!=DO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var HO=Symbol("activeTracker"),UO=function(){function e(t){IO(this,e),this[HO]=void 0,this[HO]=t}return VO(e,[{key:"target",get:function e(){var t=this[HO]._target;if(!t)return null;var n=t.node,r=t.detail,o=t.instance,i;return{node:qw.create(n),detail:r,instance:o}}},{key:"onChange",value:function e(t){return t?this[HO].onChange((function(e){var n=e.node,r=e.detail,o=e.instance,i=qw.create(n),a;t({node:i,detail:r,instance:o})})):function(){}}},{key:"track",value:function e(t){this[HO].track(t[Uv])}}]),e}();function zO(e){return(zO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YO(r.key),r)}}function XO(e,t,n){return t&&$O(e.prototype,t),n&&$O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YO(e){var t=KO(e,"string");return"symbol"==zO(t)?t:String(t)}function KO(e,t){if("object"!=zO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var qO=function(){function e(t){WO(this,e),this[dy]=void 0,this[dy]=t}return XO(e,[{key:"pluginName",get:function e(){return this[dy].name}},{key:"dep",get:function e(){return this[dy].dep}},{key:"disabled",get:function e(){return this[dy].disabled},set:function e(t){this[dy].setDisabled(t)}},{key:"meta",get:function e(){return this[dy].meta}}]),e}();function JO(e){return(JO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tj(r.key),r)}}function ej(e,t,n){return t&&ZO(e.prototype,t),n&&ZO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tj(e){var t=nj(e,"string");return"symbol"==JO(t)?t:String(t)}function nj(e,t){if("object"!=JO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var rj=function(){function e(t){QO(this,e),this[wy]=void 0,this[Oy]=void 0,this[wy]=t,this[Oy]=this[wy].innerPlugins._getLowCodePluginContext({pluginName:t.editorWindow+t.viewName})}return ej(e,[{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){return t[Oy][n]?Reflect.get(t[Oy],n,r):Reflect.get(t,n,r)}})}},{key:"viewName",get:function e(){return this[wy].viewName}},{key:"viewType",get:function e(){return this[wy].viewType}}]),e}();function oj(e){return(oj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ij(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ij=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==oj(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(oj(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function aj(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function uj(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){aj(i,r,o,a,u,"next",e)}function u(e){aj(i,r,o,a,u,"throw",e)}a(void 0)}))}}function cj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fj(r.key),r)}}function lj(e,t,n){return t&&sj(e.prototype,t),n&&sj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fj(e){var t=pj(e,"string");return"symbol"==oj(t)?t:String(t)}function pj(e,t){if("object"!=oj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var hj=function(){function e(t){cj(this,e),this[hy]=void 0,this[hy]=t}return lj(e,[{key:"id",get:function e(){var t;return null===(t=this[hy])||void 0===t?void 0:t.id}},{key:"title",get:function e(){return this[hy].title}},{key:"icon",get:function e(){return this[hy].icon}},{key:"resource",get:function e(){return new MO(this[hy].resource)}},{key:"importSchema",value:function e(t){this[hy].importSchema(t)}},{key:"changeViewType",value:function e(t){this[hy].changeViewName(t,!1)}},{key:"onChangeViewType",value:function e(t){return this[hy].onChangeViewType(t)}},{key:"save",value:function(){var e=uj(ij().mark((function e(){return ij().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this[hy].save();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSave",value:function e(t){return this[hy].onSave(t)}},{key:"currentEditorView",get:function e(){return this[hy].editorView?new rj(this[hy].editorView).toProxy():null}},{key:"editorViews",get:function e(){return Array.from(this[hy].editorViews.values()).map((function(e){return new rj(e).toProxy()}))}}]),e}();function dj(e){return(dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bj(r.key),r)}}function mj(e,t,n){return t&&yj(e.prototype,t),n&&yj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bj(e){var t=gj(e,"string");return"symbol"==dj(t)?t:String(t)}function gj(e,t){if("object"!=dj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var wj=function(){function e(){vj(this,e),this[my]=void 0,this[my]=zr}return mj(e,[{key:"setData",value:function e(t){this[my].setData(t)}},{key:"waitPasteData",value:function e(t,n){this[my].waitPasteData(t,n)}}]),e}();function Oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oj(Object(n),!0).forEach((function(t){Sj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sj(e,t,n){return(t=Ej(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ej(e){var t=kj(e,"string");return"symbol"==_j(t)?t:String(t)}function kj(e,t){if("object"!=_j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _j(e){return(_j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pj(e,t,n,r,i){var a;return e?a=e:(a={},t&&!r||(a={label:n},n=void 0)),(t||n)&&("object"!==_j(a)||Object(o.isValidElement)(a)||Object(l.G)(a)?(Object(o.isValidElement)(a)&&("svg"===a.type||a.type.getIcon)&&(t||(t=a),r?(a=n,n=null):a=void 0),a={label:a,icon:t,tip:n}):a=jj(jj({},a),{},{icon:t,tip:n})),Object(l.X)(a)&&i&&(Object(o.isValidElement)(a)||(a.icon=void 0)),a}var xj=n(109);function Nj(e){return(Nj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cj(e,t,n){return(t=Aj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Aj(r.key),r)}}function Rj(e,t,n){return t&&Lj(e.prototype,t),n&&Lj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aj(e){var t=Mj(e,"string");return"symbol"==Nj(t)?t:String(t)}function Mj(e,t){if("object"!=Nj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Dj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ij(e,t)}function Ij(e,t){return(Ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Bj(e){var t=Gj();return function n(){var r=Hj(e),o;if(t){var i=Hj(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Vj(this,o)}}function Vj(e,t){if(t&&("object"===Nj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fj(e)}function Fj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gj(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Hj(e){return(Hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Uj=function(e){Dj(n,e);var t=Bj(n);function n(e){var r;return Tj(this,n),(r=t.call(this,e)).startDrag=void 0,r.canDrag=void 0,r.offset=void 0,r.currentOffset=void 0,r.offEvent=void 0,r.offDragEvent=void 0,r.startOffset=void 0,r.shell=null,r.startDrag=!1,r.canDrag=!1,r.offset=0,r.currentOffset=0,r}return Rj(n,[{key:"componentDidMount",value:function e(){this.offEvent=this.initEvent()}},{key:"componentWillUnmount",value:function e(){this.offEvent&&this.offEvent()}},{key:"onSelectStart",value:function e(t){this.startDrag&&t.preventDefault()}},{key:"onStartMove",value:function e(t){var n=this.props.onDragStart;this.startDrag||n&&n(),this.startDrag=!0,this.canDrag=!0,this.currentOffset=0,this.offDragEvent=this.initDragEvent(),this.startOffset=this.getClientPosition(t)}},{key:"onEndMove",value:function e(){var t=this.props.onDragEnd;this.startDrag&&(this.offDragEvent&&this.offDragEvent(),this.startDrag=!1,this.offset=this.currentOffset),t&&t()}},{key:"onDrag",value:function e(t){var n=this.props,r=n.position,e=n.onDrag,o=n.maxIncrement,i=void 0===o?100:o,a=n.maxDecrement,u=void 0===a?0:a;this.startDrag&&(this.currentOffset="left"===r||"top"===r?this.offset+this.startOffset-this.getClientPosition(t):this.offset+this.getClientPosition(t)-this.startOffset,this.currentOffset<-u?this.currentOffset=-u:this.currentOffset>i&&(this.currentOffset=i),e(this.currentOffset,t))}},{key:"getClientPosition",value:function e(t){var n=this.props.position;return"left"===n||"right"===n?t.clientX:t.clientY}},{key:"initEvent",value:function e(){var t=this.onSelectStart.bind(this);return document.addEventListener("selectstart",t),function(){return document.removeEventListener("selectstart",t)}}},{key:"initDragEvent",value:function e(){var t=this.onDrag.bind(this),n=this.onEndMove.bind(this);return document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}}},{key:"getParent",value:function e(){var t;return null===(t=this.shell)||void 0===t?void 0:t.parentElement}},{key:"render",value:function e(){var t=this,n=this.props,r=n.className,o=void 0===r?"":r,i=n.position;return React.createElement("div",{ref:function e(n){t.shell=n},className:Qo()("left"===i||"right"===i?"lc-draggable-line-vertical":"lc-draggable-line-horizontal",Cj({},o,!!o)),onMouseDown:function e(n){return t.onStartMove(n)}})}}]),n}(o.Component);function zj(){return(zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wj(e){var t={width:13,height:13};return React.createElement(l.f,zj({viewBox:"0 0 1024 1024"},e,t),React.createElement("path",{d:"M750.848 28.928l245.248 242.944a66.048 66.048 0 1 1-93.184 93.184l-25.6-19.456-249.6 353.792 78.336 78.336a66.048 66.048 0 0 1-93.184 92.672l-460.8-464.64a66.048 66.048 0 0 1 93.184-93.184l76.8 78.336 354.048-249.856-18.176-18.944a66.048 66.048 0 1 1 93.184-93.184zM380.672 732.416l-91.904-90.88c-74.24 89.6-191.488 219.904-212.736 247.04a419.84 419.84 0 0 0-70.656 128 419.84 419.84 0 0 0 128-70.144c27.136-21.248 157.44-138.496 246.528-214.016z"}))}function $j(){return($j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xj(e){return React.createElement(l.f,$j({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M160.256 816.64C116.224 872.448 102.4 921.6 102.4 921.6s49.152-13.824 104.96-57.856c22.016-17.408 128-112.64 200.704-174.08l-73.728-73.728c-61.44 72.704-157.184 178.688-174.08 200.704zM648.704 209.408L442.368 355.328l226.304 226.304 145.92-206.336 15.872 15.872c20.992 20.992 54.784 20.992 75.776 0s20.992-54.784 0-75.776l-197.12-197.12c-20.992-20.992-54.784-20.992-75.776 0-20.992 20.992-20.992 54.784 0 75.776l15.36 15.36zM247.808 334.848c-9.728 2.048-18.944 6.656-26.624 14.336-20.992 20.992-20.992 54.784 0 75.776l377.856 377.856c20.992 20.992 54.784 20.992 75.776 0 7.68-7.68 12.288-16.896 14.336-26.624L247.808 334.848z"}),React.createElement("path",{d:"M840.704 879.104c-9.728 0-19.456-3.584-27.136-11.264L155.648 210.432c-14.848-14.848-14.848-39.424 0-54.272 14.848-14.848 39.424-14.848 54.272 0L867.84 814.08c14.848 14.848 14.848 39.424 0 54.272-7.168 7.168-16.896 10.752-27.136 10.752z"}))}function Yj(e){return(Yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qj(r.key),r)}}function Jj(e,t,n){return t&&qj(e.prototype,t),n&&qj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qj(e){var t=Zj(e,"string");return"symbol"==Yj(t)?t:String(t)}function Zj(e,t){if("object"!=Yj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function eS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}function tS(e,t){return(tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function nS(e){var t=iS();return function n(){var r=aS(e),o;if(t){var i=aS(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return rS(this,o)}}function rS(e,t){if(t&&("object"===Yj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oS(e)}function oS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function aS(e){return(aS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Uj.displayName="DraggableLine",Uj.defaultProps={onDrag:function e(){},position:"right",className:"",maxIncrement:100,maxDecrement:0},Wj.displayName="Fix",Xj.displayName="Float";var uS=function(e){eS(n,e);var t=nS(n);function n(e){var r;return Kj(this,n),r=t.call(this,e),Object(u.makeObservable)(oS(r)),r}return Jj(n,[{key:"setDisplay",value:function e(){var t=this.props.panel,n;t&&t.skeleton.toggleFloatStatus(t)}},{key:"render",value:function e(){var t,n,r,i,a=this.props.panel,u;if("rightArea"===(null===(t=this.props.panel.config)||void 0===t?void 0:t.area))return null;var c=!0;!1===(null==a||null===(n=a.config.props)||void 0===n?void 0:n.canSetFixed)&&(c=!1);var s=null==a||null===(r=a.config.props)||void 0===r?void 0:r.hideTitleBar,l=null==a||null===(i=a.parent)||void 0===i?void 0:i.name,f=a.skeleton[l];return React.createElement(o.Fragment,null,!s&&React.createElement(o.Fragment,null,c&&React.createElement(Ci.Button,{text:!0,className:"lc-pane-icon-fix",onClick:this.setDisplay.bind(this)},"leftFloatArea"===l?React.createElement(Wj,null):React.createElement(Xj,null)),React.createElement(Ci.Button,{text:!0,className:"lc-pane-icon-close",onClick:function e(){f&&f.setVisible(!1)}},React.createElement(Ci.Icon,{type:"close"}))))}}]),n}(o.Component);Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],uS.prototype,"setDisplay",null);var cS=n(110),sS=["dock","className","onClick"];function lS(e){return(lS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fS(Object(n),!0).forEach((function(t){kS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hS(e,t){if(null==e)return{};var n=dS(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dS(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function vS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_S(r.key),r)}}function mS(e,t,n){return t&&yS(e.prototype,t),n&&yS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gS(e,t)}function gS(e,t){return(gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function wS(e){var t=SS();return function n(){var r=ES(e),o;if(t){var i=ES(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return OS(this,o)}}function OS(e,t){if(t&&("object"===lS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jS(e)}function jS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ES(e){return(ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function kS(e,t,n){return(t=_S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _S(e){var t=PS(e,"string");return"symbol"==lS(t)?t:String(t)}function PS(e,t){if("object"!=lS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function xS(e){var t=e.title,n=e.icon,r=e.description,o=e.size,i=e.className,a=e.onClick;return React.createElement(u.Title,{title:Pj(t,n,r),className:Qo()("lc-dock",i,kS({},"lc-dock-".concat(o),o)),onClick:a})}function NS(e){var t=e.tip;return t&&t.url?React.createElement("div",null,React.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},React.createElement(Ci.Icon,{type:"help",size:"small",className:"lc-help-tip"})),React.createElement(u.Tip,null,t.content)):React.createElement("div",null,React.createElement(Ci.Icon,{type:"help",size:"small",className:"lc-help-tip"}),React.createElement(u.Tip,null,t.content))}var CS=function(e){bS(n,e);var t=wS(n);function n(){var e;vS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastActived=!1,e}return mS(n,[{key:"componentDidMount",value:function e(){this.checkActived()}},{key:"componentDidUpdate",value:function e(){this.checkActived()}},{key:"checkActived",value:function e(){var t=this.props.dock;t.actived!==this.lastActived&&(this.lastActived=t.actived,this.lastActived?t.skeleton.postEvent(ok.PANEL_DOCK_ACTIVE,t.name,t):t.skeleton.postEvent(ok.PANEL_DOCK_UNACTIVE,t.name,t))}},{key:"render",value:function e(){var t=this.props,n=t.dock,r=t.className,o=t.onClick,i;return xS(pS(pS({},hS(t,sS)),{},{className:Qo()(r,{actived:n.actived}),onClick:function e(){o&&o(),n.togglePanel()}}))}}]),n}(o.Component);CS=Object(s.b)([u.observer],CS);var TS=function(e){bS(n,e);var t=wS(n);function n(){return vS(this,n),t.apply(this,arguments)}return mS(n)}(o.Component),LS=function(e){bS(n,e);var t=wS(n);function n(){var e;vS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shell=void 0,e.defaultWidth=void 0,e}return mS(n,[{key:"getDefaultWidth",value:function e(){var t,n,r,o=null===(t=this.props.panel)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width;if(o)return o;if(this.defaultWidth)return this.defaultWidth;var i=null===(r=this.shell)||void 0===r?void 0:r.getParent();return i?(this.defaultWidth=i.offsetWidth,this.defaultWidth):300}},{key:"onDrag",value:function e(t){var n,r,o=this.getDefaultWidth()+t,i=null===(n=this.shell)||void 0===n?void 0:n.getParent();i&&(i.style.width="".concat(o,"px"));var a=this.props.panel.skeleton.editor;null==a||a.eventBus.emit("dockpane.drag",o)}},{key:"onDragChange",value:function e(t){var n=this.props.panel.skeleton.editor;null==n||n.eventBus.emit("dockpane.dragchange",t),null==n||n.eventBus.emit("designer.builtinSimulator.disabledEvents","start"===t)}},{key:"render",value:function e(){var t,n,r,o,i=this,a=null===(t=this.props.panel.config.props)||void 0===t?void 0:t.enableDrag,u;return"rightArea"===(null===(n=this.props.panel.config)||void 0===n?void 0:n.area)||!a||"leftFixedArea"===(null===(r=this.props.panel)||void 0===r||null===(o=r.parent)||void 0===o?void 0:o.name)?null:React.createElement(Uj,{ref:function e(t){i.shell=t},position:"right",className:"lc-engine-slate-draggable-line-right",onDrag:function e(t){return i.onDrag(t)},onDragStart:function e(){return i.onDragChange("start")},onDragEnd:function e(){return i.onDragChange("end")},maxIncrement:500,maxDecrement:0})}}]),n}(o.Component),RS=function(e){bS(n,e);var t=wS(n);function n(){var e;vS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e}return mS(n,[{key:"componentDidMount",value:function e(){this.checkVisible()}},{key:"componentDidUpdate",value:function e(){this.checkVisible()}},{key:"checkVisible",value:function e(){var t=this.props.panel,n=t.inited&&t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible?t.skeleton.postEvent(ok.PANEL_SHOW,t.name,t):t.skeleton.postEvent(ok.PANEL_HIDE,t.name,t))}},{key:"render",value:function e(){var t,n=this.props,r=n.panel,o=n.area;if(!r.inited)return null;var i=r.skeleton.editor,a=o?"".concat(o,"-").concat(r.name):r.name;return null==i||i.eventBus.emit("skeleton.panel.toggle",{name:a||"",status:r.visible?"show":"hide"}),React.createElement("div",{className:Qo()("lc-titled-panel",{hidden:!r.visible}),id:a,"data-keep-visible-while-dragging":null===(t=r.config.props)||void 0===t?void 0:t.keepVisibleWhileDragging},React.createElement(uS,{panel:r}),React.createElement(DS,{panel:r}),React.createElement("div",{className:"lc-panel-body"},r.body),React.createElement(LS,{panel:r}))}}]),n}(o.Component);RS=Object(s.b)([u.observer],RS);var AS=function(e){bS(n,e);var t=wS(n);function n(){var e;vS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e}return mS(n,[{key:"componentDidMount",value:function e(){this.checkVisible()}},{key:"componentDidUpdate",value:function e(){this.checkVisible()}},{key:"checkVisible",value:function e(){var t=this.props.panel,n=t.inited&&t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible?t.skeleton.postEvent(ok.PANEL_SHOW,t.name,t):t.skeleton.postEvent(ok.PANEL_HIDE,t.name,t))}},{key:"render",value:function e(){var t,n=this.props,r=n.panel,o=n.area,i=n.hideOperationRow,a=n.hideDragLine;if(!r.inited)return null;var u=r.skeleton.editor,c=o?"".concat(o,"-").concat(r.name):r.name;return null==u||u.eventBus.emit("skeleton.panel.toggle",{name:c||"",status:r.visible?"show":"hide"}),React.createElement("div",{className:Qo()("lc-panel",{hidden:!r.visible}),id:c,"data-keep-visible-while-dragging":null===(t=r.config.props)||void 0===t?void 0:t.keepVisibleWhileDragging},!i&&React.createElement(uS,{panel:r}),r.body,!a&&React.createElement(LS,{panel:r}))}}]),n}(o.Component);AS=Object(s.b)([u.observer],AS);var MS=function(e){bS(n,e);var t=wS(n);function n(){return vS(this,n),t.apply(this,arguments)}return mS(n,[{key:"render",value:function e(){var t=this.props.container,n=[],r=[];return this.props.shouldHideSingleTab&&1===t.items.length?r.push(React.createElement(AS,{key:t.items[0].id,panel:t.items[0],hideOperationRow:!0,hideDragLine:!0})):t.items.forEach((function(e){n.push(React.createElement(DS,{key:e.id,panel:e,className:"lc-tab-title"})),r.push(React.createElement(AS,{key:e.id,panel:e,hideOperationRow:!0,hideDragLine:!0}))})),n.length?React.createElement("div",{className:"lc-tabs"},React.createElement("div",{className:"lc-tabs-title",onClick:function e(n){for(var r=n.currentTarget,o=n.target,i=r.firstElementChild;i&&!i.contains(o);)i=i.nextElementSibling;i&&t.active(i.dataset.name)}},n),React.createElement("div",{className:"lc-tabs-content"},r)):r}}]),n}(o.Component);MS=Object(s.b)([u.observer],MS);var DS=function(e){bS(n,e);var t=wS(n);function n(){return vS(this,n),t.apply(this,arguments)}return mS(n,[{key:"render",value:function e(){var t=this.props,n=t.panel,r=t.className;return React.createElement("div",{className:Qo()("lc-panel-title",r,{actived:n.actived}),"data-name":n.name},React.createElement(u.Title,{title:n.title||n.name}),n.help?React.createElement(NS,{tip:n.help}):null)}}]),n}(o.Component);DS=Object(s.b)([u.observer],DS);var IS=function(e){bS(n,e);var t=wS(n);function n(){var e;vS(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e.lastDisabled=!1,e}return mS(n,[{key:"componentDidMount",value:function e(){this.checkVisible(),this.checkDisabled()}},{key:"componentDidUpdate",value:function e(){this.checkVisible(),this.checkDisabled()}},{key:"checkVisible",value:function e(){var t=this.props.widget,n=t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible,t.skeleton.postEvent(ok.WIDGET_SHOW,t.name,t))}},{key:"checkDisabled",value:function e(){var t=this.props.widget,n=t.disabled;n!==this.lastDisabled&&(this.lastDisabled=n,this.lastDisabled?t.skeleton.postEvent(ok.WIDGET_DISABLE,t.name,t):t.skeleton.postEvent(ok.WIDGET_ENABLE,t.name,t))}},{key:"render",value:function e(){var t=this.props.widget;return t.visible?t.disabled?React.createElement("div",{className:"lc-widget-disabled"},t.body):t.body:null}}]),n}(o.Component);function BS(e){return(BS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VS(Object(n),!0).forEach((function(t){GS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GS(e,t,n){return(t=WS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function US(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WS(r.key),r)}}function zS(e,t,n){return t&&US(e.prototype,t),n&&US(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WS(e){var t=$S(e,"string");return"symbol"==BS(t)?t:String(t)}function $S(e,t){if("object"!=BS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}IS=Object(s.b)([u.observer],IS);var XS=function(){function e(t,n){HS(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.isPanelDock=!0,this.id=void 0,this.name=void 0,this.align=void 0,this.inited=!1,this._body=void 0,this._shell=null,this._visible=!0,this.panelName=void 0,this._panel=void 0,this._disabled=!1,this.skeleton=t,this.config=n,Object(u.makeObservable)(this);var r=n.content,o=n.contentProps,i=n.panelProps,a=n.name,c=n.props;if(this.name=a,this.id=Object(l.db)("dock:".concat(a,"$")),this.panelName=n.panelName||a,this.align=null==c?void 0:c.align,r){var s=FS({},i);null==s.title&&c&&(s.title=Pj(c.title,void 0,c.description,!0,!0)),this._panel=this.skeleton.add({type:"Panel",name:this.panelName,props:s,contentProps:o,content:r,area:null==i?void 0:i.area})}null!=c&&c.onInit&&c.onInit.call(this,this)}return zS(e,[{key:"body",get:function e(){if(this.inited)return this._body;this.inited=!0;var t=this.config.props;return this._body=Object(o.createElement)(CS,FS(FS({},t),{},{dock:this})),this._body}},{key:"content",get:function e(){var t=this;return Object(o.createElement)(IS,{widget:this,ref:function e(n){t._shell=n},key:this.id})}},{key:"visible",get:function e(){return this._visible}},{key:"actived",get:function e(){var t;return(null===(t=this.panel)||void 0===t?void 0:t.visible)||!1}},{key:"panel",get:function e(){return this._panel||this.skeleton.getPanel(this.panelName)}},{key:"getDOMNode",value:function e(){return this._shell?Object(a.findDOMNode)(this._shell):null}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}},{key:"togglePanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.toggle()}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"hidePanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.setActive(!1)}},{key:"showPanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.setActive(!0)}},{key:"onActiveChange",value:function e(t){var n;return null===(n=this.panel)||void 0===n?void 0:n.onActiveChange(t)}}]),e}(),YS;function KS(e){return e&&e.isPanelDock}function qS(e){return(qS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JS(Object(n),!0).forEach((function(t){ZS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZS(e,t,n){return(t=rE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rE(r.key),r)}}function nE(e,t,n){return t&&tE(e.prototype,t),n&&tE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rE(e){var t=oE(e,"string");return"symbol"==qS(t)?t:String(t)}function oE(e,t){if("object"!=qS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],XS.prototype,"_visible",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Boolean),Object(s.d)("design:paramtypes",[])],XS.prototype,"actived",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],XS.prototype,"_disabled",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],XS.prototype,"panel",null);var iE=function(){function e(t,n){var r=this;eE(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.name=void 0,this.id=void 0,this.inited=!1,this._actived=!1,this.emitter=Object(u.createModuleEventBus)("Panel"),this.isPanel=!0,this.title=void 0,this.help=void 0,this.plain=!1,this.container=void 0,this.parent=void 0,this.skeleton=t,this.config=n,Object(u.makeObservable)(this);var o=n.name,i=n.content,a=n.props,c=void 0===a?{}:a,s=c.hideTitleBar,f=c.title,p=c.icon,h=c.description,d=c.help;this.name=o,this.id=Object(l.db)("pane:".concat(o,"$")),this.title=Pj(f||o,p,h),this.plain=s||!f,this.help=d,Array.isArray(i)&&(this.container=this.skeleton.createContainer(o,(function(e){return aE(e)?e:r.skeleton.createPanel(e)}),!0,(function(){return r.visible}),!0),i.forEach((function(e){return r.add(e)}))),c.onInit&&c.onInit.call(this,this),"string"!=typeof i&&i&&i.onInit&&i.onInit.call(this,this)}return nE(e,[{key:"actived",get:function e(){return this._actived}},{key:"visible",get:function e(){if(!this.parent||this.parent.visible){var t=this.config.props;return null!=t&&t.condition?t.condition(this):this._actived}return!1}},{key:"body",get:function e(){if(this.container)return Object(o.createElement)(MS,{container:this.container,shouldHideSingleTab:!0});var t=this.config,n=t.content,r=t.contentProps;return Object(l.m)(n,QS(QS({},r),{},{editor:Lm(this.skeleton.editor),config:this.config,panel:this,pane:this}))}},{key:"content",get:function e(){var t,n,r=(null===(t=this.config)||void 0===t?void 0:t.area)||(null===(n=this.parent)||void 0===n?void 0:n.name);return this.plain?Object(o.createElement)(AS,{panel:this,key:this.id,area:r}):Object(o.createElement)(RS,{panel:this,key:this.id,area:r})}},{key:"setParent",value:function e(t){t!==this.parent&&(this.parent&&this.parent.remove(this),this.parent=t)}},{key:"add",value:function e(t){var n;return null===(n=this.container)||void 0===n?void 0:n.add(t)}},{key:"getPane",value:function e(t){var n;return(null===(n=this.container)||void 0===n?void 0:n.get(t))||null}},{key:"remove",value:function e(t){var n;return null===(n=this.container)||void 0===n?void 0:n.remove(t)}},{key:"active",value:function e(t){var n;t?null===(n=this.container)||void 0===n||n.active(t):this.setActive(!0)}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"isChildOfFloatArea",value:function e(){var t;return"leftFloatArea"===(null===(t=this.parent)||void 0===t?void 0:t.name)}},{key:"isChildOfFixedArea",value:function e(){var t;return"leftFixedArea"===(null===(t=this.parent)||void 0===t?void 0:t.name)}},{key:"setActive",value:function e(t){var n;if(t!==this._actived)if(t)this.isChildOfFloatArea()?this.skeleton.leftFixedArea.container.unactiveAll():this.isChildOfFixedArea()&&this.skeleton.leftFloatArea.container.unactiveAll(),this._actived=!0,null===(n=this.parent)||void 0===n||n.active(this),this.inited||(this.inited=!0),this.emitter.emit("activechange",!0);else if(this.inited){var r,o;null!==(r=this.parent)&&void 0!==r&&r.name&&this.name.startsWith(this.parent.name)&&(this.inited=!1),this._actived=!1,null===(o=this.parent)||void 0===o||o.unactive(this),this.emitter.emit("activechange",!1)}}},{key:"toggle",value:function e(){this.setActive(!this._actived)}},{key:"hide",value:function e(){this.setActive(!1)}},{key:"disable",value:function e(){}},{key:"enable",value:function e(){}},{key:"show",value:function e(){this.setActive(!0)}},{key:"getAssocDocks",value:function e(){var t=this;return this.skeleton.widgets.filter((function(e){return KS(e)&&e.panelName===t.name}))}},{key:"getSupportedPositions",value:function e(){return["default"]}},{key:"getCurrentPosition",value:function e(){return"default"}},{key:"setPosition",value:function e(){}},{key:"onActiveChange",value:function e(t){var n=this;return this.emitter.on("activechange",t),function(){n.emitter.removeListener("activechange",t)}}}]),e}();function aE(e){return e&&e.isPanel}function uE(e){return(uE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cE(Object(n),!0).forEach((function(t){lE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lE(e,t,n){return(t=dE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dE(r.key),r)}}function hE(e,t,n){return t&&pE(e.prototype,t),n&&pE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dE(e){var t=vE(e,"string");return"symbol"==uE(t)?t:String(t)}function vE(e,t){if("object"!=uE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],iE.prototype,"inited",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],iE.prototype,"_actived",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Boolean),Object(s.d)("design:paramtypes",[])],iE.prototype,"actived",null),Object(s.b)([u.computed,Object(s.d)("design:type",Boolean),Object(s.d)("design:paramtypes",[])],iE.prototype,"visible",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(YS=void 0!==Iv&&Iv)?YS:Object)],iE.prototype,"parent",void 0);var yE=function(){function e(t,n){fE(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.id=Object(l.db)("widget"),this.name=void 0,this.align=void 0,this._visible=!0,this.inited=!1,this._disabled=!1,this._body=void 0,this.title=void 0,this.skeleton=t,this.config=n,Object(u.makeObservable)(this);var r=n.props,o=void 0===r?{}:r,i=n.name;this.name=i,this.align=o.align,this.title=o.title||i,o.onInit&&o.onInit.call(this,this)}return hE(e,[{key:"visible",get:function e(){return this._visible}},{key:"body",get:function e(){if(this.inited)return this._body;this.inited=!0;var t=this.config,n=t.content,r=t.contentProps;return this._body=Object(l.m)(n,sE(sE({},r),{},{config:this.config,editor:Lm(this.skeleton.editor)})),this._body}},{key:"content",get:function e(){return Object(o.createElement)(IS,{widget:this,key:this.id})}},{key:"getId",value:function e(){return this.id}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}}]),e}();function mE(e){return e&&e.isWidget}function bE(e){return(bE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gE(Object(n),!0).forEach((function(t){OE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OE(e,t,n){return(t=kE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kE(r.key),r)}}function EE(e,t,n){return t&&SE(e.prototype,t),n&&SE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kE(e){var t=_E(e,"string");return"symbol"==bE(t)?t:String(t)}function _E(e,t){if("object"!=bE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],yE.prototype,"_visible",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],yE.prototype,"inited",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],yE.prototype,"_disabled",void 0);var PE=function(){function e(t,n){jE(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.id=Object(l.db)("dock"),this.name=void 0,this.align=void 0,this._visible=!0,this._disabled=!1,this.inited=!1,this._body=void 0,this.skeleton=t,this.config=n,Object(u.makeObservable)(this);var r=n.props,o=void 0===r?{}:r,i=n.name;this.name=i,this.align=o.align,o.onInit&&o.onInit.call(this,this)}return EE(e,[{key:"visible",get:function e(){return this._visible}},{key:"content",get:function e(){return Object(o.createElement)(IS,{widget:this,key:this.id})}},{key:"body",get:function e(){if(this.inited)return this._body;var t=this.config,n=t.props,r=t.content,i=t.contentProps;return this._body=r?Object(l.m)(r,wE(wE({},i),{},{config:this.config,editor:Lm(this.skeleton.editor)})):Object(o.createElement)(xS,n),this.inited=!0,this._body}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}},{key:"getContent",value:function e(){return this.content}},{key:"getName",value:function e(){return this.name}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}}]),e}();function xE(e){return(xE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LE(r.key),r)}}function TE(e,t,n){return t&&CE(e.prototype,t),n&&CE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LE(e){var t=RE(e,"string");return"symbol"==xE(t)?t:String(t)}function RE(e,t){if("object"!=xE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function AE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ME(e,t)}function ME(e,t){return(ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function DE(e){var t=VE();return function n(){var r=FE(e),o;if(t){var i=FE(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return IE(this,o)}}function IE(e,t){if(t&&("object"===xE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return BE(e)}function BE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VE(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function FE(e){return(FE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],PE.prototype,"_visible",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],PE.prototype,"_disabled",void 0);var GE=function(e){AE(n,e);var t=DE(n);function n(e,r){var o;return NE(this,n),(o=t.call(this,e,r)).isRoot=void 0,o.previous=void 0,o.refer=void 0,o.isRoot=r.isRoot||!1,o}return TE(n,[{key:"setPrevious",value:function e(t){this.previous=t}},{key:"getPrevious",value:function e(){return this.previous}},{key:"hasBack",value:function e(){return!(!this.previous||this.isRoot)}},{key:"setRefer",value:function e(t,n){this.refer={stage:t,direction:n}}},{key:"setReferRight",value:function e(t){this.setRefer(t,"right")}},{key:"setReferLeft",value:function e(t){this.setRefer(t,"left")}},{key:"getRefer",value:function e(){var t=this.refer;return this.refer=void 0,t}}]),n}(yE),HE=["dialogProps","balloonProps","panelProps","linkProps"],UE=["content"],zE,WE;function $E(e){return($E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XE(Object(n),!0).forEach((function(t){KE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KE(e,t,n){return(t=tk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qE(e,t){if(null==e)return{};var n=JE(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JE(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function QE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tk(r.key),r)}}function ek(e,t,n){return t&&ZE(e.prototype,t),n&&ZE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tk(e){var t=nk(e,"string");return"symbol"==$E(t)?t:String(t)}function nk(e,t){if("object"!=$E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var rk=new l.e({level:"warn",bizName:"skeleton"}),ok;!function(e){e.PANEL_DOCK_ACTIVE="skeleton.panel-dock.active",e.PANEL_DOCK_UNACTIVE="skeleton.panel-dock.unactive",e.PANEL_SHOW="skeleton.panel.show",e.PANEL_HIDE="skeleton.panel.hide",e.WIDGET_SHOW="skeleton.widget.show",e.WIDGET_HIDE="skeleton.widget.hide",e.WIDGET_DISABLE="skeleton.widget.disable",e.WIDGET_ENABLE="skeleton.widget.enable"}(ok||(ok={}));var ik=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";QE(this,e),this.editor=void 0,this.viewName=void 0,this.panels=new Map,this.configTransducers=[],this.containers=new Map,this.leftArea=void 0,this.topArea=void 0,this.subTopArea=void 0,this.toolbar=void 0,this.leftFixedArea=void 0,this.leftFloatArea=void 0,this.rightArea=void 0,this.mainArea=void 0,this.bottomArea=void 0,this.stages=void 0,this.widgets=[],this.focusTracker=new u.FocusTracker,this.editor=t,this.viewName=r,Object(u.makeObservable)(this),this.leftArea=new Hp(this,"leftArea",(function(e){return mE(e)?e:n.createWidget(e)}),!1),this.topArea=new Hp(this,"topArea",(function(e){return mE(e)?e:n.createWidget(e)}),!1),this.subTopArea=new Hp(this,"subTopArea",(function(e){return mE(e)?e:n.createWidget(e)}),!1),this.toolbar=new Hp(this,"toolbar",(function(e){return mE(e)?e:n.createWidget(e)}),!1),this.leftFixedArea=new Hp(this,"leftFixedArea",(function(e){return aE(e)?e:n.createPanel(e)}),!0),this.leftFloatArea=new Hp(this,"leftFloatArea",(function(e){return aE(e)?e:n.createPanel(e)}),!0),this.rightArea=new Hp(this,"rightArea",(function(e){return aE(e)?e:n.createPanel(e)}),!1,!0),this.mainArea=new Hp(this,"mainArea",(function(e){return mE(e)?e:n.createWidget(e)}),!0,!0),this.bottomArea=new Hp(this,"bottomArea",(function(e){return aE(e)?e:n.createPanel(e)}),!0),this.stages=new Hp(this,"stages",(function(e){return mE(e)?e:new GE(n,e)})),this.setupPlugins(),this.setupEvents(),this.focusTracker.mount(window)}return ek(e,[{key:"setupEvents",value:function e(){var t=this;this.editor.eventBus.on(ok.PANEL_SHOW,(function(e,n){var r,o="".concat(e,"-pinned-status-isFloat"),i,a,c,s;(null===(r=u.engineConfig.getPreference())||void 0===r?void 0:r.contains(o,"skeleton"))&&((null===(a=u.engineConfig.getPreference())||void 0===a?void 0:a.get(o,"skeleton"))!==(null==n?void 0:n.isChildOfFloatArea())&&t.toggleFloatStatus(n))}))}},{key:"toggleFloatStatus",value:function e(t){var n,r="leftFloatArea"===(null==t||null===(n=t.parent)||void 0===n?void 0:n.name);r?(this.leftFloatArea.remove(t),this.leftFixedArea.add(t),this.leftFixedArea.container.active(t)):(this.leftFixedArea.remove(t),this.leftFloatArea.add(t),this.leftFloatArea.container.active(t)),u.engineConfig.getPreference().set("".concat(t.name,"-pinned-status-isFloat"),!r,"skeleton")}},{key:"buildFromConfig",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&this.editor.init(t,n),this.setupPlugins()}},{key:"setupPlugins",value:function e(){var t=this,n=this.editor,r=n.config,o=n.components,i=void 0===o?{}:o;if(r){var a=r.plugins;a&&Object.keys(a).forEach((function(e){a[e].forEach((function(n){var r=n.pluginKey,o=n.type,a=n.props,u=void 0===a?{}:a,c=n.pluginProps,s={area:e,type:"Widget",name:r,contentProps:c},l=u.dialogProps,f=u.balloonProps,p=u.panelProps,h=u.linkProps,d=qE(u,HE);s.props=d,l&&(s.dialogProps=l),f&&(s.balloonProps=f),p&&(s.panelProps=p),h&&(s.linkProps=h),"TabPanel"===o?s.type="Panel":/Icon$/.test(o)&&(s.type=o.replace("Icon","Dock")),r in i&&(s.content=i[r]),t.add(s)}))}))}}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.editor.eventBus).emit.apply(n,[t].concat(o))}},{key:"createWidget",value:function e(t){return mE(t)?t:(n=_v(t=this.parseConfig(t))?Nv(t)?new XS(this,t):new PE(this,t):kv(t)?new yE(this,YE(YE({},t),{},{type:"Widget",content:Ci.Divider})):xv(t)?this.createPanel(t):new yE(this,t),this.widgets.push(n),n);var n}},{key:"getWidget",value:function e(t){return this.widgets.find((function(e){return e.name===t}))}},{key:"createPanel",value:function e(t){var n=this.parseConfig(t),r=new iE(this,n);return this.panels.set(r.name,r),rk.debug("Panel created with name: ".concat(r.name," \nconfig:"),t,"\n current panels: ",this.panels),r}},{key:"getPanel",value:function e(t){return this.panels.get(t)}},{key:"getStage",value:function e(t){return this.stages.container.get(t)}},{key:"createStage",value:function e(t){var n,r=this.add(YE({name:Object(l.db)("stage"),area:"stages"},t));return null==r||null===(n=r.getName)||void 0===n?void 0:n.call(r)}},{key:"createContainer",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new Iv(t,n,r,o,i);return this.containers.set(t,a),a}},{key:"parseConfig",value:function e(t){if(t.parsed)return t;var n=t.content,r=qE(t,UE);return n&&(Object(l.P)(n)&&!Object(o.isValidElement)(n)?Object.keys(n).forEach((function(e){/props$/i.test(e)&&r[e]?r[e]=YE(YE({},r[e]),n[e]):r[e]=n[e]})):r.content=n),r.pluginKey=r.name,r.parsed=!0,r}},{key:"registerConfigTransducer",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2?arguments[2]:void 0;t.level=n,t.id=r;var o=this.configTransducers.findIndex((function(e){return null!=e.level&&e.level>n}));o<0?this.configTransducers.push(t):this.configTransducers.splice(o,0,t)}},{key:"getRegisteredConfigTransducers",value:function e(){return this.configTransducers}},{key:"add",value:function e(t,n){var r,o=this.getRegisteredConfigTransducers().reduce((function(e,t){return t(e)}),YE(YE({},this.parseConfig(t)),n)),i=o.area;switch(i||(i="Panel"===o.type?"leftFloatArea":"Widget"===o.type?"mainArea":"leftArea"),i){case"leftArea":case"left":return this.leftArea.add(o);case"rightArea":case"right":return this.rightArea.add(o);case"topArea":case"top":return this.topArea.add(o);case"subTopArea":return this.subTopArea.add(o);case"toolbar":return this.toolbar.add(o);case"mainArea":case"main":case"center":case"centerArea":return this.mainArea.add(o);case"bottomArea":case"bottom":return this.bottomArea.add(o);case"leftFixedArea":return this.leftFixedArea.add(o);case"leftFloatArea":return this.leftFloatArea.add(o);case"stages":return this.stages.add(o)}}}]),e}();Object(s.b)([u.obx,Object(s.d)("design:type","function"==typeof(zE=void 0!==Hp&&Hp)?zE:Object)],ik.prototype,"mainArea",void 0),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",["function"==typeof(WE=void 0!==iE&&iE)?WE:Object]),Object(s.d)("design:returntype",void 0)],ik.prototype,"toggleFloatStatus",null);var ak=n(111),uk;function ck(e){return(ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sk(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sk=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==ck(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ck(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function lk(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function fk(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lk(i,r,o,a,u,"next",e)}function u(e){lk(i,r,o,a,u,"throw",e)}a(void 0)}))}}function pk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vk(r.key),r)}}function dk(e,t,n){return t&&hk(e.prototype,t),n&&hk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vk(e){var t=yk(e,"string");return"symbol"==ck(t)?t:String(t)}function yk(e,t){if("object"!=ck(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ck(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function mk(e){return e.map((function(e){return e.id})).sort().join(",")}var bk=function(){function e(t){pk(this,e),this.editor=void 0,this.emitter=Object(u.createModuleEventBus)("SettingsMain"),this._sessionId="",this._settings=void 0,this.disposeListener=void 0,this.designer=void 0,this.editor=t,Object(u.makeObservable)(this),this.init()}return dk(e,[{key:"length",get:function e(){var t;return null===(t=this._settings)||void 0===t?void 0:t.nodes.length}},{key:"componentMeta",get:function e(){var t;return null===(t=this._settings)||void 0===t?void 0:t.componentMeta}},{key:"settings",get:function e(){return this._settings}},{key:"init",value:function(){var e=fk(sk().mark((function e(){var t=this,n,r;return sk().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return n=function e(n){n?t.setup(n.getNodes()):t.setup([])},this.editor.eventBus.on("designer.selection.change",n),this.disposeListener=function(){t.editor.removeListener("designer.selection.change",n)},o.next=5,this.editor.onceGot("designer");case 5:r=o.sent,this.designer=r,n(r.currentSelection);case 8:case"end":return o.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setup",value:function e(t){var n=mk(t);n!==this._sessionId&&(this._sessionId=n,t.length<1?this._settings=void 0:(this.designer||(this.designer=t[0].document.designer),1===t.length?this._settings=t[0].settingEntry:this._settings=this.designer.createSettingEntry(t)))}},{key:"purge",value:function e(){this.disposeListener(),this.emitter.removeAllListeners()}}]),e}();Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(uk=void 0!==yl&&yl)?uk:Object)],bk.prototype,"_settings",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],bk.prototype,"length",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],bk.prototype,"componentMeta",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],bk.prototype,"settings",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Array]),Object(s.d)("design:returntype",void 0)],bk.prototype,"setup",null);var gk=n(47),wk=n(112);function Ok(e){return(Ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jk(e){return _k(e)||kk(e)||Ek(e)||Sk()}function Sk(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ek(e,t){if(e){if("string"==typeof e)return Pk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pk(e,t):void 0}}function kk(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _k(e){if(Array.isArray(e))return Pk(e)}function Pk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nk(e,t)}function Nk(e,t){return(Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Ck(e){var t=Rk();return function n(){var r=Ak(e),o;if(t){var i=Ak(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Tk(this,o)}}function Tk(e,t){if(t&&("object"===Ok(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lk(e)}function Lk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rk(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ak(e){return(Ak=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mk(Object(n),!0).forEach((function(t){Ik(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ik(e,t,n){return(t=Gk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gk(r.key),r)}}function Fk(e,t,n){return t&&Vk(e.prototype,t),n&&Vk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gk(e){var t=Hk(e,"string");return"symbol"==Ok(t)?t:String(t)}function Hk(e,t){if("object"!=Ok(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ok(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Uk=Object(o.createContext)({}),zk=function(){function e(){Bk(this,e),this.emitter=Object(u.createModuleEventBus)("PopupPipe"),this.currentId=void 0}return Fk(e,[{key:"create",value:function e(t){var n=this,r=null,o=null,i=Object(l.db)("popup");return{send:function e(a,u){r=a,o=u,n.currentId===i&&n.popup(Dk(Dk({},t),{},{content:a,title:u}))},show:function e(a,u){n.currentId=i,n.popup(Dk(Dk({},t),{},{actionKey:u,content:r,title:o}),a)}}}},{key:"popup",value:function e(t,n){var r=this;Promise.resolve().then((function(){r.emitter.emit("popupchange",t,n)}))}},{key:"onPopupChange",value:function e(t){var n=this;return this.emitter.on("popupchange",t),function(){n.emitter.removeListener("popupchange",t)}}},{key:"purge",value:function e(){this.emitter.removeAllListeners()}}]),e}(),Wk=function(e){xk(n,e);var t=Ck(n);function n(){var e;Bk(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).popupPipe=e.props.popupPipe||new zk,e}return Fk(n,[{key:"componentWillUnmount",value:function e(){this.popupPipe.purge()}},{key:"render",value:function e(){var t=this.props,n=t.children,r=t.actionKey,o=t.safeId,i=t.popupContainer;return React.createElement(Uk.Provider,{value:this.popupPipe},n,React.createElement($k,{key:"pop".concat(r),safeId:o,popupContainer:i}))}}]),n}(o.Component),$k=function(e){xk(n,e);var t=Ck(n);function n(){var e;Bk(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).popupContainerId=Object(l.db)("popupContainer"),e.state={visible:!1,offsetX:-300},e.dispose=e.context.onPopupChange((function(t,n){var r=Dk(Dk({},t),{},{visible:!0});if(n){var o=n.getBoundingClientRect();r.pos={top:o.top,height:o.height}}e.setState(r)})),e.onClose=function(){e.setState({visible:!1})},e}return Fk(n,[{key:"componentDidMount",value:function e(){var t;(document.documentElement.clientWidth||document.body.clientWidth)>=1860&&this.setState({offsetX:-400})}},{key:"componentWillUnmount",value:function e(){this.dispose()}},{key:"render",value:function e(){var t=this,n=this.state,r=n.content,o=n.visible,i=n.title,a=n.actionKey,u=n.pos,c=n.offsetX,s=n.width,f=void 0===s?360:s,p=n.hasMask,h=void 0!==p&&p,d=n.canCloseByOutSideClick,v=void 0===d||d,y=n.safeNode,m=void 0===y?[]:y;if(!o)return null;var b=!0;setTimeout((function(){b=!1}),10);var g=Object(l.db)("ball");return React.createElement(Ci.Drawer,{width:f,visible:o,offset:[c,0],hasMask:h,onVisibleChange:function e(n,r){b||n||"closeClick"!==r||t.setState({visible:!1})},trigger:React.createElement("div",{className:"lc-popup-placeholder",style:u}),triggerType:"click",canCloseByOutSideClick:v,animation:!1,onClose:this.onClose,id:this.props.safeId,safeNode:[g].concat(jk(m)),closeable:!0,container:this.props.popupContainer},React.createElement("div",{className:"lc-ballon-title"},i),React.createElement("div",{className:"lc-ballon-content"},React.createElement(Wk,{actionKey:a,safeId:g,popupContainer:this.popupContainerId},React.createElement(Ci.ConfigProvider,{popupContainer:this.popupContainerId},r))),React.createElement("div",{id:this.popupContainerId}),React.createElement("div",{id:"engine-variable-setter-dialog"}),React.createElement("div",{id:"engine-popup-container"}))}}]),n}(o.PureComponent);function Xk(e){return(Xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jk(r.key),r)}}function qk(e,t,n){return t&&Kk(e.prototype,t),n&&Kk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jk(e){var t=Qk(e,"string");return"symbol"==Xk(t)?t:String(t)}function Qk(e,t){if("object"!=Xk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Zk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e_(e,t)}function e_(e,t){return(e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function t_(e){var t=o_();return function n(){var r=i_(e),o;if(t){var i=i_(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return n_(this,o)}}function n_(e,t){if(t&&("object"===Xk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r_(e)}function r_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function i_(e){return(i_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}$k.contextType=Uk;var a_=function(e){Zk(n,e);var t=t_(n);function n(){return Yk(this,n),t.apply(this,arguments)}return qk(n,[{key:"render",value:function e(){var t=this.props,n=t.position,r=t.theme,i=t.children;return o.createElement("div",{style:{display:"none"},"data-role":"tip","data-position":n,"data-theme":r},i)}}]),n}(o.Component);a_.displayName="InlineTip",a_.defaultProps={position:"auto",theme:"black"};var u_=n(57),c_=n(58),s_=Object(u.createIntl)({"en-US":u_,"zh-CN":c_}),l_=s_.intl,f_=s_.intlNode,p_=s_.getLocale,h_=s_.setLocale;function d_(e){return(d_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b_(r.key),r)}}function m_(e,t,n){return t&&y_(e.prototype,t),n&&y_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b_(e){var t=g_(e,"string");return"symbol"==d_(t)?t:String(t)}function g_(e,t){if("object"!=d_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function w_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O_(e,t)}function O_(e,t){return(O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function j_(e){var t=k_();return function n(){var r=__(e),o;if(t){var i=__(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return S_(this,o)}}function S_(e,t){if(t&&("object"===d_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E_(e)}function E_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function __(e){return(__=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var P_=new l.e({level:"warn",bizName:"skeleton:field"}),x_=function(e){w_(n,e);var t=j_(n);function n(e){var r;return v_(this,n),(r=t.call(this,e)).state={collapsed:r.props.collapsed,display:r.props.defaultDisplay||"inline",hasError:!1},r.body=null,r.dispose=void 0,r.toggleExpand=function(){var e=r.props.onExpandChange,t=!r.state.collapsed;r.setState({collapsed:t}),e&&e(!t)},r.handleClear=r.handleClear.bind(E_(r)),r.clickHandler=r.clickHandler.bind(E_(r)),r}return m_(n,[{key:"deployBlockTesting",value:function e(){var t=this;this.dispose&&this.dispose();var n=this.body;if(n){var r=function e(){var r=n.firstElementChild;r&&r.classList.contains("lc-block-setter")?t.setState({display:"block"}):t.setState({display:"inline"})},o=new MutationObserver(r);r(),o.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),this.dispose=function(){return o.disconnect()}}}},{key:"handleClear",value:function e(t){t.stopPropagation(),this.props.onClear&&this.props.onClear()}},{key:"componentDidMount",value:function e(){var t=this.props.defaultDisplay;t&&"inline"!==t||this.deployBlockTesting()}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose()}},{key:"componentDidCatch",value:function e(t,n){P_.error("".concat(this.props.title," has error"),t,n)}},{key:"getTipContent",value:function e(t,n){var r=React.createElement("div",null,React.createElement("div",null,l_("Attribute: "),t));return Object(yo.isObject)(n)?r=React.createElement("div",null,React.createElement("div",null,l_("Attribute: "),t),React.createElement("div",null,l_("Description: "),n.content)):n&&(r=React.createElement("div",null,React.createElement("div",null,l_("Attribute: "),t),React.createElement("div",null,l_("Description: "),n))),r}},{key:"clickHandler",value:function e(t){var n=this.props,r=n.editor,o=n.name,i=n.title,a=n.meta;null==r||r.eventBus.emit("setting.setter.field.click",{name:o,title:i,meta:a,event:t})}},{key:"render",value:function e(){var t=this,n;if(this.state.hasError)return null;var r=this.props,o=r.className,i=r.children,a=r.meta,c=r.title,s=r.valueState,l=r.name,f=r.tip,p=this.state,h=p.display,d=p.collapsed,v="accordion"===h,y="";"object"===d_(a)?y="".concat((null==a?void 0:a.package)||"","-").concat(a.componentName||""):"string"==typeof a&&(y=a);var m="".concat(y,"-").concat(l||c["en-US"]||c["zh-CN"]),b=this.getTipContent(l,f);return React.createElement("div",{className:Qo()("lc-field lc-".concat(h,"-field"),o,{"lc-field-is-collapsed":v&&d}),id:m},"plain"!==h&&React.createElement("div",{className:"lc-field-head",onClick:v?this.toggleExpand:void 0},React.createElement("div",{className:"lc-field-title"},(this.handleClear,null),React.createElement(u.Title,{title:c||"",onClick:this.clickHandler}),React.createElement(a_,{position:"top"},b)),v&&React.createElement(Ci.Icon,{className:"lc-field-icon",type:"arrow-up",size:"xs"})),React.createElement("div",{key:"body",ref:function e(n){t.body=n},className:"lc-field-body"},i))}}],[{key:"getDerivedStateFromError",value:function e(){return{hasError:!0}}}]),n}(o.Component);function N_(){return null}var C_=function(e){w_(n,e);var t=j_(n);function n(){var e;v_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).pipe=void 0,e}return m_(n,[{key:"render",value:function e(){var t=this,n=this.props,r=n.className,o=n.children,i=n.title,a=n.width;this.pipe||(this.pipe=this.context.create({width:a}));var c=i&&React.createElement("div",{className:"lc-field-title"},React.createElement(u.Title,{title:i}));return this.pipe.send(React.createElement("div",{className:"lc-field-body"},o),c),React.createElement("div",{className:Qo()("lc-field lc-popup-field",r)},i&&React.createElement("div",{className:"lc-field-head",onClick:function e(n){t.pipe.show(n.target)}},React.createElement("div",{className:"lc-field-title"},React.createElement(u.Title,{title:i})),React.createElement(Ci.Icon,{className:"lc-field-icon",type:"arrow-left",size:"xs"})))}}]),n}(o.Component);C_.contextType=Uk,C_.defaultProps={width:300};var T_=function(e){w_(n,e);var t=j_(n);function n(){return v_(this,n),t.apply(this,arguments)}return m_(n,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.className,o=t.stageName,i=Qo()("lc-field","lc-entry-field",r);return React.createElement("div",{className:i},React.createElement("div",{className:"lc-field-head","data-stage-target":o},React.createElement("div",{className:"lc-field-title"},React.createElement(u.Title,{title:n||""})),React.createElement(Ci.Icon,{className:"lc-field-icon",type:"arrow-right",size:"xs"})))}}]),n}(o.Component),L_=function(e){w_(n,e);var t=j_(n);function n(){return v_(this,n),t.apply(this,arguments)}return m_(n,[{key:"render",value:function e(){var t=this.props,n=t.className,r=t.children;return React.createElement("div",{className:Qo()("lc-field lc-plain-field",n)},React.createElement("div",{className:"lc-field-body"},r))}}]),n}(o.Component),R_,A_,M_,D_;function I_(e){return(I_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B_(Object(n),!0).forEach((function(t){F_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F_(e,t,n){return(t=G_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G_(e){var t=H_(e,"string");return"symbol"==I_(t)?t:String(t)}function H_(e,t){if("object"!=I_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function U_(e,t,n){return"popup"===n?Object(o.createElement)(C_,e,t):"entry"===n?Object(o.createElement)(T_,e,t):"plain"!==n&&e.title?Object(o.createElement)(x_,V_(V_({},e),{},{defaultDisplay:n}),t):Object(o.createElement)(L_,e,t)}function z_(e){return(z_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W_(Object(n),!0).forEach((function(t){X_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X_(e,t,n){return(t=J_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J_(r.key),r)}}function q_(e,t,n){return t&&K_(e.prototype,t),n&&K_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function J_(e){var t=Q_(e,"string");return"symbol"==z_(t)?t:String(t)}function Q_(e,t){if("object"!=z_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Z_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eP(e,t)}function eP(e,t){return(eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function tP(e){var t=oP();return function n(){var r=iP(e),o;if(t){var i=iP(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return nP(this,o)}}function nP(e,t){if(t&&("object"===z_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rP(e)}function rP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function iP(e){return(iP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function aP(e){return!!e&&null==e.prototype;var t}function uP(e){return Object(l.J)(e)?!1!==e.visible&&Array.isArray(e.value)&&e.value.length>0:null!=e}var cP=((R_=function(e){Z_(n,e);var t=tP(n);function n(e){var r,i;Y_(this,n),(i=t.call(this,e)).stageName=void 0,i.setters=void 0;var a=i.props.field,c,s=a.extraProps.display,l=null===(r=a.designer)||void 0===r?void 0:r.editor,f,p,h=((null==l?void 0:l.get("skeleton"))||{}).stages,d;return i.setters=null==l?void 0:l.get("setters"),"entry"===s&&Object(u.runInAction)((function(){var e;d="".concat(a.getNode().id,"_").concat(null===(e=a.name)||void 0===e?void 0:e.toString()),h.container.remove(d),h.add({type:"Widget",name:d,content:React.createElement(o.Fragment,null,a.items.map((function(e,t){return lP(e,a,t)}))),props:{title:a.title}})})),i.stageName=d,i}return q_(n,[{key:"field",get:function e(){return this.props.field}},{key:"visible",get:function e(){var t,n=this.field.extraProps.condition;try{return"function"!=typeof n||!1!==n(this.field.internalToShellField())}catch(e){console.error("exception when condition (hidden) is excuted",e)}return!0}},{key:"ignoreDefaultValue",get:function e(){var t,n=this.field.extraProps.ignoreDefaultValue;try{return"function"==typeof n&&n(this.field.internalToShellField())}catch(e){console.error("exception when ignoreDefaultValue is excuted",e)}return!1}},{key:"setterInfo",get:function e(){var t,n=this.field,r=n.extraProps,o=n.componentMeta,i=r.defaultValue,a=this.field.setter,c={},s,f=null;Array.isArray(a)?(s="MixedSetter",c={setters:a}):Object(l.U)(a)?(s=a.componentName,a.props&&"function"==typeof(c=a.props)&&(c=c(this.field.internalToShellField())),null!=a.initialValue&&(f=a.initialValue)):a&&(s=a),null==i||"defaultValue"in c||(c.defaultValue=i,null==f&&(f=i)),-1===this.field.valueState&&(c.multiValue=!0,"placeholder"in c||(c.placeholder=l_("Multiple Value")));var p=null===(t=this.field.extraProps)||void 0===t?void 0:t.supportVariable,h=u.engineConfig.get("supportVariableGlobally",!1)&&aP(o),d;return!1===Object(l.bb)(p,h)||("MixedSetter"===s?Array.isArray(c.setters)&&!c.setters.includes("VariableSetter")&&c.setters.push("VariableSetter"):(s="MixedSetter",c={setters:[a,"VariableSetter"]})),{setterProps:c,initialValue:f,setterType:s}}},{key:"value",get:function e(){return-1===this.field.valueState?null:this.field.getValue()}},{key:"initDefaultValue",value:function e(){var t,n=this.setterInfo.initialValue;if(!(null!==(t=this.state)&&void 0!==t&&t.fromOnChange||!uP(n)||this.ignoreDefaultValue||void 0!==this.value)){var r="function"==typeof n?n(this.field.internalToShellField()):n;this.field.setValue(r)}}},{key:"componentDidMount",value:function e(){this.initDefaultValue()}},{key:"render",value:function e(){var t,n,r,o,i,a=this,c=this.field,s=c.extraProps,l;if(!this.visible)return null;var f=this.setterInfo,p=f.setterProps,h=void 0===p?{}:p,d=f.setterType,v=f.initialValue,y=void 0===v?null:v,m=this.value,b=null==s?void 0:s.onChange,g=this.stageName;return U_($_({meta:(null==c||null===(t=c.componentMeta)||void 0===t?void 0:t.npm)||(null==c||null===(n=c.componentMeta)||void 0===n?void 0:n.componentName)||"",title:c.title,collapsed:!c.expanded,valueState:c.isRequired?10:c.valueState,onExpandChange:function e(t){return c.setExpanded(t)},onClear:function e(){return c.clearValue()},stageName:g},s),!g&&(null===(r=this.setters)||void 0===r?void 0:r.createSetterContent(d,$_($_({},Object(u.shallowIntl)(h)),{},{forceInline:s.forceInline,key:c.id,prop:c.internalToShellField(),selected:null===(o=c.top)||void 0===o||null===(i=o.getNode())||void 0===i?void 0:i.internalToShellNode(),field:c.internalToShellField(),value:m,initialValue:y,onChange:function e(t){a.setState({fromOnChange:!0,value:t}),c.setValue(t,!0),b&&b(t,c)},onInitial:function e(){if(null!=y){var t="function"==typeof y?y(c.internalToShellField()):y;a.setState({value:t}),c.setValue(t,!0)}},removeProp:function e(){c.name&&c.parent.clearPropValue(c.name)}}))),s.forceInline?"plain":s.display)}}]),n}(o.Component)).contextType=sv,R_);cP=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],cP);var sP=((A_=function(e){Z_(n,e);var t=tP(n);function n(e){var r,i;Y_(this,n),(i=t.call(this,e)).stageName=void 0;var a=i.props.field,c,s=a.extraProps.display,l=null===(r=i.props.field.designer)||void 0===r?void 0:r.editor,f,p=(null==l?void 0:l.get("skeleton")).stages,h;return"entry"===s&&Object(u.runInAction)((function(){var e;h="".concat(a.getNode().id,"_").concat(null===(e=a.name)||void 0===e?void 0:e.toString()),p.container.remove(h),p.add({type:"Widget",name:h,content:React.createElement(o.Fragment,null,a.items.map((function(e,t){return lP(e,a,t)}))),props:{title:a.title}})})),i.stageName=h,i}return q_(n,[{key:"render",value:function e(){var t,n,r=this.props.field,o=r.extraProps,i=o.condition,a=o.display,u;return!r.isSingle||"function"!=typeof i||!1!==i(r.internalToShellField())?U_({meta:(null===(t=r.componentMeta)||void 0===t?void 0:t.npm)||(null===(n=r.componentMeta)||void 0===n?void 0:n.componentName)||"",title:r.title,collapsed:!r.expanded,onExpandChange:function e(t){return r.setExpanded(t)},stageName:this.stageName},r.items.map((function(e,t){return lP(e,r,t)})),a):null}}]),n}(o.Component)).contextType=sv,A_);function lP(e,t,n){return cl(e)?e.isGroup?React.createElement(sP,{field:e,key:e.id}):React.createElement(cP,{field:e,key:e.id}):Object(l.m)(e,{key:n,field:t})}sP=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],sP);var fP=((M_=function(e){Z_(n,e);var t=tP(n);function n(){var e;Y_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).currentStage=void 0,e.popupPipe=new zk,e.pipe=e.popupPipe.create(),e.handleClick=function(t){var n=e.props.usePopup,r;if(void 0===n||n){var o=t.currentTarget,i=c(t.target);if(i){var a=e.context;if(a&&a.stages){var u=a.stages.container.get(i);u&&(e.currentStage&&u.setPrevious(e.currentStage),e.currentStage=u)}}}function c(e){if(!o.contains(e)||"A"===e.nodeName&&e.getAttribute("href"))return null;var t=e.dataset?e.dataset.stageTarget:null;return t||c(e.parentNode)}},e}return q_(n,[{key:"popStage",value:function e(){var t;this.currentStage=null===(t=this.currentStage)||void 0===t?void 0:t.getPrevious()}},{key:"render",value:function e(){var t=this.props.target,n=t.items;return React.createElement("div",{className:"lc-settings-pane",onClick:this.handleClick},React.createElement(Wk,{popupPipe:this.popupPipe},React.createElement("div",{className:"lc-settings-content"},n.map((function(e,n){return lP(e,t,n)})))))}}]),n}(o.Component)).contextType=sv,M_);function pP(e){return(pP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yP(r.key),r)}}function vP(e,t,n){return t&&dP(e.prototype,t),n&&dP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yP(e){var t=mP(e,"string");return"symbol"==pP(t)?t:String(t)}function mP(e,t){if("object"!=pP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx,Object(s.d)("design:type","function"==typeof(D_=void 0!==GE&&GE)?D_:Object)],fP.prototype,"currentStage",void 0),fP=Object(s.b)([u.observer],fP);var bP=function(){function e(t){hP(this,e),this.emitter=void 0,this.stage=void 0,this.emitter=Object(u.createModuleEventBus)("StageChain"),this.stage=t}return vP(e,[{key:"stagePush",value:function e(t){t&&(t.setPrevious(this.stage),t.setReferLeft(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"stageBack",value:function e(){var t=this.stage.getPrevious();t&&(t.setReferRight(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"stageBackToRoot",value:function e(){for(var t=this.stage.getPrevious();t&&!t.isRoot;)t=t.getPrevious();t&&(t.setReferRight(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"getCurrentStage",value:function e(){return this.stage}},{key:"onStageChange",value:function e(t){var n=this;return this.emitter.on("stagechange",t),function(){n.emitter.removeListener("stagechange",t)}}}]),e}();function gP(){return(gP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wP(e){return React.createElement(l.f,gP({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z"}))}function OP(){return(OP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jP(e){return React.createElement(l.f,OP({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M723.872 478.4l-81.12-81.152L688 352l135.776 135.776L846.4 510.4 688 668.8l-45.248-45.28 81.12-81.12H384v-64h339.872zM576 896H256.192A64.16 64.16 0 0 1 192 831.84V192.16c0-35.424 28.704-64.16 64.192-64.16H576v64H288.224A31.968 31.968 0 0 0 256 223.744v576.512C256 817.44 270.4 832 288.224 832H576v64z"}))}function SP(e){return(SP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PP(r.key),r)}}function _P(e,t,n){return t&&kP(e.prototype,t),n&&kP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PP(e){var t=xP(e,"string");return"symbol"==SP(t)?t:String(t)}function xP(e,t){if("object"!=SP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function NP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CP(e,t)}function CP(e,t){return(CP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function TP(e){var t=AP();return function n(){var r=MP(e),o;if(t){var i=MP(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return LP(this,o)}}function LP(e,t){if(t&&("object"===SP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return RP(e)}function RP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function MP(e){return(MP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}wP.displayName="Arrow",jP.displayName="Exit";var DP={current:!1},IP=function(e){NP(n,e);var t=TP(n);function n(){var e;EP(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).timer=void 0,e.additionClassName=void 0,e.shell=void 0,e}return _P(n,[{key:"componentDidMount",value:function e(){this.doSkate()}},{key:"componentDidUpdate",value:function e(){this.doSkate()}},{key:"componentWillUnmount",value:function e(){window.clearTimeout(this.timer)}},{key:"doSkate",value:function e(){var t=this;window.clearTimeout(this.timer),this.additionClassName&&(this.timer=window.setTimeout((function(){var e=t.shell;e&&(t.props.current?e.classList.remove(t.additionClassName):e.classList.add(t.additionClassName),t.additionClassName=null)}),15))}},{key:"render",value:function e(){var t=this,n=this.props,r=n.stage,o=n.current,a=n.direction,u=null==r?void 0:r.getContent(),c=r.title,s=Object(l.X)(c)?c.label:c;o?a&&(this.additionClassName="skeleton-stagebox-stagein-".concat(a)):a&&(this.additionClassName="skeleton-stagebox-stageout-".concat(a));var f=Qo()("skeleton-stagebox-stage",{"skeleton-stagebox-refer":!o},this.additionClassName),p=null!=r&&r.hasBack()?i.a.createElement("div",{className:"skeleton-stagebox-stagebacker"},i.a.createElement(wP,{className:"skeleton-stagebox-stage-arrow",size:"medium","data-stage-target":"stageback"}),i.a.createElement("span",{className:"skeleton-stagebox-stage-title"},s),i.a.createElement(jP,{className:"skeleton-stagebox-stage-exit",size:"medium","data-stage-target":"stageexit"})):null;return i.a.createElement("div",{ref:function e(n){t.shell=n},className:f},p,i.a.createElement("div",{className:"skeleton-stagebox-stage-content"},u))}}]),n}(o.Component),BP;function VP(e){return(VP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UP(r.key),r)}}function HP(e,t,n){return t&&GP(e.prototype,t),n&&GP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function UP(e){var t=zP(e,"string");return"symbol"==VP(t)?t:String(t)}function zP(e,t){if("object"!=VP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function WP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$P(e,t)}function $P(e,t){return($P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function XP(e){var t=qP();return function n(){var r=JP(e),o;if(t){var i=JP(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return YP(this,o)}}function YP(e,t){if(t&&("object"===VP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return KP(e)}function KP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function JP(e){return(JP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}IP.defaultProps=DP;var QP={},ZP=((BP=function(e){WP(n,e);var t=XP(n);function n(e){var r;FP(this,n),(r=t.call(this,e)).stageChain=void 0,r.willDetach=[],r.shell=void 0,r.popupPipe=new zk,r.pipe=r.popupPipe.create();var o=r.props,i=o.stageChain,a=o.children,u=o.skeleton;if(i)r.stageChain=i;else{var c=u.createStage({content:a,isRoot:!0});r.stageChain=new bP(u.getStage(c))}return r.willDetach.push(r.stageChain.onStageChange((function(){return r.forceUpdate()}))),r}return HP(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.shell,r=function e(t){if(!t||null==n||!n.contains(t)||"A"===t.nodeName&&t.getAttribute("href"))return null;var r=t.dataset?t.dataset.stageTarget:null;return r||e(t.parentNode)},o=function e(n){var o=r(n.target);if(o)if("stageback"===o)t.stageChain.stageBack();else if("stageexit"===o)t.stageChain.stageBackToRoot();else{var i=t.props.skeleton;t.stageChain.stagePush(i.getStage(o))}};null==n||n.addEventListener("click",o,!1),this.willDetach.push((function(){return null==n?void 0:n.removeEventListener("click",o,!1)}))}},{key:"componentWillUnmount",value:function e(){this.willDetach&&this.willDetach.forEach((function(e){return e()}))}},{key:"render",value:function e(){var t=this,n=Qo()("skeleton-stagebox",this.props.className),r=this.stageChain.getCurrentStage(),o=null==r?void 0:r.getRefer(),a=null,u=null,c;o?(a=i.a.createElement(IP,{key:r.getId(),stage:r,direction:o.direction,current:!0}),u=i.a.createElement(IP,{key:null==o||null===(c=o.stage)||void 0===c?void 0:c.getId(),stage:null==o?void 0:o.stage,direction:o.direction})):a=i.a.createElement(IP,{key:r.getId(),stage:r,current:!0});return i.a.createElement("div",{ref:function e(n){t.shell=n},className:n},i.a.createElement(Wk,{popupPipe:this.popupPipe},u,a))}}]),n}(o.Component)).defaultProps=QP,BP.displayName="StageBox",BP),ex=ZP=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],ZP),tx=n(113);function nx(e){return(nx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rx(){return(rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ox(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ox=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==nx(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(nx(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function ix(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ax(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ix(i,r,o,a,u,"next",e)}function u(e){ix(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ux(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lx(r.key),r)}}function sx(e,t,n){return t&&cx(e.prototype,t),n&&cx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lx(e){var t=fx(e,"string");return"symbol"==nx(t)?t:String(t)}function fx(e,t){if("object"!=nx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function px(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hx(e,t)}function hx(e,t){return(hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function dx(e){var t=mx();return function n(){var r=bx(e),o;if(t){var i=bx(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return vx(this,o)}}function vx(e,t){if(t&&("object"===nx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yx(e)}function yx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mx(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bx(e){return(bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var gx=function(e){px(n,e);var t=dx(n);function n(e){var r;return ux(this,n),(r=t.call(this,e)).state={shouldIgnoreRoot:!1},r.main=new bk(r.props.engineEditor),r._activeKey=void 0,Object(u.makeObservable)(yx(r)),r}return sx(n,[{key:"componentDidMount",value:function e(){var t=this,n;this.setShouldIgnoreRoot(),this.props.engineEditor.eventBus.on("designer.selection.change",(function(){u.engineConfig.get("stayOnTheSameSettingTab",!1)||(t._activeKey=null)}))}},{key:"setShouldIgnoreRoot",value:function(){var e=ax(ox().mark((function e(){var t;return ox().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.globalContext.get("editor").get("designMode");case 2:t=n.sent,this.setState({shouldIgnoreRoot:"live"===t});case 4:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this.main.purge()}},{key:"renderBreadcrumb",value:function e(){var t,n,r,o,a=this.main,c=a.settings,s=a.editor,f=this.state.shouldIgnoreRoot,p;if(!c)return null;if(c.isMultiple)return i.a.createElement("div",{className:"lc-settings-navigator"},Object(l.n)(null===(p=c.componentMeta)||void 0===p?void 0:p.icon,{className:"lc-settings-navigator-icon"}),i.a.createElement("div",{style:{marginLeft:"5px"}},i.a.createElement(u.Title,{title:c.componentMeta.title}),i.a.createElement("span",null," x ",c.nodes.length)));for(var h=s.get("designer"),d=null==h||null===(t=h.currentSelection)||void 0===t||null===(n=t.getNodes())||void 0===n?void 0:n[0],v=c.first,y=null===(r=v.document)||void 0===r?void 0:r.focusNode,m=[],b=3,g=function e(){var t=v;if(f&&v.isRoot())return 1;y&&v.contains(y)&&(b=0);var n=2===b?{}:{onMouseOver:wx.bind(null,t,!0),onMouseOut:wx.bind(null,t,!1),onClick:function e(){if(t){Ox.call(null,t);var n=function e(t){var n,r,o=null==t||null===(n=t.componentMeta)||void 0===n?void 0:n.npm;return[null==o?void 0:o.package,null==o?void 0:o.componentName].filter((function(e){return!!e})).join("-")||(null==t||null===(r=t.componentMeta)||void 0===r?void 0:r.componentName)||""},r=n(d),o=n(t);null==s||s.eventBus.emit("skeleton.settingsPane.Breadcrumb",{selected:r,target:o})}}};m.unshift(i.a.createElement(Ci.Breadcrumb.Item,rx({},n,{key:v.id}),i.a.createElement(u.Title,{title:v.title}))),v=v.parent};b-- >0&&v&&!g(););return i.a.createElement("div",{className:"lc-settings-navigator"},Object(l.n)(null===(o=this.main.componentMeta)||void 0===o?void 0:o.icon,{className:"lc-settings-navigator-icon",class:"lc-settings-navigator-icon"}),i.a.createElement(Ci.Breadcrumb,{className:"lc-settings-node-breadcrumb"},m))}},{key:"render",value:function e(){var t=this,n=this.main.settings,r=this.props.engineEditor;if(!n)return i.a.createElement("div",{className:"lc-settings-main"},i.a.createElement("div",{className:"lc-settings-notice"},i.a.createElement("p",null,l_("Please select a node in canvas"))));if(n.isLocked&&!u.engineConfig.get("enableLockedNodeSetting",!1))return i.a.createElement("div",{className:"lc-settings-main"},i.a.createElement("div",{className:"lc-settings-notice"},i.a.createElement("p",null,l_("Current node is locked"))));if(Array.isArray(n.items)&&0===n.items.length)return i.a.createElement("div",{className:"lc-settings-main"},i.a.createElement("div",{className:"lc-settings-notice"},i.a.createElement("p",null,l_("No config found for this type of component"))));if(!n.isSameComponent)return i.a.createElement("div",{className:"lc-settings-main"},i.a.createElement("div",{className:"lc-settings-notice"},i.a.createElement("p",null,l_("Please select same kind of components"))));var o=n.items;if(o.length>5||o.some((function(e){return!cl(e)||!e.isGroup})))return i.a.createElement("div",{className:"lc-settings-main"},this.renderBreadcrumb(),i.a.createElement("div",{className:"lc-settings-body"},i.a.createElement(sv.Consumer,null,(function(e){return e?i.a.createElement(ex,{skeleton:e,target:n,key:n.id},i.a.createElement(fP,{target:n,usePopup:!1})):null}))));var a=!1,c=o.map((function(e){return t._activeKey===e.name&&(a=!0),i.a.createElement(Ci.Tab.Item,{className:"lc-settings-tab-item",title:i.a.createElement(u.Title,{title:e.title}),key:e.name,onClick:function t(){null==r||r.eventBus.emit("skeleton.settingsPane.change",{name:e.name,title:e.title})}},i.a.createElement(sv.Consumer,null,(function(t){return t?i.a.createElement(ex,{skeleton:t,target:e,key:e.id},i.a.createElement(fP,{target:e,key:e.id,usePopup:!1})):null})))})),s=a?this._activeKey:o[0].name,l=Qo()("lc-settings-main",{"lc-settings-hide-tabs":1===o.length&&u.engineConfig.get("hideSettingsTabsWhenOnlyOneItem",!1)});return i.a.createElement("div",{className:l},this.renderBreadcrumb(),i.a.createElement(Ci.Tab,{activeKey:s,onChange:function e(n){t._activeKey=n},navClassName:"lc-settings-tabs",animation:!1,excessMode:"dropdown",contentClassName:"lc-settings-tabs-content"},c))}}]),n}(o.Component);function wx(e,t){e.hover(t)}function Ox(e){null==e||e.select()}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],gx.prototype,"_activeKey",void 0),gx=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],gx);var jx=/^function/,Sx=/^\w+\s*\(/,Ex=Object(l.r)({level:"warn",bizName:"skeleton:transducers"});function kx(e){if("string"!=typeof e)return e;var t;Sx.test(e)&&!jx.test(e)&&(e="function ".concat(e));var n="\n    return function() {\n      const self = this;\n      try {\n        return (".concat(e,").apply(self, arguments);\n      } catch(e) {\n        console.warn('call function which parsed by lowcode failed: ', e);\n        return e.message;\n      }\n    };\n  ");try{t=new Function(n)()}catch(t){Ex.error(e),Ex.error(t.message)}return t}function _x(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&Object.keys(e).forEach((function(n){var r=e[n];Object(l.I)(r)?e[n]=kx(r.value):Array.isArray(r)?r.forEach((function(e){return _x(e,t)})):Object(l.P)(r)&&_x(r,t)}))}var Px=function(e){return _x(e,!1),e};function xx(e){return Lx(e)||Tx(e)||Cx(e)||Nx()}function Nx(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Cx(e,t){if(e){if("string"==typeof e)return Rx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rx(e,t):void 0}}function Tx(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Lx(e){if(Array.isArray(e))return Rx(e)}function Rx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ax(e){return(Ax="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mx(Object(n),!0).forEach((function(t){Ix(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ix(e,t,n){return(t=Bx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bx(e){var t=Vx(e,"string");return"symbol"==Ax(t)?t:String(t)}function Vx(e,t){if("object"!=Ax(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ax(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Fx(e){var t=e.name,n=e.description,r;return Dx(Dx({title:{label:{type:"i18n","en-US":t,"zh-CN":(null==n?void 0:n.slice(0,10))||t},tip:n?"".concat(t," | ").concat(n):void 0}},e),{},{setter:e.setter?e.setter:Gx(e.propType)})}function Gx(e){var t,n=!1;switch("string"==typeof e?t=e:"object"===Ax(e)?(t=e.type,n=e.isRequired):t="string",t){case"string":return{componentName:"StringSetter",isRequired:n,initialValue:""};case"number":return{componentName:"NumberSetter",isRequired:n,initialValue:0};case"bool":return{componentName:"BoolSetter",isRequired:n,initialValue:!1};case"oneOf":var r=(e.value||[]).map((function(e,t){var n=Ax(e);return{label:"string"===n||"number"===n||"boolean"===n?String(e):"value ".concat(t),value:e}})),o;return{componentName:r.length>=4?"SelectSetter":"RadioGroupSetter",props:{dataSource:r,options:r},isRequired:n,initialValue:r[0]?r[0].value:null};case"element":case"node":return{componentName:"SlotSetter",props:{mode:t},isRequired:n,initialValue:{type:"JSSlot",value:[]}};case"shape":case"exact":var i=(e.value||[]).map((function(e){return Fx(e)}));return{componentName:"ObjectSetter",props:{config:{items:i,extraSetter:"shape"===t?Gx("any"):null}},isRequired:n,initialValue:function e(t){var n={};return i.forEach((function(e){var r=e.defaultValue;null==r&&e.setter&&"object"===Ax(e.setter)&&(r=e.setter.initialValue),n[e.name]=r?"function"==typeof r?r(t):r:null})),n}};case"object":case"objectOf":return{componentName:"ObjectSetter",props:{config:{extraSetter:Gx("objectOf"===t?e.value:"any")}},isRequired:n,initialValue:{}};case"array":case"arrayOf":return{componentName:"ArraySetter",props:{itemSetter:Gx("arrayOf"===t?e.value:"any")},isRequired:n,initialValue:[]};case"func":return{componentName:"FunctionSetter",isRequired:n};case"color":return{componentName:"ColorSetter",isRequired:n};case"oneOfType":return{componentName:"MixedSetter",props:{setters:e.value.map((function(e){return Gx(e)}))},isRequired:n}}return{componentName:"MixedSetter",isRequired:n,props:{}}}var Hx=/^on|after|before[A-Z][\w]*$/,Ux=function(e){var t=e.configure,n=void 0===t?{}:t,r=null;if(n.props){if(Array.isArray(n.props))return e;var o=n.props,i=o.isExtends,a=o.override,u=void 0===a?[]:a;if(!i)return Dx(Dx({},e),{},{configure:Dx(Dx({},n),{},{props:xx(u)})});r={},u.forEach((function(e){r[e.name]=e}))}if(!e.props)return Dx(Dx({},e),{},{configure:Dx(Dx({},n),{},{props:[]})});var c=n.component,s=void 0===c?{}:c,l=n.supports,f=void 0===l?{}:l,p=f.events?null:[],h=[];return e.props.forEach((function(e){var t=e,n=t.name,o=t.propType,i=t.description;if("children"===n&&(s.isContainer||"node"===o||"element"===o||"any"===o)&&!1!==s.isContainer)return s.isContainer=!0,void h.push(Fx(e));!Hx.test(n)||"func"!==o&&"any"!==o?"className"!==n||"string"!==o&&"any"!==o?"style"!==n||"object"!==o&&"any"!==o?(r&&n in r&&(e=r[n]),h.push(Fx(e))):null==f.style&&(f.style=!0):null==f.className&&(f.className=!0):p&&(p.push({name:n,description:i}),f.events=p)})),Dx(Dx({},e),{},{configure:Dx(Dx({},n),{},{props:h,supports:f,component:s})})};function zx(){return(zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wx(e){return React.createElement(l.f,zx({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M682.325333 135.509333V204.8H819.2v613.376h-614.741333V204.8h136.874666v-69.290667h-206.165333v752.298667h754.346667V135.509333z",c:"Q29weXJpZ2h0IChjKSAyMDIwLXByZXNlbnQgQWxpYmFiYSBJbmMu"}),React.createElement("path",{d:"M512 512m-170.325333 0a170.325333 170.325333 0 1 0 340.650666 0 170.325333 170.325333 0 1 0-340.650666 0Z"}))}function $x(e){return($x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xx(e){return Jx(e)||qx(e)||Kx(e)||Yx()}function Yx(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kx(e,t){if(e){if("string"==typeof e)return Qx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qx(e,t):void 0}}function qx(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Jx(e){if(Array.isArray(e))return Qx(e)}function Qx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zx(Object(n),!0).forEach((function(t){tN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tN(e,t,n){return(t=nN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nN(e){var t=rN(e,"string");return"symbol"==$x(t)?t:String(t)}function rN(e,t){if("object"!=$x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Wx.displayName="IconSlot";var oN=function(e){var t=e.componentName,n=e.configure,r=void 0===n?{}:n;if(r.combined)return e;if("Leaf"===t)return eN(eN({},e),{},{configure:eN(eN({},r),{},{combined:[{name:"children",title:{type:"i18n","zh-CN":"\u5185\u5bb9\u8bbe\u7f6e","en-US":"Content"},setter:{componentName:"MixedSetter",props:{setters:[{componentName:"StringSetter",props:{multiline:!0},initialValue:""},{componentName:"ExpressionSetter",initialValue:{type:"JSExpression",value:""}}]}}}]})});var o=r.props,i=r.supports,a=void 0===i?{}:i,u="Page"===t||"Component"===t,c=[],s=a.lifecycles||null;s&&c.push({type:"lifeCycleEvent",title:"\u751f\u547d\u5468\u671f",list:s.map((function(e){return"string"==typeof e?{name:e}:e}))}),a.events&&c.push({type:"events",title:"\u4e8b\u4ef6",list:(a.events||[]).map((function(e){return"string"==typeof e?{name:e}:e}))});var l=o?Xx(o):[],f={};"Slot"===t&&(r.component?"object"===$x(r.component)&&(r.component.isContainer=!0):r.component={isContainer:!0},f.icon=Wx,l=[{name:J("title"),title:{type:"i18n","en-US":"Slot Title","zh-CN":"\u63d2\u69fd\u6807\u9898"},setter:"StringSetter",defaultValue:"\u63d2\u69fd\u5bb9\u5668"}]);var p=[],h=[];if(l)for(var d=l.length;d-- >0;){var v=l[d],y;if("__style__"===v.name||"style"===v.name||"containerStyle"===v.name||"pageStyle"===v.name)l.splice(d,1),p.push(v),null!==(y=v.extraProps)&&void 0!==y&&y.defaultCollapsed&&"containerStyle"!==v.name&&(v.extraProps.defaultCollapsed=!1)}var m=[{title:{type:"i18n","zh-CN":"\u5c5e\u6027","en-US":"Props"},name:"#props",items:l}];return a.className&&p.push({name:"className",title:{type:"i18n","zh-CN":"\u7c7b\u540d\u7ed1\u5b9a","en-US":"ClassName"},setter:"ClassNameSetter"}),a.style&&p.push({name:"style",title:{type:"i18n","zh-CN":"\u884c\u5185\u6837\u5f0f","en-US":"Style"},setter:"StyleSetter",extraProps:{display:"block"}}),p.length>0&&m.push({name:"#styles",title:{type:"i18n","zh-CN":"\u6837\u5f0f","en-US":"Styles"},items:p}),c.length>0&&m.push({name:"#events",title:{type:"i18n","zh-CN":"\u4e8b\u4ef6","en-US":"Events"},items:[{name:"__events",title:{type:"i18n","zh-CN":"\u4e8b\u4ef6\u8bbe\u7f6e","en-US":"Events"},setter:{componentName:"EventsSetter",props:{definition:c}},getValue:function e(t,n){return n},setValue:function e(t,n){var r=n.eventDataList,o=n.eventList;Array.isArray(o)&&o.map((function(e){return t.parent.clearPropValue(e.name),e})),Array.isArray(r)&&r.map((function(e){return t.parent.setPropValue(e.name,{type:"JSFunction",value:"function(){return this.".concat(e.relatedEventName,".apply(this,Array.prototype.slice.call(arguments).concat([").concat(e.paramStr?e.paramStr:"","])) }")}),e}))}}]}),u||(!1!==a.condition&&h.push({name:J("condition"),title:{type:"i18n","zh-CN":"\u662f\u5426\u6e32\u67d3","en-US":"Condition"},defaultValue:!0,setter:[{componentName:"BoolSetter"},{componentName:"VariableSetter"}],extraProps:{display:"block"}}),!1!==a.loop&&h.push({name:"#loop",title:{type:"i18n","zh-CN":"\u5faa\u73af","en-US":"Loop"},items:[{name:J("loop"),title:{type:"i18n","zh-CN":"\u5faa\u73af\u6570\u636e","en-US":"Loop Data"},setter:[{componentName:"JsonSetter",props:{label:{type:"i18n","zh-CN":"\u7f16\u8f91\u6570\u636e","en-US":"Edit Data"},defaultValue:"[]"}},{componentName:"VariableSetter"}]},{name:J("loopArgs.0"),title:{type:"i18n","zh-CN":"\u8fed\u4ee3\u53d8\u91cf\u540d","en-US":"Loop Item"},setter:{componentName:"StringSetter",props:{placeholder:{type:"i18n","zh-CN":"\u9ed8\u8ba4\u4e3a: item","en-US":"Defaults: item"}}}},{name:J("loopArgs.1"),title:{type:"i18n","zh-CN":"\u7d22\u5f15\u53d8\u91cf\u540d","en-US":"Loop Index"},setter:{componentName:"StringSetter",props:{placeholder:{type:"i18n","zh-CN":"\u9ed8\u8ba4\u4e3a: index","en-US":"Defaults: index"}}}},{name:"key",title:{type:"i18n","zh-CN":"\u5faa\u73af Key","en-US":"Loop Key"},setter:[{componentName:"StringSetter"},{componentName:"VariableSetter"}]}],extraProps:{display:"accordion"}}),!1===a.condition&&!1===a.loop||h.push({name:"key",title:{label:{type:"i18n","zh-CN":"\u6e32\u67d3\u552f\u4e00\u6807\u8bc6 (key)","en-US":"Render unique identifier (key)"},tip:{type:"i18n","zh-CN":"\u642d\u914d\u300c\u6761\u4ef6\u6e32\u67d3\u300d\u6216\u300c\u5faa\u73af\u6e32\u67d3\u300d\u65f6\u4f7f\u7528\uff0c\u548c react \u7ec4\u4ef6\u4e2d\u7684 key \u539f\u7406\u76f8\u540c\uff0c\u70b9\u51fb\u67e5\u770b\u5e2e\u52a9","en-US":"Used with \u300cConditional Rendering\u300dor\u300cCycle Rendering\u300d, the same principle as the key in the react component, click to view the help"},docUrl:"https://www.yuque.com/lce/doc/qm75w3"},setter:[{componentName:"StringSetter"},{componentName:"VariableSetter"}],extraProps:{display:"block"}})),h.length>0&&m.push({name:"#advanced",title:{type:"i18n","zh-CN":"\u9ad8\u7ea7","en-US":"Advanced"},items:h}),eN(eN(eN({},e),f),{},{configure:eN(eN({},r),{},{combined:m})})},iN=function e(t){var n=t.material;return{init:function e(){n.registerMetadataTransducer(Px,1,"parse-func"),n.registerMetadataTransducer(Ux,5,"parse-props"),n.registerMetadataTransducer(oN,10,"combine-props")}}};function aN(e){return(aN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lN(r.key),r)}}function sN(e,t,n){return t&&cN(e.prototype,t),n&&cN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lN(e){var t=fN(e,"string");return"symbol"==aN(t)?t:String(t)}function fN(e,t){if("object"!=aN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function pN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hN(e,t)}function hN(e,t){return(hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function dN(e){var t=mN();return function n(){var r=bN(e),o;if(t){var i=bN(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return vN(this,o)}}function vN(e,t){if(t&&("object"===aN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yN(e)}function yN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mN(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bN(e){return(bN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}iN.pluginName="___register_defaults___";var gN=function(e){pN(n,e);var t=dN(n);function n(){return uN(this,n),t.apply(this,arguments)}return sN(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName;return n.isEmpty()?null:React.createElement("div",{className:Qo()("lc-workspace-sub-top-area lc-sub-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(ON,{area:n,itemClassName:r}))}}]),n}(o.Component),wN=gN=Object(s.b)([u.observer],gN),ON=function(e){pN(n,e);var t=dN(n);function n(){return uN(this,n),t.apply(this,arguments)}return sN(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName,i=[],a=[],u=[];n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:r||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):u.push(t)}));var c=[];return i&&i.length&&c.push(React.createElement("div",{className:"lc-workspace-sub-top-area-left lc-sub-top-area-left"},i)),a&&a.length&&c.push(React.createElement("div",{className:"lc-workspace-sub-top-area-center lc-sub-top-area-center"},a)),u&&u.length&&c.push(React.createElement("div",{className:"lc-workspace-sub-top-area-right lc-sub-top-area-right"},u)),React.createElement(o.Fragment,null,c)}}]),n}(o.Component);function jN(e){return(jN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */SN=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==jN(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(jN(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function EN(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function kN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){EN(i,r,o,a,u,"next",e)}function u(e){EN(i,r,o,a,u,"throw",e)}a(void 0)}))}}function _N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xN(r.key),r)}}function PN(e,t,n){return t&&_N(e.prototype,t),n&&_N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xN(e){var t=NN(e,"string");return"symbol"==jN(t)?t:String(t)}function NN(e,t){if("object"!=jN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function CN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}ON=Object(s.b)([u.observer],ON);var TN=PN((function e(t,n,r,o){CN(this,e),this.registerLevel=void 0,this.editorWindow=void 0,this.skeleton=void 0,this.plugins=void 0,this.project=void 0,this.setters=void 0,this.material=void 0,this.common=void 0,this.config=void 0,this.event=void 0,this.logger=void 0,this.hotkey=void 0,this.innerProject=void 0,this.editor=void 0,this.designer=void 0,this.registerInnerPlugins=void 0,this.innerSetters=void 0,this.innerSkeleton=void 0,this.innerHotkey=void 0,this.innerPlugins=void 0,this.canvas=void 0,this.pluginEvent=void 0,this.preference=void 0,this.workspace=void 0,this.registerLevel=r,this.editorWindow=o;var i=new u.Editor(n,!0),a=new ik(i,n);i.set("skeleton",a);var s=new vf({editor:i,viewName:n,shellModelFactory:null==t?void 0:t.shellModelFactory});i.set("designer",s);var f=s.project,p=new Hg(t),h=new u.Hotkey(n),d=new Fm(h,!0),v=new u.Setters(n),y=new tg(v,!0),m=new cb(i,!0),b=new Wb(f,!0),g=u.engineConfig,w=new Tm(u.commonEvent,{prefix:"common"}),O=Object(l.r)({level:"warn",bizName:"common"}),j=new wg(a,"any",!0),S=new Lg(i,!0);i.set("setters",y),i.set("project",b),i.set("material",m),i.set("hotkey",d),i.set("innerHotkey",h),this.innerSetters=v,this.innerSkeleton=a,this.skeleton=j,this.innerProject=f,this.project=b,this.setters=y,this.material=m,this.config=g,this.event=w,this.logger=O,this.hotkey=d,this.innerHotkey=h,this.editor=i,this.designer=s,this.canvas=S;var E=new jm(i,a),k;this.common=E;var _,P=new Ap({assembleApis:function e(t,n,i){t.workspace=p,t.hotkey=d,t.project=b,t.skeleton=new wg(a,n,!0),t.setters=y,t.material=m;var s=(null==i?void 0:i.eventPrefix)||"common";t.event=new Tm(u.commonEvent,{prefix:s}),t.config=g,t.common=E,t.plugins=k,t.logger=new Ym({level:"warn",bizName:"plugin:".concat(n)}),t.canvas=S,o&&(t.editorWindow=new hj(o)),t.registerLevel=r,t.isPluginRegisteredInWorkspace=r===c.g.Workspace}},n);this.innerPlugins=P,k=new gb(P,!0).toProxy(),i.set("plugins",k),i.set("innerPlugins",P),this.plugins=k,this.registerInnerPlugins=function(){var e=kN(SN().mark((function e(){return SN().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==t?void 0:t.registryInnerPlugin(s,i,k);case 2:case"end":return n.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})),LN=n(6);function RN(e){return React.createElement("div",{className:"lc-designer lowcode-plugin-designer"},React.createElement("div",{className:"lc-project"},React.createElement("div",{className:"lc-simulator-shell"},React.createElement("iframe",{name:"webview-view-".concat(e.viewName),className:"lc-simulator-content-frame",style:{height:"100%",width:"100%"},src:e.url}))))}function AN(e,t){function n(n){var r=n.skeleton;return{init:function o(){r.add({area:"mainArea",name:"designer",type:"Widget",content:RN,contentProps:{ctx:n,url:e,viewName:t}})}}}return n.pluginName="___webview_plugin___",n}function MN(e){return(MN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DN(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function IN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){DN(i,r,o,a,u,"next",e)}function u(e){DN(i,r,o,a,u,"throw",e)}a(void 0)}))}}function BN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */BN=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==MN(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(MN(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function VN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HN(r.key),r)}}function GN(e,t,n){return t&&FN(e.prototype,t),n&&FN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HN(e){var t=UN(e,"string");return"symbol"==MN(t)?t:String(t)}function UN(e,t){if("object"!=MN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function zN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WN(e,t)}function WN(e,t){return(WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function $N(e){var t=KN();return function n(){var r=qN(e),o;if(t){var i=qN(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return XN(this,o)}}function XN(e,t){if(t&&("object"===MN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return YN(e)}function YN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KN(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qN(e){return(qN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var JN=function(e){zN(n,e);var t=$N(n);function n(e,r,o,i){var a;return VN(this,n),(a=t.call(this,e,o.viewName,c.g.EditorView,r)).workspace=void 0,a.editorWindow=void 0,a.editorView=void 0,a.viewName="editor-view",a.instance=void 0,a.viewType=void 0,a._activate=!1,a.isInit=!1,a.init=Object(LN.flow)(BN().mark((function e(){var t,n,r,o,i;return BN().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if("webview"!==this.viewType){a.next=8;break}return a.next=3,null===(r=this.instance)||void 0===r||null===(o=r.url)||void 0===o?void 0:o.call(r);case 3:return i=a.sent,a.next=6,this.plugins.register(AN(i,this.viewName));case 6:a.next=10;break;case 8:return a.next=10,this.registerInnerPlugins();case 10:return a.next=12,null===(t=this.instance)||void 0===t||null===(n=t.init)||void 0===n?void 0:n.call(t);case 12:return a.next=14,this.innerPlugins.init();case 14:this.isInit=!0;case 15:case"end":return a.stop()}}),e,this)}))),a.onSimulatorRendererReady=function(){return new Promise((function(e){a.project.onSimulatorRendererReady((function(){e()}))}))},a.setActivate=function(e){a._activate=e,a.innerHotkey.activate(a._activate)},a.workspace=e,a.editorWindow=r,a.editorView=o,a.viewType=o.viewType||"editor",a.viewName=o.viewName,a.instance=o(a.innerPlugins._getLowCodePluginContext({pluginName:"any"}),i),Object(u.makeObservable)(YN(a)),a}return GN(n,[{key:"active",get:function e(){return this._activate}},{key:"save",value:function(){var e=IN(BN().mark((function e(){var t,n;return BN().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=this.instance)||void 0===t||null===(n=t.save)||void 0===n?void 0:n.call(t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(TN),QN,ZN,eC;function tC(e){return(tC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */nC=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==tC(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(tC(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function rC(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function oC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rC(i,r,o,a,u,"next",e)}function u(e){rC(i,r,o,a,u,"throw",e)}a(void 0)}))}}function iC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cC(r.key),r)}}function uC(e,t,n){return t&&aC(e.prototype,t),n&&aC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cC(e){var t=sC(e,"string");return"symbol"==tC(t)?t:String(t)}function sC(e,t){if("object"!=tC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx,Object(s.d)("design:type",Object)],JN.prototype,"_activate",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Boolean)],JN.prototype,"isInit",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],JN.prototype,"active",null),function(e){e.sleep="sleep",e.active="active",e.inactive="inactive",e.destroyed="destroyed"}(eC||(eC={}));var lC=function(){function e(t,n,r){var o=this;iC(this,e),this.resource=void 0,this.workspace=void 0,this.config=void 0,this.id=Object(l.db)("window"),this.icon=void 0,this.emitter=Object(u.createModuleEventBus)("Project"),this.title=void 0,this.url=void 0,this.editorView=void 0,this.editorViews=new Map,this.initReady=!1,this.sleep=void 0,this.initViewTypes=oC(nC().mark((function e(){var t,n,r;return nC().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(t=o.resource.editorViews){i.next=3;break}return i.abrupt("return");case 3:n=0;case 4:if(!(n<t.length)){i.next=12;break}return r=t[n].viewName,i.next=8,o.initViewType(r);case 8:o.editorView||o.changeViewName(r);case 9:n++,i.next=4;break;case 12:case"end":return i.stop()}}),e)}))),this.execViewTypesInit=oC(nC().mark((function e(){var t,n,r,i;return nC().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(t=o.resource.editorViews){a.next=3;break}return a.abrupt("return");case 3:n=0;case 4:if(!(n<t.length)){a.next=12;break}return i=t[n].viewName,o.changeViewName(i),a.next=9,null===(r=o.editorViews.get(i))||void 0===r?void 0:r.init();case 9:n++,a.next=4;break;case 12:case"end":return a.stop()}}),e)}))),this.setDefaultViewName=function(){var e;o.changeViewName(null!==(e=o.config.viewName)&&void 0!==e?e:o.resource.defaultViewName)},this.initViewType=function(){var e=oC(nC().mark((function e(t){var n,r;return nC().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(n=o.resource.getEditorView(t),!o.editorViews.get(t)){i.next=3;break}return i.abrupt("return");case 3:r=new JN(o.workspace,o,n,o.config.options),o.editorViews.set(t,r);case 5:case"end":return i.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.changeViewName=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null===(t=o.editorView)||void 0===t||t.setActivate(!1),o.editorView=o.editorViews.get(e),o.editorView&&(o.editorView.setActivate(!0),n||(o.emitter.emit("window.change.view.type",e),o.id===o.workspace.window.id&&o.workspace.emitChangeActiveEditorView()))},this.resource=t,this.workspace=n,this.config=r,Object(u.makeObservable)(this),this.title=r.title,this.icon=t.icon,this.sleep=r.sleep,r.sleep&&this.updateState(eC.sleep)}return uC(e,[{key:"updateState",value:function e(t){var n,r;switch(t){case eC.active:null===(n=this.editorView)||void 0===n||n.setActivate(!0);break;case eC.inactive:null===(r=this.editorView)||void 0===r||r.setActivate(!1);break;case eC.destroyed:}}},{key:"importSchema",value:function(){var e=oC(nC().mark((function e(t){var n=this,r;return nC().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.resource.import(t);case 2:if(r=o.sent){o.next=5;break}return o.abrupt("return");case 5:Object.keys(r).forEach((function(e){var t=n.editorViews.get(e);null==t||t.project.importSchema(r[e])}));case 6:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=oC(nC().mark((function e(){var t,n,r,o,i,a,u;return nC().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:if(t={},n=this.resource.editorViews){c.next=4;break}return c.abrupt("return");case 4:r=0;case 5:if(!(r<n.length)){c.next=14;break}return i=n[r].viewName,c.next=9,null===(o=this.editorViews.get(i))||void 0===o?void 0:o.save();case 9:a=c.sent,t[i]=a;case 11:r++,c.next=5;break;case 14:return c.next=16,this.resource.save(t);case 16:return u=c.sent,this.emitter.emit("handle.save"),c.abrupt("return",u);case 19:case"end":return c.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSave",value:function e(t){var n=this;return this.emitter.on("handle.save",t),function(){n.emitter.off("handle.save",t)}}},{key:"init",value:function(){var e=oC(nC().mark((function e(){var t=this;return nC().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.initViewTypes();case 2:return n.next=4,this.execViewTypesInit();case 4:return Promise.all(Array.from(this.editorViews.values()).map((function(e){return e.onSimulatorRendererReady()}))).then((function(){t.workspace.emitWindowRendererReady()})),n.next=7,this.resource.url();case 7:this.url=n.sent,this.setDefaultViewName(),this.initReady=!0,this.workspace.checkWindowQueue(),this.sleep=!1,this.updateState(eC.active);case 13:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onChangeViewType",value:function e(t){var n=this;return this.emitter.on("window.change.view.type",t),function(){n.emitter.off("window.change.view.type",t)}}},{key:"resourceType",get:function e(){return this.resource.resourceType.type}},{key:"project",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.project}},{key:"innerProject",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerProject}},{key:"innerSkeleton",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerSkeleton}},{key:"innerSetters",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerSetters}},{key:"innerHotkey",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerHotkey}},{key:"editor",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.editor}},{key:"designer",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.designer}},{key:"plugins",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.plugins}},{key:"innerPlugins",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerPlugins}}]),e}();function fC(e){return(fC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */pC=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==fC(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(fC(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function hC(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function dC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){hC(i,r,o,a,u,"next",e)}function u(e){hC(i,r,o,a,u,"throw",e)}a(void 0)}))}}function vC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bC(r.key),r)}}function mC(e,t,n){return t&&yC(e.prototype,t),n&&yC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bC(e){var t=gC(e,"string");return"symbol"==fC(t)?t:String(t)}function gC(e,t){if("object"!=fC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(QN=void 0!==JN&&JN)?QN:Object)],lC.prototype,"editorView",void 0),Object(s.b)([u.obx,Object(s.d)("design:type","function"==typeof(ZN="undefined"!=typeof Map&&Map)?ZN:Object)],lC.prototype,"editorViews",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],lC.prototype,"initReady",void 0);var wC=new l.e({level:"warn",bizName:"workspace:resource"}),OC=function(){function e(t,n,r){var o=this,i,a;vC(this,e),this.resourceData=void 0,this.resourceType=void 0,this.workspace=void 0,this.context=void 0,this.resourceTypeInstance=void 0,this.editorViewMap=new Map,this.children=void 0,this.resourceData=t,this.resourceType=n,this.workspace=r,this.context=new TN(r,"resource-".concat(t.resourceName||n.name),c.g.Resource),this.resourceTypeInstance=n.resourceTypeModel(this.context.innerPlugins._getLowCodePluginContext({pluginName:""}),this.options),this.init(),this.resourceTypeInstance.editorViews&&this.resourceTypeInstance.editorViews.forEach((function(e){o.editorViewMap.set(e.viewName,e)})),n||wC.error("resourceType[".concat(n,"] is unValid.")),this.children=(null===(i=this.resourceData)||void 0===i||null===(a=i.children)||void 0===a?void 0:a.map((function(t){return new e(t,o.workspace.getResourceType(t.resourceName||o.resourceType.name),o.workspace)})))||[]}return mC(e,[{key:"name",get:function e(){return this.resourceType.name}},{key:"viewName",get:function e(){return this.resourceData.viewName||this.resourceData.viewType||this.defaultViewName}},{key:"description",get:function e(){var t;return null===(t=this.resourceTypeInstance)||void 0===t?void 0:t.description}},{key:"icon",get:function e(){var t;return this.resourceData.icon||(null===(t=this.resourceTypeInstance)||void 0===t?void 0:t.icon)}},{key:"type",get:function e(){return this.resourceType.type}},{key:"title",get:function e(){return this.resourceData.title||this.resourceTypeInstance.defaultTitle}},{key:"id",get:function e(){return this.resourceData.id}},{key:"options",get:function e(){return this.resourceData.options}},{key:"category",get:function e(){var t;return null===(t=this.resourceData)||void 0===t?void 0:t.category}},{key:"skeleton",get:function e(){return this.context.innerSkeleton}},{key:"config",get:function e(){return this.resourceData.config}},{key:"init",value:function(){var e=dC(pC().mark((function e(){var t,n;return pC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=(n=this.resourceTypeInstance).init)||void 0===t?void 0:t.call(n);case 2:return r.next=4,this.context.innerPlugins.init();case 4:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"import",value:function(){var e=dC(pC().mark((function e(t){var n,r;return pC().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,null===(n=(r=this.resourceTypeInstance).import)||void 0===n?void 0:n.call(r,t);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"url",value:function(){var e=dC(pC().mark((function e(){var t,n;return pC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=(n=this.resourceTypeInstance).url)||void 0===t?void 0:t.call(n);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=dC(pC().mark((function e(t){var n,r;return pC().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,null===(n=(r=this.resourceTypeInstance).save)||void 0===n?void 0:n.call(r,t);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"editorViews",get:function e(){return this.resourceTypeInstance.editorViews}},{key:"defaultViewName",get:function e(){return this.resourceTypeInstance.defaultViewName||this.resourceTypeInstance.defaultViewType}},{key:"getEditorView",value:function e(t){return this.editorViewMap.get(t)}}]),e}();function jC(e){return(jC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_C(r.key),r)}}function kC(e,t,n){return t&&EC(e.prototype,t),n&&EC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _C(e){var t=PC(e,"string");return"symbol"==jC(t)?t:String(t)}function PC(e,t){if("object"!=jC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var xC=function(){function e(t){SC(this,e),this.resourceTypeModel=void 0,this.resourceTypeModel=t}return kC(e,[{key:"name",get:function e(){return this.resourceTypeModel.resourceName}},{key:"type",get:function e(){return this.resourceTypeModel.resourceType}}]),e}(),NC;function CC(e){return(CC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */TC=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==CC(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(CC(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function LC(e){return DC(e)||MC(e)||AC(e)||RC()}function RC(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function AC(e,t){if(e){if("string"==typeof e)return IC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IC(e,t):void 0}}function MC(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function DC(e){if(Array.isArray(e))return IC(e)}function IC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BC(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function VC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){BC(i,r,o,a,u,"next",e)}function u(e){BC(i,r,o,a,u,"throw",e)}a(void 0)}))}}function FC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UC(r.key),r)}}function HC(e,t,n){return t&&GC(e.prototype,t),n&&GC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function UC(e){var t=zC(e,"string");return"symbol"==CC(t)?t:String(t)}function zC(e,t){if("object"!=CC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){e.CHANGE_WINDOW="change_window",e.CHANGE_ACTIVE_WINDOW="change_active_window",e.WINDOW_RENDER_READY="window_render_ready",e.CHANGE_ACTIVE_EDITOR_VIEW="change_active_editor_view"}(NC||(NC={}));var WC="resource.list.change",$C=function(){function e(t,n){FC(this,e),this.registryInnerPlugin=void 0,this.shellModelFactory=void 0,this.context=void 0,this.enableAutoOpenFirstWindow=void 0,this.resourceTypeMap=new Map,this.emitter=Object(u.createModuleEventBus)("workspace"),this._isActive=!1,this.resourceList=[],this.windows=[],this.editorWindowMap=new Map,this.window=void 0,this.windowQueue=[],this.registryInnerPlugin=t,this.shellModelFactory=n,this.context=new TN(this,"",c.g.Workspace),this.context.innerHotkey.activate(!0),Object(u.makeObservable)(this)}return HC(e,[{key:"skeleton",get:function e(){return this.context.innerSkeleton}},{key:"plugins",get:function e(){return this.context.innerPlugins}},{key:"isActive",get:function e(){return this._isActive}},{key:"defaultResourceType",get:function e(){return this.resourceTypeMap.size>=1?Array.from(this.resourceTypeMap.values())[0]:null}},{key:"checkWindowQueue",value:function e(){if(this.windowQueue&&this.windowQueue.length){var t=this.windowQueue.shift();t instanceof OC?this.openEditorWindowByResource(t):t&&this.openEditorWindow(t.name,t.title,t.options,t.viewName)}}},{key:"initWindow",value:function(){var e=VC(TC().mark((function e(){var t,n;return TC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(this.defaultResourceType&&!1!==this.enableAutoOpenFirstWindow){r.next=2;break}return r.abrupt("return");case 2:return t=this.defaultResourceType.name,n=new OC({resourceName:t,options:{}},this.defaultResourceType,this),this.window=new lC(n,this,{title:n.title}),r.next=7,this.window.init();case 7:this.editorWindowMap.set(this.window.id,this.window),this.windows=[].concat(LC(this.windows),[this.window]),this.emitChangeWindow(),this.emitChangeActiveWindow();case 11:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setActive",value:function e(t){this._isActive=t}},{key:"registerResourceType",value:function(){var e=VC(TC().mark((function e(t){var n;return TC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:n=new xC(t),this.resourceTypeMap.set(t.resourceName,n),!this.window&&this.defaultResourceType&&this._isActive&&this.initWindow();case 3:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getResourceList",value:function e(){return this.resourceList}},{key:"setResourceList",value:function e(t){var n=this;this.resourceList=t.map((function(e){return new OC(e,n.getResourceType(e.resourceName),n)})),this.emitter.emit(WC,t)}},{key:"onResourceListChange",value:function e(t){var n=this;return this.emitter.on(WC,t),function(){n.emitter.off(WC,t)}}},{key:"onWindowRendererReady",value:function e(t){var n=this;return this.emitter.on(NC.WINDOW_RENDER_READY,t),function(){n.emitter.off(NC.WINDOW_RENDER_READY,t)}}},{key:"emitWindowRendererReady",value:function e(){this.emitter.emit(NC.WINDOW_RENDER_READY)}},{key:"getResourceType",value:function e(t){return this.resourceTypeMap.get(t)}},{key:"removeResourceType",value:function e(t){this.resourceTypeMap.has(t)&&this.resourceTypeMap.delete(t)}},{key:"removeEditorWindowById",value:function e(t){var n=this.windows.findIndex((function(e){return e.id===t}));this.remove(n)}},{key:"remove",value:function(){var e=VC(TC().mark((function e(t){var n,r,o,i;return TC().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(!(t<0)){a.next=2;break}return a.abrupt("return");case 2:if(o=this.windows[t],this.windows.splice(t,1),null===(n=this.window)||void 0===n||n.updateState(eC.destroyed),this.window!==o){a.next=11;break}if(this.window=this.windows[t]||this.windows[t+1]||this.windows[t-1],null===(i=this.window)||void 0===i||!i.sleep){a.next=10;break}return a.next=10,this.window.init();case 10:this.emitChangeActiveWindow();case 11:this.emitChangeWindow(),null===(r=this.window)||void 0===r||r.updateState(eC.active);case 13:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeEditorWindow",value:function e(t,n){var r=this.windows.findIndex((function(e){var r;return(null===(r=e.resource)||void 0===r?void 0:r.name)===t&&(e.title===n||e.resource.id===n)}));this.remove(r)}},{key:"removeEditorWindowByResource",value:function e(t){var n=this.windows.findIndex((function(e){var n;return(null===(n=e.resource)||void 0===n?void 0:n.id)===t.id}));this.remove(n)}},{key:"openEditorWindowById",value:function(){var e=VC(TC().mark((function e(t){var n,r,o;return TC().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.editorWindowMap.get(t),null===(n=this.window)||void 0===n||n.updateState(eC.inactive),!o){i.next=8;break}if(this.window=o,!o.sleep){i.next=7;break}return i.next=7,o.init();case 7:this.emitChangeActiveWindow();case 8:null===(r=this.window)||void 0===r||r.updateState(eC.active);case 9:case"end":return i.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openEditorWindowByResource",value:function(){var e=VC(TC().mark((function e(t){var n,r,o,i,a,u,c,s=arguments;return TC().wrap((function e(l){for(;;)switch(l.prev=l.next){case 0:if(i=s.length>1&&void 0!==s[1]&&s[1],!this.window||this.window.sleep||null!==(n=this.window)&&void 0!==n&&n.initReady||i){l.next=4;break}return this.windowQueue.push(t),l.abrupt("return");case 4:if(null===(r=this.window)||void 0===r||r.updateState(eC.inactive),!(a=this.windows.filter((function(e){var n;return(null===(n=e.resource)||void 0===n?void 0:n.id)===t.id})))||!a.length){l.next=17;break}if(this.window=a[0],i||!this.window.sleep){l.next=13;break}return l.next=11,this.window.init();case 11:l.next=14;break;case 13:this.checkWindowQueue();case 14:return this.emitChangeActiveWindow(),null===(u=this.window)||void 0===u||u.updateState(eC.active),l.abrupt("return");case 17:if(c=new lC(t,this,{title:t.title,options:t.options,viewName:t.viewName,sleep:i}),this.windows=[].concat(LC(this.windows),[c]),this.editorWindowMap.set(c.id,c),!i){l.next=23;break}return this.emitChangeWindow(),l.abrupt("return");case 23:return this.window=c,l.next=26,this.window.init();case 26:this.emitChangeWindow(),this.emitChangeActiveWindow(),null===(o=this.window)||void 0===o||o.updateState(eC.active);case 29:case"end":return l.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openEditorWindow",value:function(){var e=VC(TC().mark((function e(t,n,r,o,i){var a,u,c,s,l,f,p,h;return TC().wrap((function e(d){for(;;)switch(d.prev=d.next){case 0:if(!this.window||this.window.sleep||null!==(a=this.window)&&void 0!==a&&a.initReady||i){d.next=3;break}return this.windowQueue.push({name:t,title:n,options:r,viewName:o}),d.abrupt("return");case 3:if(s=this.resourceTypeMap.get(t)){d.next=7;break}return console.error("".concat(t," resourceType is not available")),d.abrupt("return");case 7:if(null===(u=this.window)||void 0===u||u.updateState(eC.inactive),!(l=this.windows.filter((function(e){var r;return(null===(r=e.resource)||void 0===r?void 0:r.name)===t&&e.resource.title==n||e.resource.id==n})))||!l.length){d.next=20;break}if(this.window=l[0],i||!this.window.sleep){d.next=16;break}return d.next=14,this.window.init();case 14:d.next=17;break;case 16:this.checkWindowQueue();case 17:return this.emitChangeActiveWindow(),null===(f=this.window)||void 0===f||f.updateState(eC.active),d.abrupt("return");case 20:if(p=new OC({resourceName:t,title:n,options:r,id:null==n?void 0:n.toString()},s,this),h=new lC(p,this,{title:n,options:r,viewName:o,sleep:i}),this.windows=[].concat(LC(this.windows),[h]),this.editorWindowMap.set(h.id,h),!i){d.next=27;break}return this.emitChangeWindow(),d.abrupt("return");case 27:return this.window=h,d.next=30,this.window.init();case 30:this.emitChangeWindow(),this.emitChangeActiveWindow(),null===(c=this.window)||void 0===c||c.updateState(eC.active);case 33:case"end":return d.stop()}}),e,this)})));function t(t,n,r,o,i){return e.apply(this,arguments)}return t}()},{key:"onChangeWindows",value:function e(t){var n=this;return this.emitter.on(NC.CHANGE_WINDOW,t),function(){n.emitter.removeListener(NC.CHANGE_WINDOW,t)}}},{key:"onChangeActiveEditorView",value:function e(t){var n=this;return this.emitter.on(NC.CHANGE_ACTIVE_EDITOR_VIEW,t),function(){n.emitter.removeListener(NC.CHANGE_ACTIVE_EDITOR_VIEW,t)}}},{key:"emitChangeActiveEditorView",value:function e(){this.emitter.emit(NC.CHANGE_ACTIVE_EDITOR_VIEW)}},{key:"emitChangeWindow",value:function e(){this.emitter.emit(NC.CHANGE_WINDOW)}},{key:"emitChangeActiveWindow",value:function e(){this.emitter.emit(NC.CHANGE_ACTIVE_WINDOW),this.emitChangeActiveEditorView()}},{key:"onChangeActiveWindow",value:function e(t){var n=this;return this.emitter.on(NC.CHANGE_ACTIVE_WINDOW,t),function(){n.emitter.removeListener(NC.CHANGE_ACTIVE_WINDOW,t)}}}]),e}();function XC(e){return(XC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JC(r.key),r)}}function qC(e,t,n){return t&&KC(e.prototype,t),n&&KC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function JC(e){var t=QC(e,"string");return"symbol"==XC(t)?t:String(t)}function QC(e,t){if("object"!=XC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ZC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eT(e,t)}function eT(e,t){return(eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function tT(e){var t=oT();return function n(){var r=iT(e),o;if(t){var i=iT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return nT(this,o)}}function nT(e,t){if(t&&("object"===XC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rT(e)}function rT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function iT(e){return(iT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Array)],$C.prototype,"windows",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],$C.prototype,"window",void 0);var aT=function(e){ZC(n,e);var t=tT(n);function n(){return YC(this,n),t.apply(this,arguments)}return qC(n,[{key:"render",value:function e(){var t=this.props.active,n=this.props.editorView,r=n.innerSkeleton;if(!n.isInit){var o=u.engineConfig.get("loadingComponent",Ku);return React.createElement(o,null)}return React.createElement(Sv,{skeleton:r,className:t?"active engine-editor-view":"engine-editor-view",topAreaItemClassName:"engine-actionitem"})}}]),n}(o.PureComponent);aT=Object(s.b)([u.observer],aT);var uT=n(114);function cT(e){return(cT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pT(r.key),r)}}function fT(e,t,n){return t&&lT(e.prototype,t),n&&lT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pT(e){var t=hT(e,"string");return"symbol"==cT(t)?t:String(t)}function hT(e,t){if("object"!=cT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vT(e,t)}function vT(e,t){return(vT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function yT(e){var t=gT();return function n(){var r=wT(e),o;if(t){var i=wT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return mT(this,o)}}function mT(e,t){if(t&&("object"===cT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bT(e)}function bT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wT(e){return(wT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var OT=function(e){dT(n,e);var t=yT(n);function n(){return sT(this,n),t.apply(this,arguments)}return fT(n,[{key:"render",value:function e(){var t=this.props.resource.skeleton,n=this.props.window.editorViews;return React.createElement("div",{className:"workspace-resource-view"},React.createElement(rh,{area:t.topArea,itemClassName:"engine-actionitem"}),React.createElement("div",{className:"workspace-editor-body"},Array.from(n.values()).map((function(e){return React.createElement(aT,{key:e.name,active:e.active,editorView:e})}))))}}]),n}(o.PureComponent);function jT(e){return(jT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ST(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ET(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_T(r.key),r)}}function kT(e,t,n){return t&&ET(e.prototype,t),n&&ET(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _T(e){var t=PT(e,"string");return"symbol"==jT(t)?t:String(t)}function PT(e,t){if("object"!=jT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function xT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NT(e,t)}function NT(e,t){return(NT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function CT(e){var t=RT();return function n(){var r=AT(e),o;if(t){var i=AT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return TT(this,o)}}function TT(e,t){if(t&&("object"===jT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return LT(e)}function LT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function AT(e){return(AT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}OT=Object(s.b)([u.observer],OT);var MT=function(e){xT(n,e);var t=CT(n);function n(){return ST(this,n),t.apply(this,arguments)}return kT(n,[{key:"render",value:function e(){var t=this.props.active,n=this.props.window,r=n.resource,o=n.initReady,i=n.url;if(!o){var a=u.engineConfig.get("loadingComponent",Ku);return React.createElement("div",{className:"workspace-engine-main ".concat(t?"active":"")},React.createElement(a,null))}return"webview"===r.type&&i?React.createElement(RN,{url:i,viewName:r.name}):React.createElement("div",{className:"workspace-engine-main ".concat(t?"active":"")},React.createElement(OT,{resource:r,window:this.props.window}))}}]),n}(o.PureComponent);MT=Object(s.b)([u.observer],MT);var DT=Object(o.createContext)({});function IT(e){return(IT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GT(r.key),r)}}function FT(e,t,n){return t&&VT(e.prototype,t),n&&VT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GT(e){var t=HT(e,"string");return"symbol"==IT(t)?t:String(t)}function HT(e,t){if("object"!=IT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function UT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zT(e,t)}function zT(e,t){return(zT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function WT(e){var t=YT();return function n(){var r=KT(e),o;if(t){var i=KT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return $T(this,o)}}function $T(e,t){if(t&&("object"===IT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return XT(e)}function XT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function KT(e){return(KT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var qT=function(e){UT(n,e);var t=WT(n);function n(e){var r;BT(this,n);var o=(r=t.call(this,e)).props,i=o.config,a=o.components,c,s;return o.workspace.skeleton.buildFromConfig(i,a),u.engineConfig.onGot("theme",(function(e){r.setState({theme:e})})),u.engineConfig.onGot("workspaceEmptyComponent",(function(e){r.setState({workspaceEmptyComponent:e})})),r.state={workspaceEmptyComponent:u.engineConfig.get("workspaceEmptyComponent"),theme:u.engineConfig.get("theme")},r}return FT(n,[{key:"render",value:function e(){var t=this.props,n=t.workspace,r=t.className,o=t.topAreaItemClassName,i=n.skeleton,a=this.state,c=a.workspaceEmptyComponent,s=a.theme;return React.createElement("div",{className:Qo()("lc-workspace-workbench",r,s)},React.createElement(DT.Provider,{value:i},React.createElement(rh,{className:"lc-workspace-top-area",area:i.topArea,itemClassName:o}),React.createElement("div",{className:"lc-workspace-workbench-body"},React.createElement(gh,{className:"lc-workspace-left-area lc-left-area",area:i.leftArea}),React.createElement(Jh,{area:i.leftFloatArea}),React.createElement(Mh,{area:i.leftFixedArea}),React.createElement("div",{className:"lc-workspace-workbench-center"},React.createElement("div",{className:"lc-workspace-workbench-center-content"},React.createElement(wN,{area:i.subTopArea,itemClassName:o}),React.createElement("div",{className:"lc-workspace-workbench-window"},n.windows.map((function(e){var t;return React.createElement(MT,{active:e.id===(null===(t=n.window)||void 0===t?void 0:t.id),window:e,key:e.id})})),!n.windows.length&&c?React.createElement(c,null):null)),React.createElement(Nd,{area:i.mainArea}),React.createElement(zd,{area:i.bottomArea}))),React.createElement(u.TipContainer,null)))}}]),n}(o.Component);function JT(e,t){var n=e.getProp(t,!1);if(!n||n.isUnset())return null;var r=n.getValue();return Object(l.H)(r)&&(r=r.mock),null==r?null:"literal"===n.type?r:Symbol.for("not-literal")}function QT(e){var t=e.node,n,r=e.event.target;if(!Array.from(r.childNodes).every((function(e){return e.nodeType===Node.TEXT_NODE})))return null;var o=r.innerText,i=["title","label","text","content","children"].find((function(e){return ZT(JT(t,e),o)}));return i?{propElement:r,propTarget:i}:null}function ZT(e,t){return"string"==typeof e&&e.trim()===t}qT=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],qT);var eL={condition:function e(t){return"expression"===t.type},onSaveContent:function e(t,n){var r=n.getValue(),o=r;Object(l.H)(r)&&(o=r.mock),o=t,Object(l.H)(r)?n.setValue({type:"JSExpression",value:r.value,mock:o}):n.setValue(o)}};uo.addLiveEditingSpecificRule(QT),uo.addLiveEditingSaveHandler(eL);var tL={projectSymbol:Bv,documentSymbol:Gv,nodeSymbol:Uv,nodeChildrenSymbol:Wv,skeletonSymbol:Fv,editorSymbol:Hv,designerSymbol:Vv,settingPropEntrySymbol:Xv,settingTopEntrySymbol:Yv,designerCabinSymbol:uy,editorCabinSymbol:cy,skeletonCabinSymbol:sy,propSymbol:$v,simulatorHostSymbol:ry,skeletonItemSymbol:jy,simulatorRenderSymbol:oy},nL=function e(t){var n=function e(n){return{init:function e(){var r=n.material;r.onChangeAssets((function(){var e,n=r.getAssets().components,o=void 0===n?[]:n;t.buildComponentMetasMap(o)}))}}};return n.pluginName="___component_meta_parser___",n},rL=function e(t){return{init:function e(){var r,o;if(!t.config.get("disableDefaultSetters")){var i=null===(r=n(115))||void 0===r?void 0:r.setters;i&&t.setters.registerSetter(i)}}}};rL.pluginName="___setter_registry___";var oL=n(116);function iL(e){return(iL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */aL=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==iL(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(iL(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function uL(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function cL(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){uL(i,r,o,a,u,"next",e)}function u(e){uL(i,r,o,a,u,"throw",e)}a(void 0)}))}}function sL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pL(r.key),r)}}function fL(e,t,n){return t&&lL(e.prototype,t),n&&lL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pL(e){var t=hL(e,"string");return"symbol"==iL(t)?t:String(t)}function hL(e,t){if("object"!=iL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vL(e,t)}function vL(e,t){return(vL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function yL(e){var t=gL();return function n(){var r=wL(e),o;if(t){var i=wL(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return mL(this,o)}}function mL(e,t){if(t&&("object"===iL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bL(e)}function bL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wL(e){return(wL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var OL=Object(l.r)({level:"warn",bizName:"plugin:plugin-designer"}),jL=function(e){dL(n,e);var t=yL(n);function n(e){var r;return sL(this,n),(r=t.call(this,e)).state={componentMetadatas:null,library:null,extraEnvironment:null,renderEnv:"default",device:"default",locale:"",designMode:"live",deviceClassName:"",simulatorUrl:null,requestHandlersMap:null},r._mounted=!0,r.handleDesignerMount=function(e){var t=r.props.engineEditor;t.set("designer",e),t.eventBus.emit("designer.ready",e),t.onGot("schema",(function(t){e.project.open(t)}))},r.setupAssets(),r}return fL(n,[{key:"setupAssets",value:function(){var e=cL(aL().mark((function e(){var t=this,n,r,o,i,a,c,s,l,f,p,h,d,v,y;return aL().wrap((function e(m){for(;;)switch(m.prev=m.next){case 0:return n=this.props.engineEditor,m.prev=1,m.next=4,n.onceGot("assets");case 4:if(r=m.sent,o=u.engineConfig.get("renderEnv")||n.get("renderEnv"),i=u.engineConfig.get("device")||n.get("device"),a=u.engineConfig.get("locale")||n.get("locale"),c=u.engineConfig.get("designMode")||n.get("designMode"),s=u.engineConfig.get("deviceClassName")||n.get("deviceClassName"),l=u.engineConfig.get("simulatorUrl")||n.get("simulatorUrl"),f=u.engineConfig.get("requestHandlersMap")||n.get("requestHandlersMap"),this._mounted){m.next=14;break}return m.abrupt("return");case 14:u.engineConfig.onGot("locale",(function(e){t.setState({locale:e})})),u.engineConfig.onGot("requestHandlersMap",(function(e){t.setState({requestHandlersMap:e})})),u.engineConfig.onGot("device",(function(e){t.setState({device:e})})),p=r.components,h=r.packages,d=r.extraEnvironment,v=r.utils,y={componentMetadatas:p||[],library:h||[],utilsMetadata:v||[],extraEnvironment:d,renderEnv:o,device:i,designMode:c,deviceClassName:s,simulatorUrl:l,requestHandlersMap:f,locale:a},this.setState(y),m.next=25;break;case 22:m.prev=22,m.t0=m.catch(1),OL.error(m.t0);case 25:case"end":return m.stop()}}),e,this,[[1,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this._mounted=!1}},{key:"render",value:function e(){var t=this.props.engineEditor,n=this.state,r=n.componentMetadatas,o=n.utilsMetadata,a=n.library,u=n.extraEnvironment,c=n.renderEnv,s=n.device,l=n.designMode,f=n.deviceClassName,p=n.simulatorUrl,h=n.requestHandlersMap,d=n.locale;return a&&r?i.a.createElement(Kf,{onMount:this.handleDesignerMount,className:"lowcode-plugin-designer",editor:t,name:t.viewName,designer:t.get("designer"),componentMetadatas:r,simulatorProps:{library:a,utilsMetadata:o,extraEnvironment:u,renderEnv:c,device:s,locale:d,designMode:l,deviceClassName:f,simulatorUrl:p,requestHandlersMap:h}}):null}}]),n}(o.PureComponent);function SL(e){return(SL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EL(Object(n),!0).forEach((function(t){_L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _L(e,t,n){return(t=PL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PL(e){var t=xL(e,"string");return"symbol"==SL(t)?t:String(t)}function xL(e,t){if("object"!=SL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}jL.displayName=void 0;var NL=function e(t){var n=function e(n){return{init:function e(){var r=n.skeleton,o=n.config;r.add({area:"mainArea",name:"designer",type:"Widget",content:React.createElement(jL,{engineConfig:o,engineEditor:t})}),o.get("disableDefaultSettingPanel")||r.add({area:"rightArea",name:"settingsPane",type:"Panel",content:React.createElement(gx,{engineEditor:t}),props:{ignoreRoot:!0},panelProps:kL({},o.get("defaultSettingPanelProps")||{})})}}};return n.pluginName="___default_panel___",n},CL=NL;function TL(e){return(TL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ML(r.key),r)}}function AL(e,t,n){return t&&RL(e.prototype,t),n&&RL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ML(e){var t=DL(e,"string");return"symbol"==TL(t)?t:String(t)}function DL(e,t){if("object"!=TL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var IL,BL=new(function(){function e(){LL(this,e)}return AL(e,[{key:"createNode",value:function e(t){return qw.create(t)}},{key:"createSettingField",value:function e(t){return Pw.create(t)}}]),e}());function VL(e,t,n){var r=t;Object(l.N)(r)&&r.isSlotNode&&(r=r.exportSchema(c.h.Clone));var o=null,i,a,u;Object(l.N)(r)?(o=r,null===(i=e.children)||void 0===i||i.insert(o,n)):(o=(null===(a=e.document)||void 0===a?void 0:a.createNode(r))||null)&&(null===(u=e.children)||void 0===u||u.insert(o,n));return o||null}function FL(e,t,n){for(var r=n,o,i=[];o=t.pop();)o=VL(e,o,r),i.push(o),r=o.index;return i}function GL(e,t){var n,r,o,i=e.project,a=e.material,u=i.currentDocument;if(!u)return null;if(Array.isArray(t)&&Object(l.O)(t[0])&&null!==(n=a.getComponentMeta(t[0].componentName))&&void 0!==n&&n.isModal)return u.root?{target:u.root}:null;var c=u.focusNode,s,f=u.selection.getNodes().find((function(e){return c.contains(e)})),p,h;return f&&f!==c?null!==(r=f.componentMeta)&&void 0!==r&&r.isContainer?p=f:(p=f.parent,h=f.index+1):p=c,!p||!t||null!==(o=p.componentMeta)&&void 0!==o&&o.checkNestingDown(p,t)?{target:p,index:h}:null}function HL(e,t,n){if(e){if(!t)return e;var r;if(e.isContainerNode){var o=e.children;if(o&&!o.isEmptyNode&&(r=HL(o.get(0))))return r}if(r=HL(e.nextSibling))return r}return n?HL(n.nextSibling,!1,null==n?void 0:n.parent):null}function UL(e,t,n){if(e){var r;if(!t&&e.isContainerNode){var o=e.children,i;if(r=UL(o&&!o.isEmptyNode?o.get(o.size-1):null))return r}if(!t)return e;if(r=UL(e.prevSibling))return r}return n||null}function zL(e,t,n){var r,o=e.document;if(!o)return null;var i={type:c.f.Node,nodes:[t]},a=null==o?void 0:o.focusNode;if(null!=t&&null!==(r=t.componentMeta)&&void 0!==r&&r.isModal)return{container:a,ref:n};if(!n&&a&&e.contains(a))return o.checkNesting(a,i)?{container:a}:null;if(e.isRootNode&&e.children){var u=e.children.filter((function(e){return!!e.isContainerNode&&!!o.checkNesting(e,i)}))[0];return u?{container:u,ref:n}:o.checkNesting(e,i)?{container:e,ref:n}:null}return e.isContainerNode&&o.checkNesting(e,i)?{container:e,ref:n}:e.parent?zL(e.parent,t,{index:e.index}):null}var WL=function e(t){return{init:function e(){var n=t.hotkey,r=t.project,o=t.logger,i=t.canvas,a=i.clipboard;n.bind(["backspace","del"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(l.F)(e)&&n){e.preventDefault();var a=n.selection,u;a.getTopNodes().forEach((function(e){null!=e&&e.canPerformAction("remove")&&e&&n.removeNode(e)})),a.clear()}}})),n.bind("escape",(function(e,t){var n;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var a=null===(n=r.currentDocument)||void 0===n?void 0:n.selection;!Object(l.F)(e)&&a&&(e.preventDefault(),a.clear())}})),n.bind(["command+c","ctrl+c","command+x","ctrl+x"],(function(e,t){var n,u;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var s=r.currentDocument;if(!Object(l.F)(e)&&s){var f=null===(n=document.getSelection())||void 0===n||null===(u=n.anchorNode)||void 0===u?void 0:u.nodeValue;if(!f||"string"!=typeof f){e.preventDefault();var p=s.selection.getTopNodes(!0);if((p=p.filter((function(e){return null==e?void 0:e.canPerformAction("copy")})))&&!(p.length<1)){var h,d,v={type:"nodeSchema",componentsMap:{},componentsTree:p.map((function(e){return null==e?void 0:e.exportSchema(c.h.Clone)}))},y;a.setData(v),t&&t.indexOf("x")>0&&p.forEach((function(e){var t=null==e?void 0:e.parent;null==t||t.select(),null==e||e.remove()}))}}}}})),n.bind(["command+v","ctrl+v"],(function(e,n){if(o.info("action ".concat(n," is triggered")),!i.isInLiveEditing){var u=null==r?void 0:r.currentDocument;!Object(l.F)(e)&&u&&a.waitPasteData(e,(function(e){var n=e.componentsTree;if(n){var r=GL(t,n)||{},o=r.target,a=r.index;if(!o)return;var s=n.filter((function(e){var t={type:c.f.Node,nodes:[e]};return u.checkNesting(o,t)}));if(0===s.length)return;var l=FL(o,s,a);l&&(u.selection.selectAll(l.map((function(e){return e.id}))),setTimeout((function(){var e;return null===(e=i.activeTracker)||void 0===e?void 0:e.track(l[0])}),10))}}))}})),n.bind(["command+z","ctrl+z"],(function(e,t){var n,a;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var u=null===(n=r.currentDocument)||void 0===n?void 0:n.history;if(!Object(l.F)(e)&&u){e.preventDefault();var c=null===(a=r.currentDocument)||void 0===a?void 0:a.selection,s=(null==c?void 0:c.selected)&&Array.from(null==c?void 0:c.selected);u.back(),null==c||c.selectAll(s)}}})),n.bind(["command+y","ctrl+y","command+shift+z"],(function(e,t){var n,a;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var u=null===(n=r.currentDocument)||void 0===n?void 0:n.history;if(!Object(l.F)(e)&&u){e.preventDefault();var c=null===(a=r.currentDocument)||void 0===a?void 0:a.selection,s=(null==c?void 0:c.selected)&&Array.from(null==c?void 0:c.selected);u.forward(),null==c||c.selectAll(s)}}})),n.bind(["left","right"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(l.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c="left"===t?null==u?void 0:u.prevSibling:null==u?void 0:u.nextSibling;null==c||c.select()}}}})),n.bind(["up","down"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(l.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0];if("down"===t){var c=HL(u,!0,null==u?void 0:u.parent);null==c||c.select()}else if("up"===t){var s=UL(u,!0,null==u?void 0:u.parent);null==s||s.select()}}}}})),n.bind(["option+left","option+right"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(l.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var s=t&&/(left)$/.test(t),f=s?u.prevSibling:u.nextSibling;f&&(s?c.insertBefore(u,f,!0):c.insertAfter(u,f,!0),null==u||u.select())}}}}})),n.bind(["option+up"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(l.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var s=u.prevSibling;if(s){if(s.isContainerNode){var f=zL(s,u,null);s.insertAfter(u,f.ref,!0)}else c.insertBefore(u,s,!0);null==u||u.select()}else{var p=zL(c,u,null),h;if(p)p.container.internalToShellNode().insertBefore(u,p.ref),null==u||u.select()}}}}}})),n.bind(["option+down"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.getCurrentDocument();if(!Object(l.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var s=u.nextSibling;if(s)s.isContainerNode?s.insertBefore(u,void 0):c.insertAfter(u,s,!0),null==u||u.select();else{var f=zL(c,u,null),p;if(f)f.container.internalToShellNode().insertAfter(u,f.ref,!0),null==u||u.select()}}}}}}))}}};function $L(){return($L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function XL(e){return React.createElement(l.f,$L({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53c-12.1-8.7-20-22.9-20-39 0-26.5 21.5-48 48-48s48 21.5 48 48c0 16.1-7.9 30.3-20 39z m152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z"}))}function YL(){return(YL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function KL(e){return React.createElement(l.f,YL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32z m-40 376H232V536h560v304z"}),React.createElement("path",{d:"M484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53c12.1-8.7 20-22.9 20-39 0-26.5-21.5-48-48-48s-48 21.5-48 48c0 16.1 7.9 30.3 20 39z"}))}function qL(){return(qL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function JL(e){return React.createElement(l.f,qL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z"}))}function QL(){return(QL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ZL(e){return React.createElement(l.f,QL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M479.552 276.544l296.896 2.752v75.712L960 249.024l-183.552-106.048v92.48h-271.36l-46.656-2.752-190.784 203.648 30.976 30.976 180.928-190.784z m296.896 484.928l-253.056-2.816-262.976-263.04H64v43.904h175.296l262.912 262.976 274.176 2.816v75.712L960 774.976l-183.616-105.984 0.064 92.48z"}))}function eR(){return(eR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tR(e){return React.createElement(l.f,eR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.7 700.9c-102.1 0-184.9-82.8-184.9-184.9 0-28.6 6.5-55.6 18-79.7l-93.7-93.7C138.9 418.1 65.2 514 65.2 514s200.4 260.7 447.6 260.7c50.2 0 98.6-10.8 143.6-27.9l-63.9-63.9c-24.2 11.5-51.2 18-79.8 18z"}),React.createElement("path",{d:"M960.3 514S759.9 253.3 512.7 253.3c-49.5 0-97.2 10.5-141.7 27.2L243.5 153.1l-45.3 45.3 262.3 262.2c-13.1 13.3-21.2 31.5-21.2 51.6 0 40.6 32.9 73.4 73.4 73.4 20.1 0 38.4-8.1 51.6-21.2l260.9 260.8 45.3-45.3-95.6-95.6C887.2 609.1 960.3 514 960.3 514z m-376.7-20.9c-6.8-25.2-26.6-45.1-51.9-51.9L437.5 347c23-10.3 48.5-16 75.3-16 102.1 0 184.9 82.8 184.9 184.9 0 26.8-5.7 52.2-15.9 75.2l-98.2-98z"}))}function nR(){return(nR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rR(e){return React.createElement(l.f,nR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 256c-163.8 0-291.4 97.6-448 256 134.8 135.4 248 256 448 256 199.8 0 346.8-152.8 448-253.2C856.4 397.2 709.6 256 512 256z m0 438.6c-98.8 0-179.2-82-179.2-182.6 0-100.8 80.4-182.6 179.2-182.6s179.2 82 179.2 182.6c0 100.8-80.4 182.6-179.2 182.6z"}),React.createElement("path",{d:"M512 448c0-15.8 5.8-30.2 15.2-41.4-5-0.8-10-1.2-15.2-1.2-57.6 0-104.6 47.8-104.6 106.6s47 106.6 104.6 106.6 104.6-47.8 104.6-106.6c0-4.6-0.4-9.2-0.8-13.8-11 8.6-24.6 13.8-39.6 13.8-35.6 0-64.2-28.6-64.2-64z"}))}function oR(){return(oR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iR(e){return React.createElement(l.f,oR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M911.457097 168.557714a35.986286 35.986286 0 0 1-8.009143 40.009143L621.73824 490.276571V914.285714c0 14.848-9.142857 28.013714-22.272 33.718857A42.349714 42.349714 0 0 1 585.166811 950.857143a34.084571 34.084571 0 0 1-25.709714-10.861714l-146.285714-146.285715A36.425143 36.425143 0 0 1 402.309669 768v-277.723429L120.599954 208.566857a35.986286 35.986286 0 0 1-8.009143-40.009143C118.295954 155.428571 131.461669 146.285714 146.309669 146.285714h731.428571c14.848 0 28.013714 9.142857 33.718857 22.272z",fill:"#666","p-id":"2025"}))}function aR(){return(aR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function uR(e){return React.createElement(l.f,aR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M60.235294 542.117647c0 132.879059 103.062588 240.941176 229.677176 240.941176l0 60.235294c-159.864471 0-289.912471-135.107765-289.912471-301.176471s130.048-301.176471 289.912471-301.176471l254.735059 0-99.147294-99.147294 42.586353-42.586353 171.911529 171.851294-171.851294 171.911529-42.646588-42.646588 99.207529-99.147294-254.795294 0c-126.614588 0-229.677176 108.062118-229.677176 240.941176zM734.087529 240.941176l0 60.235294c126.614588 0 229.677176 108.062118 229.677176 240.941176s-103.062588 240.941176-229.677176 240.941176l-254.795294 0 99.147294-99.147294-42.586353-42.586353-171.851294 171.851294 171.911529 171.911529 42.586353-42.586353-99.207529-99.207529 254.735059 0c159.924706 0 289.972706-135.107765 289.972706-301.176471s-130.048-301.176471-289.912471-301.176471z"}))}function cR(){return(cR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sR(e){return React.createElement(l.f,cR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m0-256a256 256 0 1 0 0-512 256 256 0 0 0 0 512z"}))}function lR(){return(lR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fR(e){return React.createElement(l.f,lR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m0-64A448 448 0 1 0 512 64a448 448 0 0 0 0 896z"}))}function pR(){return(pR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hR(e){return React.createElement(l.f,pR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M965.824 405.952a180.48 180.48 0 0 1-117.12-85.376 174.464 174.464 0 0 1-16-142.08 22.208 22.208 0 0 0-7.04-23.552 480.576 480.576 0 0 0-153.6-89.216 23.104 23.104 0 0 0-24.32 5.76 182.208 182.208 0 0 1-135.68 57.92 182.208 182.208 0 0 1-133.12-56.64 23.104 23.104 0 0 0-26.88-7.04 478.656 478.656 0 0 0-153.6 89.856 22.208 22.208 0 0 0-7.04 23.552 174.464 174.464 0 0 1-16 141.44A180.48 180.48 0 0 1 58.24 405.952a22.4 22.4 0 0 0-17.28 17.792 455.08 455.08 0 0 0 0 176.512 22.4 22.4 0 0 0 17.28 17.792 180.48 180.48 0 0 1 117.12 84.736c25.408 42.944 31.232 94.592 16 142.08a22.208 22.208 0 0 0 7.04 23.552A480.576 480.576 0 0 0 352 957.632h7.68a23.04 23.04 0 0 0 16.64-7.04 184.128 184.128 0 0 1 266.944 0c6.592 8.96 18.752 11.968 28.8 7.04a479.36 479.36 0 0 0 156.16-88.576 22.208 22.208 0 0 0 7.04-23.552 174.464 174.464 0 0 1 13.44-142.72 180.48 180.48 0 0 1 117.12-84.736 22.4 22.4 0 0 0 17.28-17.792 452.613 452.613 0 0 0 0-176.512 23.04 23.04 0 0 0-17.28-17.792z m-42.88 169.408a218.752 218.752 0 0 0-128 98.112 211.904 211.904 0 0 0-21.76 156.736 415.936 415.936 0 0 1-112 63.68 217.472 217.472 0 0 0-149.12-63.68 221.312 221.312 0 0 0-149.12 63.68 414.592 414.592 0 0 1-112-63.68c12.8-53.12 4.288-109.12-23.68-156.096A218.752 218.752 0 0 0 101.12 575.36a386.176 386.176 0 0 1 0-127.36 218.752 218.752 0 0 0 128-98.112c27.2-47.552 34.944-103.68 21.76-156.8a415.296 415.296 0 0 1 112-63.68A221.44 221.44 0 0 0 512 187.392a218.24 218.24 0 0 0 149.12-57.984 413.952 413.952 0 0 1 112 63.744 211.904 211.904 0 0 0 23.04 156.096 218.752 218.752 0 0 0 128 98.112 386.65 386.65 0 0 1 0 127.36l-1.28 0.64z"}),React.createElement("path",{d:"M512 320.576c-105.984 0-192 85.568-192 191.104a191.552 191.552 0 0 0 192 191.104c106.112 0 192.064-85.568 192.064-191.104a190.72 190.72 0 0 0-56.256-135.168 192.448 192.448 0 0 0-135.744-55.936z m0 318.528c-70.656 0-128-57.088-128-127.424 0-70.4 57.344-127.36 128-127.36 70.72 0 128 56.96 128 127.36 0 33.792-13.44 66.176-37.44 90.112a128.32 128.32 0 0 1-90.496 37.312z"}))}function dR(){return(dR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vR(e){return React.createElement(l.f,dR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M224 256v639.84A64 64 0 0 0 287.84 960h448.32A64 64 0 0 0 800 895.84V256h64a32 32 0 1 0 0-64H160a32 32 0 1 0 0 64h64zM384 96c0-17.664 14.496-32 31.904-32h192.192C625.696 64 640 78.208 640 96c0 17.664-14.496 32-31.904 32H415.904A31.872 31.872 0 0 1 384 96z m-96 191.744C288 270.208 302.4 256 320.224 256h383.552C721.6 256 736 270.56 736 287.744v576.512C736 881.792 721.6 896 703.776 896H320.224A32.224 32.224 0 0 1 288 864.256V287.744zM352 352c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z"}))}function yR(e){return(yR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CR(r.key),r)}}function gR(e,t,n){return t&&bR(e.prototype,t),n&&bR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OR(e,t)}function OR(e,t){return(OR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function jR(e){var t=kR();return function n(){var r=_R(e),o;if(t){var i=_R(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return SR(this,o)}}function SR(e,t){if(t&&("object"===yR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ER(e)}function ER(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _R(e){return(_R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function PR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PR(Object(n),!0).forEach((function(t){NR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NR(e,t,n){return(t=CR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CR(e){var t=TR(e,"string");return"symbol"==yR(t)?t:String(t)}function TR(e,t){if("object"!=yR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function LR(e,t,n,r){var o,i,a=null==n?void 0:n.node,u=null==a||null===(o=a.componentMeta)||void 0===o?void 0:o.npm,c=[null==u?void 0:u.package,null==u?void 0:u.componentName].filter((function(e){return!!e})).join("-")||(null==a||null===(i=a.componentMeta)||void 0===i?void 0:i.componentName)||"";e.emit("outlinePane.".concat(t),xR({selected:c},r))}WL.pluginName="___builtin_hotkey___",XL.displayName="IconLock",KL.displayName="IconUnlock",JL.displayName="IconArrowRight",ZL.displayName="IconCond",tR.displayName="IconEyeClose",rR.displayName="IconEye",iR.displayName="IconFilter",uR.displayName="IconLoop",sR.displayName="IconRadioActive",fR.displayName="IconRadio",hR.displayName="IconSetting",vR.displayName="IconDelete";var RR=function(e){wR(n,e);var t=jR(n);function n(){var e;mR(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1,title:""},e.lastInput=void 0,e.enableEdit=function(t){t.preventDefault(),e.setState({editing:!0})},e.saveEdit=function(t){var n=e.props.treeNode,r=t.target.value||"";n.setTitleLabel(r),LR(e.props.treeNode.pluginContext.event,"rename",n,{value:r}),e.cancelEdit()},e.handleKeyUp=function(t){13===t.keyCode&&e.saveEdit(t),27===t.keyCode&&e.cancelEdit()},e.setCaret=function(t){t&&e.lastInput!==t&&(t.focus(),t.select())},e.deleteClick=function(){var t=e.props.treeNode,n=t.node;t.deleteNode(n)},e}return gR(n,[{key:"cancelEdit",value:function e(){this.setState({editing:!1}),this.lastInput=void 0}},{key:"componentDidMount",value:function e(){var t=this,n=this.props.treeNode;this.setState({editing:!1,title:n.titleLabel,condition:n.condition,visible:!n.hidden}),n.onTitleLabelChanged((function(){t.setState({title:n.titleLabel})})),n.onConditionChanged((function(){t.setState({condition:n.condition})})),n.onHiddenChanged((function(e){t.setState({visible:!e})}))}},{key:"render",value:function e(){var t=this,n=this.props,r=n.treeNode,i=n.isModal,a=r.pluginContext,u=this.state.editing,c=!r.isRoot(),s=r.node,f=s.componentMeta,p=f?f.availableActions.map((function(e){return e.name})):[],h=s.isParentalNode,d=s.isContainerNode,v;if(c){var y,m=12*r.depth;v={paddingLeft:m+(i?12:0),marginLeft:-m}}var b=r.filterReult,g=b.filterWorking,w=b.matchSelf,O=b.keywords,j=a.extraTitle,S=a.intlNode,E=a.common,k=a.config,_=E.editorCabin.Tip,P=E.editorCabin.Title,x=p.includes("hide"),N=p.includes("lock"),C=p.includes("unlock"),T=c&&h&&!i&&x,L=k.get("enableCanvasLock",!1)&&d&&c&&h&&(N&&!s.isLocked||C&&s.isLocked),R=c&&h,A=c&&h&&(null==s?void 0:s.canPerformAction("remove"));return React.createElement("div",{className:Qo()("tree-node-title",{editing:u}),style:v,"data-id":r.nodeId,onClick:function e(){var n,r,o,a;i?t.state.visible?null===(n=s.document)||void 0===n||null===(r=n.modalNodesManager)||void 0===r||r.setInvisible(s):null===(o=s.document)||void 0===o||null===(a=o.modalNodesManager)||void 0===a||a.setVisible(s):s.conditionGroup&&s.setConditionalVisible()}},i&&this.state.visible&&React.createElement("div",{onClick:function e(){var t,n;null===(t=s.document)||void 0===t||null===(n=t.modalNodesManager)||void 0===n||n.setInvisible(s)}},React.createElement(sR,{className:"tree-node-modal-radio-active"})),i&&!this.state.visible&&React.createElement("div",{onClick:function e(){var t,n;null===(t=s.document)||void 0===t||null===(n=t.modalNodesManager)||void 0===n||n.setVisible(s)}},React.createElement(fR,{className:"tree-node-modal-radio"})),c&&React.createElement(BR,{expandable:this.props.expandable,expanded:this.props.expanded,treeNode:r}),React.createElement("div",{className:"tree-node-icon"},Object(l.n)(r.icon)),React.createElement("div",{className:"tree-node-title-label"},u?React.createElement("input",{className:"tree-node-title-input",defaultValue:this.state.title,onBlur:this.saveEdit,ref:this.setCaret,onKeyUp:this.handleKeyUp}):React.createElement(o.Fragment,null,React.createElement(P,{title:this.state.title,match:g&&w,keywords:O}),j&&React.createElement(j,{node:null==r?void 0:r.node}),s.slotFor&&React.createElement("a",{className:"tree-node-tag slot"},React.createElement(_,null,S("Slot for {prop}",{prop:s.slotFor.key}))),s.hasLoop()&&React.createElement("a",{className:"tree-node-tag loop"},React.createElement(uR,null),React.createElement(_,null,S("Loop"))),this.state.condition&&React.createElement("a",{className:"tree-node-tag cond"},React.createElement(ZL,null),React.createElement(_,null,S("Conditional"))))),T&&React.createElement(IR,{hidden:this.props.hidden,treeNode:r}),L&&React.createElement(DR,{locked:this.props.locked,treeNode:r}),R&&React.createElement(MR,{treeNode:r,onClick:this.enableEdit}),A&&React.createElement(AR,{treeNode:r,onClick:this.deleteClick}))}}]),n}(o.PureComponent),AR=function(e){wR(n,e);var t=jR(n);function n(){return mR(this,n),t.apply(this,arguments)}return gR(n,[{key:"render",value:function e(){var t=this.props.treeNode.pluginContext,n=t.intl,r,o=t.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-delete-btn",onClick:this.props.onClick},React.createElement(vR,null),React.createElement(o,null,n("Delete")))}}]),n}(o.PureComponent),MR=function(e){wR(n,e);var t=jR(n);function n(){return mR(this,n),t.apply(this,arguments)}return gR(n,[{key:"render",value:function e(){var t=this.props.treeNode.pluginContext,n=t.intl,r,o=t.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-rename-btn",onClick:this.props.onClick},React.createElement(hR,null),React.createElement(o,null,n("Rename")))}}]),n}(o.PureComponent),DR=function(e){wR(n,e);var t=jR(n);function n(){return mR(this,n),t.apply(this,arguments)}return gR(n,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.locked,o=this.props.treeNode.pluginContext,i=o.intl,a,u=o.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-lock-btn",onClick:function e(t){t.stopPropagation(),n.setLocked(!r)}},r?React.createElement(KL,null):React.createElement(XL,null),React.createElement(u,null,i(r?"Unlock":"Lock")))}}]),n}(o.PureComponent),IR=function(e){wR(n,e);var t=jR(n);function n(){return mR(this,n),t.apply(this,arguments)}return gR(n,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.hidden,o=n.pluginContext,i=o.intl,a,u=o.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-hide-btn",onClick:function e(t){t.stopPropagation(),LR(n.pluginContext.event,r?"show":"hide",n),n.setHidden(!r)}},r?React.createElement(rR,null):React.createElement(tR,null),React.createElement(u,null,i(r?"Show":"Hide")))}}]),n}(o.PureComponent),BR=function(e){wR(n,e);var t=jR(n);function n(){return mR(this,n),t.apply(this,arguments)}return gR(n,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.expanded,o;return t.expandable?React.createElement("div",{className:"tree-node-expand-btn",onClick:function e(t){r&&t.stopPropagation(),LR(n.pluginContext.event,r?"collapse":"expand",n),n.setExpanded(!r)}},React.createElement(JL,{size:"small"})):React.createElement("i",{className:"tree-node-expand-placeholder"})}}]),n}(o.PureComponent);function VR(e){return(VR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UR(r.key),r)}}function HR(e,t,n){return t&&GR(e.prototype,t),n&&GR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function UR(e){var t=zR(e,"string");return"symbol"==VR(t)?t:String(t)}function zR(e,t){if("object"!=VR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function WR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$R(e,t)}function $R(e,t){return($R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function XR(e){var t=qR();return function n(){var r=JR(e),o;if(t){var i=JR(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return YR(this,o)}}function YR(e,t){if(t&&("object"===VR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return KR(e)}function KR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function JR(e){return(JR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var QR=function(e){WR(n,e);var t=XR(n);function n(e){var r;FR(this,n),(r=t.call(this,e)).state={filterWorking:!1,matchChild:!1},r.offExpandedChanged=void 0;var o,i=r.props.treeNode.filterReult,a=i.filterWorking,u=i.matchChild;return r.setState({filterWorking:a,matchChild:u}),r}return HR(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.treeNode;n.onFilterResultChanged((function(){var e=n.filterReult,r=e.filterWorking,o=e.matchChild;t.setState({filterWorking:r,matchChild:o})}))}},{key:"componentWillUnmount",value:function e(){this.offExpandedChanged&&this.offExpandedChanged()}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.isModal,o=t.expanded,i=this.state,a=i.filterWorking,u=i.matchChild,c;return a&&u||o?React.createElement("div",{className:"tree-node-branches"},!r&&React.createElement(eA,{treeNode:n}),React.createElement(ZR,{treeNode:n,isModal:r||!1,treeChildren:this.props.treeChildren})):null}}]),n}(o.PureComponent),ZR=function(e){WR(n,e);var t=XR(n);function n(){var e;FR(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={filterWorking:!1,matchSelf:!1,keywords:null,dropDetail:null},e.offLocationChanged=void 0,e}return HR(n,[{key:"componentDidMount",value:function e(){var t=this,n,r=this.props.treeNode,o=r.pluginContext.project,i=r.filterReult,a=i.filterWorking,u=i.matchSelf,c=i.keywords,s=r.dropDetail;this.setState({filterWorking:a,matchSelf:u,keywords:c,dropDetail:s}),r.onFilterResultChanged((function(){var e=r.filterReult,n=e.filterWorking,o=e.matchSelf,i=e.keywords;t.setState({filterWorking:n,matchSelf:o,keywords:i})})),this.offLocationChanged=null===(n=o.currentDocument)||void 0===n?void 0:n.onDropLocationChanged((function(){t.setState({dropDetail:r.dropDetail})}))}},{key:"componentWillUnmount",value:function e(){this.offLocationChanged&&this.offLocationChanged()}},{key:"render",value:function e(){var t,n,r=this.props.isModal,o=[],i=[],a,u=this.state,c=u.filterWorking,s=u.matchSelf,l=u.keywords,f=this.props.treeNode.pluginContext.common.editorCabin.Title,p=function e(){var t;i.length>0&&(o.push(React.createElement("div",{key:a.id,className:"condition-group-container","data-id":null===(t=a.firstNode)||void 0===t?void 0:t.id},React.createElement("div",{className:"condition-group-title"},React.createElement(f,{title:a.title,match:c&&s,keywords:l})),i)),i=[])},h=this.state.dropDetail,d=null==h?void 0:h.index,v=React.createElement("div",{key:"insertion",className:Qo()("insertion",{invalid:!1===(null==h?void 0:h.valid)})});null===(t=this.props.treeChildren)||void 0===t||t.forEach((function(e,t){var n,u=(null===(n=e.node.componentMeta)||void 0===n?void 0:n.isModal)||!1;if(r==u){var c=e.node.conditionGroup;c!==a&&p(),c?(a=c,t===d&&(i.length>0?i.push(v):o.push(v)),i.push(React.createElement(vA,{key:e.nodeId,treeNode:e,isModal:r}))):(t===d&&o.push(v),o.push(React.createElement(vA,{key:e.nodeId,treeNode:e,isModal:r})))}})),p();var y=(null===(n=this.props.treeChildren)||void 0===n?void 0:n.length)||0;return null!=d&&d>=y&&o.push(v),React.createElement("div",{className:"tree-node-children"},o)}}]),n}(o.PureComponent),eA=function(e){WR(n,e);var t=XR(n);function n(){return FR(this,n),t.apply(this,arguments)}return HR(n,[{key:"render",value:function e(){var t,n,r=this.props.treeNode;if(!r.hasSlots())return null;var o=this.props.treeNode.pluginContext.common.editorCabin.Title;return React.createElement("div",{className:Qo()("tree-node-slots",{"insertion-at-slots":"slots"===(null===(t=r.dropDetail)||void 0===t||null===(n=t.focus)||void 0===n?void 0:n.type)}),"data-id":r.nodeId},React.createElement("div",{className:"tree-node-slots-title"},React.createElement(o,{title:{type:"i18n",intl:this.props.treeNode.pluginContext.intlNode("Slots")}})),r.slots.map((function(e){return React.createElement(vA,{key:e.nodeId,treeNode:e})})))}}]),n}(o.PureComponent);function tA(e){return(tA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iA(r.key),r)}}function oA(e,t,n){return t&&rA(e.prototype,t),n&&rA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iA(e){var t=aA(e,"string");return"symbol"==tA(t)?t:String(t)}function aA(e,t){if("object"!=tA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function uA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cA(e,t)}function cA(e,t){return(cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function sA(e){var t=pA();return function n(){var r=hA(e),o;if(t){var i=hA(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return lA(this,o)}}function lA(e,t){if(t&&("object"===tA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fA(e)}function fA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function hA(e){return(hA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var dA=function(e){uA(n,e);var t=sA(n);function n(e){var r,o;nA(this,n),(o=t.call(this,e)).modalNodesManager=void 0,o.pluginContext=void 0,o.pluginContext=e.treeNode.pluginContext;var i=o.pluginContext.project;return o.modalNodesManager=null===(r=i.currentDocument)||void 0===r?void 0:r.modalNodesManager,o.state={treeChildren:o.rootTreeNode.children},o}return oA(n,[{key:"hideAllNodes",value:function e(){var t;null===(t=this.modalNodesManager)||void 0===t||t.hideModalNodes()}},{key:"componentDidMount",value:function e(){var t=this,n=this.rootTreeNode;n.onExpandableChanged((function(){t.setState({treeChildren:n.children})}))}},{key:"rootTreeNode",get:function e(){var t,n=this.props.treeNode,r,o=null===(t=this.pluginContext.project.currentDocument)||void 0===t?void 0:t.root,i;return n.tree.getTreeNode(o)}},{key:"render",value:function e(){var t,n=this.rootTreeNode,r=n.expanded,o=!(null===(t=this.modalNodesManager)||void 0===t||!t.getVisibleModalNode());return React.createElement("div",{className:"tree-node-modal"},React.createElement("div",{className:"tree-node-modal-title"},React.createElement("span",null,this.pluginContext.intlNode("Modal View")),React.createElement("div",{className:"tree-node-modal-title-visible-icon",onClick:this.hideAllNodes.bind(this)},o?React.createElement(tR,null):null)),React.createElement("div",{className:"tree-pane-modal-content"},React.createElement(QR,{treeNode:n,treeChildren:this.state.treeChildren,expanded:r,isModal:!0})))}}]),n}(o.PureComponent),vA=function(e){uA(n,e);var t=sA(n);function n(e){var r,o;nA(this,n),(o=t.call(this,e)).state={expanded:!1,selected:!1,hidden:!1,locked:!1,detecting:!1,isRoot:!1,highlight:!1,dropping:!1,conditionFlow:!1,expandable:!1,treeChildren:[]},o.eventOffCallbacks=[];var i=o.props,a=i.treeNode,u=i.isRootNode;return o.state={expanded:!!u||a.expanded,selected:a.selected,hidden:a.hidden,locked:a.locked,detecting:a.detecting,isRoot:a.isRoot(),dropping:null!=(null===(r=a.dropDetail)||void 0===r?void 0:r.index),conditionFlow:null!=a.node.conditionGroup,highlight:a.isFocusingNode(),expandable:a.expandable,treeChildren:a.children},o}return oA(n,[{key:"componentDidMount",value:function e(){var t=this,n,r,o=this.props.treeNode,i,a=o.pluginContext.project.currentDocument;o.onExpandedChanged((function(e){t.setState({expanded:e})})),o.onHiddenChanged((function(e){t.setState({hidden:e})})),o.onLockedChanged((function(e){t.setState({locked:e})})),o.onExpandableChanged((function(e){t.setState({expandable:e,treeChildren:o.children})})),this.eventOffCallbacks.push(null==a?void 0:a.onDropLocationChanged((function(){var e;t.setState({dropping:null!=(null===(e=o.dropDetail)||void 0===e?void 0:e.index)})})));var u=null==a||null===(n=a.selection)||void 0===n?void 0:n.onSelectionChange((function(){t.setState({selected:o.selected})}));this.eventOffCallbacks.push(u);var c=null==a||null===(r=a.detecting)||void 0===r?void 0:r.onDetectingChange((function(){t.setState({detecting:o.detecting})}));this.eventOffCallbacks.push(c)}},{key:"componentWillUnmount",value:function e(){var t;null===(t=this.eventOffCallbacks)||void 0===t||t.forEach((function(e){e&&e()}))}},{key:"shouldShowModalTreeNode",value:function e(){var t,n,r=this.props,o=r.treeNode,i;if(!r.isRootNode)return!1;var a,u=null===(t=o.pluginContext.project.currentDocument)||void 0===t?void 0:t.root,c,s=null===(n=o.tree.getTreeNode(u).children)||void 0===n?void 0:n.filter((function(e){var t;return null===(t=e.node.componentMeta)||void 0===t?void 0:t.isModal}));return!!(s&&s.length>0)}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.isModal,o=t.isRootNode,i=Qo()("tree-node",{expanded:this.state.expanded,selected:this.state.selected,hidden:this.state.hidden,locked:this.state.locked,detecting:this.state.detecting,dropping:this.state.dropping,"is-root":this.state.isRoot,"condition-flow":this.state.conditionFlow,highlight:this.state.highlight}),a=this.shouldShowModalTreeNode(),u=n.filterReult,c=u.filterWorking,s=u.matchChild,l=u.matchSelf;return o||!c||s||l?React.createElement("div",{className:i,"data-id":n.nodeId},React.createElement(RR,{treeNode:n,isModal:r,expanded:this.state.expanded,hidden:this.state.hidden,locked:this.state.locked,expandable:this.state.expandable}),a&&React.createElement(dA,{treeNode:n}),React.createElement(QR,{treeNode:n,isModal:!1,expanded:this.state.expanded,treeChildren:this.state.treeChildren})):null}}]),n}(o.PureComponent);function yA(e){return(yA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wA(r.key),r)}}function gA(e,t,n){return t&&bA(e.prototype,t),n&&bA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wA(e){var t=OA(e,"string");return"symbol"==yA(t)?t:String(t)}function OA(e,t){if("object"!=yA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function jA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SA(e,t)}function SA(e,t){return(SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function EA(e){var t=PA();return function n(){var r=xA(e),o;if(t){var i=xA(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return kA(this,o)}}function kA(e,t){if(t&&("object"===yA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _A(e)}function _A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function xA(e){return(xA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function NA(e,t){var n=e.target;return n&&t.contains(n)&&(n=n.closest("[data-id]"))&&t.contains(n)&&n.dataset.id||null}var CA=function(e){jA(n,e);var t=EA(n);function n(){var e;mA(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shell=null,e.ignoreUpSelected=!1,e.boostEvent=void 0,e.state={root:null},e.onClick=function(t){var n;if(e.ignoreUpSelected)e.boostEvent=void 0;else if(e.boostEvent&&Object(l.W)(e.boostEvent,t.nativeEvent))e.boostEvent=void 0;else{e.boostEvent=void 0;var r=e.getTreeNodeFromEvent(t);if(r){var o=r.node;if(Object(l.i)(o,t)){var i=e.props.tree.pluginContext,a=i.project,u=i.event,c=i.canvas,s=a.currentDocument,f=null==s?void 0:s.selection,p=null==s?void 0:s.focusNode,h=o.id,d=t.metaKey||t.ctrlKey||t.shiftKey;if(null===(n=c.activeTracker)||void 0===n||n.track(o),d&&p&&!o.contains(p)&&null!=f&&f.has(h))Object(l.F)(t.nativeEvent)||f.remove(h);else{var v,y,m;null==f||f.select(h);var b=null==f||null===(v=f.getNodes())||void 0===v?void 0:v[0],g=null==b||null===(y=b.componentMeta)||void 0===y?void 0:y.npm,w=[null==g?void 0:g.package,null==g?void 0:g.componentName].filter((function(e){return!!e})).join("-")||(null==b||null===(m=b.componentMeta)||void 0===m?void 0:m.componentName)||"";u.emit("outlinePane.select",{selected:w})}}}}},e.onDoubleClick=function(t){var n;t.preventDefault();var r=e.getTreeNodeFromEvent(t);(null==r?void 0:r.nodeId)!==(null===(n=e.state.root)||void 0===n?void 0:n.nodeId)&&(null!=r&&r.expanded?e.props.tree.collapseAllDecendants(r):e.props.tree.expandAllDecendants(r))},e.onMouseOver=function(t){e.hover(t)},e.onMouseDown=function(t){var n,r;if(!Object(l.F)(t.nativeEvent)){var o=e.getTreeNodeFromEvent(t);if(o){var i=o.node;if(Object(l.i)(i,t)){var a=e.props.tree.pluginContext,u=a.project,s=a.canvas,f=null===(n=u.currentDocument)||void 0===n?void 0:n.selection,p=null===(r=u.currentDocument)||void 0===r?void 0:r.focusNode,h=t.metaKey||t.ctrlKey||t.shiftKey,d;if(0===t.button&&p&&!i.contains(p)){var v,y=[i];if(e.ignoreUpSelected=!1,h){var m;if(null==f||!f.has(i.id))null===(m=s.activeTracker)||void 0===m||m.track(i),null==f||f.add(i.id),e.ignoreUpSelected=!0;null==f||f.remove(p.id),f&&(y=f.getTopNodes())}else null!=f&&f.has(i.id)&&(y=f.getTopNodes());e.boostEvent=t.nativeEvent,null===(v=s.dragon)||void 0===v||v.boost({type:c.f.Node,nodes:y},e.boostEvent)}}}}},e.onMouseLeave=function(){var t,n,r=e.props.tree.pluginContext.project.currentDocument;null==r||r.detecting.leave()},e}return gA(n,[{key:"hover",value:function e(t){var n,r,o,i=null===(n=this.props.tree.pluginContext.project.currentDocument)||void 0===n?void 0:n.detecting;if(null==i||!i.enable){var a=null===(r=this.getTreeNodeFromEvent(t))||void 0===r?void 0:r.node;(null==a?void 0:a.id)&&(null==i||i.capture(a.id))}}},{key:"getTreeNodeFromEvent",value:function e(t){if(this.shell){var n=NA(t,this.shell),r;if(n)return this.props.tree.getTreeNodeById(n)}}},{key:"componentDidMount",value:function e(){var t=this,n=this.props.tree,r=n.root,o=n.pluginContext.project;this.setState({root:r});var i=o.currentDocument;null==i||i.onFocusNodeChanged((function(){t.setState({root:n.root})})),null==i||i.onImportSchema((function(){t.setState({root:n.root})}))}},{key:"render",value:function e(){var t=this,n;return this.state.root?React.createElement("div",{className:"lc-outline-tree",ref:function e(n){t.shell=n},onMouseDownCapture:this.onMouseDown,onMouseOver:this.onMouseOver,onClick:this.onClick,onDoubleClick:this.onDoubleClick,onMouseLeave:this.onMouseLeave},React.createElement(vA,{key:null===(n=this.state.root)||void 0===n?void 0:n.id,treeNode:this.state.root,isRootNode:!0})):null}}]),n}(o.PureComponent),TA=n(48),LA="CONDITION",RA="LOOP",AA="LOCKED",MA="HIDDEN",DA=[{value:LA,label:"Conditional rendering"},{value:RA,label:"Loop rendering"},{value:AA,label:"Locked"},{value:MA,label:"Hidden"}],IA=function e(t,n,r){if(!t||!t.node)return!1;if(!n&&0===r.length)return t.setFilterReult({filterWorking:!1,matchChild:!1,matchSelf:!1,keywords:""}),(t.children||[]).concat(t.slots||[]).forEach((function(t){e(t,n,r)})),!1;var o=t.node,i=0===r.length||!!r.find((function(e){switch(e){case LA:return o.hasCondition();case RA:return o.hasLoop();case AA:return t.locked;case MA:return t.hidden;default:return!1}})),a="string"==typeof t.titleLabel&&t.titleLabel.indexOf(n)>-1,u=t.isRoot()||i&&a,c=!!(t.children||[]).concat(t.slots||[]).map((function(t){return e(t,n,r)})).find(Boolean);return t.setFilterReult({filterWorking:!0,matchChild:c,matchSelf:u,keywords:n}),u||c};function BA(e){return(BA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HA(r.key),r)}}function GA(e,t,n){return t&&FA(e.prototype,t),n&&FA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HA(e){var t=UA(e,"string");return"symbol"==BA(t)?t:String(t)}function UA(e,t){if("object"!=BA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function zA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WA(e,t)}function WA(e,t){return(WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function $A(e){var t=KA();return function n(){var r=qA(e),o;if(t){var i=qA(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return XA(this,o)}}function XA(e,t){if(t&&("object"===BA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return YA(e)}function YA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qA(e){return(qA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var JA=function(e){zA(n,e);var t=$A(n);function n(){var e;VA(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={keywords:"",filterOps:[]},e.handleSearchChange=function(t){e.setState({keywords:t.trim()},e.filterTree)},e.handleOptionChange=function(t){e.setState({filterOps:t},e.filterTree)},e.handleCheckAll=function(){var t,n=e.state.filterOps.length===DA.length?[]:DA.map((function(e){return e.value}));e.handleOptionChange(n)},e}return GA(n,[{key:"filterTree",value:function e(){var t=this.props.tree,n=this.state,r=n.keywords,o=n.filterOps;IA(t.root,r,o)}},{key:"render",value:function e(){var t=this,n=this.state,r=n.keywords,o=n.filterOps,a=o.length>0&&o.length<DA.length,u=o.length===DA.length;return i.a.createElement("div",{className:"lc-outline-filter"},i.a.createElement(Ci.Search,{hasClear:!0,shape:"simple",placeholder:this.props.tree.pluginContext.intl("Filter Node"),className:"lc-outline-filter-search-input",value:r,onChange:this.handleSearchChange}),i.a.createElement(Ci.Balloon,{v2:!0,align:"br",closable:!1,triggerType:"hover",trigger:i.a.createElement("div",{className:"lc-outline-filter-icon"},i.a.createElement(iR,null))},i.a.createElement(Ci.Checkbox,{checked:u,indeterminate:a,onChange:this.handleCheckAll},this.props.tree.pluginContext.intlNode("Check All")),i.a.createElement(Ci.Divider,null),i.a.createElement(Ci.Checkbox.Group,{value:o,direction:"ver",onChange:this.handleOptionChange},DA.map((function(e){return i.a.createElement(Ci.Checkbox,{id:e.value,value:e.value,key:e.value},t.props.tree.pluginContext.intlNode(e.label))})))))}}]),n}(o.PureComponent);function QA(e){return(QA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nM(r.key),r)}}function tM(e,t,n){return t&&eM(e.prototype,t),n&&eM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nM(e){var t=rM(e,"string");return"symbol"==QA(t)?t:String(t)}function rM(e,t){if("object"!=QA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=QA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function oM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iM(e,t)}function iM(e,t){return(iM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function aM(e){var t=sM();return function n(){var r=lM(e),o;if(t){var i=lM(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return uM(this,o)}}function uM(e,t){if(t&&("object"===QA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cM(e)}function cM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sM(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function lM(e){return(lM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var fM=function(e){oM(n,e);var t=aM(n);function n(e){var r,o,i,a,u,c,s;ZA(this,n),(s=t.call(this,e)).controller=void 0,s.simulatorRendererReadyDispose=void 0,s.changeDocumentDispose=void 0,s.removeDocumentDispose=void 0,s.changeTree=function(){s.setState({tree:s.props.treeMaster.currentTree})};var l=e.controller,f=e.treeMaster;return s.controller=l,s.state={tree:f.currentTree},s.simulatorRendererReadyDispose=null===(r=s.props.treeMaster.pluginContext)||void 0===r||null===(o=r.project)||void 0===o?void 0:o.onSimulatorRendererReady(s.changeTree),s.changeDocumentDispose=null===(i=s.props.treeMaster.pluginContext)||void 0===i||null===(a=i.project)||void 0===a?void 0:a.onChangeDocument(s.changeTree),s.removeDocumentDispose=null===(u=s.props.treeMaster.pluginContext)||void 0===u||null===(c=u.project)||void 0===c?void 0:c.onRemoveDocument(s.changeTree),s}return tM(n,[{key:"componentWillUnmount",value:function e(){var t,n,r;this.controller.purge(),null===(t=this.simulatorRendererReadyDispose)||void 0===t||t.call(this),null===(n=this.changeDocumentDispose)||void 0===n||n.call(this),null===(r=this.removeDocumentDispose)||void 0===r||r.call(this)}},{key:"render",value:function e(){var t=this,n=this.state.tree;return n?i.a.createElement("div",{className:"lc-outline-pane"},!this.props.hideFilter&&i.a.createElement(JA,{tree:n}),i.a.createElement("div",{ref:function e(n){return t.controller.mount(n)},className:"lc-outline-tree-container ".concat(this.props.hideFilter?"lc-hidden-outline-filter":"")},i.a.createElement(CA,{key:n.id,tree:n}))):i.a.createElement("div",{className:"lc-outline-pane"},i.a.createElement("p",{className:"lc-outline-notice"},i.a.createElement(Ci.Loading,{style:{display:"block",marginTop:"40px"},tip:this.props.treeMaster.pluginContext.intl("Initializing")})))}}]),n}(o.PureComponent);function pM(){return(pM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hM(e){return React.createElement(l.f,pM({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M128 96h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V160a64 64 0 0 1 64-64z m32 64a32 32 0 1 0 0 64h448a32 32 0 0 0 0-64H160z m224 576h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z m32 64a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H416z m-32-384h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z m32 64a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H416z"}))}hM.displayName="IconOutline";var dM="outline-backup-pane",vM="outline-master-pane",yM=n(9),mM=n.n(yM),bM;function gM(e){return(gM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SM(r.key),r)}}function jM(e,t,n){return t&&OM(e.prototype,t),n&&OM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SM(e){var t=EM(e,"string");return"symbol"==gM(t)?t:String(t)}function EM(e,t){if("object"!=gM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){e.filterResultChanged="filterResultChanged",e.expandedChanged="expandedChanged",e.hiddenChanged="hiddenChanged",e.lockedChanged="lockedChanged",e.titleLabelChanged="titleLabelChanged",e.expandableChanged="expandableChanged",e.conditionChanged="conditionChanged"}(bM||(bM={}));var kM=function(){function e(t,n){wM(this,e),this.pluginContext=void 0,this.event=new mM.a,this._node=void 0,this.tree=void 0,this._filterResult={filterWorking:!1,matchChild:!1,matchSelf:!1,keywords:""},this._expanded=!1,this.id=Object(l.db)("treeNode"),this.tree=t,this.pluginContext=t.pluginContext,this._node=n}return jM(e,[{key:"nodeId",get:function e(){return this.node.id}},{key:"expandable",get:function e(){var t;return!this.locked&&(this.hasChildren()||this.hasSlots()||null!=(null===(t=this.dropDetail)||void 0===t?void 0:t.index))}},{key:"expanded",get:function e(){return this.isRoot(!0)||this.expandable&&this._expanded}},{key:"dropDetail",get:function e(){var t,n=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return n&&this.isResponseDropping()&&Object(l.K)(n.detail)?n.detail:null}},{key:"depth",get:function e(){return this.node.zLevel}},{key:"detecting",get:function e(){var t=this.pluginContext.project.currentDocument;return!(null==t||!t.isDetectingNode(this.node))}},{key:"hidden",get:function e(){var t=this.node.isConditionalVisible();return null==t?!this.node.visible:!t}},{key:"locked",get:function e(){return this.node.isLocked}},{key:"selected",get:function e(){var t,n=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.selection;return!!n&&(null==n?void 0:n.has(this.node.id))}},{key:"title",get:function e(){return this.node.title}},{key:"titleLabel",get:function e(){var t=this.title,n,r;return t?(t.label&&(t=t.label),"string"==typeof t?t:Object(l.G)(t)?t[this.pluginContext.getLocale()]:this.node.componentName):""}},{key:"icon",get:function e(){var t;return null===(t=this.node.componentMeta)||void 0===t?void 0:t.icon}},{key:"parent",get:function e(){var t=this.node.parent;return t?this.tree.getTreeNode(t):null}},{key:"slots",get:function e(){var t=this;return this.node.slots.map((function(e){return t.tree.getTreeNode(e)}))}},{key:"condition",get:function e(){return this.node.hasCondition()&&!this.node.conditionGroup}},{key:"children",get:function e(){var t,n=this;return(null===(t=this.node.children)||void 0===t?void 0:t.map((function(e){return n.tree.getTreeNode(e)})))||null}},{key:"node",get:function e(){return this._node}},{key:"setLocked",value:function e(t){this.node.lock(t),this.event.emit(bM.lockedChanged,t)}},{key:"deleteNode",value:function e(t){t&&t.remove()}},{key:"onFilterResultChanged",value:function e(t){var n=this;return this.event.on(bM.filterResultChanged,t),function(){n.event.off(bM.filterResultChanged,t)}}},{key:"onExpandedChanged",value:function e(t){var n=this;return this.event.on(bM.expandedChanged,t),function(){n.event.off(bM.expandedChanged,t)}}},{key:"onHiddenChanged",value:function e(t){var n=this;return this.event.on(bM.hiddenChanged,t),function(){n.event.off(bM.hiddenChanged,t)}}},{key:"onLockedChanged",value:function e(t){var n=this;return this.event.on(bM.lockedChanged,t),function(){n.event.off(bM.lockedChanged,t)}}},{key:"onTitleLabelChanged",value:function e(t){var n=this;return this.event.on(bM.titleLabelChanged,t),function(){n.event.off(bM.titleLabelChanged,t)}}},{key:"onConditionChanged",value:function e(t){var n=this;return this.event.on(bM.conditionChanged,t),function(){n.event.off(bM.conditionChanged,t)}}},{key:"onExpandableChanged",value:function e(t){var n=this;return this.event.on(bM.expandableChanged,t),function(){n.event.off(bM.expandableChanged,t)}}},{key:"notifyExpandableChanged",value:function e(){this.event.emit(bM.expandableChanged,this.expandable)}},{key:"notifyTitleLabelChanged",value:function e(){this.event.emit(bM.titleLabelChanged,this.title)}},{key:"notifyConditionChanged",value:function e(){this.event.emit(bM.conditionChanged,this.condition)}},{key:"setHidden",value:function e(t){this.node.conditionGroup||(this.node.visible!==!t&&(this.node.visible=!t),this.event.emit(bM.hiddenChanged,t))}},{key:"isFocusingNode",value:function e(){var t,n,r,o,i=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return!!i&&(Object(l.K)(i.detail)&&"node"===(null===(n=i.detail.focus)||void 0===n?void 0:n.type)&&(null===(r=i.detail)||void 0===r||null===(o=r.focus)||void 0===o?void 0:o.node.id)===this.nodeId)}},{key:"setExpanded",value:function e(t){this._expanded=t,this.event.emit(bM.expandedChanged,t)}},{key:"isRoot",value:function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.root;return this.tree.root===this||n&&r===this.node}},{key:"isResponseDropping",value:function e(){var t,n,r=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return!!r&&(null===(n=r.target)||void 0===n?void 0:n.id)===this.nodeId}},{key:"setTitleLabel",value:function e(t){var n;if(t!==this.titleLabel){var r,o;if(""===t)null===(r=this.node.getExtraProp("title",!1))||void 0===r||r.remove();else null===(o=this.node.getExtraProp("title",!0))||void 0===o||o.setValue(t);this.event.emit(bM.titleLabelChanged,this)}}},{key:"isContainer",value:function e(){return this.node.isContainerNode}},{key:"hasSlots",value:function e(){return this.node.hasSlots()}},{key:"hasChildren",value:function e(){var t;return!(!this.isContainer()||null===(t=this.node.children)||void 0===t||!t.notEmptyNode)}},{key:"select",value:function e(t){var n,r=this.node,o=null===(n=this.pluginContext.project.getCurrentDocument())||void 0===n?void 0:n.selection;t?null==o||o.add(r.id):null==o||o.select(r.id)}},{key:"expand",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.expandable&&!this._expanded&&this.setExpanded(!0),t&&this.expandParents()}},{key:"expandParents",value:function e(){for(var t=this.node.parent;t;)this.tree.getTreeNode(t).setExpanded(!0),t=t.parent}},{key:"setNode",value:function e(t){this._node!==t&&(this._node=t)}},{key:"filterReult",get:function e(){return this._filterResult}},{key:"setFilterReult",value:function e(t){this._filterResult=t,this.event.emit(bM.filterResultChanged)}}]),e}();function _M(e){return(_M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CM(r.key),r)}}function NM(e,t,n){return t&&xM(e.prototype,t),n&&xM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CM(e){var t=TM(e,"string");return"symbol"==_M(t)?t:String(t)}function TM(e,t){if("object"!=_M(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var LM=function(){function e(t){var n=this;PM(this,e),this.treeNodesMap=new Map,this.id=void 0,this.pluginContext=void 0,this.treeMaster=void 0,this.treeMaster=t,this.pluginContext=t.pluginContext;var r=this.pluginContext.project.currentDocument;this.id=null==r?void 0:r.id,null==r||r.onChangeNodeChildren((function(e){var t=e.node,r=n.getTreeNodeById(t.id);null==r||r.notifyExpandableChanged()})),null==r||r.history.onChangeCursor((function(){var e;null===(e=n.root)||void 0===e||e.notifyExpandableChanged()})),null==r||r.onChangeNodeProp((function(e){var t=e.node,r=e.key;if("___title___"===r){var o=n.getTreeNodeById(t.id);null==o||o.notifyTitleLabelChanged()}else if("___condition___"===r){var i=n.getTreeNodeById(t.id);null==i||i.notifyConditionChanged()}})),null==r||r.onChangeNodeVisible((function(e,t){var r=n.getTreeNodeById(e.id);null==r||r.setHidden(!t)})),null==r||r.onImportSchema((function(){n.treeNodesMap=new Map}))}return NM(e,[{key:"root",get:function e(){var t;return null!==(t=this.pluginContext.project.currentDocument)&&void 0!==t&&t.focusNode?this.getTreeNode(this.pluginContext.project.currentDocument.focusNode):null}},{key:"setNodeSelected",value:function e(t){var n=this.treeNodesMap.get(t);n&&this.expandAllAncestors(n)}},{key:"getTreeNode",value:function e(t){if(this.treeNodesMap.has(t.id)){var n=this.treeNodesMap.get(t.id);return n.setNode(t),n}var r=new kM(this,t);return this.treeNodesMap.set(t.id,r),r}},{key:"getTreeNodeById",value:function e(t){return this.treeNodesMap.get(t)}},{key:"expandAllAncestors",value:function e(t){if(t&&!t.isRoot()){for(var n=[],r=t;!t.isRoot();){var o;if(!(r=null===(o=r)||void 0===o?void 0:o.parent))break;n.unshift(r)}n.forEach((function(e){e.setExpanded(!0)}))}}},{key:"expandAllDecendants",value:function e(t){var n=this;if(t){t.setExpanded(!0);var r=t&&t.children;r&&r.forEach((function(e){n.expandAllDecendants(e)}))}}},{key:"collapseAllDecendants",value:function e(t){var n=this;if(t){t.setExpanded(!1);var r=t&&t.children;r&&r.forEach((function(e){n.collapseAllDecendants(e)}))}}}]),e}(),RM=n(49),AM=n(50),MM;function DM(e){return(DM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FM(r.key),r)}}function VM(e,t,n){return t&&BM(e.prototype,t),n&&BM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function FM(e){var t=GM(e,"string");return"symbol"==DM(t)?t:String(t)}function GM(e,t){if("object"!=DM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){e.pluginContextChanged="pluginContextChanged"}(MM||(MM={}));var HM=function(){function e(t,n){var r=this;IM(this,e),this.options=void 0,this.pluginContext=void 0,this.boards=new Set,this.treeMap=new Map,this.disposeEvents=[],this.event=new mM.a,this.options=n,this.setPluginContext(t);var o=this.pluginContext.workspace;if(this.initEvent(),t.registerLevel===c.g.Workspace){var i,a;this.setPluginContext(null===(i=o.window)||void 0===i?void 0:i.currentEditorView);var u=function e(){var t;a=null===(t=o.window)||void 0===t?void 0:t.onChangeViewType((function(){var e;r.setPluginContext(null===(e=o.window)||void 0===e?void 0:e.currentEditorView)}))};u(),o.onChangeActiveWindow((function(){var e;r.setPluginContext(null===(e=o.window)||void 0===e?void 0:e.currentEditorView),a&&a(),u()}))}}return VM(e,[{key:"setPluginContext",value:function e(t){if(t){var n=t.common.utils.createIntl({"en-US":RM,"zh-CN":AM}),r=n.intl,o=n.intlNode,i=n.getLocale,a=Object.assign(t,{intl:r,intlNode:o,getLocale:i});a.extraTitle=this.options&&this.options.extraTitle,this.pluginContext=a,this.disposeEvent(),this.initEvent(),this.emitPluginContextChange()}}},{key:"disposeEvent",value:function e(){this.disposeEvents.forEach((function(e){e&&e()}))}},{key:"initEvent",value:function e(){var t=this,n,r,o,i,a,u=this.pluginContext,c=u.event,s=u.project,f=u.canvas,p=function e(n){var r=n.node,o=n.detail,i=t.currentTree;if(i){var a=i.getTreeNode(r);o&&Object(l.K)(o)?a.expand(!0):a.expandParents(),t.boards.forEach((function(e){e.scrollToNode(a,o)}))}},h;(this.disposeEvents=[null===(n=f.dragon)||void 0===n?void 0:n.onDragstart((function(){a=Date.now()/1e3,t.toVision()})),null===(r=f.activeTracker)||void 0===r?void 0:r.onChange(p),null===(o=f.dragon)||void 0===o?void 0:o.onDragend((function(){var e,t,n=Date.now()/1e3,r=null===(e=s.currentDocument)||void 0===e||null===(t=e.selection)||void 0===t?void 0:t.getNodes();c.emit("outlinePane.dragend",{selected:null==r?void 0:r.map((function(e){var t,n;if(e){var r=null==e||null===(t=e.componentMeta)||void 0===t?void 0:t.npm;return[null==r?void 0:r.package,null==r?void 0:r.componentName].filter((function(e){return!!e})).join("-")||(null==e||null===(n=e.componentMeta)||void 0===n?void 0:n.componentName)}})).join("&"),time:(n-a).toFixed(2)})})),s.onRemoveDocument((function(e){var n=e.id;t.treeMap.delete(n)}))],null!==(i=f.activeTracker)&&void 0!==i&&i.target)&&p(null===(h=f.activeTracker)||void 0===h?void 0:h.target)}},{key:"toVision",value:function e(){var t=this.currentTree;if(t){var n,r=null===(n=this.pluginContext.project.getCurrentDocument())||void 0===n?void 0:n.selection;null==r||r.getTopNodes().forEach((function(e){t.getTreeNode(e).setExpanded(!1)}))}}},{key:"addBoard",value:function e(t){this.boards.add(t)}},{key:"removeBoard",value:function e(t){this.boards.delete(t)}},{key:"purge",value:function e(){}},{key:"onPluginContextChange",value:function e(t){this.event.on(MM.pluginContextChanged,t)}},{key:"emitPluginContextChange",value:function e(){this.event.emit(MM.pluginContextChanged)}},{key:"currentTree",get:function e(){var t=this.pluginContext.project.getCurrentDocument();if(t){var n=t.id;if(this.treeMap.has(n))return this.treeMap.get(n);var r=new LM(this);return this.treeMap.set(n,r),r}return null}}]),e}();function UM(e){return(UM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XM(r.key),r)}}function $M(e,t,n){return t&&WM(e.prototype,t),n&&WM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XM(e){var t=YM(e,"string");return"symbol"==UM(t)?t:String(t)}function YM(e,t){if("object"!=UM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var KM=15,qM=function(){function e(){zM(this,e),this.indentStart=null}return $M(e,[{key:"reset",value:function e(){this.indentStart=null}},{key:"getIndentParent",value:function e(t,n){if(t.target!==n.target||!Object(l.K)(t.detail)||!Object(l.K)(n.detail)||t.source!==n.source||t.detail.index!==n.detail.index||null==n.detail.index)return this.indentStart=null,null;null==this.indentStart&&(this.indentStart=t.event.globalX);var r=n.event.globalX-this.indentStart,o;if(Math.floor(Math.abs(r)/15)<1)return null;this.indentStart=n.event.globalX;var i=r<0?"left":"right",a=n.target,u=n.detail.index,c,s,f;return"left"===i?!a.parent||u<((null===(c=a.children)||void 0===c?void 0:c.size)||0)||a.isSlotNode?null:[a.parent,a.index+1]:0===u?null:(a=null===(s=a.children)||void 0===s?void 0:s.get(u-1))&&a.isContainerNode?[a,null===(f=a.children)||void 0===f?void 0:f.size]:null}}]),e}();function JM(e){return(JM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tD(r.key),r)}}function eD(e,t,n){return t&&ZM(e.prototype,t),n&&ZM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tD(e){var t=nD(e,"string");return"symbol"==JM(t)?t:String(t)}function nD(e,t){if("object"!=JM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var rD=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;QM(this,e),this.timer=void 0,this.previous=void 0,this.event=void 0,this.decide=void 0,this.timeout=500,this.decide=t,this.timeout=n}return eD(e,[{key:"focus",value:function e(t,n){var r=this;this.event=n,this.previous!==t&&(this.reset(),this.previous=t,this.timer=setTimeout((function(){r.previous&&r.decide(r.previous,r.event),r.reset()}),this.timeout))}},{key:"tryFocus",value:function e(t){var n;t&&Object(l.K)(t.detail)&&"node"===(null===(n=t.detail.focus)||void 0===n?void 0:n.type)?this.focus(t.detail.focus.node,t.event):this.reset()}},{key:"reset",value:function e(){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.previous=void 0}}]),e}();function oD(e){return(oD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iD(e,t){return lD(e)||sD(e,t)||uD(e,t)||aD()}function aD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function uD(e,t){if(e){if("string"==typeof e)return cD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cD(e,t):void 0}}function cD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sD(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function lD(e){if(Array.isArray(e))return e}function fD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dD(r.key),r)}}function hD(e,t,n){return t&&pD(e.prototype,t),n&&pD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dD(e){var t=vD(e,"string");return"symbol"==oD(t)?t:String(t)}function vD(e,t){if("object"!=oD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var yD=function(){function e(t,n){var r=this;fD(this,e),this.pluginContext=void 0,this.treeMaster=void 0,this.id=Object(l.db)("outline"),this.indentTrack=new qM,this._sensorAvailable=!1,this.dwell=new rD((function(e,t){var n=r.pluginContext,o=n.canvas,i,a=n.project.getCurrentDocument(),u,s,l=!0;e.hasSlots()?(u=null,s={type:"slots"}):(u=0,l=!(null==a||!a.checkNesting(e,t.dragObject))),o.createLocation({target:e,source:r.id,event:t,detail:{type:c.j.Children,index:u,focus:s,valid:l}})})),this.at=void 0,this.tryScrollAgain=null,this.sensing=!1,this._scrollTarget=void 0,this.scroller=void 0,this._shell=null,this.pluginContext=n.pluginContext,this.treeMaster=n,this.at=t;var o=!1,i;(function e(){var t,n;if(o)return!1;o=!0,null===(t=r.treeMaster)||void 0===t||t.addBoard(r);var i=r.pluginContext.canvas;null===(n=i.dragon)||void 0===n||n.addSensor(r),r.scroller=i.createScroller(r)})()}return hD(e,[{key:"sensorAvailable",get:function e(){return this._sensorAvailable}},{key:"bounds",get:function e(){return this._shell?this._shell.getBoundingClientRect():null}},{key:"scrollTarget",get:function e(){return this._scrollTarget}},{key:"fixEvent",value:function e(t){var n;if(t.fixed)return t;var r=(null===(n=t.originalEvent.view)||void 0===n?void 0:n.document)!==document;return t.target&&!r||(t.target=document.elementFromPoint(t.canvasX,t.canvasY)),t.documentModel=this.pluginContext.project.getCurrentDocument(),t.fixed=!0,t}},{key:"locate",value:function e(t){var n,r,o,i;this.sensing=!0,null===(n=this.scroller)||void 0===n||n.scrolling(t);var a=t.globalY,u=t.dragObject,s=null==u?void 0:u.nodes,f=null===(r=this.treeMaster)||void 0===r?void 0:r.currentTree;if(!f||!f.root||!this._shell)return null;var p=null==s?void 0:s.filter((function(e){var t,n,r=null===(t=e.componentMeta)||void 0===t||null===(n=t.advanced.callbacks)||void 0===n?void 0:n.onMoveHook,o;return!r||"function"!=typeof r||r(e)}));if(!Object(l.C)(u)||p&&0!==p.length){var h=this.pluginContext,d=h.project,v=h.canvas,y=d.getCurrentDocument(),m=bD(t,this._shell),b=this.getInsertionRect(),g=null==y?void 0:y.dropLocation,w=null!==(o=t.dragObject)&&void 0!==o&&o.nodes?t.dragObject.nodes[0].componentMeta:null;if("node"===(null===(i=t.dragObject)||void 0===i?void 0:i.type)&&w&&w.isModal&&null!=y&&y.focusNode)return v.createLocation({target:null==y?void 0:y.focusNode,detail:{type:c.j.Children,index:0,valid:!0},source:this.id,event:t});if(!(g&&(m&&"unchanged"===m||b&&a>=b.top&&a<=b.bottom)&&u)){if(this.indentTrack.reset(),m&&"unchanged"!==m){var O=f.getTreeNodeById(m.nodeId);if(O){var j=m.focusSlots,S,E=O.node;if(Object(l.C)(u)){for(var k=p,_=null==k?void 0:k.length,P=E;_-- >0;)k[_].contains(P)&&(P=k[_].parent);P!==E&&(E=P||(null==y?void 0:y.focusNode),O=f.getTreeNode(E),j=!1)}if(j)return this.dwell.reset(),v.createLocation({target:E,source:this.id,event:t,detail:{type:c.j.Children,index:null,valid:!1,focus:{type:"slots"}}});if(!O.isRoot()){var x=this.getNear(O,t);return this.dwell.tryFocus(x),x}}}var N=this.drillLocate(f.root,t);return this.dwell.tryFocus(N),N}var C=g.clone(t),T=this.indentTrack.getIndentParent(g,C);if(T){var L=iD(T,2),R=L[0],A=L[1];if(mD(R,u)){if(f.getTreeNode(R).expanded)return this.dwell.reset(),v.createLocation({target:R,source:this.id,event:t,detail:{type:c.j.Children,index:A,valid:null==y?void 0:y.checkNesting(R,t.dragObject)}});g.detail.focus={type:"node",node:R},this.dwell.focus(R,t)}else this.dwell.reset()}else g.detail.near&&(g.detail.near=void 0,this.dwell.reset())}}},{key:"isEnter",value:function e(t){if(!this._shell)return!1;var n=this._shell.getBoundingClientRect();return t.globalY>=n.top&&t.globalY<=n.bottom&&t.globalX>=n.left&&t.globalX<=n.right}},{key:"deactiveSensor",value:function e(){var t;this.sensing=!1,null===(t=this.scroller)||void 0===t||t.cancel(),this.dwell.reset(),this.indentTrack.reset()}},{key:"scrollToNode",value:function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i;if(o<1&&this.tryScrollAgain&&(Object(is.cancelIdleCallback)(this.tryScrollAgain),this.tryScrollAgain=null),this.bounds&&this.scroller&&this.scrollTarget)if(i=n&&Object(l.K)(n)?this.getInsertionRect():this.getTreeNodeRect(t)){var a=this.scrollTarget,u=a.scrollHeight,c=a.top,s=this.bounds,f=s.height,p=s.top,h=s.bottom;if(i.top<p||i.bottom>h){var d={};d.top=Math.min(i.top+i.height/2+c-p-f/2,u-f),i.height>=f&&(d.top=Math.min(c+i.top-p,d.top)),this.scroller.scrollTo(d)}o<4&&(this.tryScrollAgain=as()((function(){return r.scrollToNode(t,n,4)})))}else o<3&&(this.tryScrollAgain=as()((function(){return r.scrollToNode(t,n,o+1)})))}},{key:"getNear",value:function e(t,n,r,o){var i=this.pluginContext,a=i.canvas,u,s=i.project.getCurrentDocument(),l=n.globalY,f=n.dragObject;if(!f)return null;var p=t.node,h=t.expanded,d=o;if(!d&&!(d=this.getTreeNodeRect(t)))return null;var v=r,y;if(null==v&&(v=p.index),p.isSlotNode){if(!t.isContainer()&&!t.hasSlots())return a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:c.j.Children,index:null,near:{node:p,pos:"replace"},valid:!0}});var m=this.drillLocate(t,n);return m||a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:c.j.Children,index:null,valid:!1,focus:{type:"slots"}}})}h||!t.isContainer()&&!t.hasSlots()||(y=p);var b=this.getTreeTitleRect(t)||d;if(l<b.top+b.height/2)return a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:c.j.Children,index:v,valid:null==s?void 0:s.checkNesting(p.parent,f),near:{node:p,pos:"before"},focus:mD(y,f)?{type:"node",node:y}:void 0}});if(l>b.bottom&&(y=void 0),h){var g=this.drillLocate(t,n);if(g)return g}return a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:c.j.Children,index:(v||0)+1,valid:null==s?void 0:s.checkNesting(p.parent,f),near:{node:p,pos:"after"},focus:mD(y,f)?{type:"node",node:y}:void 0}})}},{key:"drillLocate",value:function e(t,n){var r=this.pluginContext,o=r.canvas,i,a=r.project.getCurrentDocument(),u=n.dragObject,s=n.globalY;if(!u)return null;if(!mD(t.node,u))return null;if(Object(l.A)(u))return null;var f=t.node,p={type:c.j.Children},h={target:f,detail:p,source:this.id,event:n},d=t.hasSlots(),v=t.isContainer();f.isSlotNode&&!t.expanded&&(d?(p.index=null,p.focus={type:"slots"},p.valid=!1):(p.index=0,p.valid=null==a?void 0:a.checkNesting(f,u)));var y=null,m,b=!1;if(d&&(m=this.getTreeSlotsRect(t)))if(s<=m.bottom)b=!0,y=t.slots;else if(!v)return p.index=null,p.focus={type:"slots"},p.valid=!1,o.createLocation(h);if(!y&&v&&(y=t.children),!y)return null;for(var g=y.length,w=0,O=g<1,j,S=w;w<g;w++){j=y[w],S=w;var E=this.getTreeNodeRect(j);if(E){if(s<E.top){O=!0;break}if(!(s>E.bottom)){var k=this.getNear(j,n,w,E);if(k)return k}}}return b?(p.focus={type:"slots"},p.valid=!1,p.index=null):(j?(p.index=O?S:S+1,p.near={node:j.node,pos:O?"before":"after"}):p.index=g,p.valid=null==a?void 0:a.checkNesting(f,u)),o.createLocation(h)}},{key:"purge",value:function e(){var t,n,r;null===(t=this.pluginContext.canvas.dragon)||void 0===t||t.removeSensor(this),null===(n=this.treeMaster)||void 0===n||n.removeBoard(this)}},{key:"mount",value:function e(t){var n=this;if(this._shell!==t){this._shell=t;var r=this.pluginContext,o=r.canvas,i=r.project;if(t){var a,u;this._scrollTarget=o.createScrollTarget(t),this._sensorAvailable=!0;var c=null===(a=i.currentDocument)||void 0===a?void 0:a.selection,s=null==c?void 0:c.getTopNodes(!0),l=null===(u=this.treeMaster)||void 0===u?void 0:u.currentTree;if(s&&s[0]&&l){var f=l.getTreeNodeById(s[0].id);f&&setTimeout((function(){l.setNodeSelected(f.nodeId),n.scrollToNode(f,null,4)}),0)}}else this._scrollTarget=void 0,this._sensorAvailable=!1}}},{key:"getInsertionRect",value:function e(){var t;if(this._shell)return null===(t=this._shell.querySelector(".insertion"))||void 0===t?void 0:t.getBoundingClientRect()}},{key:"getTreeNodeRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node[data-id="'.concat(t.nodeId,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}},{key:"getTreeTitleRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node-title[data-id="'.concat(t.nodeId,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}},{key:"getTreeSlotsRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node-slots[data-id="'.concat(t.nodeId,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}}]),e}();function mD(e,t){if(!e)return!1;var n;if(Object(l.C)(t)&&t.nodes.some((function(t){return t.contains(e)})))return!1;return!0}function bD(e,t){var n=e.target;if(!n||!t.contains(n))return null;if(n.matches(".insertion"))return"unchanged";var r=n.closest("[data-id]");if(!r||!t.contains(r))return null;var o=r.dataset.id;return{focusSlots:r.matches(".tree-node-slots"),nodeId:o}}function gD(e){return(gD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wD(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wD=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==gD(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(gD(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function OD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OD(Object(n),!0).forEach((function(t){SD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SD(e,t,n){return(t=ED(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ED(e){var t=kD(e,"string");return"symbol"==gD(t)?t:String(t)}function kD(e,t){if("object"!=gD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _D(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function PD(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_D(i,r,o,a,u,"next",e)}function u(e){_D(i,r,o,a,u,"throw",e)}a(void 0)}))}}function xD(){return(xD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ND(e,t){return AD(e)||RD(e,t)||TD(e,t)||CD()}function CD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function TD(e,t){if(e){if("string"==typeof e)return LD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LD(e,t):void 0}}function LD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RD(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function AD(e){if(Array.isArray(e))return e}function MD(e){var t=e.treeMaster||new HM(e.pluginContext,e.options),n,r=ND(Object(o.useState)((function(){return new yD(e.paneName||vM,t)})),2),i=r[0],a=r[1];return Object(o.useEffect)((function(){return t.onPluginContextChange((function(){a(new yD(e.paneName||vM,t))}))}),[]),React.createElement(fM,xD({treeMaster:t,controller:i,key:i.id,hideFilter:e.hideFilter},e))}var DD=function e(t,n){var r=t.skeleton,o=t.config,i=t.canvas,a=t.project,u=!0,c;o.getPreference().contains("outline-pane-pinned-status-isFloat","skeleton")&&(u=o.getPreference().get("outline-pane-pinned-status-isFloat","skeleton"));var s={masterPane:!1,backupPane:!1},l=new HM(t,n);return{init:function e(){return PD(wD().mark((function e(){var t,n,c;return wD().wrap((function e(f){for(;;)switch(f.prev=f.next){case 0:r.add({area:"leftArea",name:"outlinePane",type:"PanelDock",index:-1,content:{name:vM,props:{icon:hM,description:l.pluginContext.intlNode("Outline Tree")},content:MD},panelProps:jD({area:u?"leftFloatArea":"leftFixedArea",keepVisibleWhileDragging:!0},o.get("defaultOutlinePaneProps")),contentProps:{treeTitleExtra:o.get("treeTitleExtra"),treeMaster:l,paneName:vM}}),r.add({area:"rightArea",name:dM,type:"Panel",props:{hiddenWhenInit:!0},content:MD,contentProps:{paneName:dM,treeMaster:l},index:1}),c=function e(){var t,n=null===(t=i.dragon)||void 0===t?void 0:t.dragging,o=s.backupPane||s.masterPane,a;n&&!o?r.showPanel(dM):r.hidePanel(dM)},null===(t=i.dragon)||void 0===t||t.onDragstart((function(){c()})),null===(n=i.dragon)||void 0===n||n.onDragend((function(){c()})),r.onShowPanel((function(e){e===vM&&(s.masterPane=!0),e===dM&&(s.backupPane=!0)})),r.onHidePanel((function(e){e===vM&&(s.masterPane=!1,c()),e===dM&&(s.backupPane=!1)})),a.onChangeDocument((function(e){if(e){var t=e.selection;null==t||t.onSelectionChange((function(){var e=null==t?void 0:t.getNodes();if(e&&0!==e.length){var n=l.currentTree;e.forEach((function(e){var t=null==n?void 0:n.getTreeNodeById(e.id);null==n||n.expandAllAncestors(t)}))}}))}}));case 8:case"end":return f.stop()}}),e)})))()}}};function ID(e){return(ID="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BD(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */BD=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==ID(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ID(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),s(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function VD(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function FD(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){VD(i,r,o,a,u,"next",e)}function u(e){VD(i,r,o,a,u,"throw",e)}a(void 0)}))}}function GD(e,t,n){return HD.apply(this,arguments)}function HD(){return(HD=FD(BD().mark((function e(t,n,r){var o,i;return BD().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:return o=nL(t),i=NL(n),a.next=4,r.register(DD,{},{autoInit:!0});case 4:return a.next=6,r.register(o);case 6:return a.next=8,r.register(rL,{});case 8:return a.next=10,r.register(i);case 10:return a.next=12,r.register(WL);case 12:return a.next=14,r.register(iN,{},{autoInit:!0});case 14:return a.abrupt("return",(function(){r.delete(DD.pluginName),r.delete(o.pluginName),r.delete(rL.pluginName),r.delete(i.pluginName),r.delete(WL.pluginName),r.delete(iN.pluginName)}));case 15:case"end":return a.stop()}}),e)})))).apply(this,arguments)}DD.meta={eventPrefix:"OutlinePlugin",preferenceDeclaration:{title:"\u5927\u7eb2\u6811\u63d2\u4ef6\u914d\u7f6e",properties:[{key:"extraTitle",type:"object",description:"\u526f\u6807\u9898"}]}},DD.pluginName="OutlinePlugin";var UD=new $C(GD,BL),zD=new Hg(UD),WD=new u.Editor;u.globalContext.register(WD,u.Editor),u.globalContext.register(WD,"editor"),u.globalContext.register(UD,"workspace");var $D=new ik(WD);WD.set("skeleton",$D);var XD=new vf({editor:WD,shellModelFactory:BL});WD.set("designer",XD);var YD=XD.project,KD=new u.Hotkey,qD=new Fm(KD),JD=new Wb(YD),QD=new wg($D,"any",!1),ZD=new u.Setters,eI=new tg(ZD),tI=new cb(WD);WD.set("project",JD),WD.set("setters",eI),WD.set("material",tI),WD.set("innerHotkey",KD);var nI=new Kg(u.engineConfig),rI=new Tm(u.commonEvent,{prefix:"common"}),oI=new Ym({level:"warn",bizName:"common"}),iI=new jm(WD,$D),aI=new Lg(WD),uI,cI,sI=new Ap({assembleApis:function e(t,n,r){t.hotkey=qD,t.project=JD,t.skeleton=new wg($D,n,!1),t.setters=eI,t.material=tI;var o=(null==r?void 0:r.eventPrefix)||"common";t.event=new Tm(u.commonEvent,{prefix:o}),t.config=nI,t.common=iI,t.canvas=aI,t.plugins=uI,t.logger=new Ym({level:"warn",bizName:"plugin:".concat(n)}),t.workspace=zD,t.registerLevel=c.g.Default,t.isPluginRegisteredInWorkspace=!1}});uI=new gb(sI).toProxy(),WD.set("innerPlugins",sI),WD.set("plugins",uI);var lI=!0,fI={symbols:tL,classes:r},pI;u.engineConfig.set("isOpenSource",lI);var hI="1.2.5";u.engineConfig.set("ENGINE_VERSION",hI);var dI=GD(XD,WD,uI);function vI(e,t,n){return yI.apply(this,arguments)}function yI(){return(yI=FD(BD().mark((function e(t,n,r){var i,c,s;return BD().wrap((function e(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,mI();case 2:if(i=null,Object(l.P)(t)?(i=t,(pI=document.createElement("div")).id="engine",document.body.appendChild(pI)):(i=n,pI=t,t||((pI=document.createElement("div")).id="engine",document.body.appendChild(pI))),u.engineConfig.setEngineOptions(i),c=iI.skeletonCabin.Workbench,!n||!n.enableWorkspaceMode){f.next=19;break}return f.next=9,dI;case 9:return(s=f.sent)&&s(),Object(a.render)(Object(o.createElement)(qT,{workspace:UD,className:"engine-main",topAreaItemClassName:"engine-actionitem"}),pI),UD.enableAutoOpenFirstWindow=u.engineConfig.get("enableAutoOpenFirstWindow",!0),UD.setActive(!0),UD.initWindow(),KD.activate(!1),f.next=18,UD.plugins.init(r);case 18:return f.abrupt("return");case 19:return f.next=21,uI.init(r);case 21:Object(a.render)(Object(o.createElement)(c,{skeleton:$D,className:"engine-main",topAreaItemClassName:"engine-actionitem"}),pI);case 22:case"end":return f.stop()}}),e)})))).apply(this,arguments)}function mI(){return bI.apply(this,arguments)}function bI(){return(bI=FD(BD().mark((function e(){var t;return BD().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:t=JD.documents,Array.isArray(t)&&t.length>0&&t.forEach((function(e){return JD.removeDocument(e)})),pI&&Object(a.unmountComponentAtNode)(pI);case 3:case"end":return n.stop()}}),e)})))).apply(this,arguments)}console.log("%c AliLowCodeEngine %c v".concat(hI," "),"padding: 2px 1px; border-radius: 3px 0 0 3px; color: #fff; background: #606060; font-weight: bold;","padding: 2px 1px; border-radius: 0 3px 3px 0; color: #fff; background: #42c02e; font-weight: bold;")}])}));
//# sourceMappingURL=engine-core.js.map