!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Rax={})}(this,function(e){function s(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}var U={__mountID:1,__isUpdating:!1,driver:null,rootComponents:{},rootInstances:{},owner:null},c={},l=Function.call.bind(Object.prototype.hasOwnProperty);function t(e,t,n,r,o){for(var i in e)if(l(e,i)){var u,_;try{if("function"!=typeof e[i]){var a=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.");throw a.name="Invariant Violation",a}u=e[i](t,i,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){u=e}!u||u instanceof Error||s((r||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof u+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),u instanceof Error&&!(u.message in c)&&(c[u.message]=!0,_=o?o():"",s("Failed "+n+" type: "+u.message+(null!=_?_:"")))}}t.resetWarningCache=function(){c={}};var a=t;function p(e,t,n,r,o){var i,u={type:e,key:t,ref:n,props:r,_owner:o},_=e.propTypes;return _&&(i=e.displayName||e.name,a(_,r,"prop",i)),Object.defineProperty(u,"__validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.freeze&&Object.freeze(r),u}function S(e){return null===e}function d(e){return"function"==typeof e}function i(e){return"object"==typeof e}function r(e){return"[object Object]"===h.toString.call(e)}function P(e){return Array.isArray(e)}function f(e){return"string"==typeof e}function o(e){return"number"==typeof e}var h={};function m(e){if(null==e)return e;var t=[];return function e(t,n){if(P(t))for(var r=0,o=t.length;r<o;r++)e(t[r],n);else n.push(t)}(e,t),t.length-1?t:t[0]}var n=[],u=[],_=[],v=setTimeout;function g(e){for(var t;t=e.shift();)t()}function C(e){0===n.length&&v(y),n.push(e)}function y(){g(n)}function I(e){0===u.length&&v(w),u.push(e)}function w(){g(u)}function x(e){_.push(e)}function N(e,t){var n=void 0===t?"":"(found: "+(r(t)?"object with keys {"+Object.keys(t)+"}":t)+")";throw Error(e+" "+n)}v=function(e){setTimeout(e)};var b=function(){},b=function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];"undefined"!=typeof console&&((t=r.map(function(e){return""+e})).unshift("Warning: "+e),Function.prototype.apply.call(console.error,console,t));try{var i=0,u="Warning: "+e.replace(/%s/g,function(){return r[i++]});throw new Error(u)}catch(e){}},D={};function R(e){return"object"==typeof e&&null!==e&&e.type&&e.props}function E(e,t){var n,r,o,i,u,_,a;e.__validated||null!=e.key||(e.__validated=!0,r=t,u="",!(_=U.owner)||(o=_.__getName())&&(u=" Check the render method of <"+o+">."),u||(i="string"==typeof r?r:r.displayName||r.name)&&(u=" Check the top-level render call using <"+i+">."),D[n=u]||(D[n]=!0,a="",e&&e._owner&&e._owner!==U.owner&&(a=" It was passed a child from <"+e._owner.__getName()+">."),b('Each child in a list should have a unique "key" prop.%s%s',n,a)))}function k(e,t){if("object"==typeof e)if(P(e))for(var n=0;n<e.length;n++){var r=e[n];R(r)&&E(r,t)}else R(e)&&(e.__validated=!0)}var O={key:!0,ref:!0};function j(e,t,n){var r,o={},i=null,u=null;if(null!=t)for(r in u=void 0===t.ref?null:t.ref,i=void 0===t.key?null:""+t.key,t)O[r]||(o[r]=t[r]);var _=arguments.length-2;if(0<_)if(1!=_||P(n)){var a=n;if(1<_){a=new Array(_);for(var s=0;s<_;s++)a[s]=arguments[s+2]}o.children=m(a)}else o.children=n;if(e&&e.defaultProps){var c=e.defaultProps;for(r in c)void 0===o[r]&&(o[r]=c[r])}null==e&&N('Invalid element type, expected a string or a class/function component but got "'+e+'".'),f(u)&&!U.owner&&b('Adding a string ref "'+u+'" that was not created inside render method, or multiple copies of Rax are used.');for(var l=2;l<arguments.length;l++)k(arguments[l],e);return new p(e,i,u,o,U.owner)}function A(e,t,n){for(var r=0,o=e&&e.length;r<o;r++)e[r].call(t,n)}var F=h.hasOwnProperty;function W(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function T(e,t){if(W(e,t))return!0;if(!i(e)||S(e)||!i(t)||S(t))return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!F.call(t,n[o])||!W(e[n[o]],t[n[o]]))return!1;return!0}var H="_internal",M="_instance",L="_nativeNode",V="_renderedComponent";function Q(){return U.owner&&U.owner[M]}function Y(){var e=Q();if(e)return e;N("Hooks called outside a component, or multiple version of Rax are used.")}function B(e,t){if(!S(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!W(e[n],t[n]))return;return 1}}function q(e){var r=Y(),o=r.getHookID(),i=r.getHooks();i[o]||(d(e)&&(e=e()),i[o]=[e,function(e){U.__isUpdating||w();var t=i[o],n=t[2];d(e)&&(e=e(n)),W(e,n)||(t[2]=e,Q()===r?r.__isScheduled=!0:r.__update())},e]);var t=i[o];return W(t[0],t[2])||(t[0]=t[2],r.__shouldUpdate=!0),t}function z(e,t){X(e,t)}function X(e,t,i){var n,r,o,u,_,a=Y(),s=a.getHookID(),c=a.getHooks();t=void 0===t?null:t,c[s]?(r=(n=c[s]).__create,o=n.__inputs,n.__inputs=t,n.__prevInputs=o,r.current=e):(u=function e(t){if(!t&&i)return I(function(){return e(!0)});var n,r,o=e.current;o&&(_.current=o(),e.current=null,void 0!==(n=_.current)&&"function"!=typeof n&&(r=null===n?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"==typeof n.then?"\n\nIt looks like you wrote useEffect(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state.":" You returned: "+n,b("An effect function must not return anything besides a function, which is used for clean-up."+r)))},_=function e(t){if(!t&&i)return I(function(){return e(!0)});var n=e.current;n&&(n(),e.current=null)},u.current=e,c[s]={__create:u,__destory:_,__prevInputs:t,__inputs:t},a.didMount.push(u),a.willUnmount.push(_),a.didUpdate.push(function(){var e=c[s],t=e.__prevInputs,n=e.__inputs,r=e.__create;null!=n&&B(n,t)||(_(),r())}))}function Z(e,t){var n,r=Y(),o=r.getHookID(),i=r.getHooks();return t=void 0===t?null:t,i[o]?(n=i[o][1],!S(t)&&B(t,n)||(i[o]=[e(),t])):i[o]=[e(),t],i[o][0]}function $(e){return P(e)?e:[e]}function G(e,t){for(var n;e&&e[H];){if(t(e)){n=e;break}e=e[H].__parentInstance}return n}var J=0;function K(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var ee=function(){function e(e){this.__currentElement=e}var t=e.prototype;return t.__initComponent=function(e,t,n){this._parent=e,this.__parentInstance=t,this._context=n,this._mountID=U.__mountID++},t.__destoryComponent=function(){U.reconciler.unmountComponent(this),this.__currentElement=this[L]=this._parent=this.__parentInstance=this._context=null,this[M]&&(this[M]=this[M][H]=null)},t.__mountComponent=function(e,t,n,r){this.__initComponent(e,t,n),this.__mountNativeNode(r),U.reconciler.mountComponent(this);var o={};return o[H]=this,o},t.unmountComponent=function(e){this[L]&&!e&&U.driver.removeChild(this[L],this._parent),this.__destoryComponent()},t.__getName=function(){var e=this.__currentElement,t=e&&e.type;return t&&t.displayName||t&&t.name||t||e},t.__mountNativeNode=function(e){var t=this.__getNativeNode(),n=this._parent;e?e(t,n):U.driver.appendChild(t,n)},t.__getNativeNode=function(){return null==this[L]?this[L]=this.__createNativeNode():this[L]},t.__getPublicInstance=function(){return this.__getNativeNode()},e}(),te=function(e){function t(){return e.apply(this,arguments)||this}return K(t,e),t.prototype.__createNativeNode=function(){return U.driver.createEmpty(this)},t}(ee);function ne(e,t,n){var r=e?e.ref:null,o=t?t.ref:null;r!==o&&(r&&oe(e._owner,r,n),o&&re(t._owner,o,n))}function re(e,t,n){var r;e?(null==(r=n.__getPublicInstance())&&b("Do not attach ref to function component because they donâ€™t have instances."),d(t)?t(r):i(t)?t.current=r:e[M].refs[t]=r):b("Ref can not attach because multiple copies of Rax are used.")}function oe(e,t,n){var r;d(t)?t(null):(r=n.__getPublicInstance(),i(t)&&t.current===r?t.current=null:e[M].refs[t]===r&&delete e[M].refs[t])}function ie(e){var t=r(e)&&null!==e&&e.type?f(e.type)?new U.__Native(e):new U.__Composite(e):f(e)||o(e)?new U.__Text(String(e)):P(e)?new U.__Fragment(e):(void 0===e||S(e)||!1===e||!0===e||N("Invalid child type, expected types: Element instance, string, boolean, array, null, undefined.",e),new U.__Empty);return t}function ue(e,t){var n=S(e),r=S(t);return n||r?n===r:P(e)&&P(t)||(f(e)||o(e)?f(t)||o(t):i(e)&&i(t)&&e.type===t.type&&e.key===t.key)}function _e(e,t,n){var r=t&&t.key,o="."+n.toString(36);if(f(r)){var i="$"+r,u=void 0===e[i];return u||b('Encountered two children with the same key "'+r+'".'),u?i:o}return o}function ae(e){for(var t=e;t=e.__parentInstance&&e.__parentInstance[H];)if(t instanceof U.__Composite)e=t;else{for(var n=Object.keys(t.__renderedChildren),r=e.__mountIndex-1;0<=r;r--){var o=t.__renderedChildren[n[r]].__getNativeNode();if(!P(o))return o;if(0<o.length)return o[o.length-1]}if(!(t instanceof U.__Fragment))return null;e=t}}var se=function(){function e(e,t){this.props=e,this.context=t,this.refs={}}var t=e.prototype;return t.setState=function(e,t){this.updater.setState(this,e,t)},t.forceUpdate=function(e){this.updater.forceUpdate(this,e)},e}(),ce=function(r){function e(e,t){var n=r.call(this,e,t)||this;return n.__isPureComponent=!0,n}return K(e,r),e}(se),le=1,pe=function(t){function e(){var e=t.call(this)||this;return e.__element=[],e.__rootID=le++,e}K(e,t);var n=e.prototype;return n.__getPublicInstance=function(){return this.__getRenderedComponent().__getPublicInstance()},n.__getRenderedComponent=function(){return this[H][V]},n.__update=function(e){this.__element=e,this.forceUpdate()},n.render=function(){return this.__element},e}(se),fe={set:function(e,t){e._r||(e._r=t).__rootID&&(U.rootInstances[t.__rootID]=t,U.rootComponents[t.__rootID]=t[H])},get:function(e){return e._r},remove:function(e){var t=this.get(e);t&&(e._r=null,t.__rootID&&(delete U.rootComponents[t.__rootID],delete U.rootInstances[t.__rootID]))},mount:function(e,t,n){var r=n.parent,o=n.hydrate;U.measurer&&U.measurer.beforeRender();var i=U.driver;null==t&&(t=i.createBody());var u,_,a={element:e,container:t,hydrate:o};i.beforeRender&&i.beforeRender(a),r&&(_=(u=r[H]).__processChildContext(u._context));var s=this.get(t);if(s&&s.__rootID)return _&&(s[H].__penddingContext=_),s.__update(e),s;var c=_||{},l=ie(j(pe)).__mountComponent(t,null,c);return this.set(t,l),l.__update(e),i.afterRender&&i.afterRender(a),U.reconciler.renderNewRootComponent(l[H][V]),U.measurer&&U.measurer.afterRender(),l}},de=Object.assign,he="style",me="children",ve=/^on[A-Z]/,ge=function(e){function t(){return e.apply(this,arguments)||this}K(t,e);var n=t.prototype;return n.__mountComponent=function(e,t,n,r){this.__initComponent(e,t,n);var o=this.__currentElement,i=o.props,u=o.type,_=i[me],a=i.append||"tree";this.__prevStyleCopy=de({},i[he]);var s={type:u,props:i};return(s[H]=this)[M]=s,"tree"===a?(this.__mountChildren(_,n),this.__mountNativeNode(r)):(this.__mountNativeNode(r),this.__mountChildren(_,n)),o&&o.ref&&re(o._owner,o.ref,this),U.reconciler.mountComponent(this),s},n.__mountChildren=function(e,t){if(null==e)return e;var n=this.__getNativeNode();return this.__mountChildrenImpl(n,$(e),t)},n.__mountChildrenImpl=function(e,t,n,r){for(var o=this.__renderedChildren={},i=[],u=0,_=t.length;u<_;u++){var a=t[u],s=ie(a);(o[_e(o,a,u)]=s).__mountIndex=u;var c=s.__mountComponent(e,this[M],n,r);i.push(c)}return i},n.__unmountChildren=function(e){var t=this.__renderedChildren;if(t){for(var n in t){t[n].unmountComponent(e)}this.__renderedChildren=null}},n.unmountComponent=function(e){var t;this[L]&&((t=this.__currentElement.ref)&&oe(this.__currentElement._owner,t,this),fe.remove(this[L]),e||U.driver.removeChild(this[L],this._parent)),this.__unmountChildren(!0),this.__prevStyleCopy=null,this.__destoryComponent()},n.__updateComponent=function(e,t,n,r){ne(e,this.__currentElement=t,this);var o=e.props,i=t.props;this.__updateProperties(o,i),null==o[me]||P(o[me])&&0===o[me].length?this.__mountChildren(i[me],r):this.__updateChildren(i[me],r),U.reconciler.receiveComponent(this)},n.__updateProperties=function(e,t){var n,r,o,i,u=U.driver,_=this.__getNativeNode();for(n in e)if(n!==me&&null!=e[n]&&!t.hasOwnProperty(n))if(n===he){var a=this.__prevStyleCopy;for(r in a)(o=o||{})[r]="";this.__prevStyleCopy=null}else{ve.test(n)?d(i=e[n])&&u.removeEventListener(_,n.slice(2).toLowerCase(),i):u.removeAttribute(_,n,e[n])}for(n in t){var s,c,l=t[n],p=n===he?this.__prevStyleCopy:null!=e?e[n]:void 0;if(n!==me&&p!==l&&(null!=l||null!=p))if(n===he)if(l?l=this.__prevStyleCopy=de({},l):this.__prevStyleCopy=null,null!=p){for(r in p)l&&(l[r]||0===l[r])||((o=o||{})[r]="");for(r in l)p[r]!==l[r]&&((o=o||{})[r]=l[r])}else o=l;else ve.test(n)?(s=n.slice(2).toLowerCase(),d(p)&&u.removeEventListener(_,s,p,t),d(l)&&u.addEventListener(_,s,l,t)):(null!=l?u.setAttribute(_,n,l):u.removeAttribute(_,n,e[n]),U.measurer&&U.measurer.recordOperation({instanceID:this._mountID,type:"update attribute",payload:((c={})[n]=l,c)}))}o&&(U.measurer&&U.measurer.recordOperation({instanceID:this._mountID,type:"update style",payload:o}),u.setStyle(_,o))},n.__updateChildren=function(e,t){var n=this.__renderedChildren,o=U.driver;if(null!=e||null!=n){var r={};if(null!=e)for(var i=0,u=(e=$(e)).length;i<u;i++){var _=e[i],a=_e(r,_,i),s=n&&n[a],c=s&&s.__currentElement,l=s&&s._context;null!=s&&ue(c,_)?(c===_&&l===t||s.__updateComponent(c,_,t,t),r[a]=s):(s&&(s.__unmount=!0),r[a]=ie(_))}var p=this.__getNativeNode(),f=P(p),d=null,h=null,m=!1,v=!1,g=null,C=Boolean(o.removeChildren&&(S(e)||e&&!e.length));if(null!=n){for(var y in n){var I=n[y],w=I.__unmount||!r[y];d?w&&I.unmountComponent(C):(v=w,P(h=(d=I).__getNativeNode())&&(m=0===h.length,h=h[0]))}(f&&0===p.length||m)&&(g=ae(this))}if(null!=r){function x(e,t){for(var n=0,r=(e=$(e)).length;n<r;n++)g?o.insertAfter(e[r-1-n],g):h?o.insertBefore(e[n],h):t&&o.appendChild(e[n],t)}var N=0,b=[];for(var D in r){var R,E=r[D],k=n&&n[D];k===E?(R=k.__getNativeNode(),k.__mountIndex!==N&&x(R)):(f&&(p=this._parent),E.__mountComponent(p,this[M],t,x)),E.__mountIndex=N++,P(g=E.__getNativeNode())?(b=b.concat(g),g=g[g.length-1]):b.push(g)}P(this[L])&&(this[L].length=0,de(this[L],b))}v&&d.unmountComponent(C),C&&o.removeChildren(this[L]),this.__renderedChildren=r}},n.__createNativeNode=function(){var e=this[M],t=U.driver.createElement(e.type,e.props,this);return fe.set(t,e),t},t}(ee),Ce=function(e){function t(){return e.apply(this,arguments)||this}K(t,e);var n=t.prototype;return n.__updateComponent=function(e,t){e!==(t=""+t)&&(this.__currentElement=t,U.driver.updateText(this.__getNativeNode(),t),this._stringText=this.__currentElement,U.reconciler.receiveComponent(this))},n.__createNativeNode=function(){return this._stringText=this.__currentElement,U.driver.createText(this.__currentElement,this)},t}(ee),ye=function(n){function e(e,t){var r=n.call(this)||this;r.__isReactiveComponent=!0,r.__render=e,r.__hookID=0,r.__reRenders=0,r.__hooks={},r.__isScheduled=!1,r.__shouldUpdate=!1,r.__children=null,r.__contexts={},r.didMount=[],r.didUpdate=[],r.willUnmount=[],r.state=h,e._forwardRef&&(r.__prevForwardRef=r._forwardRef=t);var o=e.__compares;return o&&(r.shouldComponentUpdate=function(e){for(var t=!0,n=o.length-1;-1<n&&!(t=o[n](r.props,e));n--);return!t||r.__prevForwardRef!==r._forwardRef}),r}K(e,n);var t=e.prototype;return t.getHooks=function(){return this.__hooks},t.getHookID=function(){return++this.__hookID},t.useContext=function(e){var t,n,r=this,o=e._contextID,i=this.__contexts[o];return i||(t=e.__getNearestParentProvider(this),i=this.__contexts[o]={__provider:t},t&&(n=function(e){i.__lastValue!==e&&(r.__shouldUpdate=!0,r.__update())},t.__on(n),this.willUnmount.push(function(){return t.__off(n)}))),i.__lastValue=i.__provider?i.__provider.getValue():e._defaultValue},t.componentWillMount=function(){this.__shouldUpdate=!0},t.componentDidMount=function(){A(this.didMount)},t.componentWillReceiveProps=function(){this.__shouldUpdate=!0},t.componentDidUpdate=function(){A(this.didUpdate)},t.componentWillUnmount=function(){A(this.willUnmount)},t.__update=function(){this[H].__isPendingForceUpdate=!0,this.setState(h)},t.render=function(){U.measurer&&U.measurer.beforeRender(),this.__hookID=0,this.__reRenders=0,this.__isScheduled=!1;for(var e=this.__render(this.props,this._forwardRef?this._forwardRef:this.context);this.__isScheduled;){if(this.__reRenders++,24<this.__reRenders)throw new Error("Too many re-renders, the number of renders is limited to prevent an infinite loop.");this.__hookID=0,this.__isScheduled=!1,e=this.__render(this.props,this._forwardRef?this._forwardRef:this.context)}return this.__shouldUpdate&&(this.__children=e,this.__shouldUpdate=!1),this.__children},e}(se),Ie=[];function we(e){return e.__pendingStateQueue}function xe(e){var t,n,r,o=e[H];o&&(U.__isUpdating=!0,t=o.__currentElement,n=o._context,r=o.__penddingContext||n,o.__penddingContext=void 0,(we(o)||o.__isPendingForceUpdate)&&(o.__updateComponent(t,t,n,r),g(_)),U.__isUpdating=!1)}function Ne(e,t){return t[H]._mountID-e[H]._mountID}function be(){if(U.__isUpdating)return C(be);var e,t=Ie;if(0<t.length)for(w(),Ie=[],1<t.length&&(t=t.sort(Ne));e=t.pop();)xe(e)}function De(e,t){if(Ie.indexOf(e)<0&&Ie.push(e),t){if(1<Ie.length)return;C(be)}else be()}function Re(e,t,n){var r,o,i,u,_,a,s,c=e[H];c&&(n&&(o=n,((r=c).__pendingCallbacks||(i=[],r.__pendingCallbacks=i)).push(o)),u=c[V],t?(a=t,(we(_=c)||(s=[],_.__pendingStateQueue=s)).push(a),!c.__isPendingState&&u&&De(e,!0)):(c.__isPendingForceUpdate=!0,u&&De(e)))}var Ee,ke={setState:function(e,t,n){U.__isUpdating||w(),Re(e,t,n)},forceUpdate:function(e,t){Re(e,null,t)}};function Ue(e,t,n){try{return e()}catch(e){n?n(e):function(e,t){var n=G(e,function(e){return e.componentDidCatch});n?x(function(){var e=n[H];e&&Ue(function(){n.componentDidCatch(t)},e.__parentInstance)}):v(function(){throw t},0)}(t,e)}}function Se(e,t){x(function(){Ue(e,t)})}function Pe(e,t){e&&Se(function(){A(e,t)},t)}Ee=function(e,t,n){U.measurer&&U.measurer.beforeLifeCycle(t,n),e(),U.measurer&&U.measurer.afterLifeCycle(t,n)};var Oe=function(e){function t(){return e.apply(this,arguments)||this}K(t,e);var n=t.prototype;return n.__mountComponent=function(e,t,n,r){var o=this;this.__initComponent(e,t,n),this._updateCount=0,U.measurer&&U.measurer.beforeMountComponent(this._mountID,this);var i,u,_=this.__currentElement,a=_.type,s=_.ref,c=_.props,l=a.prototype,p=this.__processContext(n);if(Ue(function(){l&&l.render?i=new a(c,p):d(a)?i=new ye(a,s):N("Invalid component type, expected a class or function component.",a)},t),i){i.props=c,i.context=p,i.refs={},i.updater=ke,void 0===((i[H]=this)[M]=i).state&&(i.state=null),i.componentWillMount&&Ue(function(){Ee(function(){i.componentWillMount()},o._mountID,"componentWillMount")},i),U.owner=this,i.state=this.__processPendingState(c,p);var f=this.__pendingCallbacks;return this.__pendingCallbacks=null,Ue(function(){Ee(function(){u=i.render()},o._mountID,"render")},i),k(u,this.__currentElement.type),U.owner=null,this[V]=ie(u),this[V].__mountComponent(this._parent,i,this.__processChildContext(n),r),!_.type._forwardRef&&s&&re(_._owner,s,this),i.componentDidMount&&Se(function(){Ee(function(){i.componentDidMount()},o._mountID,"componentDidMount")},i),Pe(f,i),x(function(){U.reconciler.mountComponent(o),U.measurer&&U.measurer.afterMountComponent(o._mountID)}),i}},n.unmountComponent=function(e){var t,n,r=this[M];r&&r.componentWillUnmount&&Ue(function(){r.componentWillUnmount()},r),null!=this[V]&&(n=(t=this.__currentElement).ref,!t.type._forwardRef&&n&&oe(t._owner,n,this),this[V].unmountComponent(e),this[V]=null),this.__pendingStateQueue=null,this.__isPendingForceUpdate=!1,this.__destoryComponent()},n.__processContext=function(e){var t={},n=this.__currentElement.type.contextTypes;if(n)for(var r in n)t[r]=e[r];return t},n.__processChildContext=function(e){var t=this[M],n=t.getChildContext&&t.getChildContext();return n?de({},e,n):e},n.__processPendingState=function(e,t){var n=this[M],r=this.__pendingStateQueue;if(!r)return n.state;this.__pendingStateQueue=null;for(var o=de({},n.state),i=0;i<r.length;i++){var u=r[i];de(o,d(u)?u.call(n,o,e,t):u)}return o},n.__updateComponent=function(s,c,e,l){var p=this,f=this[M];f&&Ue(function(){var e,t,n;U.measurer&&U.measurer.beforeUpdateComponent(p._mountID,p),p._context===l?t=f.context:(t=p.__processContext(l),e=!0),n=c.props,s!==c&&(e=!0),e&&f.componentWillReceiveProps&&(p.__isPendingState=!0,f.componentWillReceiveProps(n,t),p.__isPendingState=!1),p.__currentElement.type._forwardRef?(f.__prevForwardRef=s.ref,f._forwardRef=c.ref):ne(s,c,p);var r,o=!0,i=f.props,u=f.state,_=p.__processPendingState(n,t),a=p.__pendingCallbacks;p.__pendingCallbacks=null,p.__isPendingForceUpdate||(f.shouldComponentUpdate?o=f.shouldComponentUpdate(n,_,t):f.__isPureComponent&&(o=!T(i,n)||!T(u,_))),o?(p.__isPendingForceUpdate=!1,r=f.context,f.componentWillUpdate&&f.componentWillUpdate(n,_,t),p.__currentElement=c,p._context=l,f.props=n,f.state=_,f.context=t,p.__updateRenderedComponent(l),f.componentDidUpdate&&Se(function(){f.componentDidUpdate(i,u,r)},f),p._updateCount++):(p.__currentElement=c,p._context=l,f.props=n,f.state=_,f.context=t),Pe(a,f),x(function(){U.measurer&&U.measurer.afterUpdateComponent(p._mountID),U.reconciler.receiveComponent(p)})},f)},n.__updateRenderedComponent=function(e){var t,n,r,u,_,o=this[V],i=o.__currentElement,a=this[M];U.owner=this,Ee(function(){t=a.render()},this._mountID,"render"),U.owner=null,ue(i,t)?(n=o._context,r=this.__processChildContext(e),i===t&&n===r||o.__updateComponent(i,t,n,r),U.measurer&&U.measurer.recordOperation({instanceID:this._mountID,type:"update component",payload:{}})):(u=null,P(_=o.__getNativeNode())&&0===_.length&&null==a.__rootID&&(u=ae(o)),o.unmountComponent(!0),this[V]=ie(t),this[V].__mountComponent(this._parent,a,this.__processChildContext(e),function(e,t){var n=U.driver;_=$(_),e=$(e);for(var r=0;r<e.length;r++){var o=e[r];_[r]?n.replaceChild(o,_[r]):u?n.insertAfter(o,u):n.appendChild(o,t),u=o}for(var i=e.length;i<_.length;i++)n.removeChild(_[i])}))},n.__getNativeNode=function(){var e=this[V];if(e)return e.__getNativeNode()},n.__getPublicInstance=function(){var e=this[M];return e.__isReactiveComponent?null:e},t}(ee),je=function(e){function _(){return e.apply(this,arguments)||this}K(_,e);var t=_.prototype;return t.__mountComponent=function(e,t,n,r){this.__initComponent(e,t,n);var o=this[M]={};(o[H]=this).__mountChildren(this.__currentElement,n);var i=this.__getNativeNode();if(r)r(i,e);else for(var u=0;u<i.length;u++)U.driver.appendChild(i[u],e);return this.__currentElement.type=_,U.reconciler.mountComponent(this),o},t.__mountChildren=function(e,t){var n=this.__getNativeNode();return this.__mountChildrenImpl(this._parent,e,t,function(e){e=$(e);for(var t=0;t<e.length;t++)n.push(e[t])})},t.unmountComponent=function(e){var t=this[L];if(t&&(fe.remove(t),!e))for(var n=0,r=t.length;n<r;n++)U.driver.removeChild(t[n]);this.__unmountChildren(!0),this.__destoryComponent()},t.__updateComponent=function(e,t,n,r){this.__currentElement=t,this.__updateChildren(this.__currentElement,r),this.__currentElement.type=_,U.reconciler.receiveComponent(this)},t.__createNativeNode=function(){return[]},_}(ge);je.displayName="Fragment";var Ae={mountComponent:function(){},receiveComponent:function(){},unmountComponent:function(){},renderNewRootComponent:function(){}};var Fe={Host:U,Instance:fe,Element:p,flattenChildren:m};"undefined"!=typeof window&&(window.__RAX_INITIALISED__&&console.error("Warning: more than one instance of Rax has been initialised, this could lead to unexpected behaviour."),window.__RAX_INITIALISED__=!0),e.Component=se,e.Fragment=function(e){return e.children},e.PureComponent=ce,e.createContext=function(s){var c="_c"+J++;function l(e){return G(e,function(e){return e.__contextID===c})}return{Provider:function(){function e(){this.__contextID=c,this.__handlers=[]}var t=e.prototype;return t.__on=function(e){this.__handlers.push(e)},t.__off=function(t){this.__handlers=this.__handlers.filter(function(e){return e!==t})},t._getChildContext=function(){var e={};return e[c]=this,e},t.getValue=function(){return void 0!==this.props.value?this.props.value:s},t.componentDidUpdate=function(e){this.props.value!==e.value&&A(this.__handlers,null,this.getValue())},t.render=function(){return this.props.children},e}(),Consumer:function(e,t){var n=this,r=q(function(){return t[c]||l(n)})[0],o=r?r.getValue():s,i=q(o),u=i[0],_=i[1];if(o===u){z(function(){if(r)return r.__on(_),function(){r.__off(_)}},[]);var a=$(e.children)[0];return d(a)?a(o):void 0}_(o)},_contextID:c,_defaultValue:s,__getNearestParentProvider:l}},e.createElement=j,e.createRef=function(){return{current:null}},e.forwardRef=function(e){return e._forwardRef=!0,e},e.memo=function(e,t){return t=t||T,e.__compares?e.__compares.push(t):e.__compares=[t],e},e.render=function(e,t,n,r){var o,i,u;d(n)&&(r=n,n=null),i=(o=n=n||h).driver,u=o.measurer,U.__Empty=te,U.__Native=ge,U.__Text=Ce,U.__Fragment=je,U.__Composite=Oe,(U.driver=i||U.driver)||N("Rax driver not found."),U.reconciler=Ae,U.measurer=u;var _=fe.mount(e,t,n).__getPublicInstance();return r&&r.call(_),_},e.shared=Fe,e.useCallback=function(e,t){return Z(function(){return e},t)},e.useContext=function(e){return Y().useContext(e)},e.useEffect=function(e,t){X(e,t,!0)},e.useImperativeHandle=function(e,t,n){z(function(){return d(e)?(e(t()),function(){return e(null)}):null!=e?(e.current=t(),function(){e.current=null}):void 0},P(n)?n.concat([e]):null)},e.useLayoutEffect=z,e.useMemo=Z,e.useReducer=function(e,t,n){var o=Y(),i=o.getHookID(),u=o.getHooks(),r=u[i];if(!r){var _=d(n)?n(t):t;return u[i]=[_,function(e){U.__isUpdating||w();var t=u[i][2];if(Q()===o)t.__actions.push(e),o.__isScheduled=!0;else{var n=t.__eagerState,r=(0,t.__eagerReducer)(n,e);if(W(r,n))return;t.__eagerState=r,t.__actions.push(e),o.__update()}},{__actions:[],__eagerReducer:e,__eagerState:_}]}var a=r[2],s=r[0];if(0<o.__reRenders)for(var c=0;c<a.__actions.length;c++)s=e(s,a.__actions[c]);else s=a.__eagerState;return W(s,r[0])||(r[0]=s,o.__shouldUpdate=!0),a.__eagerReducer=e,a.__eagerState=s,a.__actions.length=0,u[i]},e.useRef=function(e){var t=Y(),n=t.getHookID(),r=t.getHooks();return r[n]||(r[n]={current:e}),r[n]},e.useState=q,e.version="1.1.0",Object.defineProperty(e,"__esModule",{value:!0})});